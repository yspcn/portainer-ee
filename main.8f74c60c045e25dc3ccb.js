(self.webpackChunkportainer=self.webpackChunkportainer||[]).push([[179],{19338:(e,t,n)=>{var a={"./__mocks__/fileMock.js":14691,"./__mocks__/styleMock.js":12534,"./agent/components/file-uploader/fileUploaderController.js":75947,"./agent/components/file-uploader/index.js":38123,"./agent/components/files-datatable/index.js":46161,"./agent/components/host-browser/hostBrowserController.js":10822,"./agent/components/host-browser/index.js":70627,"./agent/components/node-selector/index.js":60744,"./agent/components/node-selector/nodeSelectorController.js":42102,"./agent/components/volume-browser/index.js":41775,"./agent/components/volume-browser/volumeBrowserController.js":14087,"./agent/index.js":26317,"./agent/models/agent.js":99662,"./agent/rest/agent.js":13481,"./agent/rest/browse.js":56192,"./agent/rest/dockerhub.js":26084,"./agent/rest/host.js":74298,"./agent/rest/ping.js":79688,"./agent/rest/response/browse.js":94477,"./agent/rest/v1/agent.js":40941,"./agent/rest/v1/browse.js":91130,"./agent/services/agentService.js":78548,"./agent/services/hostBrowserService.js":77884,"./agent/services/pingService.js":38918,"./agent/services/volumeBrowserService.js":45824,"./angulartics.matomo/index.js":48385,"./app.js":54905,"./assets/css/index.js":42311,"./azure/_module.js":61094,"./azure/components/azure-endpoint-config/azure-endpoint-config.js":74370,"./azure/components/azure-sidebar/index.js":68037,"./azure/components/datatables/containergroups-datatable/containerGroupsDatatable.js":79380,"./azure/models/container_group.js":73216,"./azure/models/location.js":76606,"./azure/models/resource_group.js":18779,"./azure/models/subscription.js":79350,"./azure/rest/azure.js":1944,"./azure/rest/container_group.js":29382,"./azure/rest/location.js":59630,"./azure/rest/provider.js":55489,"./azure/rest/resource_group.js":88609,"./azure/rest/subscription.js":33086,"./azure/services/azureService.js":8961,"./azure/services/containerGroupService.js":58825,"./azure/services/locationService.js":49153,"./azure/services/resourceGroupService.js":62964,"./azure/services/subscriptionService.js":96564,"./azure/views/containerinstances/container-instance-details/containerInstanceDetailsController.js":50309,"./azure/views/containerinstances/container-instance-details/index.js":9877,"./azure/views/containerinstances/containerInstancesController.js":56701,"./azure/views/dashboard/dashboardController.js":54236,"./config.js":98767,"./constants.js":71541,"./docker/__module.js":8522,"./docker/components/container-capabilities/container-capabilities.js":83088,"./docker/components/container-restart-policy/container-restart-policy-controller.js":17592,"./docker/components/container-restart-policy/container-restart-policy.js":8270,"./docker/components/dashboard-cluster-agent-info/dashboard-cluster-agent-info.js":15772,"./docker/components/dashboard-cluster-agent-info/dashboardClusterAgentInfoController.js":26419,"./docker/components/datatables/configs-datatable/configsDatatable.js":62135,"./docker/components/datatables/container-networks-datatable/containerNetworksDatatable.js":65532,"./docker/components/datatables/container-networks-datatable/containerNetworksDatatableController.js":50015,"./docker/components/datatables/container-processes-datatable/containerProcessesDatatable.js":67723,"./docker/components/datatables/events-datatable/eventsDatatable.js":3716,"./docker/components/datatables/images-datatable/imagesDatatable.js":61389,"./docker/components/datatables/images-datatable/imagesDatatableController.js":40650,"./docker/components/datatables/macvlan-nodes-datatable/macvlanNodesDatatable.js":78570,"./docker/components/datatables/networks-datatable/network-row-content/networkRowContent.js":24342,"./docker/components/datatables/networks-datatable/networksDatatable.js":21035,"./docker/components/datatables/networks-datatable/networksDatatableController.js":22821,"./docker/components/datatables/node-tasks-datatable/nodeTasksDatatable.js":90712,"./docker/components/datatables/nodes-datatable/nodesDatatable.js":66951,"./docker/components/datatables/secrets-datatable/secretsDatatable.js":1087,"./docker/components/datatables/service-tasks-datatable/serviceTasksDatatable.js":30700,"./docker/components/datatables/service-tasks-datatable/serviceTasksDatatableController.js":83076,"./docker/components/datatables/services-datatable/actions/servicesDatatableActions.js":88840,"./docker/components/datatables/services-datatable/actions/servicesDatatableActionsController.js":3474,"./docker/components/datatables/services-datatable/servicesDatatable.js":22601,"./docker/components/datatables/services-datatable/servicesDatatableController.js":46311,"./docker/components/datatables/tasks-datatable/tasksDatatable.js":77886,"./docker/components/datatables/tasks-datatable/tasksDatatableController.js":33740,"./docker/components/datatables/volumes-datatable/volumesDatatable.js":75198,"./docker/components/datatables/volumes-datatable/volumesDatatableController.js":72091,"./docker/components/docker-sidebar/docker-sidebar.js":56784,"./docker/components/host-overview/host-overview.js":37610,"./docker/components/host-view-panels/devices-panel/devices-panel.js":85943,"./docker/components/host-view-panels/disks-panel/disks-panel.js":40210,"./docker/components/host-view-panels/engine-details-panel/engine-details-panel.js":25203,"./docker/components/host-view-panels/host-details-panel/host-details-panel.js":68181,"./docker/components/host-view-panels/node-availability-select/node-availability-select-controller.js":44162,"./docker/components/host-view-panels/node-availability-select/node-availability-select.js":28031,"./docker/components/host-view-panels/node-labels-table/node-labels-table-controller.js":55024,"./docker/components/host-view-panels/node-labels-table/node-labels-table.js":96399,"./docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel-controller.js":70395,"./docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel.js":98186,"./docker/components/imageRegistry/por-image-registry-rate-limits.controller.js":72749,"./docker/components/imageRegistry/por-image-registry-rate-limits.js":64906,"./docker/components/imageRegistry/por-image-registry.controller.js":22429,"./docker/components/imageRegistry/por-image-registry.js":91653,"./docker/components/log-viewer/log-viewer.js":69760,"./docker/components/log-viewer/logViewerController.js":89410,"./docker/components/network-macvlan-form/network-macvlan-form.js":22852,"./docker/components/network-macvlan-form/networkMacvlanFormController.js":3476,"./docker/components/network-macvlan-form/networkMacvlanFormModel.js":50373,"./docker/components/volumesCIFSForm/volumesCifsForm.js":8470,"./docker/components/volumesCIFSForm/volumesCifsFormModel.js":86668,"./docker/components/volumesNFSForm/volumes-nfs-form.js":87959,"./docker/components/volumesNFSForm/volumesNFSFormModel.js":4819,"./docker/filters/filters.js":50352,"./docker/helpers/configHelper.js":52161,"./docker/helpers/constraintsHelper.js":82556,"./docker/helpers/containerHelper.js":5204,"./docker/helpers/imageHelper.js":20886,"./docker/helpers/infoHelper.js":46313,"./docker/helpers/labelHelper.js":6264,"./docker/helpers/logHelper.js":9954,"./docker/helpers/networkHelper.js":69452,"./docker/helpers/nodeHelper.js":80677,"./docker/helpers/secretHelper.js":45665,"./docker/helpers/serviceHelper.js":18743,"./docker/helpers/taskHelper.js":22588,"./docker/helpers/volumeHelper.js":60069,"./docker/interceptors/containersInterceptor.js":8691,"./docker/interceptors/imagesInterceptor.js":18872,"./docker/interceptors/infoInterceptor.js":84395,"./docker/interceptors/networksInterceptor.js":2630,"./docker/interceptors/versionInterceptor.js":73166,"./docker/interceptors/volumesInterceptor.js":33022,"./docker/models/config.js":66807,"./docker/models/container.js":12064,"./docker/models/containerCapabilities.js":66328,"./docker/models/event.js":44333,"./docker/models/image.js":84647,"./docker/models/imageDetails.js":56946,"./docker/models/imageLayer.js":75208,"./docker/models/network.js":70983,"./docker/models/node.js":11339,"./docker/models/plugin.js":34161,"./docker/models/porImageRegistry.js":76939,"./docker/models/secret.js":89638,"./docker/models/service.js":7456,"./docker/models/swarm.js":90906,"./docker/models/task.js":59146,"./docker/models/volume.js":80682,"./docker/rest/build.js":27401,"./docker/rest/commit.js":66055,"./docker/rest/config.js":12477,"./docker/rest/container.js":82791,"./docker/rest/exec.js":6396,"./docker/rest/image.js":10679,"./docker/rest/network.js":96452,"./docker/rest/node.js":71989,"./docker/rest/plugin.js":357,"./docker/rest/response/handlers.js":12944,"./docker/rest/response/image.js":89615,"./docker/rest/secret.js":64522,"./docker/rest/service.js":49449,"./docker/rest/swarm.js":52358,"./docker/rest/system.js":61489,"./docker/rest/systemEndpoint.js":86666,"./docker/rest/task.js":3446,"./docker/rest/volume.js":28192,"./docker/services/buildService.js":90544,"./docker/services/configService.js":81287,"./docker/services/containerService.js":40725,"./docker/services/execService.js":9401,"./docker/services/imageService.js":45203,"./docker/services/networkService.js":23116,"./docker/services/nodeService.js":39272,"./docker/services/pluginService.js":52589,"./docker/services/secretService.js":50225,"./docker/services/serviceService.js":52550,"./docker/services/swarmService.js":15268,"./docker/services/systemService.js":39983,"./docker/services/taskService.js":98585,"./docker/services/volumeService.js":31746,"./docker/views/configs/configsController.js":42177,"./docker/views/configs/create/createConfigController.js":96068,"./docker/views/configs/edit/configController.js":63301,"./docker/views/containers/console/containerConsoleController.js":85196,"./docker/views/containers/containersController.js":89610,"./docker/views/containers/create/createContainerController.js":51079,"./docker/views/containers/edit/containerController.js":94518,"./docker/views/containers/inspect/containerInspectController.js":62897,"./docker/views/containers/logs/containerLogsController.js":47381,"./docker/views/containers/stats/containerStatsController.js":19393,"./docker/views/dashboard/dashboardController.js":88444,"./docker/views/docker-features-configuration/docker-features-configuration.controller.js":25006,"./docker/views/docker-features-configuration/index.js":68958,"./docker/views/events/eventsController.js":63181,"./docker/views/host/host-browser-view/host-browser-view-controller.js":34776,"./docker/views/host/host-browser-view/host-browser-view.js":24233,"./docker/views/host/host-view-controller.js":43279,"./docker/views/host/host-view.js":15906,"./docker/views/images/build/buildImageController.js":88741,"./docker/views/images/edit/imageController.js":37391,"./docker/views/images/imagesController.js":12107,"./docker/views/images/import/importImageController.js":14521,"./docker/views/networks/create/createNetworkController.js":543,"./docker/views/networks/edit/networkController.js":2669,"./docker/views/networks/networksController.js":74225,"./docker/views/nodes/node-browser/node-browser-controller.js":50451,"./docker/views/nodes/node-browser/node-browser.js":83602,"./docker/views/nodes/node-details/node-details-view-controller.js":29978,"./docker/views/nodes/node-details/node-details-view.js":74275,"./docker/views/registries/access/registryAccess.js":77152,"./docker/views/registries/access/registryAccessController.js":40106,"./docker/views/secrets/create/createSecretController.js":65968,"./docker/views/secrets/edit/secretController.js":20842,"./docker/views/secrets/secretsController.js":69654,"./docker/views/services/create/createServiceController.js":91188,"./docker/views/services/edit/serviceController.js":1816,"./docker/views/services/logs/serviceLogsController.js":59139,"./docker/views/services/servicesController.js":48566,"./docker/views/swarm/swarmController.js":9104,"./docker/views/swarm/visualizer/swarmVisualizerController.js":83456,"./docker/views/tasks/edit/taskController.js":75349,"./docker/views/tasks/logs/taskLogsController.js":93356,"./docker/views/volumes/browse/browseVolumeController.js":63137,"./docker/views/volumes/create/createVolumeController.js":61362,"./docker/views/volumes/edit/volumeController.js":28862,"./docker/views/volumes/volumesController.js":6002,"./edge/__module.js":66250,"./edge/components/associated-endpoints-datatable/associatedEndpointsDatatableController.js":24381,"./edge/components/associated-endpoints-datatable/index.js":34139,"./edge/components/edge-groups-selector/index.js":72155,"./edge/components/edge-job-form/edgeJobFormController.js":267,"./edge/components/edge-job-form/index.js":59788,"./edge/components/edge-job-results-datatable/edgeJobResultsDatatableController.js":11314,"./edge/components/edge-job-results-datatable/index.js":46642,"./edge/components/edge-jobs-datatable/index.js":25758,"./edge/components/edge-stack-deployment-type-selector/edge-stack-deployment-type-selector.controller.js":70830,"./edge/components/edge-stack-deployment-type-selector/index.js":60559,"./edge/components/edge-stack-endpoints-datatable/edgeStackEndpointsDatatableController.js":67383,"./edge/components/edge-stack-endpoints-datatable/index.js":91505,"./edge/components/edge-stack-status/edgeStackStatusController.js":794,"./edge/components/edge-stack-status/index.js":26342,"./edge/components/edge-stacks-datatable/index.js":70018,"./edge/components/edit-edge-stack-form/editEdgeStackFormController.js":83205,"./edge/components/edit-edge-stack-form/index.js":56037,"./edge/components/group-form/groupFormController.js":88633,"./edge/components/group-form/index.js":36906,"./edge/components/groups-datatable/groupsDatatableController.js":9868,"./edge/components/groups-datatable/index.js":36267,"./edge/rest/edge-groups.js":65658,"./edge/rest/edge-job-results.js":96791,"./edge/rest/edge-jobs.js":2056,"./edge/rest/edge-stacks.js":86796,"./edge/rest/edge-templates.js":42163,"./edge/services/edge-group.js":800,"./edge/services/edge-job.js":30221,"./edge/services/edge-stack.js":27527,"./edge/services/edge-template.js":10993,"./edge/views/edge-devices/edgeDevicesView/edgeDevicesViewController.js":96753,"./edge/views/edge-devices/edgeDevicesView/index.js":51088,"./edge/views/edge-groups/createEdgeGroupView/createEdgeGroupViewController.js":44932,"./edge/views/edge-groups/createEdgeGroupView/index.js":35146,"./edge/views/edge-groups/edgeGroupsView/edgeGroupsViewController.js":62044,"./edge/views/edge-groups/edgeGroupsView/index.js":45359,"./edge/views/edge-groups/editEdgeGroupView/editEdgeGroupViewController.js":23794,"./edge/views/edge-groups/editEdgeGroupView/index.js":58188,"./edge/views/edge-jobs/createEdgeJobView/createEdgeJobViewController.js":8039,"./edge/views/edge-jobs/createEdgeJobView/index.js":47994,"./edge/views/edge-jobs/edgeJob/edgeJobController.js":87609,"./edge/views/edge-jobs/edgeJob/index.js":6300,"./edge/views/edge-jobs/edgeJobsView/edgeJobsViewController.js":54223,"./edge/views/edge-jobs/edgeJobsView/index.js":30190,"./edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.controller.js":32884,"./edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.js":96478,"./edge/views/edge-stacks/createEdgeStackView/docker-compose-form/docker-compose-form.controller.js":83615,"./edge/views/edge-stacks/createEdgeStackView/docker-compose-form/index.js":32878,"./edge/views/edge-stacks/createEdgeStackView/index.js":24125,"./edge/views/edge-stacks/createEdgeStackView/kube-deploy-description/index.js":75038,"./edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/index.js":56799,"./edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/kube-manifest-form.controller.js":23836,"./edge/views/edge-stacks/edgeStacksView/edgeStacksViewController.js":33661,"./edge/views/edge-stacks/edgeStacksView/index.js":82138,"./edge/views/edge-stacks/editEdgeStackView/editEdgeStackViewController.js":66514,"./edge/views/edge-stacks/editEdgeStackView/index.js":36237,"./edge/views/edge-stacks/index.js":6142,"./index.js":21570,"./kubernetes/__module.js":26604,"./kubernetes/components/datatables/application/containers-datatable/containersDatatable.js":28953,"./kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.controller.js":41727,"./kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.js":3962,"./kubernetes/components/datatables/applications-datatable-url/applications-datatable-url.js":87082,"./kubernetes/components/datatables/applications-datatable/applicationsDatatable.js":42270,"./kubernetes/components/datatables/applications-datatable/applicationsDatatableController.js":45941,"./kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatable.js":50195,"./kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatableController.js":77106,"./kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatable.js":21266,"./kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatableController.js":89107,"./kubernetes/components/datatables/configurations-datatable/configurationsDatatable.js":95240,"./kubernetes/components/datatables/configurations-datatable/configurationsDatatableController.js":63507,"./kubernetes/components/datatables/events-datatable/eventsDatatable.js":39564,"./kubernetes/components/datatables/integrated-applications-datatable/integratedApplicationsDatatable.js":78458,"./kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatable.js":56531,"./kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatableController.js":8122,"./kubernetes/components/datatables/nodes-datatable/nodesDatatable.js":60810,"./kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatable.js":56975,"./kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatableController.js":94817,"./kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatable.js":22158,"./kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatableController.js":51329,"./kubernetes/components/datatables/volumes-datatable/volumesDatatable.js":62925,"./kubernetes/components/datatables/volumes-datatable/volumesDatatableController.js":63651,"./kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.controller.js":41399,"./kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.js":79553,"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list-item/helm-templates-list-item.js":43579,"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.controller.js":88416,"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.js":15778,"./kubernetes/components/helm/helm-templates/helm-templates.controller.js":67316,"./kubernetes/components/helm/helm-templates/helm-templates.js":71228,"./kubernetes/components/kube-services/kube-services-item/kube-services-item.controller.js":65473,"./kubernetes/components/kube-services/kube-services-item/kube-services-item.js":1542,"./kubernetes/components/kube-services/kube-services.controller.js":54466,"./kubernetes/components/kube-services/kube-services.js":14957,"./kubernetes/components/kubectl-shell/kubectl-shell.controller.js":30761,"./kubernetes/components/kubectl-shell/kubectl-shell.js":92590,"./kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationData.js":4546,"./kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationDataController.js":16591,"./kubernetes/components/kubernetes-sidebar/index.js":51713,"./kubernetes/components/resource-reservation/resourceReservation.js":42718,"./kubernetes/components/resource-reservation/resourceReservationController.js":44579,"./kubernetes/components/view-header/viewHeader.js":43281,"./kubernetes/components/view-loading/viewLoading.js":15572,"./kubernetes/components/yaml-inspector/yamlInspector.js":31938,"./kubernetes/components/yaml-inspector/yamlInspectorController.js":50346,"./kubernetes/converters/application.js":10293,"./kubernetes/converters/configMap.js":40654,"./kubernetes/converters/configuration.js":10241,"./kubernetes/converters/daemonSet.js":12512,"./kubernetes/converters/deployment.js":95929,"./kubernetes/converters/event.js":43083,"./kubernetes/converters/namespace.js":2544,"./kubernetes/converters/persistentVolumeClaim.js":56636,"./kubernetes/converters/resourcePool.js":57911,"./kubernetes/converters/resourceQuota.js":57456,"./kubernetes/converters/secret.js":52341,"./kubernetes/converters/service.js":86998,"./kubernetes/converters/statefulSet.js":15986,"./kubernetes/converters/storageClass.js":17981,"./kubernetes/converters/volume.js":92192,"./kubernetes/custom-templates/index.js":79023,"./kubernetes/custom-templates/kube-create-custom-template-view/index.js":6793,"./kubernetes/custom-templates/kube-create-custom-template-view/kube-create-custom-template-view.controller.js":2267,"./kubernetes/custom-templates/kube-custom-templates-view/index.js":79403,"./kubernetes/custom-templates/kube-custom-templates-view/kube-custom-templates-view.controller.js":11916,"./kubernetes/custom-templates/kube-edit-custom-template-view/index.js":52657,"./kubernetes/custom-templates/kube-edit-custom-template-view/kube-edit-custom-template-view.controller.js":69199,"./kubernetes/endpoint/converter.js":59041,"./kubernetes/endpoint/models.js":5264,"./kubernetes/endpoint/rest.js":42964,"./kubernetes/endpoint/service.js":5427,"./kubernetes/filters/applicationFilters.js":11518,"./kubernetes/filters/configurationFilters.js":63642,"./kubernetes/filters/eventFilters.js":58311,"./kubernetes/filters/filters.js":11634,"./kubernetes/helm/rest.js":65744,"./kubernetes/helm/service.js":40846,"./kubernetes/helpers/application/index.js":57947,"./kubernetes/helpers/application/rollback.js":65011,"./kubernetes/helpers/commonHelper.js":12925,"./kubernetes/helpers/configMapHelper.js":58007,"./kubernetes/helpers/configurationHelper.js":51780,"./kubernetes/helpers/eventHelper.js":52929,"./kubernetes/helpers/formValidationHelper.js":54241,"./kubernetes/helpers/history/daemonset.js":48367,"./kubernetes/helpers/history/deployment.js":38215,"./kubernetes/helpers/history/index.js":70224,"./kubernetes/helpers/history/statefulset.js":47220,"./kubernetes/helpers/namespaceHelper.js":7506,"./kubernetes/helpers/resourceQuotaHelper.js":21458,"./kubernetes/helpers/resourceReservationHelper.js":22229,"./kubernetes/helpers/serviceHelper.js":57637,"./kubernetes/helpers/stackHelper.js":41208,"./kubernetes/helpers/stackHelper.test.js":69461,"./kubernetes/helpers/volumeHelper.js":11507,"./kubernetes/horizontal-pod-auto-scaler/converter.js":41247,"./kubernetes/horizontal-pod-auto-scaler/helper.js":1239,"./kubernetes/horizontal-pod-auto-scaler/models.js":90914,"./kubernetes/horizontal-pod-auto-scaler/payload.js":85597,"./kubernetes/horizontal-pod-auto-scaler/rest.js":61160,"./kubernetes/horizontal-pod-auto-scaler/service.js":51866,"./kubernetes/ingress/constants.js":62072,"./kubernetes/ingress/converter.js":47086,"./kubernetes/ingress/helper.js":7587,"./kubernetes/ingress/models.js":27155,"./kubernetes/ingress/payloads.js":17362,"./kubernetes/ingress/rest.js":45678,"./kubernetes/ingress/service.js":76706,"./kubernetes/metrics/metrics.js":60299,"./kubernetes/metrics/rest.js":26835,"./kubernetes/models/application/formValues.js":14917,"./kubernetes/models/application/models/constants.js":20783,"./kubernetes/models/application/models/index.js":7172,"./kubernetes/models/application/payloads.js":11505,"./kubernetes/models/common/params.js":82469,"./kubernetes/models/common/payloads.js":27367,"./kubernetes/models/config-map/models.js":13978,"./kubernetes/models/config-map/payloads.js":40879,"./kubernetes/models/configuration/formvalues.js":30578,"./kubernetes/models/configuration/models.js":82434,"./kubernetes/models/daemon-set/models.js":12745,"./kubernetes/models/daemon-set/payloads.js":82935,"./kubernetes/models/deploy.js":6253,"./kubernetes/models/deployment/models.js":59238,"./kubernetes/models/deployment/payloads.js":95008,"./kubernetes/models/event/models.js":82239,"./kubernetes/models/history/models.js":24601,"./kubernetes/models/namespace/models.js":35076,"./kubernetes/models/namespace/payloads.js":63829,"./kubernetes/models/nodes-limits/models.js":74335,"./kubernetes/models/port/models.js":83270,"./kubernetes/models/resource-pool/formValues.js":16496,"./kubernetes/models/resource-pool/models.js":72210,"./kubernetes/models/resource-quota/models.js":47685,"./kubernetes/models/resource-quota/payloads.js":75976,"./kubernetes/models/resource-reservation/models.js":46685,"./kubernetes/models/resource-types/models.js":39212,"./kubernetes/models/secret/models.js":69730,"./kubernetes/models/secret/payloads.js":60622,"./kubernetes/models/service/models.js":79990,"./kubernetes/models/service/payloads.js":31249,"./kubernetes/models/stack/models.js":31084,"./kubernetes/models/stateful-set/models.js":91920,"./kubernetes/models/stateful-set/payloads.js":13871,"./kubernetes/models/storage-class/models.js":86871,"./kubernetes/models/storage-class/payload.js":79824,"./kubernetes/models/volume/models.js":72913,"./kubernetes/models/volume/payloads.js":88296,"./kubernetes/node/converter.js":76676,"./kubernetes/node/filters.js":57067,"./kubernetes/node/formValues.js":2949,"./kubernetes/node/helper.js":14780,"./kubernetes/node/models.js":48942,"./kubernetes/node/payload.js":11801,"./kubernetes/node/rest.js":9790,"./kubernetes/node/service.js":6795,"./kubernetes/pod/converter.js":22050,"./kubernetes/pod/filters.js":15826,"./kubernetes/pod/models/affinities.js":73689,"./kubernetes/pod/models/index.js":31275,"./kubernetes/pod/payloads/affinities.js":78398,"./kubernetes/pod/payloads/create.js":61005,"./kubernetes/pod/service.js":30754,"./kubernetes/registries/index.js":87658,"./kubernetes/registries/kube-registry-access-view/index.js":51482,"./kubernetes/registries/kube-registry-access-view/kube-registry-access-view.controller.js":60124,"./kubernetes/rest/configMap.js":83972,"./kubernetes/rest/controllerRevision.js":20017,"./kubernetes/rest/daemonSet.js":38345,"./kubernetes/rest/deployment.js":36566,"./kubernetes/rest/endpoint.js":85333,"./kubernetes/rest/event.js":69673,"./kubernetes/rest/health.js":71461,"./kubernetes/rest/kubeconfig.js":66890,"./kubernetes/rest/namespace.js":82475,"./kubernetes/rest/nodesLimits.js":40912,"./kubernetes/rest/persistentVolumeClaim.js":58732,"./kubernetes/rest/pod.js":83699,"./kubernetes/rest/portainer-namespace.js":93449,"./kubernetes/rest/replicaSet.js":81056,"./kubernetes/rest/resourceQuota.js":10129,"./kubernetes/rest/response/transform.js":25658,"./kubernetes/rest/secret.js":61588,"./kubernetes/rest/service.js":68376,"./kubernetes/rest/statefulSet.js":55594,"./kubernetes/rest/storage.js":33415,"./kubernetes/services/applicationService.js":94358,"./kubernetes/services/configMapService.js":45819,"./kubernetes/services/configurationService.js":81567,"./kubernetes/services/controllerRevisionService.js":40917,"./kubernetes/services/daemonSetService.js":42183,"./kubernetes/services/deploymentService.js":18354,"./kubernetes/services/eventService.js":3855,"./kubernetes/services/healthService.js":24717,"./kubernetes/services/historyService.js":18842,"./kubernetes/services/kubeconfigService.js":32494,"./kubernetes/services/namespaceService.js":44987,"./kubernetes/services/nodesLimitsService.js":73774,"./kubernetes/services/persistentVolumeClaimService.js":79362,"./kubernetes/services/replicaSetService.js":59010,"./kubernetes/services/resourcePoolService.js":22539,"./kubernetes/services/resourceQuotaService.js":85927,"./kubernetes/services/secretService.js":76354,"./kubernetes/services/serviceService.js":7055,"./kubernetes/services/stackService.js":4063,"./kubernetes/services/statefulSetService.js":4165,"./kubernetes/services/storageService.js":36552,"./kubernetes/services/volumeService.js":78085,"./kubernetes/store/namespace.js":22823,"./kubernetes/views/applications/applications.js":86393,"./kubernetes/views/applications/applicationsController.js":55495,"./kubernetes/views/applications/console/console.js":51819,"./kubernetes/views/applications/console/consoleController.js":33243,"./kubernetes/views/applications/create/createApplication.js":58791,"./kubernetes/views/applications/create/createApplicationController.js":8924,"./kubernetes/views/applications/edit/application.js":56378,"./kubernetes/views/applications/edit/applicationController.js":66485,"./kubernetes/views/applications/edit/components/ingress-table/ingress-table.controller.js":20630,"./kubernetes/views/applications/edit/components/ingress-table/ingress-table.js":63060,"./kubernetes/views/applications/edit/components/placements-datatable/controller.js":29272,"./kubernetes/views/applications/edit/components/placements-datatable/index.js":50156,"./kubernetes/views/applications/edit/components/services-table/services-table.js":18137,"./kubernetes/views/applications/helm/helm.controller.js":85392,"./kubernetes/views/applications/helm/index.js":8180,"./kubernetes/views/applications/logs/logs.js":81297,"./kubernetes/views/applications/logs/logsController.js":94649,"./kubernetes/views/applications/stats/stats.js":61260,"./kubernetes/views/applications/stats/statsController.js":13754,"./kubernetes/views/cluster/cluster.js":24924,"./kubernetes/views/cluster/clusterController.js":99641,"./kubernetes/views/cluster/node/node.js":64696,"./kubernetes/views/cluster/node/nodeController.js":79308,"./kubernetes/views/cluster/node/stats/stats.js":83490,"./kubernetes/views/cluster/node/stats/statsController.js":2997,"./kubernetes/views/configurations/configurations.js":56286,"./kubernetes/views/configurations/configurationsController.js":35752,"./kubernetes/views/configurations/create/createConfiguration.js":9022,"./kubernetes/views/configurations/create/createConfigurationController.js":38646,"./kubernetes/views/configurations/edit/configuration.js":78025,"./kubernetes/views/configurations/edit/configurationController.js":55682,"./kubernetes/views/configure/configureController.js":71244,"./kubernetes/views/dashboard/dashboard.js":15219,"./kubernetes/views/dashboard/dashboardController.js":79581,"./kubernetes/views/deploy/deploy.js":36661,"./kubernetes/views/deploy/deployController.js":23322,"./kubernetes/views/resource-pools/access/resourcePoolAccess.js":28311,"./kubernetes/views/resource-pools/access/resourcePoolAccessController.js":38513,"./kubernetes/views/resource-pools/components/storage-class-switch/index.js":74474,"./kubernetes/views/resource-pools/components/storage-class-switch/storage-class-switch.controller.js":10405,"./kubernetes/views/resource-pools/create/createResourcePool.js":19777,"./kubernetes/views/resource-pools/create/createResourcePoolController.js":83908,"./kubernetes/views/resource-pools/edit/components/ingresses-datatable/controller.js":63009,"./kubernetes/views/resource-pools/edit/components/ingresses-datatable/index.js":88952,"./kubernetes/views/resource-pools/edit/resourcePool.js":85146,"./kubernetes/views/resource-pools/edit/resourcePoolController.js":42310,"./kubernetes/views/resource-pools/resourcePools.js":7134,"./kubernetes/views/resource-pools/resourcePoolsController.js":39502,"./kubernetes/views/stacks/logs/logs.js":9981,"./kubernetes/views/stacks/logs/logsController.js":39554,"./kubernetes/views/summary/resources/applicationResources.js":45233,"./kubernetes/views/summary/resources/configurationResources.js":3310,"./kubernetes/views/summary/resources/helpers.js":60953,"./kubernetes/views/summary/resources/namespaceResources.js":49113,"./kubernetes/views/summary/summary.js":21099,"./kubernetes/views/summary/summaryController.js":69861,"./kubernetes/views/volumes/components/volumes-storages-datatable/controller.js":70302,"./kubernetes/views/volumes/components/volumes-storages-datatable/index.js":1502,"./kubernetes/views/volumes/edit/volume.js":61158,"./kubernetes/views/volumes/edit/volumeController.js":52962,"./kubernetes/views/volumes/volumes.js":49633,"./kubernetes/views/volumes/volumesController.js":64539,"./matomo-setup.js":63924,"./portainer/__module.js":86929,"./portainer/components/PageHeader/HeaderContent.controller.js":7255,"./portainer/components/PageHeader/HeaderTitle.controller.js":21578,"./portainer/components/access-datatable/accessDatatable.js":21366,"./portainer/components/access-datatable/accessDatatableController.js":92681,"./portainer/components/access-table/access-table.js":56609,"./portainer/components/accessControlForm/por-access-control-form.js":3735,"./portainer/components/accessControlForm/porAccessControlFormController.js":86656,"./portainer/components/accessControlForm/porAccessControlFormModel.js":19898,"./portainer/components/accessControlPanel/por-access-control-panel.js":31421,"./portainer/components/accessControlPanel/porAccessControlPanelController.js":23550,"./portainer/components/accessControlPanel/porAccessControlPanelModel.js":70993,"./portainer/components/accessManagement/index.js":39372,"./portainer/components/accessManagement/por-access-management-users-selector/index.js":76744,"./portainer/components/accessManagement/por-access-management.js":26001,"./portainer/components/accessManagement/porAccessManagementController.js":22421,"./portainer/components/associated-endpoints-selector/associatedEndpointsSelector.js":439,"./portainer/components/associated-endpoints-selector/associatedEndpointsSelectorController.js":98293,"./portainer/components/autofocus.js":64054,"./portainer/components/beta-panel/betaPanel.js":28428,"./portainer/components/buttonSpinner.js":66864,"./portainer/components/code-editor/code-editor.js":58945,"./portainer/components/code-editor/codeEditorController.js":85150,"./portainer/components/copy-button/copy-button.controller.js":28944,"./portainer/components/copy-button/copy-button.js":27816,"./portainer/components/cronRule.js":88401,"./portainer/components/custom-template-common-fields/customTemplateCommonFieldsController.js":99614,"./portainer/components/custom-template-common-fields/index.js":26453,"./portainer/components/custom-template-selector/custom-template-selector.controller.js":45165,"./portainer/components/custom-template-selector/index.js":16970,"./portainer/components/custom-templates-list/customTemplatesListController.js":85452,"./portainer/components/custom-templates-list/index.js":9578,"./portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.controller.js":43926,"./portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.js":64142,"./portainer/components/datatables/datatable-columns-visibility/datatable-columns-visibility.controller.js":76752,"./portainer/components/datatables/datatable-columns-visibility/index.js":13877,"./portainer/components/datatables/endpoints-datatable/endpointsDatatable.js":56210,"./portainer/components/datatables/endpoints-datatable/endpointsDatatableController.js":805,"./portainer/components/datatables/filter/datatable-filter.controller.js":38058,"./portainer/components/datatables/filter/index.js":59001,"./portainer/components/datatables/genericDatatableController.js":11471,"./portainer/components/datatables/groups-datatable/groupsDatatable.js":36864,"./portainer/components/datatables/index.js":41101,"./portainer/components/datatables/pagination/index.js":21757,"./portainer/components/datatables/registries-datatable/registriesDatatable.js":44145,"./portainer/components/datatables/registries-datatable/registriesDatatableController.js":63188,"./portainer/components/datatables/searchbar/index.js":76224,"./portainer/components/datatables/sort-icon/datatable-sort-icon.controller.js":81749,"./portainer/components/datatables/sort-icon/index.js":62040,"./portainer/components/datatables/stacks-datatable/stacksDatatable.js":97203,"./portainer/components/datatables/stacks-datatable/stacksDatatableController.js":97433,"./portainer/components/datatables/strings-datatable/index.js":59198,"./portainer/components/datatables/tags-datatable/tagsDatatable.js":96447,"./portainer/components/datatables/teams-datatable/teamsDatatable.js":85514,"./portainer/components/datatables/titlebar/index.js":58973,"./portainer/components/datatables/users-datatable/usersDatatable.js":59322,"./portainer/components/datatables/users-datatable/usersDatatableController.js":92040,"./portainer/components/date-range-picker/date-range-picker-api.js":58042,"./portainer/components/date-range-picker/date-range-picker.js":53834,"./portainer/components/date-range-picker/index.js":40345,"./portainer/components/endpoint-list/endpoint-item/endpoint-item-controller.js":96155,"./portainer/components/endpoint-list/endpoint-item/endpointItem.js":88736,"./portainer/components/endpoint-list/endpoint-list-controller.js":51452,"./portainer/components/endpoint-list/endpoint-list.js":63917,"./portainer/components/endpoint-selector/endpoint-selector.js":32005,"./portainer/components/endpoint-selector/endpointSelectorController.js":84330,"./portainer/components/endpointSecurity/por-endpoint-security.js":39590,"./portainer/components/endpointSecurity/porEndpointSecurityController.js":59810,"./portainer/components/endpointSecurity/porEndpointSecurityModel.js":25229,"./portainer/components/environment-variables-panel/environment-variables-panel.controller.js":72532,"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/environment-variables-simple-mode-item.controller.js":19695,"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/index.js":47254,"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode.controller.js":17272,"./portainer/components/environment-variables-panel/environment-variables-simple-mode/index.js":61311,"./portainer/components/environment-variables-panel/index.js":5633,"./portainer/components/focusIf.js":87508,"./portainer/components/form-components/file-upload-form/index.js":74075,"./portainer/components/form-components/index.js":39068,"./portainer/components/form-components/web-editor-form/index.js":67653,"./portainer/components/form-components/web-editor-form/web-editor-form.controller.js":32340,"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/git-form-additional-file-item.controller.js":27190,"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/index.js":83208,"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-files-panel.controller.js":17968,"./portainer/components/forms/git-form/git-form-additional-files-panel/index.js":7274,"./portainer/components/forms/git-form/git-form-auth-fieldset/git-form-auth-fieldset.controller.js":10789,"./portainer/components/forms/git-form/git-form-auth-fieldset/index.js":48980,"./portainer/components/forms/git-form/git-form-auto-update-fieldset/git-form-auto-update-fieldset.controller.js":12847,"./portainer/components/forms/git-form/git-form-auto-update-fieldset/index.js":34385,"./portainer/components/forms/git-form/git-form-compose-path-field/index.js":39926,"./portainer/components/forms/git-form/git-form-info-panel/index.js":78356,"./portainer/components/forms/git-form/git-form-ref-field/index.js":65830,"./portainer/components/forms/git-form/git-form-url-field/index.js":4680,"./portainer/components/forms/git-form/git-form.controller.js":93632,"./portainer/components/forms/git-form/git-form.js":97525,"./portainer/components/forms/git-form/index.js":8540,"./portainer/components/forms/group-form/group-form.js":95189,"./portainer/components/forms/group-form/groupFormController.js":37134,"./portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.controller.js":29037,"./portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.js":34323,"./portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.controller.js":55658,"./portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.js":9509,"./portainer/components/forms/registry-form-aws-ecr/registry-form-ecr.js":48637,"./portainer/components/forms/registry-form-azure/registry-form-azure.js":90018,"./portainer/components/forms/registry-form-custom/registry-form-custom.js":8746,"./portainer/components/forms/registry-form-dockerhub/registry-form-dockerhub.js":7744,"./portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatable.js":84375,"./portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatableController.js":56110,"./portainer/components/forms/registry-form-gitlab/registry-form-gitlab.js":54470,"./portainer/components/forms/registry-form-proget/registry-form-proget.js":25318,"./portainer/components/forms/registry-form-quay/registry-form-quay.js":18218,"./portainer/components/forms/stack-from-template-form/index.js":12281,"./portainer/components/forms/stack-redeploy-git-form/index.js":7008,"./portainer/components/forms/stack-redeploy-git-form/stack-redeploy-git-form.controller.js":20472,"./portainer/components/group-association-table/group-association-table.js":87637,"./portainer/components/index.js":59020,"./portainer/components/information-panel-offline/informationPanelOffline.js":64654,"./portainer/components/information-panel-offline/informationPanelOfflineController.js":2454,"./portainer/components/information-panel/information-panel.js":76602,"./portainer/components/intervalFormat.js":44516,"./portainer/components/motd-panel/motd-panel.js":45668,"./portainer/components/onEnterKey.js":45679,"./portainer/components/product-list/product-item/product-item.js":46621,"./portainer/components/product-list/product-list.js":38222,"./portainer/components/registry-details/index.js":97554,"./portainer/components/sensitive-details/sensitive-details.js":90434,"./portainer/components/show-hide/show-hide.js":53712,"./portainer/components/sidebar/index.js":7883,"./portainer/components/sidebar/sidebar-menu-item/index.js":38832,"./portainer/components/sidebar/sidebar-menu/index.js":86853,"./portainer/components/sidebar/sidebar-menu/sidebar-menu.controller.js":93340,"./portainer/components/sidebar/sidebar-section/index.js":82736,"./portainer/components/slider/slider.js":77337,"./portainer/components/slider/sliderController.js":58944,"./portainer/components/stack-duplication-form/stack-duplication-form-controller.js":10018,"./portainer/components/stack-duplication-form/stack-duplication-form.js":37848,"./portainer/components/status-indicator/index.js":91709,"./portainer/components/tag-selector/tag-selector.js":68449,"./portainer/components/tag-selector/tagSelectorController.js":85065,"./portainer/components/template-list/template-item/template-item.js":44677,"./portainer/components/template-list/template-list-controller.js":70296,"./portainer/components/template-list/template-list.js":47177,"./portainer/components/template-widget.js":38119,"./portainer/components/theme/theme-settings.controller.js":30839,"./portainer/components/theme/theme-settings.js":30749,"./portainer/components/time-window-display/index.js":60334,"./portainer/components/time-window-display/time-window-display.controller.js":12307,"./portainer/components/time-window-picker/index.js":93824,"./portainer/components/time-window-picker/time-window-picker.controller.js":8537,"./portainer/filters/filters.js":41066,"./portainer/filters/index.js":1740,"./portainer/helpers/endpointHelper.js":70589,"./portainer/helpers/env-vars.js":93994,"./portainer/helpers/formHelper.js":30398,"./portainer/helpers/genericHelper.js":24003,"./portainer/helpers/networkHelper.js":30556,"./portainer/helpers/pathHelper.js":50433,"./portainer/helpers/resourceControlHelper.js":43622,"./portainer/helpers/stackHelper.js":13118,"./portainer/helpers/tagHelper.js":91619,"./portainer/helpers/templateHelper.js":69424,"./portainer/helpers/urlHelper.js":79190,"./portainer/helpers/webhookHelper.js":7341,"./portainer/interceptors/endpointStatusInterceptor.js":89940,"./portainer/license-management/add-license.view/add-license.view.controller.js":10011,"./portainer/license-management/add-license.view/add-license.view.js":74467,"./portainer/license-management/add-license.view/index.js":73970,"./portainer/license-management/add-license.view/licenses-form/index.js":38067,"./portainer/license-management/add-license.view/licenses-form/license-item/index.js":31153,"./portainer/license-management/add-license.view/licenses-form/license-item/license-item.controller.js":45041,"./portainer/license-management/add-license.view/licenses-form/licenses-form.controller.js":5950,"./portainer/license-management/index.js":5628,"./portainer/license-management/license-node-panel.component/index.js":13888,"./portainer/license-management/license-node-panel.component/license-node-panel.controller.js":83600,"./portainer/license-management/licenses.view/index.js":60914,"./portainer/license-management/licenses.view/license-info/index.js":95029,"./portainer/license-management/licenses.view/license-info/license-info.controller.js":96274,"./portainer/license-management/licenses.view/licenses-datatable/index.js":34998,"./portainer/license-management/licenses.view/licenses.view.controller.js":78730,"./portainer/license-management/licenses.view/licenses.view.js":62747,"./portainer/models/access.js":93133,"./portainer/models/dockerhub.js":74962,"./portainer/models/endpoint/formValues.js":690,"./portainer/models/endpoint/models.js":74808,"./portainer/models/gitlabRegistry.js":62365,"./portainer/models/group.js":79607,"./portainer/models/motd.js":15263,"./portainer/models/registry.js":33180,"./portainer/models/registryRepository.js":64088,"./portainer/models/registryTypes.js":56414,"./portainer/models/resourceControl/resourceControlCreatePayload.js":74392,"./portainer/models/resourceControl/resourceControlOwnershipParameters.js":1870,"./portainer/models/resourceControl/resourceControlTypes.js":45263,"./portainer/models/resourceControl/resourceControlUpdatePayload.js":15905,"./portainer/models/schedule.js":82653,"./portainer/models/settings.js":55287,"./portainer/models/stack.js":49036,"./portainer/models/status.js":95154,"./portainer/models/tag.js":26410,"./portainer/models/team.js":58552,"./portainer/models/teamMembership.js":3010,"./portainer/models/template.js":76185,"./portainer/models/user.js":90327,"./portainer/models/webhook.js":74708,"./portainer/oauth/__module.js":77274,"./portainer/oauth/components/oauth-providers-selector/index.js":21869,"./portainer/oauth/components/oauth-providers-selector/oauth-provider-selector.controller.js":14537,"./portainer/oauth/components/oauth-settings/index.js":10453,"./portainer/oauth/components/oauth-settings/oauth-settings.controller.js":30152,"./portainer/oauth/components/oauth-settings/providers.js":67879,"./portainer/oauth/services/rest/oauth.js":18152,"./portainer/rbac/components/access-viewer/access-viewer-datatable/index.js":3589,"./portainer/rbac/components/access-viewer/access-viewer.controller.js":79657,"./portainer/rbac/components/access-viewer/index.js":87208,"./portainer/rbac/components/roles-datatable/index.js":77181,"./portainer/rbac/components/roles-datatable/roles-datatable.controller.js":15560,"./portainer/rbac/directives/authorization.js":92453,"./portainer/rbac/directives/disable-authorization.js":19118,"./portainer/rbac/directives/excludeAuthorization.js":58338,"./portainer/rbac/index.js":35552,"./portainer/rbac/models/access.js":82853,"./portainer/rbac/models/role.js":61969,"./portainer/rbac/rest/role.js":41974,"./portainer/rbac/services/role.rest.js":37838,"./portainer/rbac/services/role.service.js":70055,"./portainer/rbac/views/roles/index.js":93239,"./portainer/rbac/views/roles/roles.controller.js":60090,"./portainer/rbac/views/roles/rolesController.js":89644,"./portainer/registry-management/components/registries-repositories-datatable/registryRepositoriesDatatable.js":28695,"./portainer/registry-management/components/registries-repositories-datatable/registryRepositoriesDatatableController.js":13692,"./portainer/registry-management/components/registries-repository-tags-datatable/registriesRepositoryTagsDatatable.js":57690,"./portainer/registry-management/components/registries-repository-tags-datatable/registryRepositoriesTagsDatatableController.js":86e3,"./portainer/registry-management/helpers/localRegistryHelper.js":3369,"./portainer/registry-management/index.js":69890,"./portainer/registry-management/models/gitlabRegistry.js":76315,"./portainer/registry-management/models/registryImageDetails.js":77287,"./portainer/registry-management/models/registryImageLayer.js":52804,"./portainer/registry-management/models/registryRepository.js":47407,"./portainer/registry-management/models/repositoryTag.js":92478,"./portainer/registry-management/rest/catalog.js":22381,"./portainer/registry-management/rest/manifestJquery.js":13811,"./portainer/registry-management/rest/tags.js":81733,"./portainer/registry-management/rest/transform/gitlabResponseGetLink.js":36332,"./portainer/registry-management/rest/transform/linkGetResponse.js":66222,"./portainer/registry-management/services/genericAsyncGenerator.js":46673,"./portainer/registry-management/services/registryServiceSelector.js":1383,"./portainer/registry-management/services/registryV2Service.js":47624,"./portainer/registry-management/views/configure/controller.js":56795,"./portainer/registry-management/views/configure/index.js":22869,"./portainer/registry-management/views/repositories/controller.js":92715,"./portainer/registry-management/views/repositories/edit/controller.js":79079,"./portainer/registry-management/views/repositories/edit/progression-modal/index.js":97644,"./portainer/registry-management/views/repositories/index.js":64645,"./portainer/registry-management/views/repositories/tag/controller.js":97756,"./portainer/registry-management/views/repositories/tag/index.js":31211,"./portainer/rest/auth.js":95599,"./portainer/rest/backup.js":59987,"./portainer/rest/customTemplate.js":92179,"./portainer/rest/ecr.js":65485,"./portainer/rest/endpoint.js":50947,"./portainer/rest/gitlab.js":48664,"./portainer/rest/group.js":41019,"./portainer/rest/motd.js":34780,"./portainer/rest/registry.js":26911,"./portainer/rest/resourceControl.js":9095,"./portainer/rest/settings.js":26862,"./portainer/rest/ssl.js":33729,"./portainer/rest/stack.js":84006,"./portainer/rest/status.js":1962,"./portainer/rest/support.js":3985,"./portainer/rest/tag.js":69586,"./portainer/rest/team.js":51406,"./portainer/rest/teamMembership.js":63027,"./portainer/rest/template.js":35627,"./portainer/rest/transform/getEndpointsTotalCount.js":28098,"./portainer/rest/transform/gitlabResponseGetLink.js":40432,"./portainer/rest/user.js":88211,"./portainer/rest/webhooks.js":1587,"./portainer/services/allSettled.js":67808,"./portainer/services/api/accessService.js":84522,"./portainer/services/api/backupService.js":10273,"./portainer/services/api/customTemplate.js":85903,"./portainer/services/api/dockerhubService.js":91520,"./portainer/services/api/endpointService.js":53249,"./portainer/services/api/groupService.js":50828,"./portainer/services/api/motdService.js":28111,"./portainer/services/api/registryService.js":94094,"./portainer/services/api/resourceControlService.js":17293,"./portainer/services/api/settingsService.js":91532,"./portainer/services/api/sslService.js":39243,"./portainer/services/api/stackService.js":54332,"./portainer/services/api/statusService.js":97128,"./portainer/services/api/supportService.js":10754,"./portainer/services/api/tagService.js":44904,"./portainer/services/api/teamMembershipService.js":87643,"./portainer/services/api/teamService.js":75495,"./portainer/services/api/templateService.js":66656,"./portainer/services/api/userService.js":37494,"./portainer/services/api/webhookService.js":16856,"./portainer/services/async.js":52726,"./portainer/services/authentication.js":38890,"./portainer/services/chartService.js":49519,"./portainer/services/codeMirror.js":91112,"./portainer/services/datatableService.js":52943,"./portainer/services/endpointProvider.js":65187,"./portainer/services/fileUpload.js":21262,"./portainer/services/formValidator.js":59197,"./portainer/services/localStorage.js":11189,"./portainer/services/nameValidator.js":16624,"./portainer/services/pagination.js":40073,"./portainer/services/registryEcrService.js":91291,"./portainer/services/registryGitlabService.js":76211,"./portainer/services/registryModalService.js":56858,"./portainer/services/session-storage.js":85280,"./portainer/services/stateManager.js":37431,"./portainer/services/terminal-window.js":56518,"./portainer/services/themeManager.js":98869,"./portainer/settings/authentication/auth-method-constants.js":52855,"./portainer/settings/authentication/auth-type-constants.js":98376,"./portainer/settings/authentication/auto-user-provision-toggle/index.js":50552,"./portainer/settings/authentication/index.js":85847,"./portainer/settings/authentication/internal-auth/index.js":34864,"./portainer/settings/authentication/ldap/ad-settings/ad-settings.controller.js":80612,"./portainer/settings/authentication/ldap/ad-settings/index.js":66509,"./portainer/settings/authentication/ldap/index.js":36320,"./portainer/settings/authentication/ldap/ldap-connectivity-check/index.js":18436,"./portainer/settings/authentication/ldap/ldap-custom-admin-group/index.js":88996,"./portainer/settings/authentication/ldap/ldap-custom-admin-group/ldap-custom-admin-group.controller.js":53864,"./portainer/settings/authentication/ldap/ldap-custom-group-search/index.js":8282,"./portainer/settings/authentication/ldap/ldap-custom-group-search/ldap-custom-group-search.controller.js":30950,"./portainer/settings/authentication/ldap/ldap-custom-user-search/index.js":1093,"./portainer/settings/authentication/ldap/ldap-custom-user-search/ldap-custom-user-search.controller.js":39525,"./portainer/settings/authentication/ldap/ldap-group-search-item/index.js":82592,"./portainer/settings/authentication/ldap/ldap-group-search-item/ldap-group-search-item.controller.js":55028,"./portainer/settings/authentication/ldap/ldap-group-search/index.js":24791,"./portainer/settings/authentication/ldap/ldap-group-search/ldap-group-search.controller.js":92459,"./portainer/settings/authentication/ldap/ldap-groups-datatable/index.js":59086,"./portainer/settings/authentication/ldap/ldap-settings-custom/index.js":72928,"./portainer/settings/authentication/ldap/ldap-settings-custom/ldap-settings-custom.controller.js":96551,"./portainer/settings/authentication/ldap/ldap-settings-dn-builder/index.js":6e4,"./portainer/settings/authentication/ldap/ldap-settings-dn-builder/ldap-settings-dn-builder.controller.js":62680,"./portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/index.js":36235,"./portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/ldap-settings-group-dn-builder.controller.js":91117,"./portainer/settings/authentication/ldap/ldap-settings-openldap/index.js":25702,"./portainer/settings/authentication/ldap/ldap-settings-openldap/ldap-settings-openldap.controller.js":37008,"./portainer/settings/authentication/ldap/ldap-settings-security/index.js":31939,"./portainer/settings/authentication/ldap/ldap-settings-test-login/index.js":75714,"./portainer/settings/authentication/ldap/ldap-settings-test-login/ldap-settings-test-login.controller.js":90829,"./portainer/settings/authentication/ldap/ldap-settings.model.js":54512,"./portainer/settings/authentication/ldap/ldap-settings/index.js":39947,"./portainer/settings/authentication/ldap/ldap-settings/ldap-settings.controller.js":37556,"./portainer/settings/authentication/ldap/ldap-user-search-item/index.js":16811,"./portainer/settings/authentication/ldap/ldap-user-search-item/ldap-user-search-item.controller.js":93669,"./portainer/settings/authentication/ldap/ldap-user-search/index.js":97299,"./portainer/settings/authentication/ldap/ldap-user-search/ldap-user-search.controller.js":34188,"./portainer/settings/authentication/ldap/ldap-users-datatable/index.js":84259,"./portainer/settings/authentication/ldap/ldap.rest.js":39314,"./portainer/settings/authentication/ldap/ldap.service.js":46951,"./portainer/settings/authentication/save-auth-settings-button/index.js":93467,"./portainer/settings/general/index.js":6972,"./portainer/settings/general/ssl-certificate/index.js":13655,"./portainer/settings/general/ssl-certificate/ssl-certificate.controller.js":12617,"./portainer/settings/index.js":25356,"./portainer/user-activity/activity-logs-view/activity-logs-datatable/activity-logs-datatable.controller.js":48557,"./portainer/user-activity/activity-logs-view/activity-logs-datatable/index.js":32654,"./portainer/user-activity/activity-logs-view/activity-logs-view.controller.js":38427,"./portainer/user-activity/activity-logs-view/activity-logs-view.js":85331,"./portainer/user-activity/activity-logs-view/index.js":9800,"./portainer/user-activity/auth-logs-view/auth-logs-datatable/auth-logs-datatable.controller.js":91651,"./portainer/user-activity/auth-logs-view/auth-logs-datatable/index.js":66823,"./portainer/user-activity/auth-logs-view/auth-logs-view.controller.js":93873,"./portainer/user-activity/auth-logs-view/auth-logs-view.js":8364,"./portainer/user-activity/auth-logs-view/index.js":45303,"./portainer/user-activity/index.js":45347,"./portainer/user-activity/user-activity.rest.js":8733,"./portainer/user-activity/user-activity.service.js":73537,"./portainer/views/account/accountController.js":68325,"./portainer/views/account/create-user-access-token/create-user-access-token.controller.js":5012,"./portainer/views/account/create-user-access-token/index.js":33219,"./portainer/views/auth/authController.js":87374,"./portainer/views/custom-templates/create-custom-template-view/createCustomTemplateViewController.js":46581,"./portainer/views/custom-templates/create-custom-template-view/index.js":31268,"./portainer/views/custom-templates/custom-templates-view/customTemplatesViewController.js":77999,"./portainer/views/custom-templates/custom-templates-view/index.js":17598,"./portainer/views/custom-templates/edit-custom-template-view/editCustomTemplateViewController.js":31097,"./portainer/views/custom-templates/edit-custom-template-view/index.js":69659,"./portainer/views/devices/import/importDeviceController.js":11937,"./portainer/views/devices/profiles/add/addProfileController.js":35696,"./portainer/views/devices/profiles/add/index.js":91067,"./portainer/views/devices/profiles/edit/editProfileController.js":21199,"./portainer/views/devices/profiles/edit/index.js":42041,"./portainer/views/endpoint-registries/registries.js":36582,"./portainer/views/endpoint-registries/registriesController.js":54886,"./portainer/views/endpoints/access/endpointAccessController.js":16962,"./portainer/views/endpoints/create/createEndpointController.js":21448,"./portainer/views/endpoints/edit/endpointController.js":80418,"./portainer/views/endpoints/endpointsController.js":81881,"./portainer/views/endpoints/helpers.js":13853,"./portainer/views/endpoints/kvm/endpointKVMController.js":58118,"./portainer/views/endpoints/kvm/index.js":63824,"./portainer/views/groups/access/groupAccessController.js":79405,"./portainer/views/groups/create/createGroupController.js":7249,"./portainer/views/groups/edit/groupController.js":9149,"./portainer/views/groups/groupsController.js":60160,"./portainer/views/home/homeController.js":72507,"./portainer/views/init/admin/initAdminController.js":66246,"./portainer/views/init/endpoint/initEndpointController.js":88611,"./portainer/views/init/init-license.view/index.js":66026,"./portainer/views/init/init-license.view/init-license.view.controller.js":63346,"./portainer/views/internal-auth/internalAuthController.js":88946,"./portainer/views/logout/logoutController.js":95580,"./portainer/views/main/mainController.js":85274,"./portainer/views/registries/create/createRegistry.js":38910,"./portainer/views/registries/create/createRegistryController.js":83137,"./portainer/views/registries/edit/registryController.js":66146,"./portainer/views/registries/registriesController.js":6009,"./portainer/views/settings/authentication/settingsAuthenticationController.js":39066,"./portainer/views/settings/edge-compute/index.js":43404,"./portainer/views/settings/edge-compute/settingsEdgeComputeController.js":51861,"./portainer/views/settings/settingsController.js":45459,"./portainer/views/sidebar/sidebarController.js":64936,"./portainer/views/stacks/create/createStackController.js":58e3,"./portainer/views/stacks/edit/stackController.js":84671,"./portainer/views/stacks/stacksController.js":78566,"./portainer/views/tags/tagsController.js":20125,"./portainer/views/teams/edit/teamController.js":31713,"./portainer/views/teams/teamsController.js":58206,"./portainer/views/templates/templatesController.js":76058,"./portainer/views/users/edit/userController.js":21436,"./portainer/views/users/usersController.js":79614,"./portainer/views/wizard/index.js":58600,"./portainer/views/wizard/wizard-endpoints/index.js":90930,"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-aci/index.js":97049,"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-aci/wizard-aci.controller.js":30685,"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-docker/index.js":20398,"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-docker/wizard-docker.controller.js":77375,"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-kubernetes/index.js":48190,"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-kubernetes/wizard-kubernetes.controller.js":59857,"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-list/index.js":71308,"./portainer/views/wizard/wizard-endpoints/wizard-endpoints.controller.js":80864,"./portainer/views/wizard/wizard-endpoints/wizard-stepper/index.js":34294,"./portainer/views/wizard/wizard-endpoints/wizard-stepper/wizard-endpoint-type/index.js":54112,"./portainer/views/wizard/wizard-link/index.js":90432,"./portainer/views/wizard/wizard-tls/index.js":42294,"./portainer/views/wizard/wizard-view.controller.js":79906,"./setup-tests/global-setup.js":68724,"./vendors.js":25518};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=19338},99210:(e,t,n)=>{"use strict";n.d(t,{k:()=>o}),n(40958),n(78433),n(65562),n(50527);var a=n(6811),s=n(89935);function i(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function o(e){i(r,a,s,o,l,"next",e)}function l(e){i(r,a,s,o,l,"throw",e)}o(void 0)}))}}function o(e,t){return l.apply(this,arguments)}function l(){return(l=r(regeneratorRuntime.mark((function e(t,n){var i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(c(t,n),{params:{"api-version":"2018-02-01"}});case 3:return i=e.sent,r=i.data.value,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to retrieve resource groups",s.p);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(e,t,n){var a="/endpoints/".concat(e,"/azure/subscriptions/").concat(t,"/resourcegroups");return n&&(a+="/".concat(n)),a}},38914:(e,t,n)=>{"use strict";n.d(t,{t:()=>o}),n(40958),n(65562),n(50527);var a=n(6811),s=n(89935);function i(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function o(e){i(r,a,s,o,l,"next",e)}function l(e){i(r,a,s,o,l,"throw",e)}o(void 0)}))}}function o(e){return l.apply(this,arguments)}function l(){return(l=r(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(c(t));case 3:return n=e.sent,i=n.data,e.abrupt("return",i.value);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to retrieve subscriptions",s.p);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(e,t){var n="/endpoints/".concat(e,"/azure/subscriptions?api-version=2016-06-01");return t&&(n+="/".concat(t)),n}},89935:(e,t,n)=>{"use strict";function a(e){var t,n,a,s=(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.error)||void 0===a?void 0:a.message)||"Failed azure request";return{error:new Error(s),details:s}}n.d(t,{p:()=>a})},20249:(e,t,n)=>{"use strict";n.d(t,{Zk:()=>l,hO:()=>d,wG:()=>p,ri:()=>g,VZ:()=>f,dZ:()=>b,bh:()=>w,sc:()=>S}),n(40958),n(78433),n(65562),n(50527);var a=n(20023),s=n(6811),i=n(12944);function r(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){r(i,a,s,o,l,"next",e)}function l(e){r(i,a,s,o,l,"throw",e)}o(void 0)}))}}function l(e,t){return c.apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post($(t,n,"start"),{},{transformResponse:i.genericHandler});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post($(t,n,"stop"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post($(t,n,"restart"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return(h=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post($(t,n,"kill"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return v.apply(this,arguments)}function v(){return(v=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post($(t,n,"pause"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return y.apply(this,arguments)}function y(){return(y=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post($(t,n,"unpause"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n){return x.apply(this,arguments)}function x(){return(x=o(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.post($(t,n,"rename"),{},{params:{name:a},transformResponse:i.genericHandler});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n){return k.apply(this,arguments)}function k(){return(k=o(regeneratorRuntime.mark((function e(t,n,r){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.ZP.delete($(t,n.Id),{params:{v:r?1:0,force:!0},transformResponse:i.genericHandler});case 3:if(o=e.sent,!(l=o.data)||!l.message){e.next=7;break}throw new a.Z(l.message);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new a.Z("Unable to remove container",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function $(e,t,n){var a="/endpoints/".concat(e,"/docker/containers/").concat(t);return n?"".concat(a,"/").concat(n):a}},34125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(74521),s=n(10467),i=n(63069),r=n(56588);a.Z.use(r.Z).use(i.Z).use(s.Db).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1}});const o=a.Z},68112:(e,t,n)=>{"use strict";n.d(t,{d:()=>l,j:()=>c}),n(19267);var a=n(20037);function s(e){return e?{url:"".concat("https://www.portainer.io/business-upsell?from=").concat(e),limitedToBE:(0,a.vx)(e)}:{}}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("")}(this,e),this.limitedToBE=!1,this.url=""}var t,n;return t=e,(n=[{key:"$onInit",value:function(){var e=s(this.feature),t=e.url,n=e.limitedToBE;this.limitedToBE=n,this.url=t}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o=n(2629);function l(e){var t=e.featureId,n=e.children,a=s(t),i=a.url;return a.limitedToBE?(0,o.jsxs)("a",{className:"be-indicator",href:i,target:"_blank",rel:"noopener noreferrer",children:[n,(0,o.jsx)("i",{className:"fas fa-briefcase space-right be-indicator-icon"}),(0,o.jsx)("span",{className:"be-indicator-label",children:""})]}):null}var c={templateUrl:n(4483),controller:r,bindings:{feature:"<"},transclude:!0}},56619:(e,t,n)=>{"use strict";n.d(t,{S0:()=>u,es:()=>p,ZP:()=>f}),n(20493);var a=n(29274),s=n.n(a),i=n(66960),r=(n(92429),n(39532));n(78433),n(6410),n(65562),n(57592),n(28001),n(62341);var o=n(76204),l=n(20037),c=n(2629);function d(e){var t=e.radioName,n=e.option,a=e.onChange,s=e.selectedValue,i=e.disabled,d=e.tooltip,u=(0,l.vx)(n.feature),p="box-selector-item-".concat(t,"-").concat(n.id);return(0,c.jsxs)("div",{className:(0,r.Z)("box-selector-item",{business:u,limited:u}),"data-tip":!0,"data-for":p,"tooltip-append-to-body":"true","tooltip-placement":"bottom","tooltip-class":"portainer-tooltip",children:[(0,c.jsx)("input",{type:"radio",name:t,id:n.id,checked:n.value===s,value:n.value,disabled:i,onChange:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return a(n.value,u)}))}),(0,c.jsxs)("label",{htmlFor:n.id,"data-cy":"".concat(t,"_").concat(n.value),children:[u&&(0,c.jsx)("i",{className:"fas fa-briefcase limited-icon"}),(0,c.jsxs)("div",{className:"boxselector_header",children:[!!n.icon&&(0,c.jsx)("i",{className:(0,r.Z)(n.icon,"space-right"),"aria-hidden":"true"}),n.label]}),(0,c.jsx)("p",{className:"box-selector-item-description",children:n.description})]}),d&&(0,c.jsx)(o.Z,{place:"bottom",className:"portainer-tooltip",id:p,children:d})]})}function u(e){var t=e.radioName,n=e.value,a=e.options,s=e.onChange;return(0,c.jsx)("div",{className:(0,r.Z)("boxselector_wrapper","app-portainer-components-BoxSelector-BoxSelector-module__root"),role:"radiogroup",children:a.map((function(e){return(0,c.jsx)(d,{radioName:t,option:e,onChange:s,selectedValue:n,disabled:e.disabled&&e.disabled(),tooltip:e.tooltip&&e.tooltip()},e.id)}))})}function p(e,t,n,a,s,i){return{id:e,icon:t,label:n,description:a,value:s,feature:i}}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n(90083),n(19267);var g={template:'<box-selector-react\n    value="$ctrl.value"\n    on-change="$ctrl.handleChange"\n    options="$ctrl.options"\n    radio-name="$ctrl.radioName"\n  ></box-selector-react>',bindings:{value:"<",onChange:"<",options:"<",radioName:"<"},require:{formCtrl:"^form"},controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("")}(this,e),this.handleChange=this.handleChange.bind(this),this.$scope=t}var t,n;return e.$inject=["$scope"],t=e,(n=[{key:"handleChange",value:function(e,t){var n=this;this.$scope.$evalAsync((function(){n.formCtrl.$setValidity(n.radioName,!t,n.formCtrl),n.onChange(e)}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},h=(0,i.F)(u,["value","onChange","options","radioName"]);const f=s().module("app.portainer.component.box-selector",[]).component("boxSelectorReact",h).component("boxSelector",g).name},60770:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var a=n(39532),s=n(2629);function i(e){var t=e.type,n=void 0===t?"button":t,i=e.color,o=void 0===i?"primary":i,l=e.size,c=void 0===l?"small":l,d=e.disabled,u=void 0!==d&&d,p=e.className,m=e.dataCy,g=e.onClick,h=e.title,f=e.children;return(0,s.jsx)("button",{"data-cy":m,type:n,disabled:u,className:(0,a.Z)("btn","btn-".concat(o),r(c),p),onClick:g,title:h,children:f})}function r(e){switch(e){case"large":return"btn-lg";case"medium":return"btn-md";case"xsmall":return"btn-xs";default:return"btn-sm"}}},43164:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var a=n(39532),s=n(2629);function i(e){var t=e.size,n=void 0===t?"small":t,i=e.children,o=e.className;return(0,s.jsx)("div",{className:(0,a.Z)("btn-group",r(n),o),role:"group",children:i})}function r(e){switch(e){case"xsmall":return"btn-group-xs";case"large":return"btn-group-lg";default:return""}}},56268:(e,t,n)=>{"use strict";n.d(t,{f:()=>c}),n(50033),n(99075),n(28001),n(19267),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979);var a=n(60770),s=n(2629),i=["loadingText","isLoading","disabled","type","children"];function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.loadingText,n=e.isLoading,r=e.disabled,l=e.type,c=void 0===l?"submit":l,d=e.children,u=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,i);return(0,s.jsx)(a.z,o(o({},u),{},{type:c,disabled:r||n,children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"fa fa-circle-notch fa-spin space-right","aria-label":"loading","aria-hidden":"true"}),t]}):d}))}},75698:(e,t,n)=>{"use strict";n.d(t,{HS:()=>r,zx:()=>a.z,hE:()=>o.h});var a=n(60770),s=n(39532);var i=n(2629);function r(e){var t=e.label,n=e.onClick,a=e.className;return(0,i.jsxs)("button",{className:(0,s.Z)(a,"label","label-default","interactive","app-portainer-components-Button-AddButton-module__add-button"),type:"button",onClick:n,children:[(0,i.jsx)("i",{className:"fa fa-plus-circle space-right","aria-hidden":"true"})," ",t]})}var o=n(43164)},64062:(e,t,n)=>{"use strict";n.d(t,{r:()=>c}),n(50033),n(99075),n(28001),n(19267),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979);var a=n(89023),s=n(2629),i=["title","children"];function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.title,n=void 0===t?"":t,r=e.children,l=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,i);return(0,s.jsx)(a.UISref,o(o({},l),{},{children:(0,s.jsx)("a",{title:n,children:r})}))}},39078:(e,t,n)=>{"use strict";n.d(t,{mr:()=>L,ZP:()=>_}),n(20493);var a=n(29274),s=n.n(a),i=(n(92429),n(42108),n(95004)),r=n(64062),o=n(2629);function l(e){var t=e.breadcrumbs;return(0,o.jsx)("div",{className:"breadcrumb-links",children:t.map((function(e,n){return(0,o.jsxs)(i.Fragment,{children:[c(e),n!==t.length-1?" > ":""]},n)}))})}function c(e){return e.link?(0,o.jsx)(r.r,{to:e.link,params:e.linkParams,children:e.label}):e.label}var d=n(89023),u=n(75698),p=(n(94834),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(77072),n(4396)),m=n.n(p),g=n(39532),h=n(66960),f=n(51641),v=n(38676),b=n(46021);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function w(){var e=function(){var e,t={isLoading:(e=(0,f.useQuery)("licenseInfo",(function(){return(0,v.YQ)()}))).isLoading,error:e.error,info:e.data},n=t.error,a=t.info,s=t.isLoading;(0,i.useEffect)((function(){n&&(0,b.vU)("Failure",n,"Failed to get license info")}),[n]);var r,o,l=(r=(0,i.useState)(0),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(r,o)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(r,o)||function(){throw new TypeError("\n  [Symbol.iterator]() .")}()),c=l[0],d=l[1];return(0,i.useEffect)((function(){a&&function(e){var t=m().unix(e.expiresAt);d(t.diff(m()().startOf("day"),"days"))}(a)}),[a]),{remainingDays:c,isLoading:s,error:n}}(),t=e.remainingDays,n=e.isLoading;return(0,o.jsx)(x,{remainingDays:t,isLoading:n})}function x(e){var t=e.remainingDays;if(e.isLoading||t>=30)return null;var n="One or more of your licenses ".concat(function(e){return e<0?"has expired":0===e?"expires TODAY":"will expire in ".concat(1===e?"1 day":"".concat(e," days"))}(t),".");return(0,o.jsxs)("div",{className:(0,g.Z)("app-portainer-components-PageHeader-LicenseExpirationPanel-module__root","text-danger small"),children:[(0,o.jsx)("i",{className:"fa fa-exclamation-triangle space-right"}),(0,o.jsxs)("strong",{className:"app-portainer-components-PageHeader-LicenseExpirationPanel-module__message",children:[(0,o.jsx)("span",{className:"space-right",children:n}),""]})]})}var S=(0,h.A)(w,[]),k=n(65973),$=(0,i.createContext)(null);function C(){if(null==(0,i.useContext)($))throw new Error(" HeaderContainer ")}function A(e){var t=e.children;return(0,o.jsx)($.Provider,{value:!0,children:(0,o.jsxs)("div",{className:"row header",children:[(0,o.jsx)("div",{id:"loadingbar-placeholder"}),(0,o.jsxs)("div",{className:"col-xs-12",children:[(0,o.jsx)("div",{className:"meta",children:t}),(0,o.jsx)(w,{})]})]})})}var P={transclude:!0,templateUrl:k},I=n(50265),T=n(7255);const N="app-portainer-components-PageHeader-HeaderContent-module__link",E="app-portainer-components-PageHeader-HeaderContent-module__link-text",R="app-portainer-components-PageHeader-HeaderContent-module__link-icon";function D(e){var t=e.children;C();var n=(0,I.aF)().user;return(0,o.jsxs)("div",{className:"breadcrumb-links",children:[(0,o.jsx)("div",{className:"pull-left",children:t}),n&&(0,o.jsxs)("div",{className:(0,g.Z)("pull-right","app-portainer-components-PageHeader-HeaderContent-module__user-links"),children:[(0,o.jsxs)(r.r,{to:"portainer.account",className:N,children:[(0,o.jsx)("i",{className:(0,g.Z)("fa fa-wrench",R),"aria-hidden":"true"}),(0,o.jsx)("span",{className:E,children:"my account"})]}),(0,o.jsxs)(r.r,{to:"portainer.logout",params:{performApiLogout:!0},className:(0,g.Z)("text-danger",N),"data-cy":"template-logoutButton",children:[(0,o.jsx)("i",{className:(0,g.Z)("fa fa-sign-out-alt",R),"aria-hidden":"true"}),(0,o.jsx)("span",{className:E,children:"log out"})]})]})]})}var U={requires:"^rdHeader",transclude:!0,templateUrl:n(8019),controller:T.default},V=n(21578);function O(e){var t=e.title,n=e.children;C();var a=(0,I.aF)().user;return(0,o.jsxs)("div",{className:"page white-space-normal",children:[t,(0,o.jsx)("span",{className:"header_title_content",children:n}),a&&(0,o.jsxs)("span",{className:"pull-right user-box",children:[(0,o.jsx)("i",{className:"fa fa-user-circle","aria-hidden":"true"})," ",a.Username]})]})}var F={requires:"^rdHeader",bindings:{titleText:"@"},transclude:!0,templateUrl:n(75014),controller:V.default};function L(e){var t=e.title,n=e.breadcrumbs,a=void 0===n?[]:n,s=e.reload,i=(0,d.useRouter)();return(0,o.jsxs)(A,{children:[(0,o.jsx)(O,{title:t,children:s&&(0,o.jsx)(u.zx,{color:"link",onClick:function(){return i.stateService.reload()},children:(0,o.jsx)("i",{className:"fa fa-sync","aria-hidden":"true"})})}),(0,o.jsx)(D,{children:(0,o.jsx)(l,{breadcrumbs:a})})]})}const _=s().module("portainer.app.components.header",[]).component("licenseExpirationPanel",S).component("rdHeader",P).component("rdHeaderContent",U).component("rdHeaderTitle",F).name},95168:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var a=n(39532);var s=n(2629);function i(e){var t=e.color,n=void 0===t?"orange":t,i=e.children;return(0,s.jsxs)("p",{className:"text-muted small",children:[(0,s.jsx)("i",{"aria-hidden":"true",className:(0,a.Z)("fa fa-exclamation-circle","".concat(n,"-icon"),"app-portainer-components-Tip-TextTip-TextTip-module__text-margin")}),i]})}},25128:(e,t,n)=>{"use strict";n.d(t,{u:()=>r,P:()=>o});var a=n(76204),s=n(39532);var i=n(2629);function r(e){var t=e.message,n=e.position,r=void 0===n?"bottom":n;return(0,i.jsxs)("span",{className:"interactive",children:[(0,i.jsx)("i",{className:(0,s.Z)("fa fa-question-circle blue-icon","app-portainer-components-Tip-Tooltip-Tooltip-module__icon"),"aria-hidden":"true","data-tip":t}),(0,i.jsx)(a.Z,{multiline:!0,type:"info",place:r,effect:"solid",className:"app-portainer-components-Tip-Tooltip-Tooltip-module__tooltip",arrowColor:"transparent"})]})}var o={bindings:{message:"@",position:"@"},template:'<span\n    class="interactive"\n    tooltip-append-to-body="true"\n    tooltip-placement="{{$ctrl.position}}"\n    tooltip-class="portainer-tooltip"\n    uib-tooltip="{{$ctrl.message}}"\n  >\n    <i\n      class="fa fa-question-circle blue-icon tooltip-icon"\n      aria-hidden="true"\n    ></i>\n  </span>'}},54866:(e,t,n)=>{"use strict";n.d(t,{f:()=>i}),n(20493),n(66549),n(65562),n(15845),n(7974),n(92429),n(6410),n(57592);var a=n(70479),s=n(2629);function i(e){var t=e.name,n=e.value,i=e.onChange,r=e.users,o=e.dataCy,l=e.inputId,c=e.placeholder;return(0,s.jsx)(a.ZP,{isMulti:!0,name:t,getOptionLabel:function(e){return e.Username},getOptionValue:function(e){return e.Id},options:r,classNamePrefix:"selector",value:r.filter((function(e){return n.includes(e.Id)})),closeMenuOnSelect:!1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return i(e.map((function(e){return e.Id})))})),"data-cy":o,inputId:l,placeholder:c})}},42877:(e,t,n)=>{"use strict";n.d(t,{a:()=>c}),n(92429),n(66549),n(65562),n(78433),n(94834),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493),n(77072);var a=n(39532),s=n(30335),i=n(88818),r=n(54136),o=n(2629);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e){var t=e.columns,n=e.onChange,c=e.value;return(0,r.S)(),(0,o.jsx)(s.v2,{className:"setting",children:function(e){var r=e.isExpanded;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.j2,{className:(0,a.Z)("table-setting-menu-btn",{"setting-active":r}),children:[(0,o.jsx)("i",{className:"fa fa-columns","aria-hidden":"true"})," "]}),(0,o.jsx)(s.qy,{children:(0,o.jsxs)("div",{className:"tableMenu",children:[(0,o.jsx)("div",{className:"menuHeader",children:"/"}),(0,o.jsx)("div",{className:"menuContent",children:t.map((function(e){return(0,o.jsx)("div",{children:(0,o.jsx)(i.X,{checked:e.isVisible,label:e.Header,id:"visibility_".concat(e.id),onChange:function(t){return a=e.id,s=t.target.checked,void n(s?c.filter((function(e){return e!==a})):[].concat((i=c,function(e){if(Array.isArray(e))return l(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(i)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),[a]));var a,s,i}})},e.id)}))})]})})]})}})}},55552:(e,t,n)=>{"use strict";n.d(t,{t:()=>l}),n(42240),n(65562),n(89024),n(77236),n(47771),n(48913),n(98191),n(66076),n(92429),n(78433),n(15845),n(7974),n(66549),n(94834),n(28001),n(62341),n(82459),n(33262),n(20493),n(77072);var a=n(39532),s=n(95004),i=n(30335),r=n(2629);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e){var t=e.column,n=t.filterValue,a=t.setFilter,i=t.preFilteredRows,o=t.id,l=(0,s.useMemo)((function(){var e=new Set;return i.forEach((function(t){e.add(t.values[o])})),Array.from(e)}),[o,i]);return(0,r.jsx)(c,{options:l,filterKey:o,value:n,onChange:a})}function c(e){var t=e.options,n=e.value,s=void 0===n?[]:n,l=e.filterKey,c=e.onChange,d=s.length>0;return(0,r.jsx)("div",{children:(0,r.jsxs)(i.v2,{children:[(0,r.jsxs)(i.j2,{className:(0,a.Z)("table-filter",{"filter-active":d}),children:["",(0,r.jsx)("i",{className:(0,a.Z)("fa","space-left",d?"fa-check":"fa-filter"),"aria-hidden":"true"})]}),(0,r.jsx)(i.YI,{className:"dropdown-menu",children:(0,r.jsxs)("div",{className:"tableMenu",children:[(0,r.jsx)("div",{className:"menuHeader",children:""}),(0,r.jsx)("div",{className:"menuContent",children:t.map((function(e,t){return(0,r.jsxs)("div",{className:"md-checkbox",children:[(0,r.jsx)("input",{id:"filter_".concat(l,"_").concat(t),type:"checkbox",checked:s.includes(e),onChange:function(){return function(e){s.includes(e)?c(s.filter((function(t){return t!==e}))):c([].concat((t=s,function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),[e]));var t}(e)}}),(0,r.jsx)("label",{htmlFor:"filter_".concat(l,"_").concat(t),children:e})]},t)}))})]})})]})})}},96973:(e,t,n)=>{"use strict";n.d(t,{E1:()=>r,tO:()=>l,JS:()=>c}),n(6410),n(65562),n(57592);var a=n(95004),s=n(73817),i=n(2629);function r(e){var t=e.value,n=e.onChange;return(0,i.jsxs)("div",{className:"searchBar",children:[(0,i.jsx)("i",{className:"fa fa-search searchIcon","aria-hidden":"true"}),(0,i.jsx)("input",{type:"text",className:"searchInput",value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(e.target.value)})),placeholder:"..."})]})}var o=(0,a.createContext)(null);function l(e){var t=e.children,n=e.storageKey,a=e.defaultValue,r=void 0===a?"":a,l=(0,s._)("datatable_text_filter_".concat(n),r,sessionStorage);return(0,i.jsx)(o.Provider,{value:l,children:t})}function c(){var e=(0,a.useContext)(o);if(null===e)throw new Error(" SearchBarProvider ");return e}},7346:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var a=n(2629);function s(e){var t=e.value;return 0!==t?(0,a.jsxs)("div",{className:"infoBar",children:[t," "]}):null}},54136:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,x:()=>l});var a=n(95004),s=n(90635),i=n(2629),r=(0,a.createContext)(null);function o(){if(null==(0,a.useContext)(r))throw new Error(" TableContainer ")}function l(e){var t=e.children;return(0,i.jsx)(r.Provider,{value:!0,children:(0,i.jsx)("div",{className:"datatable",children:(0,i.jsx)(s.$L,{children:(0,i.jsx)(s.kh,{className:"no-padding",children:t})})})})}},90476:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var a=n(54136),s=n(2629);function i(e){var t=e.children;return(0,a.S)(),(0,s.jsx)("footer",{className:"footer",children:t})}},86557:(e,t,n)=>{"use strict";n.d(t,{k:()=>c}),n(6410),n(65562),n(57592),n(15363),n(94834),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a=n(39532),s=n(95004),i=n(88818);const r={alertVisible:"app-portainer-components-datatables-components-TableSettingsMenuAutoRefresh-module__alert-visible",alertHidden:"app-portainer-components-datatables-components-TableSettingsMenuAutoRefresh-module__alert-hidden"};var o=n(2629);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e){var t,n,c=e.onChange,d=e.value,u=(t=(0,s.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),p=u[0],m=u[1],g=d>0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.X,{id:"settings-auto-refresh",label:"",checked:g,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return c(e.target.checked?10:0)}))}),g&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"settings_refresh_rate",children:"Refresh rate"}),(0,o.jsxs)("select",{id:"settings_refresh_rate",className:"small-select",value:d,onChange:function(e){return function(e){c(Number(e)),m(!0)}(e.target.value)},children:[(0,o.jsx)("option",{value:10,children:"10s"}),(0,o.jsx)("option",{value:30,children:"30s"}),(0,o.jsx)("option",{value:60,children:"1min"}),(0,o.jsx)("option",{value:120,children:"2min"}),(0,o.jsx)("option",{value:300,children:"5min"})]}),(0,o.jsx)("span",{className:(0,a.Z)(p?r.alertVisible:r.alertHidden,r.check),onTransitionEnd:function(){return m(!1)},children:(0,o.jsx)("i",{id:"refreshRateChange",className:"fa fa-check green-icon","aria-hidden":"true",style:{marginTop:"7px"}})})]})]})}},43321:(e,t,n)=>{"use strict";function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===n.length||0===t.length?e:e.filter((function(e){var a=e.values[t[0]];return n.includes(a)}))}n.d(t,{m:()=>a}),n(66549),n(65562),n(42240),n(47771),n(15845),n(7974)},69098:(e,t,n)=>{"use strict";n.d(t,{iA:()=>r,p2:()=>o,xJ:()=>s.x,KA:()=>y,SC:()=>w,I6:()=>g,lw:()=>h,MQ:()=>l});var a=n(39532),s=n(54136),i=n(2629);function r(e){var t=e.children,n=e.className,r=e.role,o=e.style;return(0,s.S)(),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsx)("table",{className:(0,a.Z)("table table-hover table-filters nowrap-cells",n),role:r,style:o,children:t})})}function o(e){var t=e.children;return(0,s.S)(),(0,i.jsx)("div",{className:"actionBar",children:t})}function l(e){var t=e.children;return(0,s.S)(),(0,i.jsx)("div",{className:"settings",children:t})}var c=n(75698);const d="app-portainer-components-datatables-components-TableHeaderCell-module__sort-icon";function u(e){var t=e.headerProps,n=t.className,a=t.role,r=t.style,o=e.canSort,l=e.render,c=e.onSortClick,d=e.isSorted,u=e.isSortedDesc,m=e.canFilter,g=e.renderFilter;return(0,s.S)(),(0,i.jsxs)("th",{role:a,style:r,className:n,children:[(0,i.jsx)(p,{canSort:o,onClick:c,isSorted:d,isSortedDesc:u,children:l()}),m?g():null]})}function p(e){var t=e.canSort,n=e.children,s=e.onClick,r=e.isSorted,o=e.isSortedDesc;return t?(0,i.jsxs)(c.zx,{color:"link",type:"button",onClick:function(){return s(!o)},className:"sortable",children:[(0,i.jsx)("span",{className:"sortable-label",children:n}),r?(0,i.jsx)("i",{className:(0,a.Z)("fa","space-left",o?"fa-sort-alpha-up":"fa-sort-alpha-down",d),"aria-hidden":"true"}):(0,i.jsx)("div",{className:d})]}):(0,i.jsx)(i.Fragment,{children:n})}var m=n(30335);function g(e){var t=e.quickActions,n=e.children;return(0,s.S)(),(0,i.jsx)(m.v2,{className:"setting",children:function(e){var s=e.isExpanded;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.j2,{className:(0,a.Z)("table-setting-menu-btn",{"setting-active":s}),children:[(0,i.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})," "]}),(0,i.jsx)(m.qy,{children:(0,i.jsxs)("div",{className:"tableMenu",children:[(0,i.jsx)("div",{className:"menuHeader",children:""}),(0,i.jsx)("div",{className:"menuContent",children:n}),t&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"menuHeader",children:""}),(0,i.jsx)("div",{className:"menuContent",children:t})]})]})})]})}})}function h(e){var t=e.icon,n=e.label,r=e.children;return(0,s.S)(),(0,i.jsxs)("div",{className:"toolBar",children:[(0,i.jsxs)("div",{className:"toolBarTitle",children:[(0,i.jsx)("i",{className:(0,a.Z)("space-right","fa",t),"aria-hidden":"true"}),n]}),r]})}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=e.headers,n=e.onSortChange,a=e.className,r=e.role,o=e.style;return(0,s.S)(),(0,i.jsx)("tr",{className:a,role:r,style:o,children:t.map((function(e){return(0,i.jsx)(u,{headerProps:v({},e.getHeaderProps({className:e.className,style:{width:e.disableResizing?e.width:""}})),canSort:e.canSort,onSortClick:function(t){e.toggleSortBy(t),n&&n(e.id,t)},isSorted:e.isSorted,isSortedDesc:e.isSortedDesc,render:function(){return e.render("Header")},canFilter:!e.disableFilters,renderFilter:function(){return e.render("Filter")}},e.id)}))})}function w(e){var t=e.cells,n=e.className,a=e.role,r=e.style;return(0,s.S)(),(0,i.jsx)("tr",{className:n,role:a,style:r,children:t.map((function(e){var t=e.getCellProps({className:e.className});return(0,i.jsx)("td",{className:t.className,role:t.role,style:t.style,children:e.render("Cell")},t.key)}))})}n(92429),n(19267),n(50033),n(28001),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979)},946:(e,t,n)=>{"use strict";n.d(t,{j:()=>o}),n(40958),n(79161),n(94834),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50527);var a=n(95004);function s(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){s(r,a,i,o,l,"next",e)}function l(e){s(r,a,i,o,l,"throw",e)}o(void 0)}))}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e,t){var n,s,o=(n=(0,a.useState)(null),s=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(n,s)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,s)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),l=o[0],c=o[1],d=(0,a.useCallback)((function(){l&&(clearInterval(l),c(null))}),[l]),u=(0,a.useCallback)((function(e){!l&&t&&c(setInterval(i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)}))),1e3*e))}),[l,t]);(0,a.useEffect)((function(){return e&&t?u(e):d(),d}),[e,u,d,l,t])}},56713:(e,t,n)=>{"use strict";n.d(t,{i:()=>l}),n(50033),n(15598),n(65562),n(48913),n(98191),n(19992),n(19267),n(28001),n(66549),n(47097),n(62176),n(3979);var a=n(95004),s=n(4450);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){e.getToggleRowSelectedProps=[c],e.getToggleAllRowsSelectedProps=[d],e.getToggleAllPageRowsSelectedProps=[u],e.stateReducers.push(p),e.useInstance.push(m),e.prepareRow.push(g)}function c(e,t){var n=t.instance,a=t.row,s=n.manualRowSelectedKey,i=void 0===s?"isSelected":s;return[e,{onChange:function(e){a.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!a.original||!a.original[i])||a.isSelected,title:"",indeterminate:a.isSomeSelected,disabled:!n.isRowSelectable(a)}]}function d(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]}function u(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]}function p(e,t,n,a){if(t.type===s.actions.init)return r(r({},e),{},{selectedRowIds:{}});if(t.type===s.actions.resetSelectedRows)return r(r({},e),{},{selectedRowIds:(null==a?void 0:a.initialState.selectedRowIds)||{}});if(t.type===s.actions.toggleAllRowsSelected){var i=t.value;if(!a)return e;var o=a.isAllRowsSelected,l=a.rowsById,c=a.nonGroupedRowsById,d=void 0===c?l:c,u=a.isRowSelectable,p=void 0===u?f:u,m=void 0!==i?i:!o,g=r({},e.selectedRowIds);return Object.keys(d).forEach((function(e){if(m){var t=l[e];p(t)&&(g[e]=!0)}else delete g[e]})),r(r({},e),{},{selectedRowIds:g})}if(t.type===s.actions.toggleRowSelected){if(!a)return e;var h=t.id,v=t.value,b=a.rowsById,y=a.selectSubRows,w=void 0===y||y,x=a.getSubRows,S=a.isRowSelectable,k=void 0===S?f:S,$=e.selectedRowIds[h],C=void 0!==v?v:!$;if($===C)return e;var A=r({},e.selectedRowIds);return function e(t){var n=b[t];k(n)&&(n.isGrouped||(C?A[t]=!0:delete A[t]),w&&x(n)&&x(n).forEach((function(t){return e(t.id)})))}(h),r(r({},e),{},{selectedRowIds:A})}if(t.type===s.actions.toggleAllPageRowsSelected){var P=function e(t){var n=N[t];n.isGrouped||(V?O[t]=!0:delete O[t]),R&&U(n)&&U(n).forEach((function(t){return e(t.id)}))};if(!a)return e;var I=t.value,T=a.page,N=a.rowsById,E=a.selectSubRows,R=void 0===E||E,D=a.isAllPageRowsSelected,U=a.getSubRows,V=void 0!==I?I:!D,O=r({},e.selectedRowIds);return T.forEach((function(e){return P(e.id)})),r(r({},e),{},{selectedRowIds:O})}return e}function m(e){var t=e.data,n=e.rows,i=e.getHooks,r=e.plugins,o=e.rowsById,l=e.nonGroupedRowsById,c=void 0===l?o:l,d=e.autoResetSelectedRows,u=void 0===d||d,p=e.state.selectedRowIds,m=e.selectSubRows,g=void 0===m||m,f=e.dispatch,v=e.page,b=e.getSubRows,y=e.isRowSelectable;(0,s.ensurePluginOrder)(r,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var w=(0,a.useMemo)((function(){var e=[];return n.forEach((function(t){var n=g?h(t,p,b):!!p[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[n,g,p,b]),x=Boolean(Object.keys(c).length&&Object.keys(p).length),S=x;x&&Object.keys(c).some((function(e){var t=o[e];return!p[e]&&y(t)}))&&(x=!1),x||v&&v.length&&v.some((function(e){var t=e.id,n=o[t];return!p[t]&&y(n)}))&&(S=!1);var k=(0,s.useGetLatest)(u);(0,s.useMountedLayoutEffect)((function(){k()&&f({type:s.actions.resetSelectedRows})}),[f,t]);var $=(0,a.useCallback)((function(e){return f({type:s.actions.toggleAllRowsSelected,value:e})}),[f]),C=(0,a.useCallback)((function(e){return f({type:s.actions.toggleAllPageRowsSelected,value:e})}),[f]),A=(0,a.useCallback)((function(e,t){return f({type:s.actions.toggleRowSelected,id:e,value:t})}),[f]),P=(0,s.useGetLatest)(e),I=(0,s.makePropGetter)(i().getToggleAllRowsSelectedProps,{instance:P()}),T=(0,s.makePropGetter)(i().getToggleAllPageRowsSelectedProps,{instance:P()});Object.assign(e,{selectedFlatRows:w,isAllRowsSelected:x,isAllPageRowsSelected:S,toggleRowSelected:A,toggleAllRowsSelected:$,getToggleAllRowsSelectedProps:I,getToggleAllPageRowsSelectedProps:T,toggleAllPageRowsSelected:C})}function g(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=(0,s.makePropGetter)(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}function h(e,t,n){if(t[e.id])return!0;var a=n(e);if(a&&a.length){var s=!0,i=!1;return a.forEach((function(e){i&&!s||(h(e,t,n)?i=!0:s=!1)})),!!s||!!i&&null}return!1}function f(e){return!!e.original.disabled}s.actions.resetSelectedRows="resetSelectedRows",s.actions.toggleAllRowsSelected="toggleAllRowsSelected",s.actions.toggleRowSelected="toggleRowSelected",s.actions.toggleAllPageRowsSelected="toggleAllPageRowsSelected",l.pluginName="useRowSelect"},8755:(e,t,n)=>{"use strict";n.d(t,{h:()=>p,U:()=>m}),n(94834),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(19267),n(50033),n(66549),n(47097),n(48913),n(98191),n(62176),n(3979);var a=n(95004),s=n(73817),i=n(2629);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=(0,a.createContext)(null);function p(){var e=g(),t=(0,a.useContext)(e);if(null===t)throw new Error("TableSettingsProvider");return t}function m(e){var t=e.children,n=e.defaults,r=e.storageKey,l=g(),d=c((0,s._)("datatable_TableSettings_".concat(r),n),2),u=d[0],p=d[1],m=c((0,a.useState)(u),2),h=m[0],f=m[1],v=(0,a.useCallback)((function(e){f((function(t){var n=e instanceof Function?e(t):o(o({},t),e);return p(n),n}))}),[p]),b=(0,a.useMemo)((function(){return{settings:h,setTableSettings:v}}),[h,v]);return(0,i.jsx)(l.Provider,{value:b,children:t})}function g(){return u}},88818:(e,t,n)=>{"use strict";n.d(t,{X:()=>c}),n(50033),n(99075),n(28001),n(19267),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979);var a=n(95004),s=n(2629),i=["indeterminate","title","label","id","checked","onChange"];function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,a.forwardRef)((function(e,t){var n=e.indeterminate,r=e.title,l=e.label,c=e.id,d=e.checked,u=e.onChange,p=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,i),m=(0,a.useRef)(null),g=t;return t||(g=m),(0,a.useEffect)((function(){null!==g&&null!==g.current&&void 0!==n&&(g.current.indeterminate=n)}),[g,n]),(0,s.jsxs)("div",{className:"md-checkbox",title:r||l,children:[(0,s.jsx)("input",o({id:c,type:"checkbox",ref:g,onChange:u,checked:d},p)),(0,s.jsx)("label",{htmlFor:c,children:l})]})}))},42629:(e,t,n)=>{"use strict";n.d(t,{Uu:()=>o,Ar:()=>l}),n(20493);var a=n(95004),s=n(66960),i=n(75698);var r=n(2629);function o(e){var t=e.onChange,n=e.value,s=e.accept,o=e.title,l=void 0===o?"Select a file":o,c=e.required,d=void 0!==c&&c,u=(0,a.createRef)();return(0,r.jsxs)("div",{className:"file-upload-field",children:[(0,r.jsx)("input",{ref:u,type:"file",accept:s,required:d,className:"app-portainer-components-form-components-FileUpload-FileUploadField-module__file-input",onChange:function(e){e.target&&e.target.files&&e.target.files.length>0&&t(e.target.files[0])},"aria-label":"file-input"}),(0,r.jsx)(i.zx,{size:"small",color:"primary",onClick:function(){u&&u.current&&u.current.click()},className:"app-portainer-components-form-components-FileUpload-FileUploadField-module__file-button",children:l}),(0,r.jsx)("span",{className:"space-left",children:n?n.name:(0,r.jsx)("i",{className:"fa fa-times red-icon","aria-hidden":"true"})})]})}var l=(0,s.A)(o,["onChange","value","title","required"]);n(28001),n(62341),n(71718)},18480:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var a=n(39532),s=n(25128),i=n(81093);var r=n(2629);function o(e){var t=e.inputId,n=e.label,o=e.size,d=void 0===o?"small":o,u=e.tooltip,p=void 0===u?"":u,m=e.children,g=e.errors;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:(0,a.Z)("form-group","app-portainer-components-form-components-FormControl-FormControl-module__container"),children:[(0,r.jsxs)("label",{htmlFor:t,className:"".concat(l(d)," control-label text-left"),children:[n,p&&(0,r.jsx)(s.u,{message:p})]}),(0,r.jsx)("div",{className:"".concat(c(d)),children:m})]}),g&&(0,r.jsx)("div",{className:"form-group col-md-12",children:(0,r.jsx)(i.X,{children:g})})]})}function l(e){switch(e){case"large":return"col-sm-5 col-lg-4";case"medium":return"col-sm-4 col-lg-3";default:return"col-sm-3 col-lg-2"}}function c(e){switch(e){case"large":return"col-sm-7 col-lg-8";case"medium":return"col-sm-8 col-lg-9";default:return"col-sm-9 col-lg-10"}}},81093:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(2629);function s(e){var t=e.children;return(0,a.jsxs)("div",{className:"small text-warning",children:[(0,a.jsx)("i",{className:"fa fa-exclamation-triangle space-right","aria-hidden":"true"}),t]})}},71718:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var a=n(2629);function s(e){var t=e.children;return(0,a.jsx)("div",{className:"col-sm-12 form-section-title",children:t})}},96351:(e,t,n)=>{"use strict";n.d(t,{P:()=>c}),n(50033),n(99075),n(28001),n(19267),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979),n(92429);var a=n(39532),s=n(2629),i=["options","className"];function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.options,n=e.className,r=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,i);return(0,s.jsx)("select",o(o({},r),{},{className:(0,a.Z)("form-control",n),children:t.map((function(e){return(0,s.jsx)("option",{value:e.value,children:e.label},e.value)}))}))}},76426:(e,t,n)=>{"use strict";n.d(t,{I:()=>c,P:()=>d.P}),n(50033),n(99075),n(28001),n(19267),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979);var a=n(39532),s=n(2629),i=["className"];function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,i);return(0,s.jsx)("input",o(o({},n),{},{className:(0,a.Z)("form-control",t)}))}var d=n(96351)},39230:(e,t,n)=>{"use strict";n.d(t,{r:()=>l}),n(20493),n(6410),n(65562),n(57592);var a=n(39532),s=n(20037),i=n(68112),r=n(66960);var o=n(2629);function l(e){var t=e.name,n=e.checked,r=e.id,l=e.disabled,c=e.dataCy,d=e.onChange,u=e.featureId,p=e.className,m=(0,s.vx)(u);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("label",{className:(0,a.Z)("switch",p,"app-portainer-components-form-components-SwitchField-Switch-module__root",{business:m,limited:m}),children:[(0,o.jsx)("input",{type:"checkbox",name:t,id:r,checked:n,disabled:l||m,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.target.checked;return d(t)}))}),(0,o.jsx)("i",{"data-cy":c})]}),m&&(0,o.jsx)(i.d,{featureId:u})]})}(0,r.A)(l,["name","checked","id","disabled","dataCy","onChange","feature","className"])},16413:(e,t,n)=>{"use strict";n.d(t,{K:()=>l,m:()=>c}),n(20493);var a=n(39532),s=n(25128),i=n(66960);var r=n(39230),o=n(2629);function l(e){var t=e.tooltip,n=e.checked,i=e.label,l=e.name,c=e.labelClass,d=e.dataCy,u=e.disabled,p=e.onChange,m=e.featureId,g=l?"toggle_".concat(l):"";return(0,o.jsxs)("label",{className:"app-portainer-components-form-components-SwitchField-SwitchField-module__root",children:[(0,o.jsxs)("span",{className:(0,a.Z)("control-label text-left space-right","app-portainer-components-form-components-SwitchField-SwitchField-module__label",c),children:[i,t&&(0,o.jsx)(s.u,{position:"bottom",message:t})]}),(0,o.jsx)(r.r,{className:"space-right",name:g,id:g,checked:n,disabled:u,onChange:p,featureId:m,dataCy:d})]})}var c=(0,i.A)(l,["tooltip","checked","label","name","labelClass","dataCy","disabled","onChange","featureId"])},79084:(e,t,n)=>{"use strict";n.d(t,{j:()=>c}),n(15363),n(43119),n(92429),n(6410),n(65562),n(57592);var a=n(2629);function s(e){var t=e.value,n=e.onChange,s=e.showAll;return(0,a.jsxs)("span",{className:"limitSelector",children:[(0,a.jsx)("span",{className:"space-right",children:""}),(0,a.jsxs)("select",{className:"form-control",value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(Number(e.target.value))})),"data-cy":"paginationSelect",children:[s?(0,a.jsx)("option",{value:Number.MAX_SAFE_INTEGER,children:"All"}):null,[10,25,50,100].map((function(e){return(0,a.jsx)("option",{value:e,children:e},e)}))]})]})}function i(e,t,n,a){var s=Math.ceil(n/2);return e===n?a:1===e?e:n<a?a-s<t?a-n+e:s<t?t-s+e:e:e}var r=n(39532);function o(e){var t=e.children,n=e.page,s=e.disabled,i=e.active,o=e.onPageChange;return(0,a.jsx)("li",{className:(0,r.Z)({disabled:s,active:i}),children:(0,a.jsx)("button",{type:"button",onClick:function(){return"number"==typeof n&&o(n)},children:t})})}function l(e){var t=e.currentPage,n=e.totalCount,s=e.itemsPerPage,r=e.onPageChange,l=e.maxSize,c=void 0===l?5:l,d=e.directionLinks,u=void 0===d||d,p=e.boundaryLinks,m=void 0!==p&&p,g=function(e,t,n,a){var s,r=[],o=Math.ceil(t/n),l=Math.ceil(a/2);s=e<=l?"start":o-l<e?"end":"middle";for(var c=a<o,d=1;d<=o&&d<=a;d+=1){var u=i(d,e,a,o);!c||(2!==d||"middle"!==s&&"end"!==s)&&(d!==a-1||"middle"!==s&&"start"!==s)?r.push(u):r.push("...")}return r}(t,n,s,c),h=g[g.length-1];return g.length<=1?null:(0,a.jsxs)("ul",{className:"pagination",children:[m?(0,a.jsx)(o,{onPageChange:r,page:1,disabled:1===t,children:""}):null,u?(0,a.jsx)(o,{onPageChange:r,page:t-1,disabled:1===t,children:""}):null,g.map((function(e,n){return(0,a.jsx)(o,{onPageChange:r,page:e,disabled:"..."===e,active:t===e,children:e},n)})),u?(0,a.jsx)(o,{onPageChange:r,page:t+1,disabled:t===h,children:""}):null,m?(0,a.jsx)(o,{disabled:t===h,onPageChange:r,page:h,children:""}):null]})}function c(e){var t=e.pageLimit,n=e.page,i=e.onPageLimitChange,r=e.showAll,o=e.onPageChange,c=e.totalCount;return(0,a.jsx)("div",{className:"paginationControls",children:(0,a.jsxs)("form",{className:"form-inline",children:[(0,a.jsx)(s,{value:t,onChange:function(e){i(e),o(1)},showAll:r}),0!==t&&(0,a.jsx)(l,{maxSize:5,onPageChange:o,currentPage:n,itemsPerPage:t,totalCount:c})]})})}},90635:(e,t,n)=>{"use strict";n.d(t,{$L:()=>p,kh:()=>g,PI:()=>h,ZP:()=>f}),n(20493);var a=n(29274),s=n.n(a),i=n(66960),r=n(2629);function o(){return(0,r.jsxs)("div",{className:"loading",children:[(0,r.jsx)("div",{className:"double-bounce1"}),(0,r.jsx)("div",{className:"double-bounce2"})]})}var l=(0,i.F)(o,[]),c=n(95004),d=(0,c.createContext)(null);function u(){if(null==(0,c.useContext)(d))throw new Error("Should be inside a Widget component")}function p(e){var t=e.children;return(0,r.jsx)(d.Provider,{value:!0,children:(0,r.jsx)("div",{className:"widget",children:t})})}var m=n(39532);function g(e){var t=e.loading,n=e.className,a=e.children;return u(),(0,r.jsx)("div",{className:(0,m.Z)(n,"widget-body"),children:t?(0,r.jsx)(o,{}):(0,r.jsx)("div",{className:"widget-content",children:a})})}function h(e){var t=e.title,n=e.icon,a=e.className,s=e.children;return u(),(0,r.jsx)("div",{className:"widget-header",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("span",{className:(0,m.Z)("pull-left",a),children:["string"==typeof n?(0,r.jsx)("i",{className:(0,m.Z)("fa",n)}):n,t]}),(0,r.jsx)("span",{className:(0,m.Z)("pull-right",a),children:s})]})})}const f=s().module("portainer.shared.components.widget",[]).component("rdLoading",l).component("rdWidget",{transclude:!0,template:'<div class="widget" ng-transclude></div>'}).component("rdWidgetBody",{requires:"^rdWidget",bindings:{loading:"@?",classes:"@?"},transclude:!0,template:'\n    <div class="widget-body" ng-class="$ctrl.classes">\n      <rd-loading ng-show="$ctrl.loading"></rd-loading>\n      <div ng-hide="$ctrl.loading" class="widget-content" ng-transclude></div>\n    </div>\n  '}).component("rdWidgetCustomHeader",{requires:"^rdWidget",bindings:{titleText:"=",icon:"="},transclude:!0,template:'\n    <div class="widget-header">\n      <div class="row">\n        <span class="pull-left">\n          <img class="custom-header-ico space-right" ng-src="{{$ctrl.icon}}" ng-if="$ctrl.icon" alt="header-icon"></img>\n          <i class="fa fa-rocket" aria-hidden="true" ng-if="!$ctrl.icon"></i>\n          <span class="text-muted"> {{$ctrl.titleText}} </span>\n        </span>\n        <span class="pull-right col-xs-6 col-sm-4" ng-transclude></span>\n      </div>\n    </div>\n  '}).component("rdWidgetFooter",{requires:"^rdWidget",transclude:!0,template:'\n    <div class="widget-footer" ng-transclude></div>\n  '}).component("rdWidgetHeader",{requires:"^rdWidget",bindings:{titleText:"@",icon:"@",classes:"@?"},transclude:{title:"?headerTitle"},template:'\n    <div class="widget-header">\n      <div class="row">\n        <span ng-class="$ctrl.classes" class="pull-left">\n          <i class="fa" ng-class="$ctrl.icon"></i>\n          <span ng-transclude="title">{{ $ctrl.titleText }}</span>\n        </span>\n        <span ng-class="$ctrl.classes" class="pull-right" ng-transclude></span>\n      </div>\n    </div>\n'}).component("rdWidgetTaskbar",{requires:"^rdWidget",bindings:{classes:"@?"},transclude:!0,template:'\n    <div class="widget-header">\n      <div class="row">\n        <div ng-class="$ctrl.classes" ng-transclude></div>\n      </div>\n    </div>\n  '}).name},65655:(e,t,n)=>{"use strict";n.d(t,{xr:()=>v,U8:()=>m,sH:()=>h,uo:()=>y}),n(50033),n(99075),n(28001),n(19267),n(66549),n(47097),n(48913),n(98191),n(62176),n(3979),n(40958),n(65562),n(50527),n(59192),n(42240),n(77236),n(47771),n(78433);var a=n(6811);function s(e,t){var n="endpoints";return e&&(n+="/".concat(e)),t&&(n+="/".concat(t)),n}function i(e){return e?JSON.stringify(e):""}n(40443),n(94834),n(62341),n(82459),n(33262),n(20493),n(66076),n(77072);var r=["types","tagIds","endpointIds"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function u(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){u(i,a,s,r,o,"next",e)}function o(e){u(i,a,s,r,o,"throw",e)}r(void 0)}))}}function m(e,t){return g.apply(this,arguments)}function g(){return g=p(regeneratorRuntime.mark((function e(t,n){var o,c,u,p,m,g,h,f,v,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=b.length>2&&void 0!==b[2]?b[2]:{},c=o.types,u=o.tagIds,p=o.endpointIds,m=d(o,r),!u||0!==u.length){e.next=3;break}return e.abrupt("return",{totalCount:0,value:[]});case 3:return g=s(),h=l({start:t,limit:n},m),c&&(h.types=i(c)),u&&(h.tagIds=i(u)),p&&(h.endpointIds=i(p)),e.prev=8,e.next=11,a.ZP.get(g,{params:h});case 11:return f=e.sent,v=f.headers["X-Total-Count"],e.abrupt("return",{totalCount:parseInt(v,10),value:f.data});case 16:throw e.prev=16,e.t0=e.catch(8),(0,a.vs)(e.t0);case 19:case"end":return e.stop()}}),e,null,[[8,16]])}))),g.apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post(s(t,"snapshot"));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.delete(s(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=p(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.put(s(t),{UserTrusted:!0});case 3:return n=e.sent,i=n.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to update environment");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},23945:(e,t,n)=>{"use strict";var a,s,i,r;n.d(t,{Qj:()=>a,a2:()=>s,zh:()=>r}),function(e){e[e.Docker=1]="Docker",e[e.AgentOnDocker=2]="AgentOnDocker",e[e.Azure=3]="Azure",e[e.EdgeAgentOnDocker=4]="EdgeAgentOnDocker",e[e.KubernetesLocal=5]="KubernetesLocal",e[e.AgentOnKubernetes=6]="AgentOnKubernetes",e[e.EdgeAgentOnKubernetes=7]="EdgeAgentOnKubernetes"}(a||(a={})),function(e){e[e.Up=1]="Up",e[e.Down=2]="Down"}(s||(s={})),function(e){e[e.LocalDockerEnvironment=1]="LocalDockerEnvironment",e[e.AgentEnvironment=2]="AgentEnvironment",e[e.AzureEnvironment=3]="AzureEnvironment",e[e.EdgeAgentEnvironment=4]="EdgeAgentEnvironment",e[e.LocalKubernetesEnvironment=5]="LocalKubernetesEnvironment"}(i||(i={})),function(e){e[e.Docker=0]="Docker",e[e.Kubernetes=1]="Kubernetes",e[e.Azure=2]="Azure"}(r||(r={}))},20023:(e,t,n)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("objectundefined");return function(e){if(void 0===e)throw new ReferenceError(" -  - super()");return e}(e)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError(" null ");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return r(e,arguments,c(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l(a,e)},i(e)}function r(e,t,n){return r=o()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var s=new(Function.bind.apply(e,a));return n&&l(s,n.prototype),s},r.apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:()=>d}),n(42086),n(87028),n(99075),n(6410),n(65562),n(57592),n(90029),n(90083),n(42240),n(5434),n(77236),n(47771),n(34197),n(19267),n(28001),n(62341),n(82459);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError(" null ");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}(r,e);var t,n,a,i=(t=r,n=o(),function(){var e,a=c(t);if(n){var i=c(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return s(this,e)});function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("")}(this,r),(n=i.call(this,e)).err=t,n}return a=r,Object.defineProperty(a,"prototype",{writable:!1}),a}(i(Error))},26196:(e,t,n)=>{"use strict";var a,s,i;n.d(t,{cX:()=>a,CQ:()=>s,tE:()=>i}),function(e){e[e.CE=0]="CE",e[e.BE=1]="BE"}(a||(a={})),function(e){e[e.HIDDEN=0]="HIDDEN",e[e.VISIBLE=1]="VISIBLE",e[e.LIMITED_BE=2]="LIMITED_BE"}(s||(s={})),function(e){e.K8S_RESOURCE_POOL_LB_QUOTA="k8s-resourcepool-Ibquota",e.K8S_RESOURCE_POOL_STORAGE_QUOTA="k8s-resourcepool-storagequota",e.RBAC_ROLES="rbac-roles",e.REGISTRY_MANAGEMENT="registry-management",e.K8S_SETUP_DEFAULT="k8s-setup-default",e.S3_BACKUP_SETTING="s3-backup-setting",e.HIDE_INTERNAL_AUTHENTICATION_PROMPT="hide-internal-authentication-prompt",e.TEAM_MEMBERSHIP="team-membership",e.HIDE_INTERNAL_AUTH="hide-internal-auth",e.EXTERNAL_AUTH_LDAP="external-auth-ldap",e.ACTIVITY_AUDIT="activity-audit",e.FORCE_REDEPLOYMENT="force-redeployment",e.HIDE_AUTO_UPDATE_WINDOW="hide-auto-update-window",e.STACK_PULL_IMAGE="stack-pull-image",e.STACK_WEBHOOK="stack-webhook",e.CONTAINER_WEBHOOK="container-webhook"}(i||(i={}))},20037:(e,t,n)=>{"use strict";n.d(t,{S1:()=>l,RU:()=>d,vx:()=>u}),n(40958),n(65562),n(50527),n(19267);var a=n(26196);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function o(e){i(r,a,s,o,l,"next",e)}function l(e){i(r,a,s,o,l,"throw",e)}o(void 0)}))}}var o={currentEdition:a.cX.CE,features:{}};function l(e){return c.apply(this,arguments)}function c(){return(c=r(regeneratorRuntime.mark((function e(t){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t,s(n={},a.tE.K8S_RESOURCE_POOL_LB_QUOTA,a.cX.BE),s(n,a.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,a.cX.BE),s(n,a.tE.ACTIVITY_AUDIT,a.cX.BE),s(n,a.tE.EXTERNAL_AUTH_LDAP,a.cX.BE),s(n,a.tE.HIDE_INTERNAL_AUTH,a.cX.BE),s(n,a.tE.HIDE_INTERNAL_AUTHENTICATION_PROMPT,a.cX.BE),s(n,a.tE.K8S_SETUP_DEFAULT,a.cX.BE),s(n,a.tE.RBAC_ROLES,a.cX.BE),s(n,a.tE.REGISTRY_MANAGEMENT,a.cX.BE),s(n,a.tE.S3_BACKUP_SETTING,a.cX.BE),s(n,a.tE.TEAM_MEMBERSHIP,a.cX.BE),s(n,a.tE.FORCE_REDEPLOYMENT,a.cX.BE),s(n,a.tE.HIDE_AUTO_UPDATE_WINDOW,a.cX.BE),s(n,a.tE.STACK_PULL_IMAGE,a.cX.BE),s(n,a.tE.STACK_WEBHOOK,a.cX.BE),s(n,a.tE.CONTAINER_WEBHOOK,a.cX.BE),r=n,o.currentEdition=i,o.features=r;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return e?o.features[e]?o.features[e]<=o.currentEdition?a.CQ.VISIBLE:o.features[e]===a.cX.BE?a.CQ.LIMITED_BE:a.CQ.HIDDEN:a.CQ.HIDDEN:a.CQ.VISIBLE}function u(e){return d(e)===a.CQ.LIMITED_BE}},73903:(e,t,n)=>{"use strict";n.d(t,{N:()=>r}),n(79161),n(94834),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a=n(95004);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=(0,a.useState)(e),i=s(n,2),r=i[0],o=i[1];return(0,a.useEffect)((function(){var n=setTimeout((function(){return o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}},73817:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,U2:()=>l}),n(94834),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a=n(95004);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e){return"".concat("portainer",".").concat(e)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage,i=(0,a.useState)(l(e,t,n)),r=s(i,2),o=r[0],d=r[1],u=(0,a.useCallback)((function(t){d(t),c(e,t,n)}),[e,n]);return[o,u]}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage,a=n.getItem(r(e));if(!a)return t;try{return JSON.parse(a)}catch(e){return t}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage;n.setItem(r(e),JSON.stringify(t))}},50265:(e,t,n)=>{"use strict";n.d(t,{aF:()=>g,n5:()=>h,FY:()=>f,dr:()=>v,GJ:()=>b}),n(40958),n(15598),n(65562),n(94834),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50527);var a=n(3696),s=n(89023),i=n(95004),r=n(37494),o=n(73817),l=n(2629);function c(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){c(i,a,s,r,o,"next",e)}function o(e){c(i,a,s,r,o,"throw",e)}r(void 0)}))}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var m=(0,i.createContext)(null);function g(){var e=(0,i.useContext)(m);if(null===e)throw new Error("should be nested under UserProvider");return e}function h(e){var t="string"==typeof e?[e]:e,n=g().user,a=(0,s.useCurrentStateAndParams)().params.endpointId;if(!a)return!1;if(!n)return!1;if(b(n))return!0;if(!n.EndpointAuthorizations||!n.EndpointAuthorizations[a])return!1;var i=n.EndpointAuthorizations[a];return t.some((function(e){return i[e]}))}function f(e){var t=e.authorizations,n=e.children;return h(t)?(0,l.jsx)(l.Fragment,{children:n}):null}function v(e){var t=e.children,n=u((0,o._)("JWT",""),1)[0],s=u((0,i.useState)(null),2),c=s[0],p=s[1];(0,i.useEffect)((function(){""!==n&&function(e){h.apply(this,arguments)}((0,a.Z)(n).id)}),[n]);var g=(0,i.useMemo)((function(){return{user:c}}),[c]);return""===n||null===g.user?null:(0,l.jsx)(m.Provider,{value:g,children:t});function h(){return h=d(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.getUser)(t);case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}}function b(e){return!!e&&1===e.Role}},60122:(e,t,n)=>{"use strict";n.d(t,{lX:()=>o,e6:()=>c,ED:()=>u,cp:()=>m,Ai:()=>h,he:()=>v,ck:()=>y,M9:()=>x}),n(40958),n(65562),n(50527);var a=n(6811);function s(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){s(r,a,i,o,l,"next",e)}function l(e){s(r,a,i,o,l,"throw",e)}o(void 0)}))}}var r="/fdo";function o(e){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post("".concat(r,"/configure"),t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to configure FDO");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function c(e,t){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post("".concat(r,"/configure/").concat(t),n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to configure device");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function u(e,t,n){return p.apply(this,arguments)}function p(){return(p=i(regeneratorRuntime.mark((function e(t,n,s){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:t,profileFileContent:s},e.prev=1,e.next=4,a.ZP.post("".concat(r,"/profiles"),i,{params:{method:n}});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),(0,a.vs)(e.t0,"Unable to create profile");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get("".concat(r,"/profiles"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to retrieve the profiles");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get("".concat(r,"/profiles/").concat(t));case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to retrieve profile");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.delete("".concat(r,"/profiles/").concat(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to delete profile");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function y(e,t,n){return w.apply(this,arguments)}function w(){return(w=i(regeneratorRuntime.mark((function e(t,n,s){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:n,profileFileContent:s},e.prev=1,e.next=4,a.ZP.put("".concat(r,"/profiles/").concat(t),i);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),(0,a.vs)(e.t0,"Unable to update profile");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function x(e){return S.apply(this,arguments)}function S(){return(S=i(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post("".concat(r,"/profiles/").concat(t,"/duplicate"));case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to duplicate profile");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},76827:(e,t,n)=>{"use strict";n.d(t,{He:()=>o,eX:()=>c,xq:()=>u,PW:()=>m,aP:()=>h,xv:()=>v}),n(40958),n(65562),n(50527),n(78433);var a=n(6811);function s(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){s(r,a,i,o,l,"next",e)}function l(e){s(r,a,i,o,l,"throw",e)}o(void 0)}))}}var r="/open_amt";function o(e){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post("".concat(r,"/configure"),t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to configure AMT");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get("".concat(r,"/").concat(t,"/info"));case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to retrieve environment information");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return(p=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post("".concat(r,"/").concat(t,"/activate"));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to activate device");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get("".concat(r,"/").concat(t,"/devices"));case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to retrieve device information");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e,t,n){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t,n,s){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={action:s},e.next=4,a.ZP.post("".concat(r,"/").concat(t,"/devices/").concat(n,"/action"),i);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to execute device action");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function v(e,t,n){return b.apply(this,arguments)}function b(){return(b=i(regeneratorRuntime.mark((function e(t,n,s){var i,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={features:s},e.next=4,a.ZP.post("".concat(r,"/").concat(t,"/devices/").concat(n,"/features"),i);case 4:return o=e.sent,l=o.data,e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to enable device features");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},38676:(e,t,n)=>{"use strict";n.d(t,{YQ:()=>h,ER:()=>y});var a=n(71204),s=n.n(a),i=(n(40958),n(65562),n(50527),n(50033),n(21121),n(6410),n(48913),n(98191),n(6811));function r(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){r(i,a,s,o,l,"next",e)}function l(e){r(i,a,s,o,l,"throw",e)}o(void 0)}))}}var l={listeners:[],invalidated:!0};function c(){return d.apply(this,arguments)}function d(){return(d=o(regeneratorRuntime.mark((function e(){var t,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.ZP.get(w());case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),s=e.t0,new Error(null===(a=s.response)||void 0===a?void 0:a.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return(p=o(regeneratorRuntime.mark((function e(t){var n,a,s,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.ZP.post(w(),{licenseKeys:t});case 3:if(n=e.sent,a=n.data,Object.keys(a.failedKeys).length!==t.length){e.next=7;break}return e.abrupt("return",a);case 7:return l.invalidated=!0,h(),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),r=e.t0,new Error(null===(s=r.response)||void 0===s?void 0:s.data.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=o(regeneratorRuntime.mark((function e(t){var n,a,s,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.ZP.post(w("remove"),{licenseKeys:t});case 3:if(n=e.sent,a=n.data,Object.keys(a.failedKeys).length!==t.length){e.next=7;break}return e.abrupt("return",a);case 7:return l.invalidated=!0,h(),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),r=e.t0,new Error(null===(s=r.response)||void 0===s?void 0:s.data.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function h(){return f.apply(this,arguments)}function f(){return(f=o(regeneratorRuntime.mark((function e(){var t,n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(l.data&&!l.invalidated&&l.lastLoaded&&Math.abs(l.lastLoaded-Date.now())<3e4)){e.next=3;break}return e.abrupt("return",l.data);case 3:return e.next=5,i.ZP.get(w("info"));case 5:return t=e.sent,n=t.data,l.data=n,l.lastLoaded=Date.now(),l.invalidated=!1,l.listeners.forEach((function(e){return e(n)})),e.abrupt("return",n);case 14:throw e.prev=14,e.t0=e.catch(0),s=e.t0,new Error(null===(a=s.response)||void 0===a?void 0:a.data.message);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function v(e){l.listeners.push(e)}function b(e){s()(l.listeners,e)}function y(){return{licenses:c,attach:u,remove:m,info:h,subscribe:v,unsubscribe:b}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="licenses";return e&&(t+="/".concat(e)),t}},45429:(e,t,n)=>{"use strict";n.d(t,{w:()=>o}),n(19267);var a,s=n(86700);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e[e.Container=1]="Container",e[e.Service=2]="Service",e[e.Volume=3]="Volume",e[e.Network=4]="Network",e[e.Secret=5]="Secret",e[e.Stack=6]="Stack",e[e.Config=7]="Config",e[e.CustomTemplate=8]="CustomTemplate",e[e.ContainerGroup=9]="ContainerGroup"}(a||(a={}));var o=r((function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("")}(this,e),this.Id=t.Id,this.Type=t.Type,this.ResourceId=t.ResourceId,this.UserAccesses=t.UserAccesses,this.TeamAccesses=t.TeamAccesses,this.Public=t.Public,this.System=t.System,this.Ownership=(n=this).Public?s.X.PUBLIC:1===n.UserAccesses.length&&0===n.TeamAccesses.length?s.X.PRIVATE:n.UserAccesses.length>1||n.TeamAccesses.length>0?s.X.RESTRICTED:s.X.ADMINISTRATORS}))},86700:(e,t,n)=>{"use strict";var a;n.d(t,{X:()=>a}),function(e){e.PUBLIC="public",e.PRIVATE="private",e.RESTRICTED="restricted",e.ADMINISTRATORS="administrators"}(a||(a={}))},6811:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>g,Ee:()=>h,vs:()=>f}),n(15845),n(7974),n(78433),n(65562),n(50527),n(19267),n(50033),n(28001),n(66549),n(47097),n(48913),n(98191),n(62176),n(3979),n(40958);var a=n(62418),s=n.n(a),i=n(94926),r=n(20023),o=n(73817),l=n(50477);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}var m=s().create({baseURL:"api"});const g=m;function h(e){if(!e.url||!e.url.includes("/docker/"))return e;var t=d({headers:e.headers||{}},e),n=(0,l.GN)();return n&&(t.headers["X-PortainerAgent-Target"]=n),(0,l.sG)()&&(t.headers["X-PortainerAgent-ManagerOperation"]="1"),t}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,a=e,s=t;if("isAxiosError"in e){var i=n(e),o=i.error,l=i.details;a=o,s=t?"".concat(t,": ").concat(l):l}return new r.Z(s,a)}function v(e){var t,n,a=null===(t=e.response)||void 0===t?void 0:t.data.message,s=(null===(n=e.response)||void 0===n?void 0:n.data.details)||a;return{error:new Error(a),details:s}}(0,i.loadProgressBar)(void 0,m),m.interceptors.request.use(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d({headers:t.headers||{}},t),(a=(0,o.U2)("JWT",""))&&(n.headers.Authorization="Bearer ".concat(a)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){p(i,a,s,r,o,"next",e)}function o(e){p(i,a,s,r,o,"throw",e)}r(void 0)}))});return function(e){return t.apply(this,arguments)}}()),m.interceptors.request.use(h)},50477:(e,t,n)=>{"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,{GN:()=>o,vj:()=>l,sG:()=>d,$r:()=>p}),n(94834),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var s={agentTargetQueue:[],agentManagerOperation:!1,agentTargetLastValue:""};function i(){return s.registryAuthentication}function r(e){s.registryAuthentication=e}function o(){if(0===s.agentTargetQueue.length)return s.agentTargetLastValue;if(1===s.agentTargetQueue.length){var e=(t=s.agentTargetQueue,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}())[0];s.agentTargetLastValue=e}var t,n;return s.agentTargetQueue.shift()||""}function l(e){e&&s.agentTargetQueue.push(e)}function c(e){s.agentManagerOperation=e}function d(){return s.agentManagerOperation}function u(){s.agentTargetQueue=[],s.agentTargetLastValue="",s.agentManagerOperation=!1,delete s.registryAuthentication}function p(){return{registryAuthenticationHeader:i,setRegistryAuthenticationHeader:r,portainerAgentTargetHeader:o,setPortainerAgentTargetHeader:l,setPortainerAgentManagerOperation:c,portainerAgentManagerOperation:d,resetAgentHeaders:u}}},46980:(e,t,n)=>{"use strict";n.d(t,{ir:()=>u,l9:()=>p,iG:()=>m,oA:()=>g,sv:()=>h,no:()=>f,DP:()=>v,pM:()=>b,g:()=>y,HW:()=>w,Do:()=>x,Id:()=>S,cE:()=>k,ZX:()=>$,Q8:()=>C}),n(65562),n(50527),n(19267),n(50033),n(28001),n(66549),n(47097),n(48913),n(98191),n(62176),n(3979);var a=n(43695),s=n.n(a),i=n(53062),r=n.n(i),o=n(89230);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e={title:"",message:"",buttons:{confirm:{label:"",className:"btn-danger"}}};return new Promise((function(t){m(c(c({},e),{},{callback:function(e){return t(e)}}))}))}function p(e){return new Promise((function(t){m(c(c({},e),{},{callback:function(e){return t(e)}}))}))}function m(e){var t=r().confirm({title:e.title,message:e.message,buttons:(0,o.Z)(e.buttons),callback:e.callback});(0,o.A)(t)}function g(e){m({title:"",message:"",buttons:{confirm:{label:"",className:"btn-primary"}},callback:e})}function h(e){m({title:"",message:"",buttons:{confirm:{label:"",className:"btn-danger"}},callback:e})}function f(e){m({title:"",message:"",buttons:{confirm:{label:"Stop",className:"btn-danger"}},callback:e})}function v(e,t){m({title:"",message:s()(e),buttons:{confirm:{label:"",className:"btn-danger"}},callback:t})}function b(e,t){m({title:"",message:s()(e),buttons:{confirm:{label:"",className:"btn-danger"}},callback:t})}function y(e){m({title:"About de-associating",message:s()("<p>ID</p><p></p><p>ID</p>"),buttons:{confirm:{label:"",className:"btn-primary"}},callback:e})}function w(e,t){m({title:"",message:s()(e),buttons:{confirm:{label:"",className:"btn-warning"}},callback:t})}function x(e,t){m({title:"",message:s()(e),buttons:{confirm:{label:"",className:"btn-primary"},cancel:{label:""}},callback:t})}function S(e){return new Promise((function(t){v(e,(function(e){return t(e)}))}))}function k(e){m({title:"",message:"",buttons:{confirm:{label:"",className:"btn-primary"}},callback:e})}function $(e){m({title:"",message:"",buttons:{confirm:{label:"",className:"btn-primary"}},callback:e})}function C(){return p({title:"",message:"",buttons:{confirm:{label:"",className:"btn-primary"}}})}},77918:(e,t,n)=>{"use strict";n.d(t,{SW:()=>m,A7:()=>f,G0:()=>v,N8:()=>b,Kf:()=>y,o$:()=>w,l2:()=>x}),n(40958),n(78495),n(65562),n(50527),n(19267),n(50033),n(28001),n(66549),n(47097),n(48913),n(98191),n(62176),n(3979);var a=n(43695),s=n.n(a),i=n(53062),r=n.n(i),o=n(89230);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){u(i,a,s,r,o,"next",e)}function o(e){u(i,a,s,r,o,"throw",e)}r(void 0)}))}}function m(e){return g.apply(this,arguments)}function g(){return(g=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){h(c(c({},t),{},{callback:function(t){return e(t)}}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=r().prompt({title:e.title,inputType:e.inputType,inputOptions:e.inputOptions,buttons:e.buttons?(0,o.Z)(e.buttons):void 0,callback:e.callback,value:e.value});return(0,o.A)(t),t}function f(e,t){h({title:s()(e),inputType:"checkbox",inputOptions:[{text:"<i></i>",value:"1"}],buttons:{confirm:{label:"",className:"btn-danger"}},callback:t})}function v(e){h(e)}function b(e){S(h({title:"",inputType:"checkbox",inputOptions:[{text:"Pull latest image<i></i>",value:"1"}],buttons:{confirm:{label:"",className:"btn-danger"}},callback:e}),"")}function y(e,t){var n=s()(e);S(h({title:"",inputType:"checkbox",inputOptions:[{text:"<i></i>",value:"1"}],buttons:{confirm:{label:"",className:"btn-primary"}},callback:t}),n)}function w(e,t,n,a){var i=s()(e);S(h({title:"",inputType:"checkbox",inputOptions:[{text:"<i></i>",value:"1"}],buttons:{confirm:{label:"",className:"btn-primary"}},callback:a}),i,t)}function x(e,t,n){var a=s()(" kubeconfig  kubernetes </br>".concat(t));S(h({title:" kubeconfig ",inputType:"checkbox",inputOptions:e,buttons:{confirm:{label:"",className:"btn-primary"}},callback:n}),a,!0,!0)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.find(".bootbox-body").prepend("<p>".concat(t,"</p>"));var s=e.find(".bootbox-input-checkbox");s.prop("checked",n),a&&s.addClass("visible")}},89230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,A:()=>r});var a=n(43695),s=n.n(a);function i(e){return{confirm:{label:s()(e.confirm.label),className:e.confirm.className&&s()(e.confirm.className)},cancel:{label:e.cancel&&e.cancel.label?s()(e.cancel.label):""}}}function r(e){e.css({top:"50%","margin-top":function(){return-(e.height()||0)/2}})}},46021:(e,t,n)=>{"use strict";n.d(t,{Vp:()=>u,vU:()=>m,Tx:()=>g});var a=n(6632),s=n.n(a),i=n(3520),r=n.n(i),o=(n(48913),n(65562),n(3100)),l=n.n(o),c=n(43695),d=n.n(c);function u(e,t){l().success(d()(r()(t)),d()(e))}function p(e,t){l().warning(d()(r()(t)),d()(e),{timeOut:6e3})}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=h(t)||n;console.error(t),"Invalid JWT token"!==a&&l().error(d()(r()(a)),d()(e),{timeOut:6e3})}function g(){return{success:u,warning:p,error:m}}function h(e){if(!e)return"";var t="";return["err.data.details","err.data.message","data.details","data.message","data.content","data.error","message","err.data[0].message","err.data.err","data.err","msg"].forEach((function(n){var a=s()(e,n);"string"==typeof a&&(t=t||a)})),t}l().options={timeOut:3e3,closeButton:!0,progressBar:!0,tapToDismiss:!1}},66960:(e,t,n)=>{"use strict";n.d(t,{A:()=>v,F:()=>f}),n(42240),n(25212),n(92429),n(19267),n(50033),n(28001),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979);var a=n(79153),s=n(95004),i=(n(94834),n(62341),n(82459),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(13169)),r=n(51641),o=n(28127),l=n(50265),c=n(2629);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=new r.QueryClient;function p(e){var t,n,a=e.children,p=(t=(0,s.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),m=p[0],g=p[1];return(0,s.useEffect)((function(){"true"==="MISSING_ENV_VAR".SHOW_REACT_QUERY_DEV_TOOLS&&g(!0)}),[]),(0,c.jsx)(s.StrictMode,{children:(0,c.jsxs)(r.QueryClientProvider,{client:u,children:[(0,c.jsx)(o.jk,{children:(0,c.jsx)(l.dr,{children:a})}),m&&(0,c.jsx)(i.ReactQueryDevtools,{})]})})}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return n.$inject=["$element","$q"],{bindings:Object.fromEntries(t.map((function(e){return[e,"<"]}))),controller:n};function n(n,i){var r=this,o=n[0];this.$onChanges=function(){var n=function(e,t,n){return Object.fromEntries(e.map((function(e){var a=t[e];return"function"!=typeof a?[e,a]:[e,function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n((function(n){return n(t[e].apply(t,s))}))}]})))}(t,r,i);a.render((0,c.jsx)(s.Suspense,{fallback:"loading translations",children:(0,c.jsx)(p,{children:(0,c.jsx)(e,g({},n))})}),o)},this.$onDestroy=function(){return a.unmountComponentAtNode(o)}}}var v=f},14691:e=>{e.exports="test-file-stub"},12534:e=>{e.exports={}},75947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FileUploaderController:()=>a});class a{constructor(e){Object.assign(this,{$async:e}),this.state={uploadInProgress:!1},this.onFileSelected=this.onFileSelected.bind(this),this.onFileSelectedAsync=this.onFileSelectedAsync.bind(this)}onFileSelected(e){return this.$async(this.onFileSelectedAsync,e)}async onFileSelectedAsync(e){if(e){this.state.uploadInProgress=!0;try{await this.uploadFile(e)}finally{this.state.uploadInProgress=!1}}}}a.$inject=["$async"]},38123:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(75947);const r=n(10388);s().module("portainer.agent").component("fileUploader",{templateUrl:r,controller:i.FileUploaderController,bindings:{uploadFile:"<onFileSelected"}})},46161:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(53719);s().module("portainer.agent").component("filesDatatable",{templateUrl:i,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",isRoot:"<",goToParent:"&",browse:"&",rename:"&",download:"&",delete:"&",isUploadAllowed:"<",onFileSelectedForUpload:"<"}})},10822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HostBrowserController:()=>d});var a=n(85713),s=n.n(a),i=n(89858),r=n.n(i),o=n(17465),l=n.n(o);const c="/host";class d{constructor(e,t,n,a,s){Object.assign(this,{$async:e,HostBrowserService:t,Notifications:n,FileSaver:a,ModalService:s}),this.state={path:c},this.goToParent=this.goToParent.bind(this),this.browse=this.browse.bind(this),this.confirmDeleteFile=this.confirmDeleteFile.bind(this),this.isRoot=this.isRoot.bind(this),this.getRelativePath=this.getRelativePath.bind(this),this.getFilesForPath=this.getFilesForPath.bind(this),this.getFilesForPathAsync=this.getFilesForPathAsync.bind(this),this.downloadFile=this.downloadFile.bind(this),this.downloadFileAsync=this.downloadFileAsync.bind(this),this.renameFile=this.renameFile.bind(this),this.renameFileAsync=this.renameFileAsync.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileAsync=this.deleteFileAsync.bind(this),this.onFileSelectedForUpload=this.onFileSelectedForUpload.bind(this),this.onFileSelectedForUploadAsync=this.onFileSelectedForUploadAsync.bind(this)}getRelativePath(e){e=e||this.state.path;const t=new RegExp("^/host/?");return e.replace(t,"/")}goToParent(){this.getFilesForPath(this.parentPath(this.state.path))}isRoot(){return this.state.path===c}browse(e){this.getFilesForPath(this.buildPath(this.state.path,e))}getFilesForPath(e){return this.$async(this.getFilesForPathAsync,e)}async getFilesForPathAsync(e){try{const t=await this.HostBrowserService.ls(e);this.state.path=e,this.files=t}catch(e){this.Notifications.error("Failure",e,"Unable to browse")}}renameFile(e,t){return this.$async(this.renameFileAsync,e,t)}async renameFileAsync(e,t){const n=this.buildPath(this.state.path,e),a=this.buildPath(this.state.path,t);try{await this.HostBrowserService.rename(n,a),this.Notifications.success("File successfully renamed",this.getRelativePath(a));const e=await this.HostBrowserService.ls(this.state.path);this.files=e}catch(e){this.Notifications.error("Failure",e,"Unable to rename file")}}downloadFile(e){return this.$async(this.downloadFileAsync,e)}async downloadFileAsync(e){const t=this.buildPath(this.state.path,e);try{const{file:n}=await this.HostBrowserService.get(t),a=new Blob([n],{type:"text/plain;charset=utf-8"});this.FileSaver.saveAs(a,e)}catch(e){this.Notifications.error("Failure",e,"Unable to download file")}}confirmDeleteFile(e){const t=this.buildPath(this.state.path,e);this.ModalService.confirmDeletion(` ${this.getRelativePath(t)} ?`,(e=>{if(e)return this.deleteFile(t)}))}deleteFile(e){this.$async(this.deleteFileAsync,e)}async deleteFileAsync(e){try{await this.HostBrowserService.delete(e),this.Notifications.success("File successfully deleted",this.getRelativePath(e));const t=await this.HostBrowserService.ls(this.state.path);this.files=t}catch(e){this.Notifications.error("Failure",e,"Unable to delete file")}}$onInit(){this.getFilesForPath(c)}parentPath(e){if(e===c)return c;const t=l()(e,"/");return r()(s()(t,0,t.length-1),"/")}buildPath(e,t){return e.lastIndexOf("/")===e.length-1?e+t:e+"/"+t}onFileSelectedForUpload(e){return this.$async(this.onFileSelectedForUploadAsync,e)}async onFileSelectedForUploadAsync(e){if(!this.endpointId)throw new Error("missing endpoint id");try{await this.HostBrowserService.upload(this.endpointId,this.state.path,e),this.onFileUploaded()}catch(e){this.Notifications.error("Failure",e,"Unable to upload file")}}onFileUploaded(){this.refreshList()}refreshList(){this.getFilesForPath(this.state.path)}}d.$inject=["$async","HostBrowserService","Notifications","FileSaver","ModalService"]},70627:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(10822);const r=n(10884);s().module("portainer.agent").component("hostBrowser",{controller:i.HostBrowserController,templateUrl:r,bindings:{endpointId:"<"}})},60744:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(42102);const r=n(56566);s().module("portainer.agent").component("nodeSelector",{templateUrl:r,controller:i.NodeSelectorController,bindings:{model:"="}})},42102:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NodeSelectorController:()=>a});class a{constructor(e,t){Object.assign(this,{AgentService:e,Notifications:t})}async $onInit(){try{const e=await this.AgentService.agents();this.agents=e,this.model||(this.model=e[0].NodeName)}catch(e){this.Notifications.error("Failure",e,"Unable to load agents")}}}a.$inject=["AgentService","Notifications"]},41775:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(14087);const r=n(23709);s().module("portainer.agent").component("volumeBrowser",{templateUrl:r,controller:i.VolumeBrowserController,bindings:{volumeId:"<",nodeName:"<",isUploadEnabled:"<",endpointId:"<"}})},14087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VolumeBrowserController:()=>c});var a=n(85713),s=n.n(a),i=n(89858),r=n.n(i),o=n(17465),l=n.n(o);class c{constructor(e,t,n,a,s,i,r){Object.assign(this,{$async:e,HttpRequestHelper:t,VolumeBrowserService:n,FileSaver:a,Blob:s,ModalService:i,Notifications:r}),this.state={path:"/"},this.rename=this.rename.bind(this),this.renameAsync=this.renameAsync.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.download=this.download.bind(this),this.downloadAsync=this.downloadAsync.bind(this),this.up=this.up.bind(this),this.browse=this.browse.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileAsync=this.deleteFileAsync.bind(this),this.getFilesForPath=this.getFilesForPath.bind(this),this.getFilesForPathAsync=this.getFilesForPathAsync.bind(this),this.onFileSelectedForUpload=this.onFileSelectedForUpload.bind(this),this.onFileSelectedForUploadAsync=this.onFileSelectedForUploadAsync.bind(this),this.parentPath=this.parentPath.bind(this),this.buildPath=this.buildPath.bind(this),this.$onInit=this.$onInit.bind(this),this.onFileUploaded=this.onFileUploaded.bind(this),this.refreshList=this.refreshList.bind(this)}rename(e,t){return this.$async(this.renameAsync,e,t)}async renameAsync(e,t){const n="/"===this.state.path?e:`${this.state.path}/${e}`,a="/"===this.state.path?t:`${this.state.path}/${t}`;try{await this.VolumeBrowserService.rename(this.volumeId,n,a),this.Notifications.success("File successfully renamed",a),this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error("Failure",e,"Unable to rename file")}}confirmDelete(e){const t="/"===this.state.path?e:`${this.state.path}/${e}`;this.ModalService.confirmDeletion(` ${t} ?`,(e=>{e&&this.deleteFile(t)}))}download(e){return this.$async(this.downloadAsync,e)}async downloadAsync(e){const t="/"===this.state.path?e:`${this.state.path}/${e}`;try{const n=await this.VolumeBrowserService.get(this.volumeId,t),a=new Blob([n.file]);this.FileSaver.saveAs(a,e)}catch(e){this.Notifications.error("Failure",e,"Unable to download file")}}up(){const e=this.parentPath(this.state.path);this.getFilesForPath(e)}browse(e){const t=this.buildPath(this.state.path,e);this.getFilesForPath(t)}deleteFile(e){return this.$async(this.deleteFileAsync,e)}async deleteFileAsync(e){try{await this.VolumeBrowserService.delete(this.volumeId,e),this.Notifications.success("File successfully deleted",e),this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error("Failure",e,"Unable to delete file")}}getFilesForPath(e){return this.$async(this.getFilesForPathAsync,e)}async getFilesForPathAsync(e){try{const t=await this.VolumeBrowserService.ls(this.volumeId,e);this.state.path=e,this.files=t}catch(e){this.Notifications.error("Failure",e,"Unable to browse volume")}}onFileSelectedForUpload(e){return this.$async(this.onFileSelectedForUploadAsync,e)}async onFileSelectedForUploadAsync(e){try{await this.VolumeBrowserService.upload(this.endpointId,this.state.path,e,this.volumeId),this.onFileUploaded()}catch(e){this.Notifications.error("Failure",e,"Unable to upload file")}}parentPath(e){if(0===e.lastIndexOf("/"))return"/";const t=l()(e,"/");return r()(s()(t,0,t.length-1),"/")}buildPath(e,t){return"/"===e?e+t:`${e}/${t}`}onFileUploaded(){this.refreshList()}refreshList(){this.getFilesForPath(this.state.path)}async $onInit(){this.HttpRequestHelper.setPortainerAgentTargetHeader(this.nodeName);try{this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error("Failure",e,"Unable to browse volume")}}}c.$inject=["$async","HttpRequestHelper","VolumeBrowserService","FileSaver","Blob","ModalService","Notifications"]},26317:(e,t,n)=>{"use strict";n.r(t);var a=n(29274);n.n(a)().module("portainer.agent",[])},99662:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AgentViewModel:()=>a});class a{constructor(e){this.IPAddress=e.IPAddress,this.NodeName=e.NodeName,this.NodeRole=e.NodeRole}}},13481:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t,n,a){return e(`${t}/:endpointId/docker/v:version/agents`,{endpointId:n.endpointID,version:a.getAgentApiVersion},{query:{method:"GET",isArray:!0}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","StateManager"],s().module("portainer.agent").factory("Agent",i)},56192:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(94477);function r(e,t,n,a){return e(`${t}/:endpointId/docker/v:version/browse/:action`,{endpointId:n.endpointID,version:a.getAgentApiVersion},{ls:{method:"GET",isArray:!0,params:{action:"ls"}},get:{method:"GET",params:{action:"get"},transformResponse:i.browseGetResponse,responseType:"arraybuffer"},delete:{method:"DELETE",params:{action:"delete"}},rename:{method:"PUT",params:{action:"rename"}}})}r.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","StateManager"],s().module("portainer.agent").factory("Browse",r)},26084:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t){return e(`${t}/:endpointId/agent/:endpointType/v2/dockerhub/:registryId`,{},{limits:{method:"GET"}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS"],s().module("portainer.agent").factory("AgentDockerhub",i)},74298:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t,n,a){return e(`${t}/:endpointId/docker/v:version/host/:action`,{endpointId:n.endpointID,version:a.getAgentApiVersion},{info:{method:"GET",params:{action:"info"}}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","StateManager"],s().module("portainer.agent").factory("Host",i)},79688:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t,n,a){return e(`${t}/:endpointId/docker/ping`,{endpointId:n.endpointID},{ping:{method:"GET",interceptor:{response:function(e){const t=e.resource,n=e.headers("Portainer-Agent-Api-Version")||1;return t.version=Number(n),t},responseError:function(e){return 404===e.status?{version:1}:a.reject(e)}}}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","$q"],s().module("portainer.agent").factory("AgentPing",i)},94477:(e,t,n)=>{"use strict";function a(e){const t={};return t.file=e,t}n.r(t),n.d(t,{browseGetResponse:()=>a})},40941:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t,n){return e(`${t}/:endpointId/docker/agents`,{endpointId:n.endpointID},{query:{method:"GET",isArray:!0}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider"],s().module("portainer.agent").factory("AgentVersion1",i)},91130:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(94477);function r(e,t,n){return e(`${t}/:endpointId/docker/browse/:volumeID/:action`,{endpointId:n.endpointID},{ls:{method:"GET",isArray:!0,params:{action:"ls"}},get:{method:"GET",params:{action:"get"},transformResponse:i.browseGetResponse,responseType:"arraybuffer"},delete:{method:"DELETE",params:{action:"delete"}},rename:{method:"PUT",params:{action:"rename"}}})}r.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider"],s().module("portainer.agent").factory("BrowseVersion1",r)},78548:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(99662);function r(e,t,n,a,s){return{agents:async function(){const n=s.getState().endpoint.agentApiVersion,a=n>1?e:t;try{return(await a.query({version:n}).$promise).map((function(e){return new i.AgentViewModel(e)}))}catch(e){throw{msg:"Unable to retrieve agents",err:e}}},hostInfo:function(e){return n.setPortainerAgentTargetHeader(e),a.info().$promise}}}r.$inject=["Agent","AgentVersion1","HttpRequestHelper","Host","StateManager"],s().module("portainer.agent").factory("AgentService",r)},77884:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t,n,a){return{ls:function(t){return e.ls({path:t}).$promise},get:function(t){return e.get({path:t}).$promise},delete:function(t){return e.delete({path:t}).$promise},rename:function(t,n){const a={CurrentFilePath:t,NewFilePath:n};return e.rename({},a).$promise},upload:function(e,s,i,r){const o=a.getAgentApiVersion(),l=`${n}/${e}/docker${o>1?"/v"+o:""}/browse/put`;return new Promise(((e,n)=>{t.upload({url:l,data:{file:i,Path:s}}).then(e,n,r)}))}}}i.$inject=["Browse","Upload","API_ENDPOINT_ENDPOINTS","StateManager"],s().module("portainer.agent").factory("HostBrowserService",i)},38918:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e){return{ping:function(){return e.ping().$promise}}}i.$inject=["AgentPing"],s().module("portainer.agent").service("AgentPingService",i)},45824:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t,n,a,s){return{ls:function(e,t){return r().ls({volumeID:e,path:t,version:i()}).$promise},get:function(e,t){return r().get({volumeID:e,path:t,version:i()}).$promise},delete:function(e,t){return r().delete({volumeID:e,path:t,version:i()}).$promise},rename:function(e,t,n){const a={CurrentFilePath:t,NewFilePath:n};return r().rename({volumeID:e,version:i()},a).$promise},upload:function(t,n,i,r,o){const l=e.getAgentApiVersion();if(l<2)throw new Error("upload is not supported on this agent version");const c=`${a}/${t}/docker/v${l}/browse/put?volumeID=${r}`;return new Promise(((e,t)=>{s.upload({url:c,data:{file:i,Path:n}}).then(e,t,o)}))}};function i(){return e.getState().endpoint.agentApiVersion}function r(){return i()>1?t:n}}i.$inject=["StateManager","Browse","BrowseVersion1","API_ENDPOINT_ENDPOINTS","Upload"],s().module("portainer.agent").factory("VolumeBrowserService",i)},48385:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var a=n(29274),s=n.n(a),i=n(83161),r=n.n(i);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(6410),n(65562),n(57592),n(78433),n(59192),n(36554),n(15363),n(15845),n(42240),n(25212),n(92429),n(40443),n(94834),n(28001),n(62341),n(82459),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var l,c=["docker","kubernetes","aci","portainer","edge"];function d(e,t){h(l.PortainerInstanceID,e),h(l.PortainerVersion,t)}function u(e){h(l.PortainerUserRole,e)}function p(){f(l.PortainerUserRole)}function m(e){h(l.PortainerEndpointUserRole,e)}function g(){f(l.PortainerEndpointUserRole)}function h(e,t){v("setCustomDimension",e,t)}function f(e){v("deleteCustomDimension",e.toString())}function v(e){if("undefined"!=typeof window){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];window._paq.push([e].concat(n))}}function b(e,t){var n=t.value,a=t.metadata,s=t.dimensions,i=t.category;if(n){var l=parseInt(n.toString(),10);n=Number.isNaN(l)?0:l}if(!i)throw new Error("missing category");if(!c.includes(i))throw new Error("unsupported category");var d="";if(a){var u=Object.fromEntries(Object.entries(a).map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),s=a[0],i=a[1];return[r()(s),i]})));d=JSON.stringify(u).toLowerCase()}v("trackEvent",i,e.toLowerCase(),d,n||"",s||{})}!function(e){e[e.PortainerVersion=1]="PortainerVersion",e[e.PortainerInstanceID=2]="PortainerInstanceID",e[e.PortainerUserRole=3]="PortainerUserRole",e[e.PortainerEndpointUserRole=4]="PortainerEndpointUserRole"}(l||(l={})),w.$inject=["$analyticsProvider","$windowProvider"];const y=s().module("angulartics.matomo",["angulartics"]).config(w).name;function w(e,t){const n=t.$get();e.settings.pageTracking.trackRelativePath=!0,e.api.setPortainerStatus=d,e.api.setUserRole=u,e.api.clearUserRole=p,e.api.setUserEndpointRole=m,e.api.clearUserEndpointRole=g,e.api.setCustomVariable=function(e,t,n,a="page"){v("setCustomVariable",e,t,n,a)},e.api.deleteCustomVariable=function(e,t="page"){v("deleteCustomVariable",e,t)},e.api.trackSiteSearch=function(e,t,n){if(e){const a=["trackSiteSearch",e,t||!1];s().isDefined(n)&&a.push(n),v(a)}},e.api.trackGoal=function(e,t){v("trackGoal",e,t||0)},e.api.trackLink=function(e,t){v("trackLink",e,t||"link")},e.registerSetUsername((function(e){v("setUserId",e)})),e.registerPageTrack((function(e){v("setDocumentTitle",n.document.title),v("setReferrerUrl",""),v("setCustomUrl","http://portainer-ee.app"+e),v("trackPageView")})),e.registerEventTrack(b),e.registerExceptionTrack((function(e){v("trackEvent","Exceptions",e.toString(),e.stack,0)}))}},54905:(e,t,n)=>{"use strict";n.r(t),n.d(t,{onStartupAngular:()=>r});var a=n(52474),s=n.n(a),i=n(74808);function r(e,t,n,a,r,o,l,c,d){r.initialize(),e.$state=t,e.defaultTitle=document.title;const u=l.set;l.set=function(e){e>l.status()&&u.apply(l,arguments)},c.onBefore({},(()=>{d.resetAgentHeaders()})),n((()=>{!function(e,t){const n=e.currentEndpoint();void 0!==n&&n.Type==i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.ping(n.Id)}(r,o)}),6e4),s()(document).ajaxSend(((e,t,n)=>{const s="POST"===n.type||"PUT"===n.type||"PATCH"===n.type,i="application/json"!==n.contentType&&n.headers&&!n.headers["Content-Type"];s&&i&&t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization","Bearer "+a.getJWT())}))}r.$inject=["$rootScope","$state","$interval","LocalStorage","EndpointProvider","SystemService","cfpLoadingBar","$transitions","HttpRequestHelper"]},42311:(e,t,n)=>{"use strict";n.r(t),n(24026)},61094:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=(n(20493),n(39078)),r=n(90635),o=n(66960),l=(n(40958),n(42240),n(65562),n(47771),n(50527),n(26256)),c=n(89023),d=n(18480),u=n(76426),p=n(71718),m=n(56268),g=(n(19267),n(50033),n(28001),n(66549),n(47097),n(48913),n(98191),n(62176),n(3979),n(94834),n(62341),n(82459),n(77236),n(33262),n(66076),n(77072),n(20810)),h=n.n(g),f=(n(78433),n(95004)),v=n(86700),b=n(56619),y=n(41066),w=n(50265),x=n(16413),S=n(81093),k=n(54866),$=n(64062),C=n(2629);function A(e){var t=e.name,n=e.users,a=e.value,s=e.onChange,i=e.errors;return(0,C.jsx)(d.N,{label:"",tooltip:n.length>0?"You can select which user(s) will be able to manage this resource.":void 0,inputId:"users-selector",errors:i,children:n.length>0?(0,C.jsx)(k.f,{name:t,users:n,onChange:s,value:a,inputId:"users-selector"}):(0,C.jsxs)("span",{className:"small text-muted",children:[" ",(0,C.jsx)($.r,{to:"portainer.users",children:""})," "]})})}n(15845),n(7974),n(92429),n(6410),n(57592);var P=n(70479);function I(e){var t=e.name,n=e.value,a=e.onChange,s=e.teams,i=e.dataCy,r=e.inputId,o=e.placeholder;return(0,C.jsx)(P.ZP,{name:t,isMulti:!0,getOptionLabel:function(e){return e.Name},getOptionValue:function(e){return String(e.Id)},options:s,value:s.filter((function(e){return n.includes(e.Id)})),closeMenuOnSelect:!1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e.map((function(e){return e.Id})))})),"data-cy":i,inputId:r,placeholder:o})}function T(e){var t=e.name,n=e.teams,a=e.value,s=e.overrideTooltip,i=e.onChange,r=e.errors;return(0,C.jsx)(d.N,{label:"",tooltip:n.length>0?s||"You can select which team(s) will be able to manage this resource.":void 0,inputId:"teams-selector",errors:r,children:n.length>0?(0,C.jsx)(I,{name:t,teams:n,onChange:i,value:a,inputId:"teams-selector"}):(0,C.jsxs)("span",{className:"small text-muted",children:[" ",(0,C.jsx)($.r,{to:"portainer.teams",children:""})," "]})})}var N=n(51641),E=n(6811);function R(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){R(i,a,s,r,o,"next",e)}function o(e){R(i,a,s,r,o,"throw",e)}r(void 0)}))}}function U(){return(U=D(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.ZP.get(V());case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,E.vs)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function V(e){var t="/teams";return e&&(t+="/".concat(e)),t}var O=n(46021),F=n(37494);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){var t=e.values,n=e.onChange,a=e.hideTitle,s=e.errors,i=e.formNamespace,r=function(){var e=function(){var e=(0,N.useQuery)("teams",(function(){return function(){return U.apply(this,arguments)}()})),t=e.isError,n=e.error,a=e.isLoading,s=e.data;return(0,f.useEffect)((function(){t&&O.vU("Failure",n,"Failed retrieving teams")}),[t,n]),{isLoading:a,teams:s}}(),t=e.teams,n=e.isLoading,a=function(){var e=(0,N.useQuery)("users",(function(){return(0,F.getUsers)()})),t=e.isError,n=e.error,a=e.isLoading,s=e.data;return(0,f.useEffect)((function(){t&&O.vU("Failure",n,"Failed retrieving users")}),[t,n]),{isLoading:a,users:s}}(),s=a.users,i=a.isLoading;return{teams:t,users:s,isLoading:n||i}}(),o=r.users,l=r.teams,c=r.isLoading,d=(0,w.aF)().user,u=1===(null==d?void 0:d.Role),m=function(e,t){var n,a,s=(n=(0,f.useState)([]),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(n,a)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(n,a)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),i=s[0],r=s[1];return(0,f.useEffect)((function(){r(e?[(0,b.es)("access_administrators",(0,y.ownershipIcon)("administrators"),"Administrators","",v.X.ADMINISTRATORS),(0,b.es)("access_restricted",(0,y.ownershipIcon)("restricted"),"Restricted","/",v.X.RESTRICTED)]:function(e){return h()([(0,b.es)("access_private",(0,y.ownershipIcon)("private"),"Private","",v.X.PRIVATE),e&&e.length>0&&(0,b.es)("access_restricted",(0,y.ownershipIcon)("restricted"),"Restricted",1===e.length?" (".concat(e[0].Name,")  "):"",v.X.RESTRICTED)])}(t))}),[e,t]),i}(u,l),g=(0,f.useCallback)((function(e){n(M(M({},t),e))}),[t,n]);return!c&&l&&o?(0,C.jsxs)(C.Fragment,{children:[!a&&(0,C.jsx)(p.i,{children:"Access control"}),(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)("div",{className:"col-sm-12",children:(0,C.jsx)(x.K,{checked:t.accessControlEnabled,name:k("accessControlEnabled"),label:"",tooltip:"",onChange:function(e){return g({accessControlEnabled:e})}})})}),t.accessControlEnabled&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)(b.S0,{radioName:k("ownership"),value:t.ownership,options:m,onChange:function(e){return g({ownership:e})}})}),t.ownership===v.X.RESTRICTED&&(0,C.jsxs)("div",{"aria-label":"extra-options",children:[u&&(0,C.jsx)(A,{name:k("authorizedUsers"),users:o,onChange:function(e){return g({authorizedUsers:e})},value:t.authorizedUsers,errors:null==s?void 0:s.authorizedUsers}),(u||l.length>1)&&(0,C.jsx)(T,{name:k("authorizedTeams"),teams:l,overrideTooltip:!u&&l.length>1?"":void 0,onChange:function(e){return g({authorizedTeams:e})},value:t.authorizedTeams,errors:null==s?void 0:s.authorizedTeams}),"string"==typeof s&&(0,C.jsx)("div",{className:"form-group col-md-12",children:(0,C.jsx)(S.X,{children:s})})]})]})]}):null;function k(e){return i?"".concat(i,".").concat(e):e}}var B=n(88606);function z(e){return(0,B.Ry)().shape({accessControlEnabled:(0,B.Xg)(),ownership:(0,B.Z_)().oneOf(Object.values(v.X)).when("accessControlEnabled",{is:!0,then:function(e){return e.required()}}),authorizedUsers:(0,B.IX)((0,B.Rx)()),authorizedTeams:(0,B.IX)((0,B.Rx)())}).test("user-and-team",e?"":"",(function(t){var n=t.accessControlEnabled,a=t.ownership,s=t.authorizedTeams,i=t.authorizedUsers;return!n||a!==v.X.RESTRICTED||(e?!!s&&!!i&&(s.length>0||i.length>0):!!s&&s.length>0)}))}n(93742);var H=n(39532),G=n(43164);function q(e){var t=e.value,n=e.onChange,a=e.size,s=e.options;return(0,C.jsx)(G.h,{size:a,className:"app-portainer-components-form-components-ButtonSelector-ButtonSelector-module__group",children:s.map((function(e){return(0,C.jsx)(W,{selected:t===e.value,onChange:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n(e.value)})),children:e.label||e.value.toString()},e.value)}))})}function W(e){var t=e.selected,n=e.children,a=e.onChange;return(0,C.jsxs)("label",{className:(0,H.Z)("btn btn-primary",{active:t}),children:[n,(0,C.jsx)("input",{type:"radio",checked:t,onChange:a})]})}var Y=(0,f.createContext)(null);function Q(){if(null==(0,f.useContext)(Y))throw new Error("Should be inside a InputGroup component")}function J(e){switch(e){case"large":return"input-group-lg";case"small":return"input-group-sm";default:return""}}var Z=function(e){var t=e.children,n=e.size;return(0,C.jsx)(Y.Provider,{value:!0,children:(0,C.jsx)("div",{className:(0,H.Z)("input-group",J(n)),children:t})})};Z.Addon=function(e){var t=e.children;return Q(),(0,C.jsx)("span",{className:"input-group-addon",children:t})},Z.ButtonWrapper=function(e){var t=e.children;return Q(),(0,C.jsx)("span",{className:"input-group-btn",children:t})},Z.Input=u.I;var X=n(75698),ee=n(25128);const te={items:"app-portainer-components-form-components-InputList-InputList-module__items",label:"app-portainer-components-form-components-InputList-InputList-module__label",itemLine:"app-portainer-components-form-components-InputList-InputList-module__item-line",hasError:"app-portainer-components-form-components-InputList-InputList-module__has-error",itemActions:"app-portainer-components-form-components-InputList-InputList-module__item-actions",defaultItem:"app-portainer-components-form-components-InputList-InputList-module__default-item"};function ne(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e){var t=e.label,n=e.value,a=e.onChange,s=e.itemBuilder,i=void 0===s?le:s,r=e.item,o=void 0===r?ce:r,l=e.tooltip,c=e.addLabel,d=void 0===c?"Add item":c,u=e.itemKeyGetter,p=void 0===u?function(e,t){return t}:u,m=e.movable,g=e.errors,h=o;return(0,C.jsxs)("div",{className:(0,H.Z)("form-group",te.root),children:[(0,C.jsxs)("div",{className:(0,H.Z)("col-sm-12",te.header),children:[(0,C.jsxs)("div",{className:(0,H.Z)("control-label text-left",te.label),children:[t,l&&(0,C.jsx)(ee.u,{message:l})]}),(0,C.jsx)(X.HS,{label:d,className:"space-left",onClick:function(){var e,t=i();a([].concat(function(e){if(Array.isArray(e))return se(e)}(e=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e)||function(){throw new TypeError("\n [Symbol.iterator]() ")}(),[t]),{type:"create",item:t})}})]}),(0,C.jsx)("div",{className:(0,H.Z)("col-sm-12 form-inline",te.items),children:n.map((function(e,t){var s=p(e,t),i="object"===re(g)?g[t]:void 0;return(0,C.jsxs)("div",{className:(0,H.Z)(te.itemLine,ie({},te.hasError,!!i)),children:[(0,C.jsx)(h,{item:e,onChange:function(e){return v(s,e)},error:i}),(0,C.jsxs)("div",{className:te.itemActions,children:[m&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(X.zx,{size:"small",disabled:0===t,onClick:function(){return function(e){e<=0||f(e,e-1)}(t)},children:(0,C.jsx)("i",{className:"fa fa-arrow-up","aria-hidden":"true"})}),(0,C.jsx)(X.zx,{size:"small",type:"button",disabled:t===n.length-1,onClick:function(){return function(e){e>=n.length-1||f(e,e+1)}(t)},children:(0,C.jsx)("i",{className:"fa fa-arrow-down","aria-hidden":"true"})})]}),(0,C.jsx)(X.zx,{color:"danger",size:"small",onClick:function(){return function(e,t){a(n.filter((function(t,n){return p(t,n)!==e})),{type:"delete",item:t})}(s,e)},children:(0,C.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})})]})]},s)}))})]});function f(e,t){m&&a(function(e,t,n){if(!o(e,t)||!o(e,n))throw new Error("index is out of bounds");var a=e[t],s=e.length,i=t-n;if(i>0)return[].concat(ne(e.slice(0,n)),[a],ne(e.slice(n,t)),ne(e.slice(t+1,s)));if(i<0){var r=n+1;return[].concat(ne(e.slice(0,t)),ne(e.slice(t+1,r)),[a],ne(e.slice(r,s)))}return ne(e);function o(e,t){return t>=0&&t<=e.length}}(n,e,t),{type:"move",fromIndex:e,to:t})}function v(e,t){var s=n.map((function(n,a){return p(n,a)!==e?n:t}));a(s,{type:"update",item:t})}}function le(){return{value:""}}function ce(e){var t=e.item,n=e.onChange,a=e.error;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u.I,{value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n({value:e.target.value})})),className:te.defaultItem}),(0,C.jsx)(S.X,{children:a})]})}const de={item:"app-azure-ContainerInstances-CreateContainerInstanceForm-PortsMappingField-module__item",errors:"app-azure-ContainerInstances-CreateContainerInstanceForm-PortsMappingField-module__errors"};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e){var t=e.value,n=e.onChange,a=e.errors;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(oe,{label:"Port mapping",value:t,onChange:n,addLabel:"map additional port",itemBuilder:function(){return{host:"",container:"",protocol:"TCP"}},item:he,errors:a}),"string"==typeof a&&(0,C.jsx)("div",{className:"form-group col-md-12",children:(0,C.jsx)(S.X,{children:a})})]})}function he(e){var t=e.onChange,n=e.item,a=e.error;return(0,C.jsxs)("div",{className:de.item,children:[(0,C.jsxs)("div",{className:de.inputs,children:[(0,C.jsxs)(Z,{size:"small",children:[(0,C.jsx)(Z.Addon,{children:"host"}),(0,C.jsx)(Z.Input,{placeholder:" 80",value:n.host,onChange:function(e){return s("host",e.target.value)}})]}),(0,C.jsx)("span",{style:{margin:"0 10px 0 10px"},children:(0,C.jsx)("i",{className:"fa fa-long-arrow-alt-right","aria-hidden":"true"})}),(0,C.jsxs)(Z,{size:"small",children:[(0,C.jsx)(Z.Addon,{children:"container"}),(0,C.jsx)(Z.Input,{placeholder:" 80",value:n.container,onChange:function(e){return s("container",e.target.value)}})]}),(0,C.jsx)(q,{onChange:function(e){return s("protocol",e)},value:n.protocol,options:[{value:"TCP"},{value:"UDP"}]})]}),!!a&&(0,C.jsx)("div",{className:de.errors,children:(0,C.jsx)(S.X,{children:Object.values(a)[0]})})]});function s(e,a){t(pe(pe({},n),{},me({},e,a)))}}n(78495),n(25212),n(15598);var fe=n(99210),ve=n(38914),be=n(51235),ye=n.n(be);function we(e){var t=e.id,n=e.namespace,a=e.resourceTypes,s=(ye()(a,{resourceType:"containerGroups"})||{}).locations;return{id:t,namespace:n,locations:void 0===s?[]:s}}var xe=n(89935);function Se(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){Se(i,a,s,r,o,"next",e)}function o(e){Se(i,a,s,r,o,"throw",e)}r(void 0)}))}}function $e(){return($e=ke(regeneratorRuntime.mark((function e(t,n){var a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/endpoints/".concat(t,"/azure/subscriptions/").concat(n,"/providers/Microsoft.ContainerInstance"),e.next=4,E.ZP.get(a,{params:{"api-version":"2018-02-01"}});case 4:return s=e.sent,i=s.data,e.abrupt("return",we(i));case 9:throw e.prev=9,e.t0=e.catch(0),(0,E.vs)(e.t0,"Unable to retrieve provider",xe.p);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ae(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=Ae((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("")}(this,e),Pe(this,"accessControlEnabled",!0),Pe(this,"ownership",v.X.PRIVATE),Pe(this,"authorizedUsers",[]),Pe(this,"authorizedTeams",[])}));function Te(e,t){var n=new Ie;if(t){var a=t;e&&a===v.X.PRIVATE&&(a=v.X.RESTRICTED);var s=n.accessControlEnabled;a===v.X.PUBLIC&&(s=!1),n.ownership=a,n.accessControlEnabled=s}else e&&(n.ownership=v.X.ADMINISTRATORS);return n}function Ne(e,t){return e&&t&&t[e]?t[e].map((function(e){var t=e.name;return{value:e.id,label:t}})):[]}function Ee(e,t){if(!e||!t)return[];var n=t[e];return n?n.locations.map((function(e){return{value:e,label:e}})):[]}function Re(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function De(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){Re(i,a,s,r,o,"next",e)}function o(e){Re(i,a,s,r,o,"throw",e)}r(void 0)}))}}function Ue(){return(Ue=De(regeneratorRuntime.mark((function e(t,n,a,s){var i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oe(t),e.prev=1,e.next=4,E.ZP.put(Ve(n,a,s,t.name),i,{params:{"api-version":"2018-04-01"}});case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),(0,E.vs)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Ve(e,t,n,a){return"/endpoints/".concat(e,"/azure/subscriptions/").concat(t,"/resourceGroups/").concat(n,"/providers/Microsoft.ContainerInstance/containerGroups/").concat(a)}function Oe(e){for(var t=[],n=[],a=e.ports.filter((function(e){return e.container&&e.host})),s=0;s<a.length;s+=1){var i=a[s];t.push({port:i.container}),n.push({port:i.host,protocol:i.protocol})}return{location:e.location,properties:{osType:e.os,containers:[{name:e.name,properties:{image:e.image,ports:t,resources:{requests:{cpu:e.cpu,memoryInGB:e.memory}}}}],ipAddress:{type:e.allocatePublicIP?"Public":"Private",ports:n}}}}var Fe=n(20023);function Le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=t.ownership;t.accessControlEnabled||(a=v.X.PUBLIC);var s=!1,i=!1,r=[],o=[];switch(a){case v.X.PUBLIC:i=!0;break;case v.X.PRIVATE:r.push(e);break;case v.X.RESTRICTED:r=t.authorizedUsers,o=t.authorizedTeams;break;default:s=!0}return{administratorsOnly:s,public:i,users:r,teams:o,subResources:n}}function _e(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){_e(i,a,s,r,o,"next",e)}function o(e){_e(i,a,s,r,o,"throw",e)}r(void 0)}))}}function je(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=Le(e,t,a);return Ke(n.Id,s)}function Ke(e,t){return Be.apply(this,arguments)}function Be(){return(Be=Me(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.ZP.put("/resource_controls/".concat(t),n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,E.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ze(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function He(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){He(i,a,s,r,o,"next",e)}function o(e){He(i,a,s,r,o,"throw",e)}r(void 0)}))}}function qe(){var e=(0,c.useCurrentStateAndParams)().params.endpointId;if(!e)throw new Error("endpointId url param is required");var t=(0,w.aF)().user,n=(0,w.GJ)(t),a=function(e,t){var n=function(e){var t=(0,N.useQuery)("azure.subscriptions",(function(){return(0,ve.t)(e)})),n=t.data,a=t.isError,s=t.error,i=t.isLoading;return(0,f.useEffect)((function(){a&&O.vU("Failure",s,"Unable to retrieve Azure resources")}),[a,s]),{subscriptions:n||[],isLoading:i}}(e),a=n.subscriptions,s=n.isLoading,i=function(e,t){var n=(0,N.useQueries)(t.map((function(t){return{queryKey:["azure.resourceGroups",t.subscriptionId],queryFn:function(){return(0,fe.k)(e,t.subscriptionId)}}})));return(0,f.useEffect)((function(){var e=n.find((function(e){return e.error}));e&&O.vU("Failure",e.error,"Unable to retrieve Azure resources")}),[n]),{resourceGroups:Object.fromEntries(n.map((function(e,n){return[t[n].subscriptionId,e.data||[]]}))),isLoading:n.some((function(e){return e.isLoading}))}}(e,a),r=i.resourceGroups,o=i.isLoading,l=function(e,t){var n=(0,N.useQueries)(t.map((function(t){return{queryKey:["azure.containerInstanceProvider",t.subscriptionId],queryFn:function(){return function(e,t){return $e.apply(this,arguments)}(e,t.subscriptionId)}}})));return(0,f.useEffect)((function(){var e=n.find((function(e){return e.error}));e&&O.vU("Failure",e.error,"Unable to retrieve Azure resources")}),[n]),{providers:Object.fromEntries(n.map((function(e,n){return[t[n].subscriptionId,e.data]}))),isLoading:n.some((function(e){return e.isLoading}))}}(e,a),c=l.providers,d=l.isLoading,u=(null==a?void 0:a.map((function(e){return{value:e.subscriptionId,label:e.displayName}})))||[],p=g(u),m=Ne(p,r);return{isUserAdmin:t,initialValues:{name:"",location:g(Ee(p,c)),subscription:p,resourceGroup:g(m),image:"",os:"Linux",memory:1,cpu:1,ports:[{container:"80",host:"80",protocol:"TCP"}],allocatePublicIP:!0,accessControl:Te(t)},subscriptions:u,resourceGroups:r,providers:c,isLoading:d||o||s};function g(e){if(0!==e.length)return e[0].value}}(e,n),s=a.initialValues,i=a.isLoading,r=a.providers,o=a.subscriptions,g=a.resourceGroups,h=(0,c.useRouter)(),v=function(e,t,n){var a=(0,N.useQueryClient)();return(0,N.useMutation)((function(n){if(!n.subscription)throw new Fe.Z("subscription is required");var a=Ne(n.subscription,e).find((function(e){return e.value===n.resourceGroup}));if(!a)throw new Fe.Z("resource group not found");return function(e,t,n,a){return Ue.apply(this,arguments)}(n,t,n.subscription,a.label)}),{onSuccess:function(e,t){return(s=regeneratorRuntime.mark((function s(){var i,r;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n){s.next=2;break}throw new Error("missing user id");case 2:return i=e.Portainer.ResourceControl,r=t.accessControl,s.next=6,je(n,r,i);case 6:a.invalidateQueries(["azure","container-instances"]);case 7:case"end":return s.stop()}}),s)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=s.apply(e,t);function r(e){ze(i,n,a,r,o,"next",e)}function o(e){ze(i,n,a,r,o,"throw",e)}r(void 0)}))})();var s}})}(g,e,null==t?void 0:t.Id).mutateAsync;return i?null:(0,C.jsx)(l.J9,{initialValues:s,validationSchema:function(){return e=n,(0,B.Ry)().shape({name:(0,B.Z_)().required("Name is required."),image:(0,B.Z_)().required("Image is required."),subscription:(0,B.Z_)().required("Subscription is required."),resourceGroup:(0,B.Z_)().required("Resource group is required."),location:(0,B.Z_)().required("Location is required."),os:(0,B.Z_)().oneOf(["Linux","Windows"]),cpu:(0,B.Rx)().positive(),memory:(0,B.Rx)().positive(),allocatePublicIP:(0,B.O7)(),ports:(0,B.IX)((0,B.Ry)().shape({host:(0,B.Z_)().required("host is required"),container:(0,B.Z_)().required("container is required"),protocol:(0,B.Z_)().oneOf(["TCP","UDP"])})).min(1,"At least one port binding is required"),accessControl:z(e)});var e},onSubmit:function(e){return b.apply(this,arguments)},validateOnMount:!0,validateOnChange:!0,enableReinitialize:!0,children:function(e){var t=e.errors,n=e.handleSubmit,a=e.isSubmitting,s=e.isValid,i=e.values,c=e.setFieldValue;return(0,C.jsxs)(l.l0,{className:"form-horizontal",onSubmit:n,noValidate:!0,children:[(0,C.jsx)(p.i,{children:"Azure settings"}),(0,C.jsx)(d.N,{label:"",inputId:"subscription-input",errors:t.subscription,children:(0,C.jsx)(l.gN,{name:"subscription",as:u.P,id:"subscription-input",options:o})}),(0,C.jsx)(d.N,{label:"",inputId:"resourceGroup-input",errors:t.resourceGroup,children:(0,C.jsx)(l.gN,{name:"resourceGroup",as:u.P,id:"resourceGroup-input",options:Ne(i.subscription,g)})}),(0,C.jsx)(d.N,{label:"Location",inputId:"location-input",errors:t.location,children:(0,C.jsx)(l.gN,{name:"location",as:u.P,id:"location-input",options:Ee(i.subscription,r)})}),(0,C.jsx)(p.i,{children:"Container configuration"}),(0,C.jsx)(d.N,{label:"",inputId:"name-input",errors:t.name,children:(0,C.jsx)(l.gN,{name:"name",as:u.I,id:"name-input",placeholder:" myContainer"})}),(0,C.jsx)(d.N,{label:"",inputId:"image-input",errors:t.image,children:(0,C.jsx)(l.gN,{name:"image",as:u.I,id:"image-input",placeholder:" nginx:alpine"})}),(0,C.jsx)(d.N,{label:"OS",inputId:"os-input",errors:t.os,children:(0,C.jsx)(l.gN,{name:"os",as:u.P,id:"os-input",options:[{label:"Linux",value:"Linux"},{label:"Windows",value:"Windows"}]})}),(0,C.jsx)(ge,{value:i.ports,onChange:function(e){return c("ports",e)},errors:t.ports}),(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)("div",{className:"col-sm-12 small text-muted",children:" IP "})}),(0,C.jsx)(p.i,{children:"Container Resources"}),(0,C.jsx)(d.N,{label:"CPU",inputId:"cpu-input",errors:t.cpu,children:(0,C.jsx)(l.gN,{name:"cpu",as:u.I,id:"cpu-input",type:"number",placeholder:"1"})}),(0,C.jsx)(d.N,{label:"",inputId:"cpu-input",errors:t.memory,children:(0,C.jsx)(l.gN,{name:"memory",as:u.I,id:"memory-input",type:"number",placeholder:"1"})}),(0,C.jsx)(K,{formNamespace:"accessControl",onChange:function(e){return c("accessControl",e)},values:i.accessControl,errors:t.accessControl}),(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)("div",{className:"col-sm-12",children:(0,C.jsxs)(m.f,{disabled:!s,isLoading:a,loadingText:"Deployment in progress...",children:[(0,C.jsx)("i",{className:"fa fa-plus space-right","aria-hidden":"true"}),""]})})})]})}});function b(){return(b=Ge(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t);case 3:O.Vp("Container successfully created",t.name),h.stateService.go("azure.containerinstances"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),O.vU("Failure",e.t0,"Unable to create container");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}}var We=(0,o.A)((function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.mr,{title:"",breadcrumbs:[{link:"azure.containerinstances",label:""},{label:""}]}),(0,C.jsx)("div",{className:"row",children:(0,C.jsx)("div",{className:"col-sm-12",children:(0,C.jsx)(r.$L,{children:(0,C.jsx)(r.kh,{children:(0,C.jsx)(qe,{})})})})})]})}),[]),Ye=s().module("portainer.azure.containerInstances",[]).component("createContainerInstanceView",We).name;const Qe=n(14394),Je=n(9535);s().module("portainer.azure",["portainer.app",Ye]).config(["$stateRegistryProvider",function(e){var t={name:"azure.containerinstances",url:"/containerinstances",views:{"content@":{templateUrl:Qe,controller:"AzureContainerInstancesController"}}},n={name:"azure.dashboard",url:"/dashboard",views:{"content@":{templateUrl:Je,controller:"AzureDashboardController"}}};e.register({name:"azure",url:"/azure",parent:"endpoint",abstract:!0,onEnter:["$async","$state","endpoint","EndpointProvider","Notifications","StateManager",function(e,t,n,a,s,i){return e((async()=>{if(3===n.Type)try{a.setEndpointID(n.Id),a.setEndpointPublicURL(n.PublicURL),a.setOfflineModeFromStatus(n.Status),await i.updateEndpointState(n)}catch(e){s.error("Failed loading environment",e),t.go("portainer.home",{},{reload:!0})}else t.go("portainer.home")}))}]}),e.register(t),e.register({name:"azure.containerinstances.container",url:"/:id",views:{"content@":{component:"containerInstanceDetails"}}}),e.register({name:"azure.containerinstances.new",url:"/new/",views:{"content@":{component:"createContainerInstanceView"}}}),e.register(n)}])},74370:(e,t,n)=>{const a=n(48863);angular.module("portainer.azure").component("azureEndpointConfig",{bindings:{applicationId:"=",tenantId:"=",authenticationKey:"="},templateUrl:a})},68037:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(65301);s().module("portainer.azure").component("azureSidebar",{templateUrl:i,bindings:{endpointId:"<"}})},79380:(e,t,n)=>{const a=n(76974);angular.module("portainer.azure").component("containergroupsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<"}})},73216:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContainerGroupDefaultModel:()=>i,ContainerGroupViewModel:()=>r});var a=n(19898),s=n(45429);function i(){this.Location="",this.OSType="Linux",this.Name="",this.Image="",this.AllocatePublicIP=!0,this.Ports=[{container:80,host:80,protocol:"TCP"}],this.CPU=1,this.Memory=1,this.AccessControlData=new a.AccessControlFormData}function r(e){const t=e.properties.ipAddress?e.properties.ipAddress.ports:[],n=e.properties.containers.length?e.properties.containers[0]:{},a=n?n.properties.ports:[];this.Id=e.id,this.Name=e.name,this.Location=e.location,this.IPAddress=e.properties.ipAddress?e.properties.ipAddress.ip:"",this.Ports=t.length?t.map(((e,t)=>({container:a[t]?a[t].port:void 0,host:e.port,protocol:e.protocol}))):[],this.Image=n.properties.image||"",this.OSType=e.properties.osType,this.AllocatePublicIP=e.properties.ipAddress&&"Public"===e.properties.ipAddress.type,this.CPU=n.properties.resources.requests.cpu,this.Memory=n.properties.resources.requests.memoryInGB,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new s.w(e.Portainer.ResourceControl))}},76606:(e,t,n)=>{"use strict";function a(e){this.Id=e.id,this.SubscriptionId=e.subscriptionId,this.DisplayName=e.displayName,this.Name=e.name}n.r(t),n.d(t,{LocationViewModel:()=>a})},18779:(e,t,n)=>{"use strict";function a(e,t){this.Id=e.id,this.SubscriptionId=t,this.Name=e.name,this.Location=e.location}n.r(t),n.d(t,{ResourceGroupViewModel:()=>a})},79350:(e,t,n)=>{"use strict";function a(e){this.Id=e.subscriptionId,this.Name=e.displayName}n.r(t),n.d(t,{SubscriptionViewModel:()=>a})},1944:()=>{angular.module("portainer.azure").factory("Azure",["$http","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return{delete:function(a,s){var i=t+"/"+n.endpointID()+"/azure"+a+"?api-version="+s;return e({method:"DELETE",url:i})}}}])},29382:()=>{angular.module("portainer.azure").factory("ContainerGroup",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";var a={},s=e(t+"/:endpointId/azure/subscriptions/:subscriptionId/providers/Microsoft.ContainerInstance/containerGroups",{endpointId:n.endpointID,"api-version":"2018-04-01"},{query:{method:"GET",params:{subscriptionId:"@subscriptionId"}}}),i=e(t+"/:endpointId/azure/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContainerInstance/containerGroups/:containerGroupName",{endpointId:n.endpointID,"api-version":"2018-04-01"},{create:{method:"PUT",params:{subscriptionId:"@subscriptionId",resourceGroupName:"@resourceGroupName",containerGroupName:"@containerGroupName"}},get:{method:"GET"}});return a.query=s.query,a.create=i.create,a.get=i.get,a}])},59630:()=>{angular.module("portainer.azure").factory("Location",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/azure/subscriptions/:subscriptionId/locations",{endpointId:n.endpointID,"api-version":"2016-06-01"},{query:{method:"GET",params:{subscriptionId:"@subscriptionId"}}})}])},55489:()=>{angular.module("portainer.azure").factory("Provider",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/azure/subscriptions/:subscriptionId/providers/:providerNamespace",{endpointId:n.endpointID,"api-version":"2018-02-01"},{get:{method:"GET",params:{subscriptionId:"@subscriptionId",providerNamespace:"@providerNamespace"}}})}])},88609:()=>{angular.module("portainer.azure").factory("ResourceGroup",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/azure/subscriptions/:subscriptionId/resourcegroups/:resourceGroupName",{endpointId:n.endpointID,"api-version":"2018-02-01"},{query:{method:"GET",params:{subscriptionId:"@subscriptionId"}},get:{method:"GET"}})}])},33086:()=>{angular.module("portainer.azure").factory("Subscription",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/azure/subscriptions/:id",{endpointId:n.endpointID,"api-version":"2016-06-01"},{get:{method:"GET",params:{id:"@id"}}})}])},8961:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AzureService:()=>o});var a=n(18779),s=n(79350),i=n(99210),r=n(38914);function o(e,t,n,o,l){var c={};function d(t,n){for(var a=e.defer(),s={},i=[],r=0;r<t.length;r++){var o=t[r];i.push(n(o.Id))}return e.all(i).then((function(e){for(var n=0;n<e.length;n++){var i=e[n];s[t[n].Id]=i}a.resolve(s)})).catch((function(e){a.reject({msg:"Unable to retrieve resources",err:e})})),a.promise}return c.deleteContainerGroup=function(e){return t.delete(e,"2018-04-01")},c.subscriptions=async function(){return n((async()=>{const e=o.endpointID();return(await(0,r.t)(e)).map((e=>new s.SubscriptionViewModel(e)))}))},c.resourceGroups=function(e){return n((async()=>d(e,(async e=>{const t=o.endpointID();return(await(0,i.k)(t,e)).map((t=>new a.ResourceGroupViewModel(t,e)))}))))},c.containerGroups=function(e){return d(e,l.containerGroups)},c.aggregate=function(e){var t=[];return Object.keys(e).forEach((function(n){t=t.concat(e[n])})),t},c}o.$inject=["$q","Azure","$async","EndpointProvider","ContainerGroupService"],angular.module("portainer.azure").factory("AzureService",o)},58825:(e,t,n)=>{"use strict";n.r(t);var a=n(73216);angular.module("portainer.azure").factory("ContainerGroupService",["$q","ContainerGroup",function(e,t){var n={containerGroups:function(n){var s=e.defer();return t.query({subscriptionId:n}).$promise.then((function(e){var t=e.value.map((function(e){return new a.ContainerGroupViewModel(e)}));s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve container groups",err:e})})),s.promise},containerGroup:async function(e,n,s){const i=await t.get({subscriptionId:e,resourceGroupName:n,containerGroupName:s}).$promise;return new a.ContainerGroupViewModel(i)}};return n}])},49153:(e,t,n)=>{"use strict";n.r(t);var a=n(76606);angular.module("portainer.azure").factory("LocationService",["$q","Location",function(e,t){return{locations:function(n){var s=e.defer();return t.query({subscriptionId:n}).$promise.then((function(e){var t=e.value.map((function(e){return new a.LocationViewModel(e)}));s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve locations",err:e})})),s.promise}}}])},62964:(e,t,n)=>{"use strict";n.r(t);var a=n(18779);angular.module("portainer.azure").factory("ResourceGroupService",["$q","ResourceGroup",function(e,t){var n={resourceGroup:async function(e,n){const s=await t.get({subscriptionId:e,resourceGroupName:n}).$promise;return new a.ResourceGroupViewModel(s)}};return n}])},96564:(e,t,n)=>{"use strict";n.r(t);var a=n(79350);angular.module("portainer.azure").factory("SubscriptionService",["$q","Subscription",function(e,t){return{subscription:async function(e){const n=await t.get({id:e}).$promise;return new a.SubscriptionViewModel(n)}}}])},50309:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(e,t,n,a,s,i){Object.assign(this,{$state:e,AzureService:t,ContainerGroupService:n,Notifications:a,ResourceGroupService:s,SubscriptionService:i}),this.state={loading:!1},this.container=null,this.subscription=null,this.resourceGroup=null}async $onInit(){this.state.loading=!0;const{id:e}=this.$state.params,{subscriptionId:t,resourceGroupId:n,containerGroupId:a}=function(e){const[,t,n,,a]=e.match(/^\/subscriptions\/(.+)\/resourceGroups\/(.+)\/providers\/(.+)\/containerGroups\/(.+)$/);return{subscriptionId:t,resourceGroupId:n,containerGroupId:a}}(e);try{this.subscription=await this.SubscriptionService.subscription(t),this.container=await this.ContainerGroupService.containerGroup(t,n,a),this.resourceGroup=await this.ResourceGroupService.resourceGroup(t,n)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve container instance details")}this.state.loading=!1}}a.$inject=["$state","AzureService","ContainerGroupService","Notifications","ResourceGroupService","SubscriptionService"];const s=a},9877:(e,t,n)=>{"use strict";n.r(t);var a=n(50309);const s=n(16622);angular.module("portainer.azure").component("containerInstanceDetails",{templateUrl:s,controller:a.default})},56701:()=>{angular.module("portainer.azure").controller("AzureContainerInstancesController",["$scope","$state","AzureService","Notifications",function(e,t,n,a){e.deleteAction=function(s){var i=s.length;angular.forEach(s,(function(s){n.deleteContainerGroup(s.Id).then((function(){a.success("Container group successfully removed",s.Name);var t=e.containerGroups.indexOf(s);e.containerGroups.splice(t,1)})).catch((function(e){a.error("Failure",e,"Unable to remove container group")})).finally((function(){0==--i&&t.reload()}))}))},n.subscriptions().then((function(e){var t=e;return n.containerGroups(t)})).then((function(t){e.containerGroups=n.aggregate(t)})).catch((function(e){a.error("Failure",e,"Unable to load container groups")}))}])},54236:()=>{angular.module("portainer.azure").controller("AzureDashboardController",["$scope","AzureService","Notifications",function(e,t,n){t.subscriptions().then((function(n){var a=n;return e.subscriptions=a,t.resourceGroups(a)})).then((function(n){e.resourceGroups=t.aggregate(n)})).catch((function(e){n.error("Failure",e,"Unable to load dashboard data")}))}])},98767:(e,t,n)=>{"use strict";n.r(t),n.d(t,{configApp:()=>r});var a=n(96049),s=n(13501),i=n(6811);function r(e,t,n,r,o,l,c){n.setPrefix("portainer"),r.config({tokenGetter:["LocalStorage",function(e){return e.getJWT()}]}),t.interceptors.push("jwtInterceptor"),t.interceptors.push("EndpointStatusInterceptor"),t.defaults.headers.get||(t.defaults.headers.get={}),t.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",t.defaults.headers.get["Cache-Control"]="no-cache",t.defaults.headers.get.Pragma="no-cache",t.defaults.headers.post["Content-Type"]="application/json",t.defaults.headers.put["Content-Type"]="application/json",t.defaults.headers.patch["Content-Type"]="application/json",t.interceptors.push((()=>({request:i.Ee}))),a.o.applyAddon(s),o.setTriggers({mouseenter:"mouseleave",click:"click",focus:"blur",outsideClick:"outsideClick"}),c.includeSpinner=!1,c.parentSelector="#loadingbar-placeholder",c.latencyThreshold=600,e.otherwise("/auth")}r.$inject=["$urlRouterProvider","$httpProvider","localStorageServiceProvider","jwtOptionsProvider","$uibTooltipProvider","$compileProvider","cfpLoadingBarProvider"]},71541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{API_ENDPOINT_AUTH:()=>a,API_ENDPOINT_BACKUP:()=>s,API_ENDPOINT_CUSTOM_TEMPLATES:()=>i,API_ENDPOINT_EDGE_GROUPS:()=>r,API_ENDPOINT_EDGE_JOBS:()=>o,API_ENDPOINT_EDGE_STACKS:()=>l,API_ENDPOINT_EDGE_TEMPLATES:()=>c,API_ENDPOINT_ENDPOINTS:()=>d,API_ENDPOINT_ENDPOINT_GROUPS:()=>u,API_ENDPOINT_KUBERNETES:()=>p,API_ENDPOINT_MOTD:()=>m,API_ENDPOINT_REGISTRIES:()=>g,API_ENDPOINT_RESOURCE_CONTROLS:()=>h,API_ENDPOINT_SETTINGS:()=>f,API_ENDPOINT_STACKS:()=>v,API_ENDPOINT_STATUS:()=>b,API_ENDPOINT_SUPPORT:()=>y,API_ENDPOINT_USERS:()=>w,API_ENDPOINT_TAGS:()=>x,API_ENDPOINT_TEAMS:()=>S,API_ENDPOINT_TEAM_MEMBERSHIPS:()=>k,API_ENDPOINT_TEMPLATES:()=>$,API_ENDPOINT_WEBHOOKS:()=>C,DEFAULT_TEMPLATES_URL:()=>A,PAGINATION_MAX_ITEMS:()=>P,APPLICATION_CACHE_VALIDITY:()=>I,CONSOLE_COMMANDS_LABEL_PREFIX:()=>T,PREDEFINED_NETWORKS:()=>N,PORTAINER_FADEOUT:()=>E,STACK_NAME_VALIDATION_REGEX:()=>R,TEMPLATE_NAME_VALIDATION_REGEX:()=>D,NEW_LINE_BREAKER:()=>U});const a="api/auth",s="api/backup",i="api/custom_templates",r="api/edge_groups",o="api/edge_jobs",l="api/edge_stacks",c="api/edge_templates",d="api/endpoints",u="api/endpoint_groups",p="api/kubernetes",m="api/motd",g="api/registries",h="api/resource_controls",f="api/settings",v="api/stacks",b="api/status",y="api/support",w="api/users",x="api/tags",S="api/teams",k="api/team_memberships",$="api/templates",C="api/webhooks",A="https://raw.githubusercontent.com/portainer/templates/master/templates.json",P=10,I=3600,T="io.portainer.commands.",N=["host","bridge","none"],E=1500,R="^[-_a-z0-9]+$",D="^[-_a-z0-9]+$",U="win"==(navigator.userAgent.indexOf("Windows NT")>-1?"win":"lin")?"\r\n":"\n";angular.module("portainer").constant("API_ENDPOINT_AUTH",a).constant("API_ENDPOINT_BACKUP",s).constant("API_ENDPOINT_CUSTOM_TEMPLATES",i).constant("API_ENDPOINT_EDGE_GROUPS",r).constant("API_ENDPOINT_EDGE_JOBS",o).constant("API_ENDPOINT_EDGE_STACKS",l).constant("API_ENDPOINT_EDGE_TEMPLATES",c).constant("API_ENDPOINT_ENDPOINTS",d).constant("API_ENDPOINT_ENDPOINT_GROUPS",u).constant("API_ENDPOINT_KUBERNETES",p).constant("API_ENDPOINT_MOTD",m).constant("API_ENDPOINT_REGISTRIES",g).constant("API_ENDPOINT_RESOURCE_CONTROLS",h).constant("API_ENDPOINT_SETTINGS",f).constant("API_ENDPOINT_STACKS",v).constant("API_ENDPOINT_STATUS",b).constant("API_ENDPOINT_SUPPORT",y).constant("API_ENDPOINT_USERS",w).constant("API_ENDPOINT_TAGS",x).constant("API_ENDPOINT_TEAMS",S).constant("API_ENDPOINT_TEAM_MEMBERSHIPS",k).constant("API_ENDPOINT_TEMPLATES",$).constant("API_ENDPOINT_WEBHOOKS",C).constant("DEFAULT_TEMPLATES_URL",A).constant("PAGINATION_MAX_ITEMS",P).constant("APPLICATION_CACHE_VALIDITY",I).constant("CONSOLE_COMMANDS_LABEL_PREFIX",T).constant("PREDEFINED_NETWORKS",N)},8522:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=(n(20493),n(50033),n(99075),n(28001),n(19267),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979),n(66960)),r=n(95004),o=n(2629),l=(0,r.createContext)(null);function c(){var e=(0,r.useContext)(l);if(null===e)throw new Error(" EnvironmentProvider ");return e}function d(e){var t=e.children,n=e.environment;return(0,o.jsx)(l.Provider,{value:n,children:t})}var u=n(8755),p=n(96973),m=(n(78495),n(92429),n(94834),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(77072),n(4450)),g=n(87227),h=n(79084),f=(n(15845),n(7974),n(78433),n(88818)),v=["hiddenQuickActions"];function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=e.actions,n=(0,u.h)(),a=n.settings,s=n.setTableSettings;return(0,o.jsx)(o.Fragment,{children:t.map((function(e){var t=e.id,n=e.label;return(0,o.jsx)(f.X,{label:n,id:"quick-actions-".concat(t),checked:!a.hiddenQuickActions.includes(t),onChange:function(e){return n=t,a=e.target.checked,void s((function(e){var t,s=e.hiddenQuickActions,i=void 0===s?[]:s;return w(w({},function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,v)),{},{hiddenQuickActions:a?i.filter((function(e){return e!==n})):[].concat((t=i,function(e){if(Array.isArray(e))return b(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(t)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),[n])})}));var n,a}},t)}))})}function k(e,t){return{id:e,label:t}}var $=n(69098),C=n(43321),A=n(42877),P=n(946),I=n(73903),T=n(56713),N=n(90476),E=n(7346),R=(n(40958),n(15598),n(50527),n(89023)),D=n(46021),U=n(50265),V=n(64062),O=n(77918),F=n(50477),L=n(20249),_=n(75698);function M(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){M(i,a,s,r,o,"next",e)}function o(e){M(i,a,s,r,o,"throw",e)}r(void 0)}))}}function K(e){var t=e.selectedItems,n=e.isAddActionVisible,a=e.endpointId,s=t.length,i=t.some((function(e){return"paused"===e.Status})),r=t.some((function(e){return["stopped","created"].includes(e.Status)})),l=t.some((function(e){return["running","healthy","unhealthy","starting"].includes(e.Status)})),c=(0,U.n5)(["DockerContainerStart","DockerContainerStop","DockerContainerKill","DockerContainerRestart","DockerContainerPause","DockerContainerUnpause","DockerContainerDelete","DockerContainerCreate"]),d=(0,R.useRouter)();return c?(0,o.jsxs)("div",{className:"actionBar",children:[(0,o.jsxs)(_.hE,{children:[(0,o.jsx)(U.FY,{authorizations:"DockerContainerStart",children:(0,o.jsxs)(_.zx,{color:"success",onClick:function(){return function(e){u(e,L.Zk,"","")}(t)},disabled:0===s||!r,children:[(0,o.jsx)("i",{className:"fa fa-play space-right","aria-hidden":"true"}),""]})}),(0,o.jsx)(U.FY,{authorizations:"DockerContainerStop",children:(0,o.jsxs)(_.zx,{color:"danger",onClick:function(){return function(e){u(e,L.hO,"","")}(t)},disabled:0===s||!l,children:[(0,o.jsx)("i",{className:"fa fa-stop space-right","aria-hidden":"true"}),""]})}),(0,o.jsx)(U.FY,{authorizations:"DockerContainerKill",children:(0,o.jsxs)(_.zx,{color:"danger",onClick:function(){return function(e){u(e,L.ri,"","")}(t)},disabled:0===s,children:[(0,o.jsx)("i",{className:"fa fa-bomb space-right","aria-hidden":"true"}),""]})}),(0,o.jsx)(U.FY,{authorizations:"DockerContainerRestart",children:(0,o.jsxs)(_.zx,{onClick:function(){return function(e){u(e,L.wG,"","")}(t)},disabled:0===s,children:[(0,o.jsx)("i",{className:"fa fa-sync space-right","aria-hidden":"true"}),""]})}),(0,o.jsx)(U.FY,{authorizations:"DockerContainerPause",children:(0,o.jsxs)(_.zx,{onClick:function(){return function(e){u(e,L.VZ,"","")}(t)},disabled:0===s||!l,children:[(0,o.jsx)("i",{className:"fa fa-pause space-right","aria-hidden":"true"}),""]})}),(0,o.jsx)(U.FY,{authorizations:"DockerContainerUnpause",children:(0,o.jsxs)(_.zx,{onClick:function(){return function(e){u(e,L.dZ,"","")}(t)},disabled:0===s||!i,children:[(0,o.jsx)("i",{className:"fa fa-play space-right","aria-hidden":"true"}),""]})}),(0,o.jsx)(U.FY,{authorizations:"DockerContainerDelete",children:(0,o.jsxs)(_.zx,{color:"danger",onClick:function(){return function(e){var t=e.some((function(e){return"running"===e.Status})),n=" ".concat(t?"running":""," .");(0,O.A7)(n,(function(t){if(t){var n=!!t[0];!function(e,t){m.apply(this,arguments)}(e,n)}}))}(t)},disabled:0===s,children:[(0,o.jsx)("i",{className:"fa fa-trash-alt space-right","aria-hidden":"true"}),""]})})]}),n&&(0,o.jsx)(U.FY,{authorizations:"DockerContainerCreate",children:(0,o.jsx)(V.r,{to:"docker.containers.new",className:"space-left",children:(0,o.jsxs)(_.zx,{children:[(0,o.jsx)("i",{className:"fa fa-plus space-right","aria-hidden":"true"}),""]})})})]}):null;function u(e,t,n,a){return p.apply(this,arguments)}function p(){return p=j(regeneratorRuntime.mark((function e(t,n,s,i){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=16;break}return o=t[r],e.prev=3,(0,F.vj)(o.NodeName),e.next=7,n(a,o.Id);case 7:D.Vp(s,o.Names[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),D.vU("Failure",e.t0,"".concat(i,":").concat(o.Names[0]));case 13:r+=1,e.next=1;break;case 16:d.stateService.reload();case 17:case"end":return e.stop()}}),e,null,[[3,10]])}))),p.apply(this,arguments)}function m(){return m=j(regeneratorRuntime.mark((function e(t,n){var s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<t.length)){e.next=16;break}return i=t[s],e.prev=3,(0,F.vj)(i.NodeName),e.next=7,(0,L.sc)(a,i,n);case 7:D.Vp("Container successfully removed",i.Names[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),D.vU("Failure",e.t0,"Unable to remove container");case 13:s+=1,e.next=1;break;case 16:d.stateService.reload();case 17:case"end":return e.stop()}}),e,null,[[3,10]])}))),m.apply(this,arguments)}}var B=n(86557);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){var t=e.isRefreshVisible,n=(0,u.h)(),a=n.settings,s=n.setTableSettings;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.X,{id:"settings-container-truncate-nae",label:"",checked:a.truncateContainerName>0,onChange:function(){return s((function(e){return H(H({},e),{},{truncateContainerName:e.truncateContainerName>0?0:32})}))}}),t&&(0,o.jsx)(B.k,{value:a.autoRefreshRate,onChange:function(e){s({autoRefreshRate:e})}})]})}var W=n(41066),Y={Header:"",accessor:"Created",id:"created",Cell:function(e){var t=e.value;return(0,W.isoDateFromTimestamp)(t)},disableFilters:!0,canHide:!0,Filter:function(){return null}},Q={Header:"",accessor:function(e){return e.NodeName||"-"},id:"host",disableFilters:!0,canHide:!0,sortType:"string",Filter:function(){return null}},J=(n(74364),n(23945)),Z={Header:"",accessor:"Image",id:"image",disableFilters:!0,Cell:function(e){var t=e.value,n=c().Status!==J.a2.Up,a=function(e){return e?0===e.indexOf("sha256:")?e.substring(7,19):e.split("@sha256")[0]:""}(t),s=(0,R.useSref)("docker.images.image",{id:t});return n?a:(0,o.jsx)("a",{href:s.href,onClick:s.onClick,children:a})},canHide:!0,sortType:"string",Filter:function(){return null}},X={Header:"IP ",accessor:function(e){return e.IP||"-"},id:"ip",disableFilters:!0,canHide:!0,Filter:function(){return null}},ee=n(80738),te=n.n(ee),ne={Header:"",accessor:function(e){var t=e.Names[0];return t.substring(1,t.length)},id:"name",Cell:function(e){var t=e.value,n=e.row.original,a=(0,u.h)().settings.truncateContainerName,s=1!==c().Status,i=(0,R.useSref)("docker.containers.container",{id:n.Id,nodeName:n.NodeName}),r=t;return a>0&&(r=te()(t,{length:a})),s?(0,o.jsx)("span",{children:r}):(0,o.jsx)("a",{href:i.href,onClick:i.onClick,title:t,children:r})},disableFilters:!0,Filter:function(){return null},canHide:!0,sortType:"string"},ae=n(39532),se=n(86700),ie={Header:"",id:"ownership",accessor:function(e){var t;return(null===(t=e.ResourceControl)||void 0===t?void 0:t.Ownership)||se.X.ADMINISTRATORS},Cell:function(e){var t=e.value;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("i",{className:(0,ae.Z)((0,W.ownershipIcon)(t),"space-right"),"aria-hidden":"true"}),t||se.X.ADMINISTRATORS]})},disableFilters:!0,canHide:!0,sortType:"string",Filter:function(){return null}},re=n(93715),oe=n.n(re),le={Header:"",accessor:"Ports",id:"ports",Cell:function(e){var t=e.value,n=c().PublicURL;return 0===t.length?"-":oe()(t,"public").map((function(e){return(0,o.jsxs)("a",{className:"image-tag",href:"http://".concat(n||e.host,":").concat(e.public),target:"_blank",rel:"noreferrer",children:[(0,o.jsx)("i",{className:"fa fa-external-link-alt","aria-hidden":"true"}),e.public,":",e.private]},"".concat(e.host,":").concat(e.public))}))},disableSortBy:!0,disableFilters:!0,canHide:!0,Filter:function(){return null}};const ce="app-docker-components-container-quick-actions-ContainerQuickActions-module__root";function de(e){var t=e.taskId,n=e.containerId,a=e.nodeName,s=e.state,i=e.status;if(t)return(0,o.jsx)(ue,{taskId:t,state:s});var r=["starting","running","healthy","unhealthy"].includes(i);return(0,o.jsxs)("div",{className:(0,ae.Z)("space-x-1",ce),children:[s.showQuickActionLogs&&(0,o.jsx)(U.FY,{authorizations:"DockerContainerLogs",children:(0,o.jsx)(V.r,{to:"docker.containers.container.logs",params:{id:n,nodeName:a},title:"",children:(0,o.jsx)("i",{className:"fa fa-file-alt space-right","aria-hidden":"true"})})}),s.showQuickActionInspect&&(0,o.jsx)(U.FY,{authorizations:"DockerContainerInspect",children:(0,o.jsx)(V.r,{to:"docker.containers.container.inspect",params:{id:n,nodeName:a},title:"",children:(0,o.jsx)("i",{className:"fa fa-info-circle space-right","aria-hidden":"true"})})}),s.showQuickActionStats&&r&&(0,o.jsx)(U.FY,{authorizations:"DockerContainerStats",children:(0,o.jsx)(V.r,{to:"docker.containers.container.stats",params:{id:n,nodeName:a},title:"",children:(0,o.jsx)("i",{className:"fa fa-chart-area space-right","aria-hidden":"true"})})}),s.showQuickActionExec&&r&&(0,o.jsx)(U.FY,{authorizations:"DockerExecStart",children:(0,o.jsx)(V.r,{to:"docker.containers.container.exec",params:{id:n,nodeName:a},title:"",children:(0,o.jsx)("i",{className:"fa fa-terminal space-right","aria-hidden":"true"})})}),s.showQuickActionAttach&&r&&(0,o.jsx)(U.FY,{authorizations:"DockerContainerAttach",children:(0,o.jsx)(V.r,{to:"docker.containers.container.attach",params:{id:n,nodeName:a},title:"",children:(0,o.jsx)("i",{className:"fa fa-plug space-right","aria-hidden":"true"})})})]})}function ue(e){var t=e.taskId,n=e.state;return(0,o.jsxs)("div",{className:(0,ae.Z)("space-x-1",ce),children:[n.showQuickActionLogs&&(0,o.jsx)(U.FY,{authorizations:"DockerTaskLogs",children:(0,o.jsx)(V.r,{to:"docker.tasks.task.logs",params:{id:t},title:"Logs",children:(0,o.jsx)("i",{className:"fa fa-file-alt space-right","aria-hidden":"true"})})}),n.showQuickActionInspect&&(0,o.jsx)(U.FY,{authorizations:"DockerTaskInspect",children:(0,o.jsx)(V.r,{to:"docker.tasks.task",params:{id:t},title:"",children:(0,o.jsx)("i",{className:"fa fa-info-circle space-right","aria-hidden":"true"})})})]})}var pe=(0,i.F)(de,["taskId","containerId","nodeName","state","status"]),me={Header:"",id:"actions",Cell:function(e){var t=e.row.original,n=c().Status!==J.a2.Up,a=(0,u.h)().settings.hiddenQuickActions,s=void 0===a?[]:a,i={showQuickActionAttach:!s.includes("attach"),showQuickActionExec:!s.includes("exec"),showQuickActionInspect:!s.includes("inspect"),showQuickActionLogs:!s.includes("logs"),showQuickActionStats:!s.includes("stats")},r=i.showQuickActionAttach||i.showQuickActionExec||i.showQuickActionInspect||i.showQuickActionLogs||i.showQuickActionStats,l=(0,U.n5)(["DockerContainerStats","DockerContainerLogs","DockerExecStart","DockerContainerInspect","DockerTaskInspect","DockerTaskLogs"]);return!n&&r&&l?(0,o.jsx)(de,{containerId:t.Id,nodeName:t.NodeName,status:t.Status,state:i}):null},disableFilters:!0,disableSortBy:!0,canHide:!0,sortType:"string",Filter:function(){return null}},ge={Header:"",accessor:function(e){return e.StackName||"-"},id:"stack",sortType:"string",disableFilters:!0,canHide:!0,Filter:function(){return null}},he=n(94946),fe=n.n(he),ve={Header:"",accessor:"Status",id:"state",Cell:function(e){var t=e.value,n=fe()(t),a=["starting","healthy","unhealthy"].includes(n),s=function(){return e(["paused","starting","unhealthy"])?"warning":e(["created"])?"info":e(["stopped","dead","exited"])?"danger":"success";function e(e){return e.some((function(e){return n.includes(e)}))}}();return(0,o.jsx)("span",{className:(0,ae.Z)("label","label-".concat(s),{interactive:a}),title:a?"This container has a health check":"",children:t})},sortType:"string",filter:"multiple",Filter:n(55552).t,canHide:!0};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Se(e){var t,n,a=e.isAddActionVisible,s=e.dataset,i=e.onRefresh,l=e.isHostColumnVisible,d=(0,u.h)(),v=d.settings,b=d.setTableSettings,y=(t=(0,p.JS)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),w=y[0],x=y[1],R=(0,r.useMemo)((function(){return[ne,ve,me,ge,Z,Y,X,Q,le,ie]}),[]),D=c();(0,P.j)(v.autoRefreshRate,i);var U=(0,m.useTable)({defaultCanFilter:!1,columns:R,data:s,filterTypes:{multiple:C.m},initialState:{pageSize:v.pageSize||10,hiddenColumns:v.hiddenColumns,sortBy:[v.sortBy],globalFilter:w},isRowSelectable:function(e){return!e.original.IsPortainer},selectCheckboxComponent:f.X},m.useFilters,m.useGlobalFilter,m.useSortBy,m.usePagination,T.i,g.M_),V=U.getTableProps,O=U.getTableBodyProps,F=U.headerGroups,L=U.page,_=U.prepareRow,M=U.selectedFlatRows,j=U.allColumns,B=U.gotoPage,z=U.setPageSize,H=U.setHiddenColumns,G=U.toggleHideColumn,W=U.setGlobalFilter,J=U.state,ee=J.pageIndex,te=J.pageSize,ae=(0,I.N)(w);(0,r.useEffect)((function(){W(ae)}),[ae,W]),(0,r.useEffect)((function(){G("host",!l)}),[G,l]);var se=j.filter((function(e){var t=R.find((function(t){return t.id===e.id}));return null==t?void 0:t.canHide})),re=[k("logs",""),k("inspect",""),k("stats",""),k("exec",""),k("attach","")],oe=V(),ce=O();return(0,o.jsxs)($.xJ,{children:[(0,o.jsx)($.lw,{icon:"fa-cubes",label:"",children:(0,o.jsxs)($.MQ,{children:[(0,o.jsx)(A.a,{columns:se,onChange:function(e){H(e),b((function(t){return ye(ye({},t),{},{hiddenColumns:e})}))},value:v.hiddenColumns}),(0,o.jsx)($.I6,{quickActions:(0,o.jsx)(S,{actions:re}),children:(0,o.jsx)(q,{isRefreshVisible:!!i})})]})}),(0,o.jsx)($.p2,{children:(0,o.jsx)(K,{selectedItems:M.map((function(e){return e.original})),isAddActionVisible:a,endpointId:D.Id})}),(0,o.jsx)(p.E1,{value:w,onChange:function(e){x(e)}}),(0,o.jsxs)($.iA,{className:oe.className,role:oe.role,style:oe.style,children:[(0,o.jsx)("thead",{children:F.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,a=t.className,s=t.role,i=t.style;return(0,o.jsx)($.KA,{className:a,role:s,style:i,headers:e.headers,onSortChange:de},n)}))}),(0,o.jsx)("tbody",{className:ce.className,role:ce.role,style:ce.style,children:L.length>0?L.map((function(e){_(e);var t=e.getRowProps(),n=t.key,a=t.className,s=t.role,i=t.style;return(0,o.jsx)($.SC,{cells:e.cells,className:a,role:s,style:i},n)})):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:R.length,className:"text-center text-muted",children:""})})})]}),(0,o.jsxs)(N.y,{children:[(0,o.jsx)(E.V,{value:M.length}),(0,o.jsx)(h.j,{showAll:!0,pageLimit:te,page:ee+1,onPageChange:function(e){return B(e-1)},totalCount:s.length,onPageLimitChange:function(e){z(e),b((function(t){return ye(ye({},t),{},{pageSize:e})}))}})]})]});function de(e,t){b((function(n){return ye(ye({},n),{},{sortBy:{id:e,desc:t}})}))}}var ke=["endpoint","tableKey"];function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=(0,i.F)((function(e){var t=e.endpoint,n=e.tableKey,a=void 0===n?"containers":n,s=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,ke);return(0,o.jsx)(d,{environment:t,children:(0,o.jsx)(u.U,{defaults:{autoRefreshRate:0,truncateContainerName:32,hiddenQuickActions:[],hiddenColumns:[],pageSize:10,sortBy:{id:"state",desc:!1}},storageKey:a,children:(0,o.jsx)(p.tO,{storageKey:a,children:(0,o.jsx)(Se,Ce({},s))})})})}),["endpoint","isAddActionVisible","dataset","onRefresh","isHostColumnVisible","tableKey"]);const Ie=s().module("portainer.docker.containers",[]).component("containersDatatable",Pe).name;var Te=s().module("portainer.docker.components",[]).component("containerQuickActions",pe).name;const Ne=n(66188),Ee=n(67539),Re=n(20641),De=n(9003),Ue=n(5744),Ve=n(8423),Oe=n(98757),Fe=n(92091),Le=n(96215),_e=n(7942),Me=n(67431),je=n(30357),Ke=n(9208),Be=n(30503),ze=n(35003),He=n(14147),Ge=n(26447),qe=n(5147),We=n(43072),Ye=n(8285),Qe=n(8809),Je=n(12685),Ze=n(13702),Xe=n(3903),et=n(66973),tt=n(53566),nt=n(42382),at=n(25872),st=n(68156),it=n(24021),rt=n(12367),ot=n(40640),lt=n(32240),ct=n(62770),dt=n(61242),ut=n(95290),pt=n(10577),mt=n(90347),gt=n(9713);s().module("portainer.docker",["portainer.app",Ie,Te]).config(["$stateRegistryProvider",function(e){var t={name:"docker",parent:"endpoint",url:"/docker",abstract:!0,onEnter:["endpoint","$async","$state","EndpointService","EndpointProvider","Notifications","StateManager","SystemService",function(e,t,n,a,s,i,r,o){return t((async()=>{if([1,2,4].includes(e.Type))try{const t=await async function(e){try{return await o.ping(e.Id),1}catch(e){return 2}}(e);if(4!==e.Type&&await async function(e,t){e.Status!==t&&await a.updateEndpoint(e.Id,{Status:t})}(e,t),e.Status=t,2===t){if(!e.Snapshots[0])throw new Error("");if(e.Snapshots[0].Swarm)throw new Error(" ")}s.setEndpointID(e.Id),s.setEndpointPublicURL(e.PublicURL),s.setOfflineModeFromStatus(e.Status),await r.updateEndpointState(e)}catch(e){i.error("Failed loading environment",e),n.go("portainer.home",{},{reload:!0})}else n.go("portainer.home")}))}]},n={name:"docker.configs",url:"/configs",views:{"content@":{templateUrl:Ne,controller:"ConfigsController",controllerAs:"ctrl"}}},a={name:"docker.configs.config",url:"/:id",views:{"content@":{templateUrl:Ee,controller:"ConfigController"}}},s={name:"docker.configs.new",url:"/new?id",views:{"content@":{templateUrl:Re,controller:"CreateConfigController",controllerAs:"ctrl"}}},i={name:"docker.containers",url:"/containers",views:{"content@":{templateUrl:De,controller:"ContainersController"}}},r={name:"docker.containers.container",url:"/:id?nodeName",views:{"content@":{templateUrl:Ue,controller:"ContainerController"}}},o={name:"docker.containers.container.attach",url:"/attach",views:{"content@":{templateUrl:Ve,controller:"ContainerConsoleController"}}},l={name:"docker.containers.container.exec",url:"/exec",views:{"content@":{templateUrl:Oe,controller:"ContainerConsoleController"}}},c={name:"docker.containers.new",url:"/new?nodeName&from",views:{"content@":{templateUrl:Fe,controller:"CreateContainerController"}}},d={name:"docker.containers.container.inspect",url:"/inspect",views:{"content@":{templateUrl:Le,controller:"ContainerInspectController"}}},u={name:"docker.containers.container.logs",url:"/logs",views:{"content@":{templateUrl:_e,controller:"ContainerLogsController"}}},p={name:"docker.containers.container.stats",url:"/stats",views:{"content@":{templateUrl:Me,controller:"ContainerStatsController"}}},m={name:"docker.dashboard",url:"/dashboard",views:{"content@":{templateUrl:je,controller:"DashboardController"}}},g={name:"docker.events",url:"/events",views:{"content@":{templateUrl:Ke,controller:"EventsController"}}},h={name:"docker.images",url:"/images",views:{"content@":{templateUrl:Be,controller:"ImagesController"}}},f={name:"docker.images.image",url:"/:id?nodeName",views:{"content@":{templateUrl:ze,controller:"ImageController"}}},v={name:"docker.images.build",url:"/build",views:{"content@":{templateUrl:He,controller:"BuildImageController"}}},b={name:"docker.images.import",url:"/import",views:{"content@":{templateUrl:Ge,controller:"ImportImageController"}}},y={name:"docker.networks",url:"/networks",views:{"content@":{templateUrl:qe,controller:"NetworksController"}}},w={name:"docker.networks.network",url:"/:id?nodeName",views:{"content@":{templateUrl:We,controller:"NetworkController"}}},x={name:"docker.networks.new",url:"/new",views:{"content@":{templateUrl:Ye,controller:"CreateNetworkController"}}},S={name:"docker.secrets",url:"/secrets",views:{"content@":{templateUrl:Qe,controller:"SecretsController"}}},k={name:"docker.secrets.secret",url:"/:id",views:{"content@":{templateUrl:Je,controller:"SecretController"}}},$={name:"docker.secrets.new",url:"/new",views:{"content@":{templateUrl:Ze,controller:"CreateSecretController"}}},C={name:"docker.services",url:"/services",views:{"content@":{templateUrl:Xe,controller:"ServicesController"}}},A={name:"docker.services.service",url:"/:id",views:{"content@":{templateUrl:et,controller:"ServiceController"}}},P={name:"docker.services.new",url:"/new",views:{"content@":{templateUrl:tt,controller:"CreateServiceController"}}},I={name:"docker.services.service.logs",url:"/logs",views:{"content@":{templateUrl:nt,controller:"ServiceLogsController"}}},T={name:"docker.stacks",url:"/stacks",views:{"content@":{templateUrl:at,controller:"StacksController"}}},N={name:"docker.stacks.stack",url:"/:name?id&type&regular&external&orphaned&orphanedRunning",views:{"content@":{templateUrl:st,controller:"StackController"}}},E={name:"docker.stacks.newstack",url:"/newstack",views:{"content@":{templateUrl:it,controller:"CreateStackController"}}},R={name:"docker.swarm",url:"/swarm",views:{"content@":{templateUrl:rt,controller:"SwarmController"}}},D={name:"docker.swarm.visualizer",url:"/visualizer",views:{"content@":{templateUrl:ot,controller:"SwarmVisualizerController"}}},U={name:"docker.tasks.task",url:"/:id",views:{"content@":{templateUrl:lt,controller:"TaskController"}}},V={name:"docker.tasks.task.logs",url:"/logs",views:{"content@":{templateUrl:ct,controller:"TaskLogsController"}}},O={name:"docker.templates",url:"/templates",views:{"content@":{templateUrl:dt,controller:"TemplatesController"}}},F={name:"docker.volumes",url:"/volumes",views:{"content@":{templateUrl:ut,controller:"VolumesController"}}},L={name:"docker.volumes.volume",url:"/:id?nodeName",views:{"content@":{templateUrl:pt,controller:"VolumeController"}}},_={name:"docker.volumes.volume.browse",url:"/browse",views:{"content@":{templateUrl:mt,controller:"BrowseVolumeController"}}},M={name:"docker.volumes.new",url:"/new",views:{"content@":{templateUrl:gt,controller:"CreateVolumeController"}}};e.register(n),e.register(a),e.register(s),e.register(i),e.register(r),e.register(l),e.register(o),e.register(c),e.register(d),e.register(u),e.register(p),e.register({name:"docker.templates.custom",url:"/custom",views:{"content@":{component:"customTemplatesView"}}}),e.register({name:"docker.templates.custom.new",url:"/new?fileContent&type",views:{"content@":{component:"createCustomTemplateView"}},params:{fileContent:"",type:""}}),e.register({name:"docker.templates.custom.edit",url:"/:id",views:{"content@":{component:"editCustomTemplateView"}}}),e.register(t),e.register(m),e.register({name:"docker.host",url:"/host",views:{"content@":{component:"hostView"}}}),e.register({name:"docker.host.browser",url:"/browser",views:{"content@":{component:"hostBrowserView"}}}),e.register(g),e.register(h),e.register(f),e.register(v),e.register(b),e.register(y),e.register(w),e.register(x),e.register({name:"docker.nodes",url:"/nodes",abstract:!0}),e.register({name:"docker.nodes.node",url:"/:id",views:{"content@":{component:"nodeDetailsView"}}}),e.register({name:"docker.nodes.node.browse",url:"/browse",views:{"content@":{component:"nodeBrowserView"}}}),e.register(S),e.register(k),e.register($),e.register(C),e.register(A),e.register(P),e.register(I),e.register(T),e.register(N),e.register(E),e.register(R),e.register(D),e.register({name:"docker.tasks",url:"/tasks",abstract:!0}),e.register(U),e.register(V),e.register(O),e.register(F),e.register(L),e.register(_),e.register(M),e.register({name:"docker.featuresConfiguration",url:"/feat-config",views:{"content@":{component:"dockerFeaturesConfigurationView"}}}),e.register({name:"docker.registries",url:"/registries",views:{"content@":{component:"endpointRegistriesView"}}}),e.register({name:"docker.registries.access",url:"/:id/access",views:{"content@":{component:"dockerRegistryAccessView"}}})}])},83088:(e,t,n)=>{const a=n(81521);angular.module("portainer.docker").component("containerCapabilities",{templateUrl:a,bindings:{capabilities:"="}})},17592:()=>{angular.module("portainer.docker").controller("ContainerRestartPolicyController",[function(){var e=this;this.state={editModel:{}},e.save=function(){e.state.editModel.name===e.name&&e.state.editModel.maximumRetryCount===e.maximumRetryCount||e.updateRestartPolicy(e.state.editModel)},this.$onInit=function(){e.state.editModel={name:e.name?e.name:"no",maximumRetryCount:e.maximumRetryCount}}}])},8270:(e,t,n)=>{const a=n(80239);angular.module("portainer.docker").component("containerRestartPolicy",{templateUrl:a,controller:"ContainerRestartPolicyController",bindings:{name:"<",maximumRetryCount:"<",updateRestartPolicy:"&"}})},15772:(e,t,n)=>{const a=n(171);angular.module("portainer.docker").component("dashboardClusterAgentInfo",{templateUrl:a,controller:"DashboardClusterAgentInfoController"})},26419:()=>{angular.module("portainer.docker").controller("DashboardClusterAgentInfoController",["AgentService","Notifications",function(e,t){var n=this;this.$onInit=function(){e.agents().then((function(e){n.agentCount=e.length})).catch((function(e){t.error("Failure",e,"Unable to retrieve agent information")}))}}])},62135:(e,t,n)=>{const a=n(80602);angular.module("portainer.docker").component("configsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},65532:(e,t,n)=>{const a=n(49229);angular.module("portainer.docker").component("containerNetworksDatatable",{templateUrl:a,controller:"ContainerNetworksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",container:"<",availableNetworks:"<",joinNetworkAction:"<",joinNetworkActionInProgress:"<",leaveNetworkActionInProgress:"<",leaveNetworkAction:"<",nodeName:"<"}})},50015:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(83432),r=n.n(i);angular.module("portainer.docker").controller("ContainerNetworksDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!0}),this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1),e.Expanded||(this.state.expandAll=!1))},this.itemCanExpand=function(e){return""!==e.GlobalIPv6Address},this.hasExpandableItems=function(){return r()(this.dataset,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,s()(this.dataset,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),s()(this.dataset,(e=>{e.Expanded=!0,e.Highlighted=!0}))}}])},67723:(e,t,n)=>{const a=n(85566);angular.module("portainer.docker").component("containerProcessesDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"=",headerset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}})},3716:(e,t,n)=>{const a=n(2576);angular.module("portainer.docker").component("eventsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}})},61389:(e,t,n)=>{const a=n(33261);angular.module("portainer.docker").component("imagesDatatable",{templateUrl:a,controller:"ImagesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showHostColumn:"<",removeAction:"<",downloadAction:"<",forceRemoveAction:"<",exportInProgress:"<",offlineMode:"<",refreshCallback:"<"}})},40650:()=>{angular.module("portainer.docker").controller("ImagesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e}));var a=this;this.filters={state:{open:!1,enabled:!1,showUsedImages:!0,showUnusedImages:!0}},this.applyFilters=function(e){var t=e,n=a.filters;return!!(0===t.ContainerCount&&n.state.showUnusedImages||0!==t.ContainerCount&&n.state.showUsedImages)},this.onstateFilterChange=function(){var e=this.filters.state,t=!1;e.showUsedImages&&e.showUnusedImages||(t=!0),this.filters.state.enabled=t,n.setDataTableFilters(this.tableKey,this.filters)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},78570:(e,t,n)=>{const a=n(19618);angular.module("portainer.docker").component("macvlanNodesDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showIpAddressColumn:"<",accessToNodeDetails:"<",state:"="}})},24342:(e,t,n)=>{"use strict";n.r(t);var a=n(86700);const s=n(47967);angular.module("portainer.docker").directive("networkRowContent",[function(){return{templateUrl:s,restrict:"A",transclude:!0,scope:{item:"<",parentCtrl:"<",allowCheckbox:"<",allowExpand:"<"},controller:["$scope",e=>{e.RCO=a.X}]}}])},21035:(e,t,n)=>{const a=n(94369);angular.module("portainer.docker").component("networksDatatable",{templateUrl:a,controller:"NetworksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showHostColumn:"<",removeAction:"<",offlineMode:"<",refreshCallback:"<"}})},22821:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(83432),r=n.n(i);angular.module("portainer.docker").controller("NetworksDatatableController",["$scope","$controller","NetworkHelper","DatatableService",function(e,t,n,a){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.disableRemove=function(e){return n.isSystemNetwork(e)},this.state=Object.assign(this.state,{expandedItems:[]}),this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=a.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=a.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=a.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=a.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()},this.expandItem=function(e,t){e.Expanded=t},this.itemCanExpand=function(e){return e.Subs.length>0},this.hasExpandableItems=function(){return r()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,s()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))}}])},90712:(e,t,n)=>{const a=n(64255);angular.module("portainer.docker").component("nodeTasksDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}})},66951:(e,t,n)=>{const a=n(53379);angular.module("portainer.docker").component("nodesDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showIpAddressColumn:"<",accessToNodeDetails:"<",refreshCallback:"<"}})},1087:(e,t,n)=>{const a=n(7091);angular.module("portainer.docker").component("secretsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},30700:(e,t,n)=>{const a=n(71483);angular.module("portainer.docker").component("serviceTasksDatatable",{templateUrl:a,controller:"ServiceTasksDatatableController",bindings:{dataset:"<",serviceId:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",nodes:"<",agentProxy:"<",textFilter:"=",showTaskLogsButton:"<"}})},83076:(e,t,n)=>{"use strict";n.r(t);var a=n(93715),s=n.n(a);angular.module("portainer.docker").controller("ServiceTasksDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e}));var a=this;this.state=Object.assign(this.state,{showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionConsole:!0,showQuickActionInspect:!0,showQuickActionExec:!0,showQuickActionAttach:!1}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.applyFilters=function(e){for(var t=a.filters,n=0;n<t.state.values.length;n++){var s=t.state.values[n];if(e.Status.State===s.label&&s.display)return!0}return!1},this.onStateFilterChange=function(){for(var e=this.filters.state.values,t=!1,n=0;n<e.length;n++)e[n].display||(t=!0);this.filters.state.enabled=t},this.prepareTableFromDataset=function(){for(var e=[],t=0;t<this.dataset.length;t++){var n=this.dataset[t];e.push({label:n.Status.State,display:!0})}this.filters.state.values=s()(e,"label")},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},88840:(e,t,n)=>{const a=n(62318);angular.module("portainer.docker").component("servicesDatatableActions",{templateUrl:a,controller:"ServicesDatatableActionsController",bindings:{selectedItems:"=",selectedItemCount:"=",showUpdateAction:"<",showAddAction:"<",endpointId:"<"}})},3474:()=>{angular.module("portainer.docker").controller("ServicesDatatableActionsController",["$q","$state","ServiceService","ServiceHelper","Notifications","ModalService","WebhookService","EndpointService",function(e,t,n,a,s,i,r,o){const l=this;this.scaleAction=function(e){var i=a.serviceToConfig(e.Model);i.Mode.Replicated.Replicas=e.Replicas,n.update(e,i).then((function(){s.success("Service successfully scaled","New replica count: "+e.Replicas),t.reload()})).catch((function(t){s.error("Failure",t,"Unable to scale service"),e.Scale=!1,e.Replicas=e.ReplicaCount}))},this.removeAction=function(a){i.confirmDeletion(" ",(function(i){var o,c;i&&(c=(o=a).length,angular.forEach(o,(function(a){n.remove(a).then((function(){return r.webhooks(a.Id,l.endpointId)})).then((function(t){return e.when(0!==t.length&&r.deleteWebhook(t[0].Id))})).then((function(){s.success("Service successfully removed",a.Name)})).catch((function(e){s.error("Failure",e,"Unable to remove service")})).finally((function(){0==--c&&t.reload()}))})))}))},this.updateAction=function(e){i.confirmServiceForceUpdate(" ",(function(n){if(n){var a=!1;n[0]&&(a=!0),function(e,n){var a=e.length;angular.forEach(e,(function(e){o.forceUpdateService(l.endpointId,e.Id,n).then((function(){s.success("Service successfully updated",e.Name)})).catch((function(t){s.error("Failure",t,"Unable to force update service"+e.Name)})).finally((function(){0==--a&&t.reload()}))}))}(e,a)}}))}}])},22601:(e,t,n)=>{const a=n(19610);angular.module("portainer.docker").component("servicesDatatable",{templateUrl:a,controller:"ServicesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",nodes:"<",agentProxy:"<",showUpdateAction:"<",showAddAction:"<",showStackColumn:"<",showTaskLogsButton:"<",refreshCallback:"<",notAutoFocus:"<",endpointPublicUrl:"<",endpointId:"<"}})},46311:(e,t,n)=>{"use strict";n.r(t);var a=n(51235),s=n.n(a);angular.module("portainer.docker").controller("ServicesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e}));var a=this;function i(e,t){s()(t,(function(t){return e.Id===t}))&&a.expandItem(e,!0)}this.state=Object.assign(this.state,{expandAll:!1,expandedItems:[]}),this.columnVisibility={columns:{image:{label:"",display:!0},ownership:{label:"",display:!0},ports:{label:"",display:!0},updated:{label:"",display:!0}}},this.onColumnVisibilityChange=function(e){this.columnVisibility.columns=e,n.setColumnVisibilitySettings(this.tableKey,this.columnVisibility)}.bind(this),this.expandAll=function(){this.state.expandAll=!this.state.expandAll;for(var e=0;e<this.state.filteredDataSet.length;e++){var t=this.state.filteredDataSet[e];this.expandItem(t,this.state.expandAll)}},this.expandItem=function(e,t){if(e.Expanded=t,e.Expanded)-1===this.state.expandedItems.indexOf(e.Id)&&this.state.expandedItems.push(e.Id);else{var a=this.state.expandedItems.indexOf(e.Id);a>-1&&this.state.expandedItems.splice(a,1)}n.setDataTableExpandedItems(this.tableKey,this.state.expandedItems)},this.expandItems=function(e){var t=0;this.state.expandedItems=e;for(var n=0;n<this.dataset.length;n++){var a=this.dataset[n];i(a,e),a.Expanded&&++t}t===this.dataset.length&&(this.state.expandAll=!0)},this.onDataRefresh=function(){var e=n.getDataTableExpandedItems(this.tableKey);null!==e&&this.expandItems(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableExpandedItems(this.tableKey);null!==s&&this.expandItems(s);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange();var r=n.getColumnVisibilitySettings(this.tableKey);null!==r&&(this.columnVisibility=r)}}])},77886:(e,t,n)=>{const a=n(40381);angular.module("portainer.docker").component("tasksDatatable",{templateUrl:a,controller:"TasksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",nodes:"<",showSlotColumn:"<",showLogsButton:"<",agentProxy:"<"}})},33740:()=>{angular.module("portainer.docker").controller("TasksDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionExec:!0,showQuickActionInspect:!0,showQuickActionAttach:!1}),this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},75198:(e,t,n)=>{const a=n(43761);angular.module("portainer.docker").component("volumesDatatable",{templateUrl:a,controller:"VolumesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showHostColumn:"<",removeAction:"<",showBrowseAction:"<",offlineMode:"<",refreshCallback:"<"}})},72091:()=>{angular.module("portainer.docker").controller("VolumesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e}));var a=this;this.filters={state:{open:!1,enabled:!1,showUsedVolumes:!0,showUnusedVolumes:!0}},this.applyFilters=function(e){var t=e,n=a.filters;return!!(t.dangling&&n.state.showUnusedVolumes||!t.dangling&&n.state.showUsedVolumes)},this.onstateFilterChange=function(){var e=this.filters.state,t=!1;e.showUsedVolumes&&e.showUnusedVolumes||(t=!0),this.filters.state.enabled=t,n.setDataTableFilters(this.tableKey,this.filters)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},56784:(e,t,n)=>{const a=n(23744);angular.module("portainer.docker").component("dockerSidebar",{templateUrl:a,bindings:{isSidebarOpen:"<",endpointApiVersion:"<",swarmManagement:"<",standaloneManagement:"<",adminAccess:"<",offlineMode:"<",currentRouteName:"<",endpointId:"<",showStacks:"<"}})},37610:(e,t,n)=>{const a=n(9831);angular.module("portainer.docker").component("hostOverview",{templateUrl:a,bindings:{hostDetails:"<",engineDetails:"<",devices:"<",disks:"<",isAgent:"<",offlineMode:"<",agentApiVersion:"<",refreshUrl:"@",browseUrl:"@",hostFeaturesEnabled:"<"},transclude:!0})},85943:(e,t,n)=>{const a=n(56797);angular.module("portainer.docker").component("devicesPanel",{templateUrl:a,bindings:{devices:"<"}})},40210:(e,t,n)=>{const a=n(37287);angular.module("portainer.docker").component("disksPanel",{templateUrl:a,bindings:{disks:"<"}})},25203:(e,t,n)=>{const a=n(63509);angular.module("portainer.docker").component("engineDetailsPanel",{templateUrl:a,bindings:{engine:"<"}})},68181:(e,t,n)=>{const a=n(97106);angular.module("portainer.docker").component("hostDetailsPanel",{templateUrl:a,bindings:{host:"<",isBrowseEnabled:"<",browseUrl:"@"}})},44162:()=>{angular.module("portainer.docker").controller("NodeAvailabilitySelectController",[function(){this.onChange=function(){this.onSave({availability:this.availability})}}])},28031:(e,t,n)=>{const a=n(7762);angular.module("portainer.docker").component("nodeAvailabilitySelect",{templateUrl:a,controller:"NodeAvailabilitySelectController",bindings:{availability:"<",originalValue:"<",onSave:"&"}})},55024:()=>{angular.module("portainer.docker").controller("NodeLabelsTableController",[function(){var e=this;e.removeLabel=function(t){null!==e.labels.splice(t,1)&&e.onChangedLabels({labels:e.labels})},e.updateLabel=function(t){t.value===t.originalValue&&t.key===t.originalKey||e.onChangedLabels({labels:e.labels})}}])},96399:(e,t,n)=>{const a=n(642);angular.module("portainer.docker").component("nodeLabelsTable",{templateUrl:a,controller:"NodeLabelsTableController",bindings:{labels:"<",onChangedLabels:"&"}})},70395:()=>{angular.module("portainer.docker").controller("SwarmNodeDetailsPanelController",["NodeService","LabelHelper","Notifications","$state",function(e,t,n,a){var s=this;s.state={managerAddress:"",hasChanges:!1},s.$onChanges=function(){s.details&&"manager"===s.details.role&&(s.state.managerAddress="("+s.details.managerAddress+")")},s.addLabel=function(){s.details.nodeLabels.push({key:"",value:"",originalValue:"",originalKey:""})},s.updateNodeLabels=function(e){s.details.nodeLabels=e,s.state.hasChanges=!0},s.updateNodeAvailability=function(e){s.details.availability=e,s.state.hasChanges=!0},s.saveChanges=function(){var i=s.originalNode,r={Name:i.Name,Availability:s.details.availability,Role:i.Role,Labels:t.fromKeyValueToLabelHash(s.details.nodeLabels),Id:i.Id,Version:i.Version};e.updateNode(r).then((function(){n.success("Node successfully updated","Node updated"),a.go("docker.nodes.node",{id:i.Id},{reload:!0})})).catch((function(e){n.error("Failure",e,"Failed to update node")}))},s.cancelChanges=function(){s.details.nodeLabels=s.details.nodeLabels.filter((function(e){return e.originalValue||e.originalKey})).map((function(e){return Object.assign(e,{value:e.originalValue,key:e.originalKey})})),s.details.availability=s.originalNode.Availability,s.state.hasChanges=!1}}])},98186:(e,t,n)=>{const a=n(92156);angular.module("portainer.docker").component("swarmNodeDetailsPanel",{templateUrl:a,controller:"SwarmNodeDetailsPanelController",bindings:{details:"<",originalNode:"<"}})},72749:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(70589);class s{constructor(e,t){this.DockerHubService=e,this.Notifications=t,this.pullRateLimits=null}$onChanges({registryId:e}){e&&this.fetchRateLimits()}async fetchRateLimits(){if(this.pullRateLimits=null,a.default.isAgentEndpoint(this.endpoint)||a.default.isLocalEndpoint(this.endpoint))try{this.pullRateLimits=await this.DockerHubService.checkRateLimits(this.endpoint,this.registryId||0),this.setValidity(!this.pullRateLimits.limit||this.pullRateLimits.limit&&this.pullRateLimits.remaining>=0)}catch(e){console.error("Failed loading DockerHub pull rate limits",e),this.setValidity(!0)}else this.setValidity(!0)}}s.$inject=["DockerHubService","Notifications"]},64906:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(72749);const r=n(52388);s().module("portainer.docker").component("porImageRegistryRateLimits",{bindings:{endpoint:"<",setValidity:"<",isAdmin:"<",isDockerHubRegistry:"<",isAuthenticated:"<",registryId:"<"},controller:i.default,transclude:{rateLimitExceeded:"?porImageRegistryRateLimitExceeded"},templateUrl:r})},22429:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var a=n(51235),s=n.n(a),i=n(65491),r=n.n(i),o=n(74362),l=n.n(o),c=n(30465),d=n.n(c),u=n(66539),p=n.n(u),m=n(44716),g=n.n(m),h=n(83432),f=n.n(h),v=n(29274),b=n.n(v),y=n(74962),w=n(56414);class x{constructor(e,t,n,a,s,i,r){this.$async=e,this.$scope=t,this.ImageHelper=n,this.RegistryService=a,this.EndpointService=s,this.ImageService=i,this.Notifications=r,this.onRegistryChange=this.onRegistryChange.bind(this),this.onImageChange=this.onImageChange.bind(this),this.registries=[],this.images=[],this.defaultRegistry=new y.DockerHubViewModel,this.$scope.$watch((()=>this.model.Registry),this.onRegistryChange),this.$scope.$watch((()=>this.model.Image),this.onImageChange)}isKnownRegistry(e){return!(e instanceof y.DockerHubViewModel)&&e.URL}getRegistryURL(e){let t=e.URL;return e.Type===w.RegistryTypes.GITLAB&&(t=e.URL+"/"+e.Gitlab.ProjectPath),t}prepareAutocomplete(){let e=[];const t=this.model.Registry;if(this.isKnownRegistry(t)){const n=this.getRegistryURL(t),a=f()(this.images,(e=>g()(e,n)));e=p()(a,(e=>d()(e,new RegExp(n+"/?"),"")))}else{const t=f()(this.registries,(e=>this.isKnownRegistry(e))),n=l()(t,(e=>f()(this.images,(t=>g()(t,e.URL))))),a=r()(this.images,n);e=f()(a,(e=>!this.ImageHelper.imageContainsURL(e)))}this.availableImages=e}isDockerHubRegistry(){return this.model.UseRegistry&&(this.model.Registry.Type===w.RegistryTypes.DOCKERHUB||this.model.Registry.Type===w.RegistryTypes.ANONYMOUS)}async onRegistryChange(){this.prepareAutocomplete(),this.model.Registry.Type===w.RegistryTypes.GITLAB&&this.model.Image&&(this.model.Image=d()(this.model.Image,this.model.Registry.Gitlab.ProjectPath,""))}async onImageChange(){this.setValidity&&!this.isDockerHubRegistry()&&this.setValidity(!0)}displayedRegistryURL(){return this.getRegistryURL(this.model.Registry)||"docker.io"}async reloadRegistries(){return this.$async((async()=>{try{let e=!1;this.registries=await this.EndpointService.registries(this.endpoint.Id,this.namespace),this.registries.sort(((e,t)=>e.Name.localeCompare(t.Name))),this.registries.some((e=>e.Type===w.RegistryTypes.DOCKERHUB))||(e=!0,this.registries.splice(0,0,this.defaultRegistry));const t=this.model.Registry.Id;s()(this.registries,{Id:t})||(this.model.Registry=e?this.defaultRegistry:this.registries[0])}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}}))}async loadImages(){return this.$async((async()=>{try{if(!this.autoComplete)return void(this.images=[]);const e=await this.ImageService.images();this.images=this.ImageService.getUniqueTagListFromImages(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve images")}}))}$onChanges({namespace:e,endpoint:t}){(e||t)&&this.endpoint.Id&&this.reloadRegistries()}$onInit(){return this.$async((async()=>{await this.loadImages()}))}}x.$inject=["$async","$scope","ImageHelper","RegistryService","EndpointService","ImageService","Notifications"];const S=x;b().module("portainer.docker").controller("porImageRegistryController",x)},91653:(e,t,n)=>{const a=n(50331);angular.module("portainer.docker").component("porImageRegistry",{templateUrl:a,controller:"porImageRegistryController",bindings:{model:"=",pullWarning:"<",autoComplete:"<",labelClass:"@",inputClass:"@",endpoint:"<",isAdmin:"<",namespace:"<",checkRateLimits:"<",onImageChange:"&",setValidity:"<"},require:{form:"^form"},transclude:!0})},69760:(e,t,n)=>{const a=n(85759);angular.module("portainer.docker").component("logViewer",{templateUrl:a,controller:"LogViewerController",bindings:{data:"=",displayTimestamps:"=",logCollectionChange:"<",sinceTimestamp:"=",lineCount:"=",resourceName:"<"}})},89410:(e,t,n)=>{"use strict";n.r(t);var a=n(55743),s=n.n(a),i=n(4396),r=n.n(i),o=n(71541),l=n(52474);angular.module("portainer.docker").controller("LogViewerController",["clipboard","Blob","FileSaver",function(e,t,n){this.state={availableSinceDatetime:[{desc:"",value:r()().subtract(1,"days").format()},{desc:"4",value:r()().subtract(4,"hours").format()},{desc:"1",value:r()().subtract(1,"hours").format()},{desc:"10",value:r()().subtract(10,"minutes").format()}],copySupported:e.supported,logCollection:!0,autoScroll:!0,wrapLines:!0,search:"",filteredLogs:[],selectedLines:[]},this.copy=function(){e.copyText(this.state.filteredLogs.map((e=>e.line)).join(o.NEW_LINE_BREAKER)),l("#refreshRateChange").show(),l("#refreshRateChange").fadeOut(2e3)},this.copySelection=function(){e.copyText(this.state.selectedLines.join(o.NEW_LINE_BREAKER)),l("#refreshRateChange").show(),l("#refreshRateChange").fadeOut(2e3)},this.clearSelection=function(){this.state.selectedLines=[]},this.selectLine=function(e){var t=this.state.selectedLines.indexOf(e);-1===t?this.state.selectedLines.push(e):this.state.selectedLines.splice(t,1)},this.downloadLogs=function(){const e=new t([s()(this.state.filteredLogs,((e,t)=>e+t.line+o.NEW_LINE_BREAKER),"")]);n.saveAs(e,this.resourceName+"_logs.txt")}}])},22852:(e,t,n)=>{const a=n(23614);angular.module("portainer.docker").component("networkMacvlanForm",{templateUrl:a,controller:"NetworkMacvlanFormController",bindings:{data:"=",applicationState:"<"}})},3476:()=>{angular.module("portainer.docker").controller("NetworkMacvlanFormController",["$q","NodeService","NetworkService","Notifications","StateManager","Authentication",function(e,t,n,a,s,i){var r=this;r.requiredNodeSelection=function(){return"local"===r.data.Scope&&void 0!==r.data.DatatableState&&0===r.data.DatatableState.selectedItemCount},r.requiredConfigSelection=function(){return"swarm"===r.data.Scope&&!r.data.SelectedNetworkConfig},this.$onInit=function(){var s=i.isAdmin();r.isAdmin=s;var o=r.applicationState.endpoint.mode.provider,l=r.applicationState.endpoint.apiVersion;e.all({nodes:"DOCKER_SWARM_MODE"!==o||t.nodes(),networks:n.networks("DOCKER_STANDALONE"===o||"DOCKER_SWARM_MODE"===o,!1,"DOCKER_SWARM_MODE"===o&&l>=1.25)}).then((function(e){!0!==e.nodes&&(r.nodes=e.nodes),r.availableNetworks=e.networks.filter((function(e){return!0===e.ConfigOnly}))})).catch((function(e){a.error("Failure",e,"Unable to retrieve informations for macvlan")}))}}])},50373:(e,t,n)=>{"use strict";function a(){this.Scope="local",this.SelectedNetworkConfig=null,this.DatatableState={selectedItems:[]},this.ParentNetworkCard=""}n.r(t),n.d(t,{MacvlanFormData:()=>a})},8470:(e,t,n)=>{const a=n(79420);angular.module("portainer.docker").component("volumesCifsForm",{templateUrl:a,bindings:{data:"="}})},86668:(e,t,n)=>{"use strict";function a(){this.useCIFS=!1,this.serverAddress="",this.share="",this.version="CIFS v2.0 (Used by Windows Vista / Server 2008)",this.versions=["CIFS v1.0 (Used by Windows XP / Server 2003 and earlier)","CIFS v2.0 (Used by Windows Vista / Server 2008)","CIFS v2.1 (Used by Windows 7 / Server 2008 R2)","CIFS 3.0 (Used by Windows 8 / Server 2012 and newer)"],this.versionsNumber=["1.0","2.0","2.1","3.0"],this.username="",this.password=""}n.r(t),n.d(t,{VolumesCIFSFormData:()=>a})},87959:(e,t,n)=>{const a=n(93886);angular.module("portainer.docker").component("volumesNfsForm",{templateUrl:a,bindings:{data:"="}})},4819:(e,t,n)=>{"use strict";function a(){this.useNFS=!1,this.serverAddress="",this.mountPoint="",this.version="NFS4",this.options="rw,noatime,rsize=8192,wsize=8192,tcp,timeo=14",this.versions=["NFS4","NFS"]}n.r(t),n.d(t,{VolumesNFSFormData:()=>a})},50352:(e,t,n)=>{"use strict";n.r(t);var a=n(93715),s=n.n(a),i=n(51235),r=n.n(i),o=n(17465),l=n.n(o),c=n(94946),d=n.n(c);function u(e,t){return t.some((function(t){return-1!==e.indexOf(t)}))}angular.module("portainer.docker").filter("visualizerTask",(function(){return function(e){var t=d()(e);return u(t,["new","allocated","assigned","accepted","complete","preparing"])?"info":u(t,["pending"])?"warning":u(t,["shutdown","failed","rejected"])?"stopped":"running"}})).filter("visualizerTaskBorderColor",(function(){return function(e){var t=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t}(e),n=function(e){for(var t="#",n=0;n<3;)t+=("00"+(e>>8*n++&255).toString(16)).slice(-2);return t}(t);return n}})).filter("taskstatusbadge",(function(){return function(e){var t=d()(e),n="default";return u(t,["new","allocated","assigned","accepted","preparing","ready","starting","remove"])?n="info":u(t,["pending"])?n="warning":u(t,["shutdown","failed","rejected","orphaned"])?n="danger":u(t,["complete"])?n="primary":u(t,["running"])&&(n="success"),n}})).filter("taskhaslogs",(function(){return function(e){return["running","complete","failed","shutdown"].indexOf(e)>-1}})).filter("containerstatusbadge",(function(){return function(e){var t=d()(e);return u(t,["paused","starting","unhealthy"])?"warning":u(t,["created"])?"info":u(t,["stopped","dead","exited"])?"danger":"success"}})).filter("nodestatusbadge",(function(){return function(e){return"down"===e||"Unhealthy"===e?"danger":"success"}})).filter("dockerNodeAvailabilityBadge",(function(){return function(e){return"pause"===e?"warning":"drain"===e?"danger":"success"}})).filter("trimcontainername",(function(){return function(e){return e?0===e.indexOf("/")?e.replace("/",""):e:""}})).filter("getstatetext",(function(){return function(e){return void 0===e?"":e.Dead?"Dead":e.Ghost&&e.Running?"Ghost":e.Running&&e.Paused?"Running (Paused)":e.Running?"Running":"created"===e.Status?"Created":"Stopped"}})).filter("getstatelabel",(function(){return function(e){return void 0===e?"label-default":e.Ghost&&e.Running?"label-important":e.Running?"label-success":"label-default"}})).filter("containername",(function(){return function(e){var t=e.Names[0];return t.substring(1,t.length)}})).filter("swarmversion",(function(){return function(e){return l()(e,"/")[1]}})).filter("swarmhostname",(function(){return function(e){return l()(e.Names[0],"/")[1]}})).filter("repotags",(function(){return function(e){return e.RepoTags&&e.RepoTags.length>0?"<none>:<none>"===e.RepoTags[0]?[]:e.RepoTags:[]}})).filter("command",(function(){return function(e){if(e)return e.join(" ")}})).filter("hideshasum",(function(){return function(e){return e?e.split("@sha")[0]:""}})).filter("availablenodecount",["ConstraintsHelper",function(e){return function(t,n){for(var a=0,s=0;s<t.length;s++){var i=t[s];"active"===i.Availability&&"ready"===i.Status&&e.matchesServiceConstraints(n,i)&&a++}return a}}]).filter("runningtaskscount",(function(){return function(e){for(var t=0,n=0;n<e.length;n++){var a=e[n];"running"===a.Status.State&&"running"===a.DesiredState&&t++}return t}})).filter("runningcontainers",(function(){return function(e){return e.filter((function(e){return"running"===e.State})).length}})).filter("stoppedcontainers",(function(){return function(e){return e.filter((function(e){return"exited"===e.State})).length}})).filter("healthycontainers",(function(){return function(e){return e.filter((function(e){return"healthy"===e.Status})).length}})).filter("unhealthycontainers",(function(){return function(e){return e.filter((function(e){return"unhealthy"===e.Status})).length}})).filter("imagestotalsize",(function(){return function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].VirtualSize;return t}})).filter("tasknodename",(function(){return function(e,t){var n=r()(t,{Id:e});return n?n.Hostname:""}})).filter("imagelayercommand",(function(){return function(e){return e.replace("/bin/sh -c #(nop) ","").replace("/bin/sh -c ","RUN ")}})).filter("trimshasum",(function(){return function(e){if(e)return 0===e.indexOf("sha256:")?e.substring(7,19):l()(e,"@sha256")[0]}})).filter("trimversiontag",(function(){return function(e){if(!e)return e;var t=e.lastIndexOf(":");return t<0||e.indexOf("/")>t?e:e.substring(0,t)}})).filter("unique",(function(){return s()}))},52161:()=>{angular.module("portainer.docker").factory("ConfigHelper",[function(){"use strict";return{flattenConfig:function(e){return e?{Id:e.ConfigID,Name:e.ConfigName,FileName:e.File.Name,Uid:e.File.UID,Gid:e.File.GID,Mode:e.File.Mode}:{}},configConfig:function(e){return e?{ConfigID:e.Id,ConfigName:e.Name,File:{Name:e.FileName||e.Name,UID:e.Uid||"0",GID:e.Gid||"0",Mode:e.Mode||292}}:{}}}}])},82556:(e,t,n)=>{"use strict";n.r(t);var a=n(51235),s=n.n(a);function i(e,t,n){this.op=e,this.value=n,this.key=t}var r="node.id",o="node.hostname",l="node.role",c="node.labels.",d="engine.labels.",u="==",p="!=";function m(e,t){return!t||t.op===u&&e===t.value||t.op===p&&e!==t.value}function g(e,t){return!t||void 0!==s()(e,(function(e){return e.key===t.key&&e.value===t.value}))}function h(e,t){return e.split(t).pop().trim()}function f(e,t,n){return e.split(t).shift().trim().replace(n,"")}angular.module("portainer.docker").factory("ConstraintsHelper",[function(){return{transformConstraints:function(e){for(var t={},n=0;n<e.length;n++){var a,s=e[n];s.includes(u)?a=u:s.includes(p)&&(a=p);var m=h(s,a),g="";switch(!0){case s.includes(r):t.nodeId=new i(a,g,m);break;case s.includes(o):t.nodeHostname=new i(a,g,m);break;case s.includes(l):t.nodeRole=new i(a,g,m);break;case s.includes(c):g=f(s,a,c),t.nodeLabels=new i(a,g,m);break;case s.includes(d):g=f(s,a,d),t.engineLabels=new i(a,g,m)}}return t},matchesServiceConstraints:function(e,t){if(void 0===e.Constraints||0===e.Constraints.length)return!0;var n=this.transformConstraints(angular.copy(e.Constraints));return!!(m(t.Id,n.nodeId)&&m(t.Hostname,n.nodeHostname)&&m(t.Role,n.nodeRole)&&g(t.Labels,n.nodeLabels)&&g(t.EngineLabels,n.engineLabels))}}}])},5204:(e,t,n)=>{"use strict";n.r(t);var a=n(19980),s=n.n(a),i=n(55332),r=n.n(i),o=n(16222),l=n.n(o),c=n(86103),d=n.n(c),u=n(68260),p=n.n(u),m=n(41952),g=n.n(m),h=n(66539),f=n.n(h),v=n(17465),b=n.n(v),y=n(54761),w=n.n(y);const x=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function S(e){return x.test(e)?parseInt(e,10):0}function k(e){"string"!=typeof e&&(e=e.toString());const t=b()(e,"-",2),n=f()(t,S);return 1==n.length&&n.push(n[0]),n}function $(e){return"string"==typeof e&&(e=k()),Array.isArray(e)&&2===e.length&&e[0]>0&&e[1]>=e[0]}function C(e,t){"string"!=typeof e&&(e=e.toString());let n=null;const a=e.indexOf(":");a>=0&&(n=e.substr(0,a),e=e.substr(a+1)),t="number"==typeof t?t:S(t);const s=k(e),i=Math.min(s[0],t),r=Math.max(s[1],t);return n?n+":"+i+"-"+r:i+"-"+r}angular.module("portainer.docker").factory("ContainerHelper",[function(){return{commandStringToArray:function(e){return w()(e)},commandArrayToString:function(e){return e.map((function(e){return"'"+e+"'"})).join(" ")},configFromContainer:function(e){var t=e.Config;t.HostConfig=e.HostConfig,t.name=e.Name.replace(/^\//g,"");var n=t.HostConfig.NetworkMode;t.NetworkingConfig={EndpointsConfig:{}},t.NetworkingConfig.EndpointsConfig=e.NetworkSettings.Networks,void 0===t.ExposedPorts&&(t.ExposedPorts={}),-1!==n.indexOf("container:")&&(delete t.Hostname,delete t.ExposedPorts);var a=[],s={};for(var i in e.Mounts)if({}.hasOwnProperty.call(e.Mounts,i)){var r=e.Mounts[i],o=r.Name||r.Source,l=r.Destination;if(o&&l){var c=o+":"+l;s[l]={},!1===r.RW&&(c+=":ro"),a.push(c)}}return t.HostConfig.Binds=a,t.Volumes=s,t},preparePortBindings:function(e){const t={};return g()(e,(e=>{if(!e.containerPort)return;let n=e.hostPort;const a=k(e.containerPort);if(!$(a))throw new Error(": "+e.containerPort);const s=a[0],i=a[1];let r,o=0,l=0;if(n){if(n.indexOf("[")>-1){const t=b()(n,"]:");if(t.length<2)throw new Error(": "+e.containerPort);r=t[0].replace("[",""),n=t[1]}else if(n.indexOf(":")>-1){const e=b()(n,":");r=e[0],n=e[1]}const t=k(n);if(!$(t))throw new Error(": "+n);if(o=t[0],l=t[1],i!==s&&i-s!=l-o)throw new Error(": "+n)}for(let a=0;a<=i-s;a++){const c=(s+a).toString();o>0&&(n=(o+a).toString()),s===i&&o!==l&&(n+="-"+l.toString());const d=c+"/"+e.protocol;t[d]?t[d].push({HostIp:r,HostPort:n}):t[d]=[{HostIp:r,HostPort:n}]}})),t},sortAndCombinePorts:function(e){const t=[],n=p()(e),a=d()(n,(e=>b()(e,"/")[1]));return g()(a,((n,a)=>{const s={};for(const t of n)for(const n of e[t])s[n.HostIp]=s[n.HostIp]||[],s[n.HostIp].push(t);g()(s,((n,s)=>{const i=l()(n,(e=>parseInt(b()(e,"/")[0],10)));let r=-1,o=-1;g()(i,(n=>{const i=b()(n,"/"),l=parseInt(i[0],10),c=e[n][0];e[n].shift();const d=S(c.HostPort);if(d>0){if(t.length>0&&r===d-1&&o===l-1)return t[t.length-1].hostPort=C(t[t.length-1].hostPort,d),t[t.length-1].containerPort=C(t[t.length-1].containerPort,l),r=d,void(o=l);r=d,o=l}else r=-1,o=-1;let u=c.HostPort.toString();s&&(u=`${s}:${u}`);const p={hostPort:u,containerPort:l,protocol:a};t.push(p)}))}))})),t},getContainerNames:function(e){return f()(r()(f()(e,"Names")),(e=>s()(e,"/")))}}}])},20886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{buildImageFullURI:()=>l});var a=n(44716),s=n.n(a),i=n(17465),r=n.n(i),o=n(56414);function l(e){if(!e.UseRegistry)return n(e.Image);const t=function(e){switch(e.Registry.Type){case o.RegistryTypes.GITLAB:return function(e){const t=e.Image.startsWith(":")?"":"/";return`${e.Registry.URL}/${e.Registry.Gitlab.ProjectPath}${t}${e.Image}`}(e);case o.RegistryTypes.QUAY:return function(e){const t=e.Registry.Quay.UseOrganisation?e.Registry.Quay.OrganisationName:e.Registry.Username;return`${e.Registry.URL?e.Registry.URL+"/":""}${t}/${e.Image}`}(e);case o.RegistryTypes.ANONYMOUS:return e.Image;default:return function(e){return(e.Registry.URL?e.Registry.URL+"/":"")+e.Image}(e)}}(e);return n(t);function n(e,t="latest"){return e.includes(":")?e:`${e}:${t}`}}angular.module("portainer.docker").factory("ImageHelper",(function(){return{isValidTag:function(e){return e.match(/^(?![\.\-])([a-zA-Z0-9\_\.\-])+$/g)},createImageConfigForContainer:function(e){return{fromImage:l(e)}},getImagesNamesForDownload:function(e){return{names:e.map((function(e){return"<none>:<none>"!==e.RepoTags[0]?e.RepoTags[0]:e.Id}))}},removeDigestFromRepository:function(e){return e.split("@sha")[0]},imageContainsURL:function(e){const t=r()(e,"/"),n=t[0];return t.length>1&&(s()(n,".")||s()(n,":"))}}}))},46313:(e,t,n)=>{"use strict";n.r(t);var a=n(4622),s=n.n(a);angular.module("portainer.docker").factory("InfoHelper",[function(){return{determineEndpointMode:function(e,t){var n={provider:"",role:"",agentProxy:!1};return 2!==t&&4!==t||(n.agentProxy=!0),!e.Swarm||s()(e.Swarm.NodeID)?n.provider="DOCKER_STANDALONE":(n.provider="DOCKER_SWARM_MODE",e.Swarm.ControlAvailable?n.role="MANAGER":n.role="WORKER"),n}}}])},6264:()=>{angular.module("portainer.docker").factory("LabelHelper",[function(){"use strict";return{fromLabelHashToKeyValue:function(e){return e?Object.keys(e).map((function(t){return{key:t,value:e[t],originalKey:t,originalValue:e[t],added:!0}})):[]},fromKeyValueToLabelHash:function(e){var t={};return e&&e.forEach((function(e){e.key&&(t[e.key]=e.value)})),t}}}])},9954:(e,t,n)=>{"use strict";n.r(t);var a=n(92376),s=n(92148),i=n.n(s);const r={black:i().colors[0],red:i().colors[1],green:i().colors[2],yellow:i().colors[3],blue:i().colors[4],magenta:i().colors[5],cyan:i().colors[6],white:i().colors[7],brightBlack:i().colors[8],brightRed:i().colors[9],brightGreen:i().colors[10],brightYellow:i().colors[11],brightBlue:i().colors[12],brightMagenta:i().colors[13],brightCyan:i().colors[14],brightWhite:i().colors[15]},o={bgBlack:i().colors[0],bgRed:i().colors[1],bgGreen:i().colors[2],bgYellow:i().colors[3],bgBlue:i().colors[4],bgMagenta:i().colors[5],bgCyan:i().colors[6],bgWhite:i().colors[7],bgBrightBlack:i().colors[8],bgBrightRed:i().colors[9],bgBrightGreen:i().colors[10],bgBrightYellow:i().colors[11],bgBrightBlue:i().colors[12],bgBrightMagenta:i().colors[13],bgBrightCyan:i().colors[14],bgBrightWhite:i().colors[15]};angular.module("portainer.docker").factory("LogHelper",[function(){var e={};function t(e){return e.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"")}function n(e){const[t,n,a]=e;return`rgb(${t}, ${n}, ${a})`}function s(e){const t=e[1];return 2===t?n(e.slice(2)):5===t&&i().colors[e[2]]?n(i().colors[e[2]]):""}return e.formatLogs=function(e,i){i&&(e=function(e){return(e=e.substring(8)).replace(/\r?\n(.{8})/g,"\n")}(e));const l=(0,a.Z)(e),c=[];let d=null,u=null,p="",m=[];for(const e of l){const a=e[0];if(r[a])d=n(r[a]);else if("moreColor"===a)d=s(e);else if("fgDefault"===a)d=null;else if(o[a])u=n(o[a]);else if("bgMoreColor"===a)u=s(e);else if("bgDefault"===a)u=null;else if("reset"===a)d=null,u=null;else if("text"===a){const n=e[1].split("\n");for(let e=0;e<n.length;e++){0!==e&&(c.push({line:p,spans:m}),p="",m=[]);const a=t(n[e]);p+=a,m.push({foregroundColor:d,backgroundColor:u,text:a})}}}return p&&c.push({line:p,spans:m}),c},e}])},69452:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(46545),s=n.n(a),i=n(83432),r=n.n(i);class o{static getIPV4Configs(e){return r()(e,(e=>/^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$/.test(e.Subnet)))}static getIPV6Configs(e){return s()(e,...o.getIPV4Configs(e))}}const l=o},80677:()=>{angular.module("portainer.docker").factory("NodeHelper",[function(){"use strict";return{nodeToConfig:function(e){return{Name:e.Spec.Name,Role:e.Spec.Role,Labels:e.Spec.Labels,Availability:e.Spec.Availability}}}}])},45665:()=>{angular.module("portainer.docker").factory("SecretHelper",[function(){"use strict";return{flattenSecret:function(e){return e?{Id:e.SecretID,Name:e.SecretName,FileName:e.File.Name,Uid:e.File.UID,Gid:e.File.GID,Mode:e.File.Mode}:{}},secretConfig:function(e){return e?{SecretID:e.Id,SecretName:e.Name,File:{Name:e.FileName,UID:e.Uid||"0",GID:e.Gid||"0",Mode:e.Mode||444}}:{}}}}])},18743:(e,t,n)=>{"use strict";n.r(t);var a=n(4396),s=n.n(a);angular.module("portainer.docker").factory("ServiceHelper",[function(){return{associateTasksToService:function(e,t){e.Tasks=[];for(var n=[],a=0;a<t.length;a++){var s=t[a];s.ServiceId===e.Id?(e.Tasks.push(s),s.ServiceName=e.Name):n.push(s)}t=n},serviceToConfig:function(e){return{Name:e.Spec.Name,Labels:e.Spec.Labels,TaskTemplate:e.Spec.TaskTemplate,Mode:e.Spec.Mode,UpdateConfig:e.Spec.UpdateConfig,Networks:e.Spec.Networks,EndpointSpec:e.Spec.EndpointSpec}},translateKeyValueToPlacementPreferences:function(e){if(e){var t=[];return e.forEach((function(e){e.strategy&&""!==e.strategy&&e.value&&""!==e.value&&"spread"===e.strategy.toLowerCase()&&t.push({Spread:{SpreadDescriptor:e.value}})})),t}return[]},translateKeyValueToPlacementConstraints:function(e){if(e){var t=[];return e.forEach((function(e){e.key&&""!==e.key&&e.value&&""!==e.value&&t.push(e.key+e.operator+e.value)})),t}return[]},translatePreferencesToKeyValue:function(e){if(e){var t=[];return e.forEach((function(e){e.Spread&&t.push({strategy:"Spread",value:e.Spread.SpreadDescriptor})})),t}return[]},translateConstraintsToKeyValue:function(e){if(e){var t=[];return e.forEach((function(e){var n=function(e){var t=e.indexOf("==");return t>=0?[t,"=="]:[e.indexOf("!="),"!="]}(e),a=e.slice(0,n[0]),s=n[1],i=e.slice(n[0]+2);t.push({key:a,value:i,operator:s,originalKey:a,originalValue:i})})),t}},translateHumanDurationToNanos:function(e){var t,n=e.match(/^([0-9]+)(h|m|s|ms|us|ns)$/i);if(null!==n&&3===n.length){var a=parseInt(n[1],10),i=n[2];switch(i){case"ns":t=a;break;case"us":t=1e3*a;break;default:t=1e6*s().duration(a,i).asMilliseconds()}}return t},translateNanosToHumanDuration:function(e){var t="0s",n={ns:1};return n.us=1e3*n.ns,n.ms=1e3*n.us,n.s=1e3*n.ms,n.m=60*n.s,n.h=60*n.m,Object.keys(n).forEach((function(a){e%n[a]==0&&e/n[a]>0&&(t=e/n[a]+a)})),t},translateLogDriverOptsToKeyValue:function(e){var t=[];return e&&Object.keys(e).forEach((function(n){t.push({key:n,value:e[n],originalKey:n,originalValue:e[n],added:!0})})),t},translateKeyValueToLogDriverOpts:function(e){var t={};return e&&e.forEach((function(e){e.key&&""!==e.key&&e.value&&""!==e.value&&(t[e.key]=e.value)})),t},translateHostsEntriesToHostnameIP:function(e){var t=[];return e&&e.forEach((function(e){if(e.indexOf(" ")&&2===e.split(" ").length){var n=e.split(" ");t.push({hostname:n[1],ip:n[0]})}})),t},translateHostnameIPToHostsEntries:function(e){var t=[];return e&&e.forEach((function(e){e.ip&&e.hostname&&t.push(e.ip+" "+e.hostname)})),t}}}])},22588:()=>{angular.module("portainer.docker").factory("TaskHelper",[function(){"use strict";return{associateContainerToTask:function(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(e.ContainerId===a.Id){e.Container=a;break}}}}}])},60069:()=>{angular.module("portainer.docker").factory("VolumeHelper",[function(){"use strict";return{createDriverOptions:function(e){var t={};return e.forEach((function(e){t[e.name]=e.value})),t},isVolumeUsedByAService:function(e,t){for(var n=0;n<t.length;n++)for(var a=t[n].Mounts,s=0;s<a.length;s++)if(a[s].Source===e.Id)return!0;return!1}}}])},8691:()=>{angular.module("portainer.app").factory("ContainersInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var s=a.Snapshots[0].SnapshotRaw.Containers;if(void 0!==s)return s}}return e.reject(n)}};return n}])},18872:()=>{angular.module("portainer.app").factory("ImagesInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var s=a.Snapshots[0].SnapshotRaw.Images;if(void 0!==s)return s}}return e.reject(n)}};return n}])},84395:()=>{angular.module("portainer.app").factory("InfoInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a&&a.Snapshots.length&&a.Snapshots[0].SnapshotRaw){var s=a.Snapshots[0].SnapshotRaw.Info;if(void 0!==s)return s}}return e.reject(n)}};return n}])},2630:()=>{angular.module("portainer.app").factory("NetworksInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var s=a.Snapshots[0].SnapshotRaw.Networks;if(void 0!==s)return s}}return e.reject(n)}};return n}])},73166:()=>{angular.module("portainer.app").factory("VersionInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a&&a.Snapshots.length&&a.Snapshots[0].SnapshotRaw){var s=a.Snapshots[0].SnapshotRaw.Version;if(void 0!==s)return s}}return e.reject(n)}};return n}])},33022:()=>{angular.module("portainer.app").factory("VolumesInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var s=a.Snapshots[0].SnapshotRaw.Volumes;if(void 0!==s)return s}}return e.reject(n)}};return n}])},66807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfigViewModel:()=>s});var a=n(45429);function s(e){this.Id=e.ID,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Labels=e.Spec.Labels,this.Data=function(e){try{return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}catch(t){return atob(e)}}(e.Spec.Data),e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl))}},12064:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createStatus:()=>d,ContainerViewModel:()=>u,ContainerStatsViewModel:()=>p,ContainerDetailsViewModel:()=>m});var a=n(68582),s=n.n(a),i=n(4622),r=n.n(i),o=n(94946),l=n.n(o),c=n(45429);function d(e){var t=l()(e);return t.indexOf("paused")>-1?"paused":t.indexOf("dead")>-1?"dead":t.indexOf("created")>-1?"created":t.indexOf("exited")>-1?"stopped":t.indexOf("(healthy)")>-1?"healthy":t.indexOf("(unhealthy)")>-1?"unhealthy":t.indexOf("(health: starting)")>-1?"starting":"running"}function u(e){if(this.Id=e.Id,this.Status=d(e.Status),this.State=e.State,this.Created=e.Created,this.Names=e.Names,e.NetworkSettings&&!r()(e.NetworkSettings.Networks)&&(this.IP=e.NetworkSettings.Networks[Object.keys(e.NetworkSettings.Networks)[0]].IPAddress),this.NetworkSettings=e.NetworkSettings,this.Image=e.Image,this.ImageID=e.ImageID,this.Command=e.Command,this.Checked=!1,this.Labels=e.Labels,this.Labels&&this.Labels["com.docker.compose.project"]?this.StackName=this.Labels["com.docker.compose.project"]:this.Labels&&this.Labels["com.docker.stack.namespace"]&&(this.StackName=this.Labels["com.docker.stack.namespace"]),this.Mounts=e.Mounts,this.IsPortainer=e.IsPortainer,this.Ports=[],e.Ports)for(var t=0;t<e.Ports.length;++t){var n=e.Ports[t];n.PublicPort&&this.Ports.push({host:n.IP,private:n.PrivatePort,public:n.PublicPort})}e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new c.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName))}function p(e){if(this.read=e.read,this.preread=e.preread,void 0!==e.memory_stats.privateworkingset?(this.MemoryUsage=e.memory_stats.privateworkingset,this.MemoryCache=0,this.NumProcs=e.num_procs,this.isWindows=!0):void 0===e.memory_stats.stats||void 0===e.memory_stats.usage?this.MemoryUsage=this.MemoryCache=0:(this.MemoryCache=0,void 0!==e.memory_stats.stats.cache&&(this.MemoryCache=e.memory_stats.stats.cache),this.MemoryUsage=e.memory_stats.usage-this.MemoryCache),this.PreviousCPUTotalUsage=e.precpu_stats.cpu_usage.total_usage,this.PreviousCPUSystemUsage=e.precpu_stats.system_cpu_usage,this.CurrentCPUTotalUsage=e.cpu_stats.cpu_usage.total_usage,this.CurrentCPUSystemUsage=e.cpu_stats.system_cpu_usage,this.CPUCores=1,e.cpu_stats.cpu_usage.percpu_usage?this.CPUCores=e.cpu_stats.cpu_usage.percpu_usage.length:void 0!==e.cpu_stats.online_cpus&&(this.CPUCores=e.cpu_stats.online_cpus),this.Networks=s()(e.networks),void 0!==e.blkio_stats&&null!==e.blkio_stats.io_service_bytes_recursive){var t=e.blkio_stats.io_service_bytes_recursive.find((e=>"Read"===e.op));void 0===t&&(t=e.blkio_stats.io_service_bytes_recursive.find((e=>"read"===e.op))),void 0!==t&&(this.BytesRead=t.value);var n=e.blkio_stats.io_service_bytes_recursive.find((e=>"Write"===e.op));void 0===n&&(n=e.blkio_stats.io_service_bytes_recursive.find((e=>"write"===e.op))),void 0!==n&&(this.BytesWrite=n.value)}else this.noIOdata=!0}function m(e){this.Model=e,this.Id=e.Id,this.State=e.State,this.Created=e.Created,this.Name=e.Name,this.NetworkSettings=e.NetworkSettings,this.Args=e.Args,this.Image=e.Image,this.Config=e.Config,this.HostConfig=e.HostConfig,this.Mounts=e.Mounts,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new c.w(e.Portainer.ResourceControl)),this.IsPortainer=e.IsPortainer}},66328:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContainerCapabilities:()=>s,ContainerCapability:()=>i});var a={SETPCAP:"Modify process capabilities.",MKNOD:"Create special files using mknod(2).",AUDIT_WRITE:"Write records to kernel auditing log.",CHOWN:"Make arbitrary changes to file UIDs and GIDs (see chown(2)).",NET_RAW:"Use RAW and PACKET sockets.",DAC_OVERRIDE:"Bypass file read, write, and execute permission checks.",FOWNER:"Bypass permission checks on operations that normally require the file system UID of the process to match the UID of the file.",FSETID:"Dont clear set-user-ID and set-group-ID permission bits when a file is modified.",KILL:"Bypass permission checks for sending signals.",SETGID:"Make arbitrary manipulations of process GIDs and supplementary GID list.",SETUID:"Make arbitrary manipulations of process UIDs.",NET_BIND_SERVICE:"Bind a socket to internet domain privileged ports (port numbers less than 1024).",SYS_CHROOT:"Use chroot(2), change root directory.",SETFCAP:"Set file capabilities.",SYS_MODULE:"Load and unload kernel modules.",SYS_RAWIO:"Perform I/O port operations (iopl(2) and ioperm(2)).",SYS_PACCT:"Use acct(2), switch process accounting on or off.",SYS_ADMIN:"Perform a range of system administration operations.",SYS_NICE:"Raise process nice value (nice(2), setpriority(2)) and change the nice value for arbitrary processes.",SYS_RESOURCE:"Override resource Limits.",SYS_TIME:"Set system clock (settimeofday(2), stime(2), adjtimex(2)); set real-time (hardware) clock.",SYS_TTY_CONFIG:"Use vhangup(2); employ various privileged ioctl(2) operations on virtual terminals.",AUDIT_CONTROL:"Enable and disable kernel auditing; change auditing filter rules; retrieve auditing status and filtering rules.",MAC_ADMIN:"Allow MAC configuration or state changes. Implemented for the Smack LSM.",MAC_OVERRIDE:"Override Mandatory Access Control (MAC). Implemented for the Smack Linux Security Module (LSM).",NET_ADMIN:"Perform various network-related operations.",SYSLOG:"Perform privileged syslog(2) operations.",DAC_READ_SEARCH:"Bypass file read permission checks and directory read and execute permission checks.",LINUX_IMMUTABLE:"Set the FS_APPEND_FL and FS_IMMUTABLE_FL i-node flags.",NET_BROADCAST:"Make socket broadcasts, and listen to multicasts.",IPC_LOCK:"Lock memory (mlock(2), mlockall(2), mmap(2), shmctl(2)).",IPC_OWNER:"Bypass permission checks for operations on System V IPC objects.",SYS_PTRACE:"Trace arbitrary processes using ptrace(2).",SYS_BOOT:"Use reboot(2) and kexec_load(2), reboot and load a new kernel for later execution.",LEASE:"Establish leases on arbitrary files (see fcntl(2)).",WAKE_ALARM:"Trigger something that will wake up the system.",BLOCK_SUSPEND:"Employ features that can block system suspend."};function s(){return[new i("SETPCAP",!0),new i("MKNOD",!0),new i("AUDIT_WRITE",!0),new i("CHOWN",!0),new i("NET_RAW",!0),new i("DAC_OVERRIDE",!0),new i("FOWNER",!0),new i("FSETID",!0),new i("KILL",!0),new i("SETGID",!0),new i("SETUID",!0),new i("NET_BIND_SERVICE",!0),new i("SYS_CHROOT",!0),new i("SETFCAP",!0),new i("SYS_MODULE",!1),new i("SYS_RAWIO",!1),new i("SYS_PACCT",!1),new i("SYS_ADMIN",!1),new i("SYS_NICE",!1),new i("SYS_RESOURCE",!1),new i("SYS_TIME",!1),new i("SYS_TTY_CONFIG",!1),new i("AUDIT_CONTROL",!1),new i("MAC_ADMIN",!1),new i("MAC_OVERRIDE",!1),new i("NET_ADMIN",!1),new i("SYSLOG",!1),new i("DAC_READ_SEARCH",!1),new i("LINUX_IMMUTABLE",!1),new i("NET_BROADCAST",!1),new i("IPC_LOCK",!1),new i("IPC_OWNER",!1),new i("SYS_PTRACE",!1),new i("SYS_BOOT",!1),new i("LEASE",!1),new i("WAKE_ALARM",!1),new i("BLOCK_SUSPEND",!1)].sort((function(e,t){return e.capability<t.capability?-1:1}))}function i(e,t){this.capability=e,this.allowed=t,this.description=a[e]}},44333:(e,t,n)=>{"use strict";function a(e){this.Time=e.time,e.Type?(this.Type=e.Type,this.Details=function(e){var t=e.Actor.Attributes,n="",a=e.Action,s="",i=a.indexOf(":");switch(-1!=i&&(s=a.substring(i),a=a.substring(0,i)),e.Type){case"container":switch(a){case"stop":n=" "+t.name+" ";break;case"destroy":n=" "+t.name+" ";break;case"create":n=" "+t.name+" ";break;case"start":n=" "+t.name+" ";break;case"kill":n=" "+t.name+" ";break;case"die":n=" "+t.name+"  "+t.exitCode;break;case"commit":n=" "+t.name+" ";break;case"restart":n=" "+t.name+" ";break;case"pause":n=" "+t.name+" ";break;case"unpause":n=" "+t.name+" ";break;case"attach":n=" "+t.name+" ";break;case"detach":n=" "+t.name+" ";break;case"copy":n=" "+t.name+" ";break;case"export":n=" "+t.name+" ";break;case"health_status":n=" "+t.name+" ";break;case"oom":n=" "+t.name+" ";break;case"rename":n=" "+t.name+" ";break;case"resize":n=" "+t.name+" ";break;case"top":n=" "+t.name+" ";break;case"update":n=" "+t.name+" ";break;case"exec_create":n="";break;case"exec_start":n="";break;case"exec_die":n="";break;default:n=""}break;case"image":switch(a){case"delete":n="";break;case"import":n=" "+e.Actor.ID+" ";break;case"load":n=" "+e.Actor.ID+" ";break;case"tag":n=" "+t.name;break;case"untag":n="Image untagged";break;case"save":n=" "+e.Actor.ID+" ";break;case"pull":n=" "+e.Actor.ID+" ";break;case"push":n=" "+e.Actor.ID+" ";break;default:n=""}break;case"network":switch(a){case"create":n=" "+t.name+" created";break;case"destroy":n=" "+t.name+" ";break;case"remove":n=" "+t.name+" ";break;case"connect":n=" "+t.name+" ";break;case"disconnect":n=" "+t.name+" ";break;default:n=""}break;case"volume":switch(a){case"create":n=" "+e.Actor.ID+" created";break;case"destroy":n=" "+e.Actor.ID+" ";break;case"mount":n=" "+e.Actor.ID+" ";break;case"unmount":n=" "+e.Actor.ID+" ";break;default:n=""}break;default:n=""}return n+s}(e)):(this.Type=e.status,this.Details=e.from)}n.r(t),n.d(t,{EventViewModel:()=>a})},84647:(e,t,n)=>{"use strict";function a(e){if(this.Id=e.Id,this.Tag=e.Tag,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,!this.RepoTags&&e.RepoDigests){this.RepoTags=[];for(var t=0;t<e.RepoDigests.length;t++){var n=e.RepoDigests[t],a=n.substring(0,n.indexOf("@"));this.RepoTags.push(a+":<none>")}}this.VirtualSize=e.VirtualSize,this.ContainerCount=e.ContainerCount,e.Portainer&&e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName),this.Labels=e.Labels}function s(e){this.hasError=!1;for(var t=[],n=0;n<e.length;n++){var a=e[n];a.stream&&(a=a.stream.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,""),t.push(a)),a.errorDetail&&(t.push(a.errorDetail.message),this.hasError=!0)}this.buildLogs=t}n.r(t),n.d(t,{ImageViewModel:()=>a,ImageBuildModel:()=>s})},56946:(e,t,n)=>{"use strict";function a(e){this.Id=e.Id,this.Tag=e.Tag,this.Parent=e.Parent,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,this.VirtualSize=e.VirtualSize,this.DockerVersion=e.DockerVersion,this.Os=e.Os,this.Architecture=e.Architecture,this.Author=e.Author,this.Command=e.Config.Cmd,this.Entrypoint=e.ContainerConfig.Entrypoint?e.ContainerConfig.Entrypoint:"",this.ExposedPorts=e.ContainerConfig.ExposedPorts?Object.keys(e.ContainerConfig.ExposedPorts):[],this.Volumes=e.ContainerConfig.Volumes?Object.keys(e.ContainerConfig.Volumes):[],this.Env=e.ContainerConfig.Env?e.ContainerConfig.Env:[],this.Labels=e.ContainerConfig.Labels}n.r(t),n.d(t,{ImageDetailsViewModel:()=>a})},75208:(e,t,n)=>{"use strict";function a(e,t){this.Order=e,this.Id=t.Id,this.Created=t.Created,this.CreatedBy=t.CreatedBy,this.Size=t.Size,this.Comment=t.Comment,this.Tags=t.Tags}n.r(t),n.d(t,{ImageLayerViewModel:()=>a})},70983:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NetworkViewModel:()=>s});var a=n(45429);function s(e){this.Id=e.Id,this.Name=e.Name,this.Scope=e.Scope,this.Driver=e.Driver,this.Attachable=e.Attachable,this.Internal=e.Internal,this.IPAM=e.IPAM,this.Containers=e.Containers,this.Options=e.Options,this.Ingress=e.Ingress,this.Labels=e.Labels,this.Labels&&this.Labels["com.docker.compose.project"]?this.StackName=this.Labels["com.docker.compose.project"]:this.Labels&&this.Labels["com.docker.stack.namespace"]&&(this.StackName=this.Labels["com.docker.stack.namespace"]),e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName)),this.ConfigFrom=e.ConfigFrom,this.ConfigOnly=e.ConfigOnly}},11339:(e,t,n)=>{"use strict";function a(e){this.Model=e,this.Id=e.ID,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Role=e.Spec.Role,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Availability=e.Spec.Availability;var t=e.Spec.Labels;this.Labels=t?Object.keys(t).map((function(e){return{key:e,value:t[e],originalKey:e,originalValue:t[e],added:!0}})):[];var n=e.Description.Engine.Labels;this.EngineLabels=n?Object.keys(n).map((function(e){return{key:e,value:n[e]}})):[],this.Hostname=e.Description.Hostname,this.PlatformArchitecture=e.Description.Platform.Architecture,this.PlatformOS=e.Description.Platform.OS,this.CPUs=e.Description.Resources.NanoCPUs,this.Memory=e.Description.Resources.MemoryBytes,this.EngineVersion=e.Description.Engine.EngineVersion,this.Plugins=e.Description.Engine.Plugins,this.Status=e.Status.State,e.Status.Addr&&(this.Addr=e.Status.Addr),e.ManagerStatus&&(this.Leader=e.ManagerStatus.Leader,this.Reachability=e.ManagerStatus.Reachability,this.ManagerAddr=e.ManagerStatus.Addr)}n.r(t),n.d(t,{NodeViewModel:()=>a})},34161:(e,t,n)=>{"use strict";function a(e){this.Id=e.Id,this.Name=e.Name,this.Enabled=e.Enabled,this.Config=e.Config}n.r(t),n.d(t,{PluginViewModel:()=>a})},76939:(e,t,n)=>{"use strict";function a(){this.UseRegistry=!0,this.Registry={},this.Image=""}n.r(t),n.d(t,{PorImageRegistryModel:()=>a})},89638:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SecretViewModel:()=>s});var a=n(45429);function s(e){this.Id=e.ID,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Labels=e.Spec.Labels,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl))}},7456:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServiceViewModel:()=>s});var a=n(45429);function s(e,t,n){this.Model=e,this.Id=e.ID,this.Tasks=[],this.Name=e.Spec.Name,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Image=e.Spec.TaskTemplate.ContainerSpec.Image,this.Version=e.Version.Index,e.Spec.Mode.Replicated?(this.Mode="replicated",this.Replicas=e.Spec.Mode.Replicated.Replicas):(this.Mode="global",n&&(this.Replicas=n.length)),t&&(this.Running=t.length),e.Spec.TaskTemplate.Resources&&(e.Spec.TaskTemplate.Resources.Limits&&(this.LimitNanoCPUs=e.Spec.TaskTemplate.Resources.Limits.NanoCPUs,this.LimitMemoryBytes=e.Spec.TaskTemplate.Resources.Limits.MemoryBytes),e.Spec.TaskTemplate.Resources.Reservations&&(this.ReservationNanoCPUs=e.Spec.TaskTemplate.Resources.Reservations.NanoCPUs,this.ReservationMemoryBytes=e.Spec.TaskTemplate.Resources.Reservations.MemoryBytes)),e.Spec.TaskTemplate.RestartPolicy?(this.RestartCondition=e.Spec.TaskTemplate.RestartPolicy.Condition||"any",this.RestartDelay=e.Spec.TaskTemplate.RestartPolicy.Delay||5e9,this.RestartMaxAttempts=e.Spec.TaskTemplate.RestartPolicy.MaxAttempts||0,this.RestartWindow=e.Spec.TaskTemplate.RestartPolicy.Window||0):(this.RestartCondition="any",this.RestartDelay=5e9,this.RestartMaxAttempts=0,this.RestartWindow=0),e.Spec.TaskTemplate.LogDriver?(this.LogDriverName=e.Spec.TaskTemplate.LogDriver.Name||"",this.LogDriverOpts=e.Spec.TaskTemplate.LogDriver.Options||[]):(this.LogDriverName="",this.LogDriverOpts=[]),this.Constraints=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Constraints||[],this.Preferences=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Preferences||[],this.Platforms=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Platforms||[],this.Labels=e.Spec.Labels,this.Labels&&this.Labels["com.docker.stack.namespace"]&&(this.StackName=this.Labels["com.docker.stack.namespace"]);var s=e.Spec.TaskTemplate.ContainerSpec;s&&(this.ContainerLabels=s.Labels,this.Command=s.Command,this.Arguments=s.Args,this.Hostname=s.Hostname,this.Env=s.Env,this.Dir=s.Dir,this.User=s.User,this.Groups=s.Groups,this.TTY=s.TTY,this.OpenStdin=s.OpenStdin,this.ReadOnly=s.ReadOnly,this.Mounts=s.Mounts||[],this.StopSignal=s.StopSignal,this.StopGracePeriod=s.StopGracePeriod,this.HealthCheck=s.HealthCheck||{},this.Hosts=s.Hosts,this.DNSConfig=s.DNSConfig,this.Secrets=s.Secrets,this.Configs=s.Configs),e.Endpoint&&(this.Ports=e.Endpoint.Ports),this.LogDriver=e.Spec.TaskTemplate.LogDriver,this.Runtime=e.Spec.TaskTemplate.Runtime,this.VirtualIPs=e.Endpoint?e.Endpoint.VirtualIPs:[],e.Spec.UpdateConfig?(this.UpdateParallelism=void 0!==typeof e.Spec.UpdateConfig.Parallelism?e.Spec.UpdateConfig.Parallelism||0:1,this.UpdateDelay=e.Spec.UpdateConfig.Delay||0,this.UpdateFailureAction=e.Spec.UpdateConfig.FailureAction||"pause",this.UpdateOrder=e.Spec.UpdateConfig.Order||"stop-first"):(this.UpdateParallelism=1,this.UpdateDelay=0,this.UpdateFailureAction="pause",this.UpdateOrder="stop-first"),this.RollbackConfig=e.Spec.RollbackConfig,this.Checked=!1,this.Scale=!1,this.EditName=!1,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl))}},90906:(e,t,n)=>{"use strict";function a(e){this.Id=e.ID}n.r(t),n.d(t,{SwarmViewModel:()=>a})},59146:(e,t,n)=>{"use strict";function a(e){this.Id=e.ID,this.Created=e.CreatedAt,this.Updated=e.UpdatedAt,this.Slot=e.Slot,this.Spec=e.Spec,this.Status=e.Status,this.DesiredState=e.DesiredState,this.ServiceId=e.ServiceID,this.NodeId=e.NodeID,e.Status&&e.Status.ContainerStatus&&e.Status.ContainerStatus.ContainerID&&(this.ContainerId=e.Status.ContainerStatus.ContainerID)}n.r(t),n.d(t,{TaskViewModel:()=>a})},80682:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VolumeViewModel:()=>s});var a=n(45429);function s(e){this.Id=e.Name,this.CreatedAt=e.CreatedAt,this.Driver=e.Driver,this.Options=e.Options,this.Labels=e.Labels,this.Labels&&this.Labels["com.docker.compose.project"]?this.StackName=this.Labels["com.docker.compose.project"]:this.Labels&&this.Labels["com.docker.stack.namespace"]&&(this.StackName=this.Labels["com.docker.stack.namespace"]),this.Mountpoint=e.Mountpoint,this.ResourceId=e.ResourceID,e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName))}},27401:(e,t,n)=>{"use strict";n.r(t);var a=n(12944);angular.module("portainer.docker").factory("Build",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return e(t+"/:endpointId/docker/build",{endpointId:n.endpointID},{buildImage:{method:"POST",ignoreLoadingBar:!0,transformResponse:a.jsonObjectsToArrayHandler,isArray:!0,headers:{"Content-Type":"application/x-tar"}},buildImageOverride:{method:"POST",ignoreLoadingBar:!0,transformResponse:a.jsonObjectsToArrayHandler,isArray:!0}})}])},66055:()=>{angular.module("portainer.docker").factory("Commit",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/commit",{endpointId:n.endpointID},{commitContainer:{method:"POST",params:{container:"@id",repo:"@repo"},ignoreLoadingBar:!0}})}])},12477:()=>{angular.module("portainer.docker").factory("Config",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/configs/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0},create:{method:"POST",params:{action:"create"},ignoreLoadingBar:!0},remove:{method:"DELETE",params:{id:"@id"}}})}])},82791:(e,t,n)=>{"use strict";n.r(t);var a=n(12944);angular.module("portainer.docker").factory("Container",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","ContainersInterceptor",function(e,t,n,s){return e(t+"/:endpointId/docker/containers/:id/:action",{name:"@name",endpointId:n.endpointID},{query:{method:"GET",params:{all:0,action:"json",filters:"@filters"},isArray:!0,interceptor:s},get:{method:"GET",params:{action:"json"}},logs:{method:"GET",params:{id:"@id",action:"logs"},ignoreLoadingBar:!0,transformResponse:a.logsHandler},stats:{method:"GET",params:{id:"@id",stream:!1,action:"stats"},ignoreLoadingBar:!0},top:{method:"GET",params:{id:"@id",action:"top"},ignoreLoadingBar:!0},create:{method:"POST",params:{action:"create"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},exec:{method:"POST",params:{id:"@id",action:"exec"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},inspect:{method:"GET",params:{id:"@id",action:"json"}},update:{method:"POST",params:{id:"@id",action:"update"}},prune:{method:"POST",params:{action:"prune",filters:"@filters"}},resize:{method:"POST",params:{id:"@id",action:"resize",h:"@height",w:"@width"},transformResponse:a.genericHandler,ignoreLoadingBar:!0}})}])},6396:(e,t,n)=>{"use strict";n.r(t);var a=n(12944);angular.module("portainer.docker").factory("Exec",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return e(t+"/:endpointId/docker/exec/:id/:action",{endpointId:n.endpointID},{resize:{method:"POST",params:{id:"@id",action:"resize",h:"@height",w:"@width"},transformResponse:a.genericHandler,ignoreLoadingBar:!0}})}])},10679:(e,t,n)=>{"use strict";n.r(t);var a=n(12944),s=n(89615);angular.module("portainer.docker").factory("Image",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","HttpRequestHelper","ImagesInterceptor",function(e,t,n,i,r){return e(t+"/:endpointId/docker/images/:id/:action",{endpointId:n.endpointID},{query:{method:"GET",params:{all:0,action:"json"},isArray:!0,interceptor:r},get:{method:"GET",params:{action:"json"}},search:{method:"GET",params:{action:"search"}},history:{method:"GET",params:{action:"history"},isArray:!0},insert:{method:"POST",params:{id:"@id",action:"insert"}},tag:{method:"POST",params:{id:"@id",action:"tag",force:0,repo:"@repo"},ignoreLoadingBar:!0},inspect:{method:"GET",params:{id:"@id",action:"json"}},push:{method:"POST",params:{action:"push",id:"@imageName"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler,headers:{"X-Registry-Auth":i.registryAuthenticationHeader},ignoreLoadingBar:!0},create:{method:"POST",params:{action:"create",fromImage:"@fromImage"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler,headers:{"X-Registry-Auth":i.registryAuthenticationHeader},ignoreLoadingBar:!0},download:{method:"GET",params:{action:"get",names:"@names"},transformResponse:s.imageGetResponse,responseType:"blob",ignoreLoadingBar:!0},remove:{method:"DELETE",params:{id:"@id",force:"@force"},isArray:!0,transformResponse:a.deleteImageHandler}})}])},96452:(e,t,n)=>{"use strict";n.r(t);var a=n(12944);angular.module("portainer.docker").factory("Network",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","NetworksInterceptor",function(e,t,n,s){return e(t+"/:endpointId/docker/networks/:id/:action",{id:"@id",endpointId:n.endpointID},{query:{method:"GET",isArray:!0,interceptor:s},get:{method:"GET"},create:{method:"POST",params:{action:"create"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},remove:{method:"DELETE",transformResponse:a.genericHandler},connect:{method:"POST",params:{action:"connect"}},disconnect:{method:"POST",params:{action:"disconnect"}}})}])},71989:()=>{angular.module("portainer.docker").factory("Node",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/nodes/:id/:action",{endpointId:n.endpointID},{query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"POST",params:{id:"@id",action:"update",version:"@version"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},357:()=>{angular.module("portainer.docker").factory("Plugin",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/plugins/:id/:action",{endpointId:n.endpointID},{query:{method:"GET",isArray:!0}})}])},12944:(e,t,n)=>{"use strict";function a(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t)return t}catch(e){}return!1}function s(e){if(!e)return[];var t="["+e.replace(/\n/g," ").replace(/\}\s*\{/g,"}, {")+"]";return angular.fromJson(t)}function i(e){var t={};return e?(a(e)?t=angular.fromJson(e):t.message=e,t):t}function r(e){return{logs:e}}function o(e){var t,n=[];if(a(e))if(t=e,"[object Array]"!==Object.prototype.toString.call(t)){var s=angular.fromJson(e);n.push(s)}else n=angular.fromJson(e);else n.push({message:e});return n}n.r(t),n.d(t,{jsonObjectsToArrayHandler:()=>s,genericHandler:()=>i,logsHandler:()=>r,deleteImageHandler:()=>o})},89615:(e,t,n)=>{"use strict";function a(e){var t={};return t.file=e,t}n.r(t),n.d(t,{imageGetResponse:()=>a})},64522:()=>{angular.module("portainer.docker").factory("Secret",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/secrets/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0},create:{method:"POST",params:{action:"create"},ignoreLoadingBar:!0},remove:{method:"DELETE",params:{id:"@id"}}})}])},49449:(e,t,n)=>{"use strict";n.r(t);var a=n(12944);angular.module("portainer.docker").factory("Service",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","HttpRequestHelper",function(e,t,n,s){return e(t+"/:endpointId/docker/services/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0,params:{filters:"@filters"}},create:{method:"POST",params:{action:"create"},headers:{"X-Registry-Auth":s.registryAuthenticationHeader,version:"1.29"},ignoreLoadingBar:!0},update:{method:"POST",params:{id:"@id",action:"update",version:"@version",rollback:"@rollback"},headers:{version:"1.29"}},remove:{method:"DELETE",params:{id:"@id"}},logs:{method:"GET",params:{id:"@id",action:"logs"},ignoreLoadingBar:!0,transformResponse:a.logsHandler}})}])},52358:()=>{angular.module("portainer.docker").factory("Swarm",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/swarm",{endpointId:n.endpointID},{get:{method:"GET"}})}])},61489:(e,t,n)=>{"use strict";n.r(t);var a=n(12944);angular.module("portainer.docker").factory("System",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","InfoInterceptor","VersionInterceptor",function(e,t,n,s,i){return e(t+"/:endpointId/docker/:action/:subAction",{name:"@name",endpointId:n.endpointID},{info:{method:"GET",params:{action:"info"},interceptor:s},version:{method:"GET",params:{action:"version"},interceptor:i},events:{method:"GET",params:{action:"events",since:"@since",until:"@until"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler},auth:{method:"POST",params:{action:"auth"}},dataUsage:{method:"GET",params:{action:"system",subAction:"df"}}})}])},86666:()=>{angular.module("portainer.docker").factory("SystemEndpoint",["$resource","API_ENDPOINT_ENDPOINTS",function(e,t){"use strict";return e(t+"/:endpointId/docker/:action/:subAction",{name:"@name"},{ping:{method:"GET",params:{action:"_ping",endpointId:"@endpointId"}}})}])},3446:(e,t,n)=>{"use strict";n.r(t);var a=n(12944);angular.module("portainer.docker").factory("Task",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return e(t+"/:endpointId/docker/tasks/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0,params:{filters:"@filters"}},logs:{method:"GET",params:{id:"@id",action:"logs"},ignoreLoadingBar:!0,transformResponse:a.logsHandler}})}])},28192:(e,t,n)=>{"use strict";n.r(t);var a=n(12944);angular.module("portainer.docker").factory("Volume",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","VolumesInterceptor",function(e,t,n,s){return e(t+"/:endpointId/docker/volumes/:id/:action",{endpointId:n.endpointID},{query:{method:"GET",interceptor:s},get:{method:"GET",params:{id:"@id"}},create:{method:"POST",params:{action:"create"},transformResponse:a.genericHandler,ignoreLoadingBar:!0,headers:{"X-Portainer-VolumeName":function(e){return e.data.Name||""}}},remove:{method:"DELETE",transformResponse:a.genericHandler,params:{id:"@id"}}})}])},90544:(e,t,n)=>{"use strict";n.r(t);var a=n(84647);angular.module("portainer.docker").factory("BuildService",["$q","Build","FileUploadService",function(e,t,n){return{buildImageFromUpload:function(t,s,i){var r=e.defer();return n.buildImage(t,s,i).then((function(e){var t=new a.ImageBuildModel(e.data);r.resolve(t)})).catch((function(e){r.reject(e)})),r.promise},buildImageFromURL:function(n,s,i){var r={t:n,remote:s,dockerfile:i},o=e.defer();return t.buildImage(r,{}).$promise.then((function(e){var t=new a.ImageBuildModel(e);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise},buildImageFromDockerfileContent:function(n,s){var i={t:n},r={content:s},o=e.defer();return t.buildImageOverride(i,r).$promise.then((function(e){var t=new a.ImageBuildModel(e);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise}}}])},81287:(e,t,n)=>{"use strict";n.r(t);var a=n(66807);angular.module("portainer.docker").factory("ConfigService",["$q","Config",function(e,t){return{config:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.ConfigViewModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve config details",err:e})})),s.promise},configs:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.ConfigViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve configs",err:e})})),n.promise},remove:function(n){var a=e.defer();return t.remove({id:n}).$promise.then((function(e){e.message?a.reject({msg:e.message}):a.resolve()})).catch((function(e){a.reject({msg:"Unable to remove config",err:e})})),a.promise},create:function(e){return t.create(e).$promise}}}])},40725:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(20249),r=n(12064);function o(e,t,n,a,s){const o={killContainer:l(i.ri),pauseContainer:l(i.VZ),renameContainer:l(i.bh),restartContainer:l(i.wG),resumeContainer:l(i.dZ),startContainer:l(i.Zk),stopContainer:l(i.hO),remove:l(i.sc),updateLimits:function(e,n){return t.update({id:e},{MemoryReservation:n.HostConfig.MemoryReservation,Memory:n.HostConfig.Memory,MemorySwap:-1,NanoCpus:n.HostConfig.NanoCpus}).$promise},container:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new r.ContainerDetailsViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve container information",err:e})})),a.promise},containers:function(n,a){var s=e.defer();return t.query({all:n,filters:a}).$promise.then((function(e){var t=e.map((function(e){return new r.ContainerViewModel(e)}));s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve containers",err:e})})),s.promise},resizeTTY:function(n,s,i,r){var o=e.defer();return a((function(){t.resize({},{id:n,height:i,width:s}).$promise.then((function(e){e.message?o.reject({msg:"Unable to resize tty of container "+n,err:e.message}):o.resolve(e)})).catch((function(e){o.reject({msg:"Unable to resize tty of container "+n,err:e})}))}),r),o.promise},updateRestartPolicy:function(e,n,a){return t.update({id:e},{RestartPolicy:{Name:n,MaximumRetryCount:a}}).$promise},createContainer:function(n){var a=e.defer();return t.create(n).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:"Unable to create container",err:e})})),a.promise},createAndStartContainer:function(t){var n,a=e.defer();return o.createContainer(t).then((function(e){return n=e,o.startContainer(n.Id)})).then((function(){a.resolve(n)})).catch((function(e){a.reject(e)})),a.promise},createExec:function(n){var a=e.defer();return t.exec({},n).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve(e)})).catch((function(e){a.reject(e)})),a.promise},logs:function(a,s,i,r,o,l,c){var d=e.defer(),u={id:a,stdout:s||0,stderr:i||0,timestamps:r||0,since:o||0,tail:l||"all"};return t.logs(u).$promise.then((function(e){var t=n.formatLogs(e.logs,c);d.resolve(t)})).catch((function(e){d.reject(e)})),d.promise},containerStats:function(n){var a=e.defer();return t.stats({id:n}).$promise.then((function(e){var t=new r.ContainerStatsViewModel(e);a.resolve(t)})).catch((function(e){a.reject(e)})),a.promise},containerTop:function(e){return t.top({id:e}).$promise},inspect:function(e){return t.inspect({id:e}).$promise},prune:function(e){return t.prune({filters:e}).$promise}};return o;function l(e){return function(...t){const n=s.endpointID();return e(n,...t)}}}o.$inject=["$q","Container","LogHelper","$timeout","EndpointProvider"],s().module("portainer.docker").factory("ContainerService",o)},9401:()=>{angular.module("portainer.docker").factory("ExecService",["$q","$timeout","Exec",function(e,t,n){"use strict";return{resizeTTY:function(a,s,i,r){var o=e.defer();return t((function(){n.resize({},{id:a,height:i,width:s}).$promise.then((function(e){e.message?o.reject({msg:"Unable to resize tty of exec",err:e.message}):o.resolve(e)})).catch((function(e){o.reject({msg:"Unable to resize tty of exec",err:e})}))}),r),o.promise}}}])},45203:(e,t,n)=>{"use strict";n.r(t);var a=n(17908),s=n.n(a),i=n(75345),r=n.n(i),o=n(71204),l=n.n(o),c=n(74362),d=n.n(c),u=n(46006),p=n.n(u),m=n(84647),g=n(56946),h=n(75208);angular.module("portainer.docker").factory("ImageService",["$q","Image","ImageHelper","RegistryService","HttpRequestHelper","ContainerService","FileUploadService",function(e,t,n,a,i,o,c){var u={image:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){if(e.message)a.reject({msg:e.message});else{var t=new g.ImageDetailsViewModel(e);a.resolve(t)}})).catch((function(e){a.reject({msg:"Unable to retrieve image details",err:e})})),a.promise},images:function(n){var a=e.defer();return e.all({containers:n?o.containers(1):[],images:t.query({}).$promise}).then((function(e){var t=e.containers,n=e.images.map((function(e){e.ContainerCount=0;for(var n=0;n<t.length;n++)t[n].ImageID===e.Id&&e.ContainerCount++;return new m.ImageViewModel(e)}));a.resolve(n)})).catch((function(e){a.reject({msg:"Unable to retrieve images",err:e})})),a.promise},history:function(n){var a=e.defer();return t.history({id:n}).$promise.then((function(e){if(e.message)a.reject({msg:e.message});else{var t=[],n=e.length;angular.forEach(e,(function(e){t.push(new h.ImageLayerViewModel(n,e)),n--})),a.resolve(t)}})).catch((function(e){a.reject({msg:"Unable to retrieve image details",err:e})})),a.promise},pushImage:function(s){var r=e.defer(),o=s.Registry.Authentication?a.encodedCredentials(s.Registry):"";i.setRegistryAuthenticationHeader(o);const l=n.createImageConfigForContainer(s);return t.push({imageName:l.fromImage}).$promise.then((function(e){e[e.length-1].error?r.reject({msg:e[e.length-1].error}):r.resolve()})).catch((function(e){r.reject({msg:"Unable to push image tag",err:e})})),r.promise},pullImage:function(s,r){var o=s.Registry.Authentication?a.encodedCredentials(s.Registry):"";i.setRegistryAuthenticationHeader(o);var l=n.createImageConfigForContainer(s);return r?function(n){var a=e.defer();return t.create({},n).$promise.catch((()=>{})).finally((function(){a.resolve()})),a.promise}(l):function(n){var a=e.defer();return t.create({},n).$promise.then((function(e){if(e.length>0&&e[e.length-1].message){var t=e[e.length-1];a.reject({msg:t.message})}else a.resolve(e)})).catch((function(e){a.reject({msg:"Unable to pull image",err:e})})),a.promise}(l)},tagImage:function(e,n){return t.tag({id:e,repo:n}).$promise},downloadImages:function(e){var a=n.getImagesNamesForDownload(e);return t.download(a).$promise},uploadImage:function(e){return c.loadImages(e)},deleteImage:function(n,a){var s=e.defer();return t.remove({id:n,force:a}).$promise.then((function(e){e[0].message?s.reject({msg:e[0].message}):s.resolve()})).catch((function(e){s.reject({msg:"Unable to remove image",err:e})})),s.promise},getUniqueTagListFromImages:function(e){return p()(d()(e,(function(e){return l()(e.RepoTags,(function(e){return-1!==e.indexOf("<none>")})),e.RepoTags?r()(e.RepoTags,s()):[]})))}};return u}])},23116:(e,t,n)=>{"use strict";n.r(t);var a=n(70983);angular.module("portainer.docker").factory("NetworkService",["$q","Network",function(e,t){return{create:function(n){var a=e.defer();return t.create(n).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:"Unable to create network",err:e})})),a.promise},network:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.NetworkViewModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve network details",err:e})})),s.promise},networks:function(n,s,i,r){var o=e.defer();return t.query({filters:r}).$promise.then((function(e){var t=e.filter((function(e){return n&&"local"===e.Scope||s&&"swarm"===e.Scope||i&&"swarm"===e.Scope&&!0===e.Attachable?e:void 0})).map((function(e){return new a.NetworkViewModel(e)}));o.resolve(t)})).catch((function(e){o.reject({msg:"Unable to retrieve networks",err:e})})),o.promise},remove:function(e){return t.remove({id:e}).$promise},disconnectContainer:function(e,n,a){return t.disconnect({id:e},{Container:n,Force:a}).$promise},connectContainer:function(e,n,a){var s={Container:n};return a&&(s.EndpointConfig={Aliases:a}),t.connect({id:e},s).$promise}}}])},39272:(e,t,n)=>{"use strict";n.r(t);var a=n(11339);angular.module("portainer.docker").factory("NodeService",["$q","Node",function(e,t){var n={nodes:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.NodeViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve nodes",err:e})})),n.promise},node:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.NodeViewModel(e);return s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve node",err:e})})),s.promise},updateNode:function(e){return t.update({id:e.Id,version:e.Version},e).$promise},getActiveManager:function(){var t=e.defer();return n.nodes().then((function(e){for(var n=0;n<e.length;++n){var a=e[n];if("manager"===a.Role&&"active"===a.Availability&&"ready"===a.Status&&"0.0.0.0"!==a.Addr){t.resolve(a);break}}})).catch((function(e){t.reject({msg:"Unable to retrieve nodes",err:e})})),t.promise}};return n}])},52589:(e,t,n)=>{"use strict";n.r(t);var a=n(44716),s=n.n(a),i=n(34161);angular.module("portainer.docker").factory("PluginService",["$q","Plugin","SystemService",function(e,t,n){var a={};function r(t,i,r){var o=e.defer();return e.all({system:n.plugins(),plugins:t?[]:a.plugins()}).then((function(e){var t=[],n=e.system,a=e.plugins;n[i]&&(t=t.concat(n[i]));for(var l=0;l<a.length;l++){var c=a[l];c.Enabled&&s()(c.Config.Interface.Types,r)&&t.push(c.Name)}o.resolve(t)})).catch((function(e){o.reject({msg:e.msg,err:e})})),o.promise}return a.plugins=function(){var n=e.defer(),a=[];return t.query({}).$promise.then((function(e){for(var t=0;t<e.length;t++){var n=new i.PluginViewModel(e[t]);a.push(n)}})).finally((function(){n.resolve(a)})),n.promise},a.volumePlugins=function(e){return r(e,"Volume","docker.volumedriver/1.0")},a.networkPlugins=function(e){return r(e,"Network","docker.networkdriver/1.0")},a.loggingPlugins=function(e){return r(e,"Log","docker.logdriver/1.0")},a}])},50225:(e,t,n)=>{"use strict";n.r(t);var a=n(89638);angular.module("portainer.docker").factory("SecretService",["$q","Secret",function(e,t){return{secret:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.SecretViewModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve secret details",err:e})})),s.promise},secrets:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.SecretViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve secrets",err:e})})),n.promise},remove:function(n){var a=e.defer();return t.remove({id:n}).$promise.then((function(e){e.message?a.reject({msg:e.message}):a.resolve()})).catch((function(e){a.reject({msg:"Unable to remove secret",err:e})})),a.promise},create:function(e){return t.create(e).$promise}}}])},52550:(e,t,n)=>{"use strict";n.r(t);var a=n(7456);angular.module("portainer.docker").factory("ServiceService",["$q","Service","ServiceHelper","TaskService","ResourceControlService","LogHelper",function(e,t,n,s,i,r){var o={services:function(n){var s=e.defer();return t.query({filters:n||{}}).$promise.then((function(e){var t=e.map((function(e){return new a.ServiceViewModel(e)}));s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve services",err:e})})),s.promise},service:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.ServiceViewModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve service details",err:e})})),s.promise},remove:function(n){var a=e.defer();return t.remove({id:n.Id}).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve()})).catch((function(e){a.reject({msg:"Unable to remove service",err:e})})),a.promise},update:function(e,n,a){return o.service(e.Id).then((s=>{const i={id:e.Id,version:s.Version};return a&&(i.rollback=a),t.update(i,n).$promise}))},logs:function(n,a,s,i,o,l){var c=e.defer(),d={id:n,stdout:a||0,stderr:s||0,timestamps:i||0,since:o||0,tail:l||"all"};return t.logs(d).$promise.then((function(e){var t=r.formatLogs(e.logs,!0);c.resolve(t)})).catch((function(e){c.reject(e)})),c.promise}};return o}])},15268:(e,t,n)=>{"use strict";n.r(t);var a=n(90906);angular.module("portainer.docker").factory("SwarmService",["$q","Swarm",function(e,t){return{swarm:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.SwarmViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve Swarm details",err:e})})),n.promise}}}])},39983:(e,t,n)=>{"use strict";n.r(t);var a=n(44333);angular.module("portainer.docker").factory("SystemService",["$q","System","SystemEndpoint",function(e,t,n){return{plugins:function(){var n=e.defer();return t.info({}).$promise.then((function(e){var t=e.Plugins;n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve plugins information from system",err:e})})),n.promise},info:function(){return t.info({}).$promise},ping:function(e){return n.ping({endpointId:e}).$promise},version:function(){return t.version({}).$promise},events:function(n,s){var i=e.defer();return t.events({since:n,until:s}).$promise.then((function(e){var t=e.map((function(e){return new a.EventViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:"Unable to retrieve engine events",err:e})})),i.promise},dataUsage:function(){return t.dataUsage().$promise}}}])},98585:(e,t,n)=>{"use strict";n.r(t);var a=n(59146);angular.module("portainer.docker").factory("TaskService",["$q","Task","LogHelper",function(e,t,n){return{task:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.TaskViewModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve task details",err:e})})),s.promise},tasks:function(n){var s=e.defer();return t.query({filters:n||{}}).$promise.then((function(e){var t=e.map((function(e){return new a.TaskViewModel(e)}));s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve tasks",err:e})})),s.promise},logs:function(a,s,i,r,o,l){var c=e.defer(),d={id:a,stdout:s||0,stderr:i||0,timestamps:r||0,since:o||0,tail:l||"all"};return t.logs(d).$promise.then((function(e){var t=n.formatLogs(e.logs,!0);c.resolve(t)})).catch((function(e){c.reject(e)})),c.promise}}}])},31746:(e,t,n)=>{"use strict";n.r(t);var a=n(80682);angular.module("portainer.docker").factory("VolumeService",["$q","Volume","VolumeHelper",function(e,t,n){var s={volumes:function(n){var s=e.defer();return t.query(n).$promise.then((function(e){var t=e.Volumes||[];t=t.map((function(e){return new a.VolumeViewModel(e)})),s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve volumes",err:e})})),s.promise},volume:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.VolumeViewModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve volume details",err:e})})),s.promise},getVolumes:function(){return t.query({}).$promise},remove:function(n){var a=e.defer();return t.remove({id:n.Id}).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve()})).catch((function(e){a.reject({msg:"Unable to remove volume",err:e})})),a.promise},createVolumeConfiguration:function(e,t,a){return{Name:e,Driver:t,DriverOpts:n.createDriverOptions(a)}},createVolume:function(n){var s=e.defer();return t.create(n).$promise.then((function(e){if(e.message)s.reject({msg:e.message});else{var t=new a.VolumeViewModel(e);s.resolve(t)}})).catch((function(e){s.reject({msg:"Unable to create volume",err:e})})),s.promise},createVolumes:function(t){var n=t.map((function(e){return s.createVolume(e)}));return e.all(n)},createXAutoGeneratedLocalVolumes:function(t){for(var n=[],a=0;a<t;a++)n.push(s.createVolume({Driver:"local"}));return e.all(n)}};return s}])},42177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a);class i{constructor(e,t,n,a){this.$state=e,this.ConfigService=t,this.Notifications=n,this.$async=a,this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.getConfigs=this.getConfigs.bind(this),this.getConfigsAsync=this.getConfigsAsync.bind(this)}getConfigs(){return this.$async(this.getConfigsAsync)}async getConfigsAsync(){try{this.configs=await this.ConfigService.configs()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configs")}}async $onInit(){this.configs=[],this.getConfigs()}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.ConfigService.remove(n.Id),this.Notifications.success("Config successfully removed",n.Name);const e=this.configs.indexOf(n);this.configs.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove config")}finally{--t,0===t&&this.$state.reload()}}}i.$inject=["$state","ConfigService","Notifications","$async"];const r=i;s().module("portainer.docker").controller("ConfigsController",i)},96068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(68260),s=n.n(a),i=n(29274),r=n.n(i),o=n(19898);class l{constructor(e,t,n,a,s,i,r,l,c,d){this.$state=t,this.$transition$=n,this.$window=a,this.ModalService=s,this.Notifications=i,this.ConfigService=r,this.Authentication=l,this.FormValidator=c,this.ResourceControlService=d,this.$async=e,this.formValues={Name:"",Labels:[],AccessControlData:new o.AccessControlFormData,ConfigContent:""},this.state={formValidationError:"",isEditorDirty:!1},this.editorUpdate=this.editorUpdate.bind(this),this.createAsync=this.createAsync.bind(this)}async $onInit(){if(this.$window.onbeforeunload=()=>{if(this.formValues.displayCodeEditor&&this.formValues.ConfigContent&&this.state.isEditorDirty)return""},this.$transition$.params().id)try{let e=await this.ConfigService.config(this.$transition$.params().id);this.formValues.Name=e.Name+"_copy",this.formValues.Data=e.Data;let t=s()(e.Labels);for(let n=0;n<t.length;n++){let a=t[n],s=e.Labels[a];this.formValues.Labels.push({name:a,value:s})}this.formValues.displayCodeEditor=!0}catch(e){this.formValues.displayCodeEditor=!0,this.Notifications.error("Failure",e,"Unable to clone config")}else this.formValues.displayCodeEditor=!0}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(this.formValues.displayCodeEditor&&this.formValues.ConfigContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}addLabel(){this.formValues.Labels.push({name:"",value:""})}removeLabel(e){this.formValues.Labels.splice(e,1)}prepareLabelsConfig(e){let t={};this.formValues.Labels.forEach((function(e){e.name&&e.value&&(t[e.name]=e.value)})),e.Labels=t}prepareConfigData(e){let t=this.formValues.ConfigContent;e.Data=btoa(unescape(encodeURIComponent(t)))}prepareConfiguration(){let e={};return e.Name=this.formValues.Name,this.prepareConfigData(e),this.prepareLabelsConfig(e),e}validateForm(e,t){this.state.formValidationError="";let n="";return n=this.FormValidator.validateAccessControl(e,t),!n||(this.state.formValidationError=n,!1)}create(){return this.$async(this.createAsync)}async createAsync(){const e=this.formValues.AccessControlData,t=this.Authentication.getUserDetails(),n=this.Authentication.isAdmin();if(""===this.formValues.ConfigContent)return void(this.state.formValidationError="Config content must not be empty");if(!this.validateForm(e,n))return;const a=this.prepareConfiguration();try{const n=(await this.ConfigService.create(a)).Portainer.ResourceControl,s=t.ID;await this.ResourceControlService.applyResourceControl(s,e,n),this.Notifications.success("Config successfully created"),this.state.isEditorDirty=!1,this.$state.go("docker.configs",{},{reload:!0})}catch(e){this.Notifications.error("Failure",e,"Unable to create config"),this.state.isEditorDirty=!0}}editorUpdate(e){this.formValues.ConfigContent=e.getValue(),this.state.isEditorDirty=!0}}l.$inject=["$async","$state","$transition$","$window","ModalService","Notifications","ConfigService","Authentication","FormValidator","ResourceControlService"];const c=l;r().module("portainer.docker").controller("CreateConfigController",l)},63301:()=>{angular.module("portainer.docker").controller("ConfigController",["$scope","$transition$","$state","ConfigService","Notifications",function(e,t,n,a,s){e.removeConfig=function(e){a.remove(e).then((function(){s.success("Config successfully removed"),n.go("docker.configs",{})})).catch((function(e){s.error("Failure",e,"Unable to remove config")}))},a.config(t.params().id).then((function(t){e.config=t})).catch((function(e){s.error("Failure",e,"Unable to retrieve config details")}))}])},85196:(e,t,n)=>{"use strict";n.r(t);var a=n(96049),s=n(50433);angular.module("portainer.docker").controller("ContainerConsoleController",["$scope","$state","$transition$","ContainerService","ImageService","Notifications","ContainerHelper","ExecService","HttpRequestHelper","LocalStorage","CONSOLE_COMMANDS_LABEL_PREFIX",function(e,t,n,i,r,o,l,c,d,u,p){var m,g;let h=Object.freeze({disconnected:0,connecting:1,connected:2});function f(e,t){t=t||0,g.fit();var n=g.cols;g.resize(n,30),e(n+t,30+t,1)}function v(t,s){let i=f.bind(this,s);n.params().nodeName&&(t+="&nodeName="+n.params().nodeName),t=t.indexOf("https")>-1?t.replace("https://","wss://"):t.replace("http://","ws://"),(m=new WebSocket(t)).onopen=function(){e.state=h.connected,(g=new a.o).on("data",(function(e){m.send(e)}));var t=document.getElementById("terminal-container");g.open(t),g.focus(),g.setOption("cursorBlink",!0),window.onresize=function(){i(),e.$apply()},e.$watch("toggle",(function(){setTimeout(i,400)})),m.onmessage=function(e){g.write(e.data)},m.onerror=function(t){e.disconnect(),e.$apply(),o.error("Failure",t,"Connection error")},m.onclose=function(){e.disconnect(),e.$apply()},i(1),e.$apply()}}e.loaded=!1,e.states=h,e.state=h.disconnected,e.formValues={},e.containerCommands=[],e.$on("$stateChangeStart",(function(){e.disconnect()})),e.connectAttach=function(){if(e.state>h.disconnected)return;e.state=h.connecting;let a=n.params().id;i.container(a).then((n=>{if(!n.State.Running)return o.error("Failure",n,"Container "+a+" is not running!"),void e.disconnect();const r={token:u.getJWT(),endpointId:t.params.endpointId,id:a};v(window.location.origin+(0,s.baseHref)()+"api/websocket/attach?"+Object.keys(r).map((e=>e+"="+r[e])).join("&"),i.resizeTTY.bind(this,a))})).catch((function(t){o.error("Error",t,"Unable to retrieve container details"),e.disconnect()}))},e.connectExec=function(){if(!(e.state>h.disconnected)){e.state=h.connecting;var a=e.formValues.isCustomCommand?e.formValues.customCommand:e.formValues.command,r={id:n.params().id,AttachStdin:!0,AttachStdout:!0,AttachStderr:!0,Tty:!0,User:e.formValues.user,Cmd:l.commandStringToArray(a)};i.createExec(r).then((function(e){const n={token:u.getJWT(),endpointId:t.params.endpointId,id:e.Id};v(window.location.origin+(0,s.baseHref)()+"api/websocket/exec?"+Object.keys(n).map((e=>e+"="+n[e])).join("&"),c.resizeTTY.bind(this,n.id))})).catch((function(t){o.error("Failure",t,"Unable to exec into container"),e.disconnect()}))}},e.disconnect=function(){m&&m.close(),e.state>h.disconnected&&(e.state=h.disconnected,g&&(g.write("\n\r(connection closed)"),g.dispose()))},e.autoconnectAttachView=function(){return e.initView().then((function(){e.container.State.Running&&e.connectAttach()}))},e.initView=function(){return d.setPortainerAgentTargetHeader(n.params().nodeName),i.container(n.params().id).then((function(t){var n=t;return e.container=n,r.image(n.Image)})).then((function(t){var n=t,a=e.container.Config.Labels;e.imageOS=n.Os,e.formValues.command="windows"===n.Os?"powershell":"bash",e.containerCommands=Object.keys(a).filter((function(e){return 0===e.indexOf(p)})).map((function(e){return{title:e.replace(p,""),command:a[e]}})),e.loaded=!0})).catch((function(e){o.error("Error",e,"Unable to retrieve container details")}))}}])},89610:()=>{function e(e,t,n,a){function s(){t.containers(1).then((function(t){e.containers=t})).catch((function(t){n.error("Failure",t,"Unable to retrieve containers"),e.containers=[]}))}e.offlineMode=1!==a.Status,e.endpoint=a,e.getContainers=s,s()}e.$inject=["$scope","ContainerService","Notifications","endpoint"],angular.module("portainer.docker").controller("ContainersController",e)},51079:(e,t,n)=>{"use strict";n.r(t);var a=n(98484),s=n.n(a),i=n(51235),r=n.n(i),o=n(39576),l=n.n(o),c=n(66539),d=n.n(c),u=n(13507),p=n.n(u),m=n(83432),g=n.n(m),h=n(6632),f=n.n(h),v=n(4622),b=n.n(v),y=n(41952),w=n.n(y),x=n(76939),S=n(93994),k=n(66328),$=n(19898),C=n(12064);angular.module("portainer.docker").controller("CreateContainerController",["$q","$scope","$async","$state","$timeout","$transition$","$filter","Container","ContainerHelper","ImageHelper","Volume","NetworkService","ResourceControlService","Authentication","Notifications","ContainerService","ImageService","FormValidator","ModalService","RegistryService","SystemService","PluginService","HttpRequestHelper","endpoint","WebhookService",function(e,t,n,a,i,o,c,u,m,h,v,y,A,P,I,T,N,E,R,D,U,V,O,F,L){function _(e){if(t.formValues.MemoryLimit>=0){var n=(Math.round(8*t.formValues.MemoryLimit)/8).toFixed(3);n*=1048576,e.HostConfig.Memory=n}if(t.formValues.MemoryReservation>=0){var a=(Math.round(8*t.formValues.MemoryReservation)/8).toFixed(3);a*=1048576,e.HostConfig.MemoryReservation=a}t.formValues.CpuLimit>=0&&(e.HostConfig.NanoCpus=1e9*t.formValues.CpuLimit)}function M(){var i=null;return O.setPortainerAgentTargetHeader(t.formValues.NodeName),r().then((function(e){return i=e,e})).then((function(t){return t?(n=e.defer(),R.confirm({title:"",message:" Portainer  ",buttons:{confirm:{label:"",className:"btn-danger"}},callback:function(e){n.resolve(e)}}),n.promise):e.when(!0);var n})).then((function(n){return n?(a=t.formValues.AccessControlData,s=t.isAdmin,t.state.formValidationError="",(i=E.validateAccessControl(a,s))&&(t.state.formValidationError=i,1)?e.when():(t.state.actionInProgress=!0,e.when(t.formValues.alwaysPull&&N.pullImage(t.formValues.RegistryModel,!0)).then(k).then(C).then(o).then(D).then(U).then(V).then(M).catch(v))):e.when();var a,s,i})).catch((function(e){I.error("Failure",e,"Unable to create container")})).finally((function(){t.state.actionInProgress=!1}));function r(){return u.query({all:1,filters:{name:["^/"+t.config.name+"$"]}}).$promise.then((function(e){if(e.length)return e[0]})).catch((function(e){I.error("Failure",e,"Unable to retrieve containers")}))}function o(e){if(4!==F.Type&&t.formValues.EnableWebhook){const n=f()(t.formValues.RegistryModel,"Registry.Id",0);L.createWebhook(e.Id,F.Id,n,2).then((function(){return e}))}return e}function v(t){var n=e.defer();return r().then((function(e){if(e&&(!i||e.Id!==i.Id))return T.remove(e,!0)})).then(x).then((function(){n.reject(t)})).catch((function(e){n.reject(e)})),n.promise}function x(){if(i)return T.renameContainer(i.Id,i.Names[0].substring(1))}function k(){return i?function(t){return"running"!==t.State?e.when():T.stopContainer(t.Id)}(i).then($):e.when()}function $(){return T.renameContainer(i.Id,i.Names[0].substring(1)+"-old")}function C(){return n((async()=>{const e=function(){var e=angular.copy(t.config);return function(e){b()(e.Cmd)||"default"==t.formValues.CmdMode?delete e.Cmd:e.Cmd=m.commandStringToArray(e.Cmd)}(e),function(e){("default"==t.formValues.EntrypointMode||b()(e.Cmd)&&b()(e.Entrypoint))&&(e.Entrypoint=null)}(e),function(e){var n=e.HostConfig.NetworkMode,a=t.formValues.NetworkContainer,s=a;a&&"object"==typeof a&&(s=c("trimcontainername")(a.Names[0]));var i=n;if(s&&(i+=":"+s,e.Hostname=""),e.HostConfig.NetworkMode=i,e.MacAddress=t.formValues.MacAddress,e.NetworkingConfig.EndpointsConfig[i]={IPAMConfig:{IPv4Address:t.formValues.IPv4,IPv6Address:t.formValues.IPv6}},i&&f()(t.config.NetworkingConfig.EndpointsConfig[i],"Aliases")){var r=t.config.NetworkingConfig.EndpointsConfig[i].Aliases;e.NetworkingConfig.EndpointsConfig[i].Aliases=g()(r,(e=>!p()(t.fromContainer.Id,e)))}var o=[];t.formValues.DnsPrimary&&o.push(t.formValues.DnsPrimary),t.formValues.DnsSecondary&&o.push(t.formValues.DnsSecondary),e.HostConfig.Dns=o,e.HostConfig.ExtraHosts=d()(g()(t.formValues.ExtraHosts,(e=>e.value)),"value")}(e),function(e){const n=h.createImageConfigForContainer(t.formValues.RegistryModel);e.Image=n.fromImage}(e),function(e){const t=m.preparePortBindings(e.HostConfig.PortBindings);e.ExposedPorts={},w()(t,((t,n)=>e.ExposedPorts[n]={})),e.HostConfig.PortBindings=t}(e),function(e){var n=t.formValues.Console,a=!0,s=!0;"tty"===n?a=!1:"interactive"===n?s=!1:"none"===n&&(a=!1,s=!1),e.OpenStdin=a,e.Tty=s}(e),function(e){e.Env=S.convertToArrayOfStrings(t.formValues.Env)}(e),function(e){var n=[],a={};t.formValues.Volumes.forEach((function(e){var t=e.name,s=e.containerPath;if(t&&s){var i=t+":"+s;a[s]={},e.readOnly&&(i+=":ro"),n.push(i)}})),e.HostConfig.Binds=n,e.Volumes=a}(e),function(e){var n={};t.formValues.Labels.forEach((function(e){e.name&&(e.value?n[e.name]=e.value:n[e.name]="")})),e.Labels=n}(e),function(e){var t=[];e.HostConfig.Devices.forEach((function(e){e.pathOnHost&&(""===e.pathInContainer&&(e.pathInContainer=e.pathOnHost),t.push({PathOnHost:e.pathOnHost,PathInContainer:e.pathInContainer,CgroupPermissions:"rwm"}))})),e.HostConfig.Devices=t}(e),_(e),function(e){var n={};t.formValues.LogDriverName&&(e.HostConfig.LogConfig={Type:t.formValues.LogDriverName},"none"!==t.formValues.LogDriverName&&(t.formValues.LogDriverOpts.forEach((function(e){e.name&&(n[e.name]=e.value)})),0!==Object.keys(n).length&&n.constructor===Object&&(e.HostConfig.LogConfig.Config=n)))}(e),function(e){var n=t.formValues.capabilities.filter((function(e){return!0===e.allowed})),a=t.formValues.capabilities.filter((function(e){return!1===e.allowed})),s=function(e){return e.capability};e.HostConfig.CapAdd=n.map(s),e.HostConfig.CapDrop=a.map(s)}(e),function(e){var n={};t.formValues.Sysctls.forEach((function(e){e.name&&e.value&&(n[e.name]=e.value)})),e.HostConfig.Sysctls=n}(e),e}();return await T.createAndStartContainer(e)}))}function D(e){const n=P.getUserDetails().ID,a=e.Portainer.ResourceControl,s=e.Id,i=t.formValues.AccessControlData;return A.applyResourceControl(n,i,a).then((function(){return s}))}function U(n){if(!t.extraNetworks)return e.when();var a=s()(t.extraNetworks,(function(e,a){if(l()(e,"Aliases"))var s=g()(e.Aliases,(e=>!p()(t.fromContainer.Id,e)));return y.connectContainer(a,n,s)}));return e.all(a)}function V(){var t=e.defer();if(i)return T.remove(i,!0).then((function(){I.success("Container Removed",i.Id),t.resolve()})).catch((function(e){t.reject({msg:"Unable to remove container",err:e})})),t.promise;t.resolve()}function M(){I.success("Container successfully created"),a.go("docker.containers",{},{reload:!0})}}function j(){return P.isAdmin()||P.hasAuthorizations(["EndpointResourcesAccess"])}t.create=M,t.update=async function(){t.state.actionInProgress=!0;var e=angular.copy(t.config);_(e),await async function(e){try{t.state.settingUnlimitedResources?M():(await T.updateLimits(o.params().from,e),t.config=e,I.success("Limits updated"))}catch(e){I.error("Failure",e,"Update Limits fail")}}(e),t.state.actionInProgress=!1},t.endpoint=F,t.formValues={alwaysPull:!0,Console:"none",Volumes:[],NetworkContainer:null,Labels:[],ExtraHosts:[],MacAddress:"",IPv4:"",IPv6:"",DnsPrimary:"",DnsSecondary:"",AccessControlData:new $.AccessControlFormData,CpuLimit:0,MemoryLimit:0,MemoryReservation:0,CmdMode:"default",EntrypointMode:"default",Env:[],NodeName:null,capabilities:[],Sysctls:[],LogDriverName:"",LogDriverOpts:[],RegistryModel:new x.PorImageRegistryModel,EnableWebhook:!1},t.extraNetworks={},t.state={formValidationError:"",actionInProgress:!1,mode:"",pullImageValidity:!0,settingUnlimitedResources:!1},t.handleEnvVarChange=function(e){t.formValues.Env=e},t.refreshSlider=function(){i((function(){t.$broadcast("rzSliderForceRender")}))},t.onImageNameChange=function(){t.formValues.CmdMode="default",t.formValues.EntrypointMode="default"},t.hasAuthorizations=function(e){return t.isAdmin||P.hasAuthorizations(e)},t.setPullImageValidity=function(e){e||(t.formValues.alwaysPull=!1),t.state.pullImageValidity=e},t.config={Image:"",Env:[],Cmd:"",MacAddress:"",ExposedPorts:{},Entrypoint:"",HostConfig:{RestartPolicy:{Name:"no"},PortBindings:[],PublishAllPorts:!1,Binds:[],AutoRemove:!1,NetworkMode:"bridge",Privileged:!1,Init:!1,Runtime:null,ExtraHosts:[],Devices:[],CapAdd:[],CapDrop:[],Sysctls:{}},NetworkingConfig:{EndpointsConfig:{}},Labels:{}},t.addVolume=function(){t.formValues.Volumes.push({name:"",containerPath:"",readOnly:!1,type:"volume"})},t.removeVolume=function(e){t.formValues.Volumes.splice(e,1)},t.addPortBinding=function(){t.config.HostConfig.PortBindings.push({hostPort:"",containerPort:"",protocol:"tcp"})},t.removePortBinding=function(e){t.config.HostConfig.PortBindings.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({name:"",value:""})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addExtraHost=function(){t.formValues.ExtraHosts.push({value:""})},t.removeExtraHost=function(e){t.formValues.ExtraHosts.splice(e,1)},t.addDevice=function(){t.config.HostConfig.Devices.push({pathOnHost:"",pathInContainer:""})},t.removeDevice=function(e){t.config.HostConfig.Devices.splice(e,1)},t.addSysctl=function(){t.formValues.Sysctls.push({name:"",value:""})},t.removeSysctl=function(e){t.formValues.Sysctls.splice(e,1)},t.addLogDriverOpt=function(){t.formValues.LogDriverOpts.push({name:"",value:""})},t.removeLogDriverOpt=function(e){t.formValues.LogDriverOpts.splice(e,1)},t.fromContainerMultipleNetworks=!1,t.resetNetworkConfig=function(){t.config.NetworkingConfig={EndpointsConfig:{}}},t.handleResourceChange=function(){t.state.settingUnlimitedResources=!1,(t.config.HostConfig.Memory>0&&0===t.formValues.MemoryLimit||t.config.HostConfig.MemoryReservation>0&&0===t.formValues.MemoryReservation||t.config.HostConfig.NanoCpus>0&&0===t.formValues.CpuLimit)&&(t.state.settingUnlimitedResources=!0)},async function(){var e=o.params().nodeName;t.formValues.NodeName=e,O.setPortainerAgentTargetHeader(e),t.isAdmin=P.isAdmin(),t.showDeviceMapping=F.SecuritySettings.allowDeviceMappingForRegularUsers||j(),t.areContainerCapabilitiesEnabled=F.SecuritySettings.allowContainerCapabilitiesForRegularUsers||j(),v.query({},(function(e){t.availableVolumes=e.Volumes.sort(((e,t)=>e.Name.localeCompare(t.Name)))}),(function(e){I.error("Failure",e,"Unable to retrieve volumes")}));var n=t.applicationState.endpoint.mode.provider,a=t.applicationState.endpoint.apiVersion;y.networks("DOCKER_STANDALONE"===n||"DOCKER_SWARM_MODE"===n,!1,"DOCKER_SWARM_MODE"===n&&a>=1.25).then((function(e){e.push({Name:"container"}),t.availableNetworks=e.sort(((e,t)=>e.Name.localeCompare(t.Name))),r()(e,{Name:"nat"})&&(t.config.HostConfig.NetworkMode="nat")})).catch((function(e){I.error("Failure",e,"Unable to retrieve networks")})),u.query({},(function(e){var n=e;t.runningContainers=n,o.params().from?u.get({id:o.params().from}).$promise.then((function(e){var n,a=new C.ContainerDetailsViewModel(e);a.ResourceControl&&a.ResourceControl.Public&&(t.formValues.AccessControlData.AccessControlEnabled=!1),t.fromContainer=a,t.state.mode="duplicate",t.config=m.configFromContainer(a.Model),t.config.Cmd&&(t.config.Cmd=m.commandArrayToString(t.config.Cmd),t.formValues.CmdMode="override"),l()(t.config,"Entrypoint")&&(null==t.config.Entrypoint&&(t.config.Entrypoint=""),t.formValues.EntrypointMode="override"),n=e.HostConfig.LogConfig,t.formValues.LogDriverName=n.Type,t.formValues.LogDriverOpts=d()(n.Config,(function(e,t){return{name:t,value:e}})),function(){const e=m.sortAndCombinePorts(t.config.HostConfig.PortBindings);t.config.HostConfig.PortBindings=e}(),function(e){for(var n in e.Mounts)if({}.hasOwnProperty.call(e.Mounts,n)){var a=e.Mounts[n],s={type:a.Type,name:a.Name||a.Source,containerPath:a.Destination,readOnly:!1===a.RW};t.formValues.Volumes.push(s)}}(e),function(e){if(t.config.NetworkingConfig={EndpointsConfig:{}},"default"===e.HostConfig.NetworkMode&&(t.config.HostConfig.NetworkMode="bridge",r()(t.availableNetworks,{Name:"bridge"})||(t.config.HostConfig.NetworkMode="nat")),0===t.config.HostConfig.NetworkMode.indexOf("container:")){var n=t.config.HostConfig.NetworkMode.split(/^container:/)[1];for(var a in t.config.HostConfig.NetworkMode="container",t.runningContainers)t.runningContainers[a].Id==n&&(t.formValues.NetworkContainer=t.runningContainers[a])}if(t.fromContainerMultipleNetworks=Object.keys(e.NetworkSettings.Networks).length>=2,e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode]&&e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig&&(e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv4Address&&(t.formValues.IPv4=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv4Address),e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv6Address&&(t.formValues.IPv6=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv6Address)),t.config.NetworkingConfig.EndpointsConfig[t.config.HostConfig.NetworkMode]=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode],Object.keys(e.NetworkSettings.Networks).length>1){var s=e.NetworkSettings.Networks[Object.keys(e.NetworkSettings.Networks)[0]];t.config.NetworkingConfig.EndpointsConfig[t.config.HostConfig.NetworkMode]=s,t.extraNetworks=angular.copy(e.NetworkSettings.Networks),delete t.extraNetworks[Object.keys(e.NetworkSettings.Networks)[0]]}if(t.formValues.MacAddress=e.Config.MacAddress,e.HostConfig.Dns&&e.HostConfig.Dns[0]&&(t.formValues.DnsPrimary=e.HostConfig.Dns[0],e.HostConfig.Dns[1]&&(t.formValues.DnsSecondary=e.HostConfig.Dns[1])),t.config.HostConfig.ExtraHosts){for(var i=t.config.HostConfig.ExtraHosts,o=0;o<i.length;o++){var l=i[o];t.formValues.ExtraHosts.push({value:l})}t.config.HostConfig.ExtraHosts=[]}}(e),t.formValues.Env=S.parseArrayOfStrings(t.config.Env),function(){for(var e in t.config.Labels)({}).hasOwnProperty.call(t.config.Labels,e)&&t.formValues.Labels.push({name:e,value:t.config.Labels[e]})}(),t.config.OpenStdin&&t.config.Tty?t.formValues.Console="both":!t.config.OpenStdin&&t.config.Tty?t.formValues.Console="tty":t.config.OpenStdin&&!t.config.Tty?t.formValues.Console="interactive":t.config.OpenStdin||t.config.Tty||(t.formValues.Console="none"),function(){var e=[];for(var n in t.config.HostConfig.Devices)if({}.hasOwnProperty.call(t.config.HostConfig.Devices,n)){var a=t.config.HostConfig.Devices[n];e.push({pathOnHost:a.PathOnHost,pathInContainer:a.PathInContainer})}t.config.HostConfig.Devices=e}(),D.retrievePorRegistryModelFromRepository(t.config.Image,F.Id).then((e=>{t.formValues.RegistryModel=e})).catch((function(e){I.error("Failure",e,"Unable to retrieve registry")})),function(e){e.HostConfig.NanoCpus&&(t.formValues.CpuLimit=e.HostConfig.NanoCpus/1e9),e.HostConfig.Memory&&(t.formValues.MemoryLimit=e.HostConfig.Memory/1024/1024),e.HostConfig.MemoryReservation&&(t.formValues.MemoryReservation=e.HostConfig.MemoryReservation/1024/1024)}(e),function(e){function n(e){return e.capability===i.capability}e.HostConfig.CapAdd&&e.HostConfig.CapAdd.forEach((function(e){t.formValues.capabilities.push(new k.ContainerCapability(e,!0))})),e.HostConfig.CapDrop&&e.HostConfig.CapDrop.forEach((function(e){t.formValues.capabilities.push(new k.ContainerCapability(e,!1))}));for(var a=new k.ContainerCapabilities,s=0;s<a.length;s++){var i=a[s];r()(t.formValues.capabilities,n)||t.formValues.capabilities.push(i)}t.formValues.capabilities.sort((function(e,t){return e.capability<t.capability?-1:1}))}(e),function(){for(var e in t.config.HostConfig.Sysctls)({}).hasOwnProperty.call(t.config.HostConfig.Sysctls,e)&&t.formValues.Sysctls.push({name:e,value:t.config.HostConfig.Sysctls[e]})}()})).catch((function(e){I.error("Failure",e,"Unable to retrieve container")})):(t.fromContainer={},t.formValues.capabilities=t.areContainerCapabilitiesEnabled?new k.ContainerCapabilities:[])}),(function(e){I.error("Failure",e,"Unable to retrieve running containers")})),U.info().then((function(e){t.availableRuntimes=e.Runtimes?Object.keys(e.Runtimes):[],t.state.sliderMaxCpu=32,e.NCPU&&(t.state.sliderMaxCpu=e.NCPU),t.state.sliderMaxMemory=32768,e.MemTotal&&(t.state.sliderMaxMemory=Math.floor(e.MemTotal/1e3/1e3))})).catch((function(e){I.error("Failure",e,"Unable to retrieve engine details")})),t.allowBindMounts=j()||F.SecuritySettings.allowBindMountsForRegularUsers,t.allowPrivilegedMode=j()||F.SecuritySettings.allowPrivilegedModeForRegularUsers,t.allowSysctl=j()||F.SecuritySettings.AllowSysctlSettingForRegularUsers,V.loggingPlugins(a<1.25).then((function(e){t.availableLoggingDrivers=e}))}()}])},94518:(e,t,n)=>{"use strict";n.r(t);var a=n(94946),s=n.n(a),i=n(40714),r=n.n(i),o=n(41952),l=n.n(o),c=n(6632),d=n.n(c),u=n(4396),p=n.n(u),m=n(76939),g=n(77918),h=n(52474);angular.module("portainer.docker").controller("ContainerController",["$q","$scope","$state","$transition$","$filter","$async","Commit","ContainerHelper","ContainerService","ImageHelper","NetworkService","Notifications","ModalService","ResourceControlService","RegistryService","ImageService","HttpRequestHelper","Authentication","StateManager","endpoint","WebhookService","WebhookHelper","clipboard",function(e,t,n,a,i,o,c,u,f,v,b,y,w,x,S,k,$,C,A,P,I,T,N){t.endpoint=P,t.isAdmin=C.isAdmin(),t.activityTime=0,t.portBindings=[],t.displayRecreateButton=!1,t.displayWebhookButton=!1,t.WebhookExists=!1,t.WebhookURL=null,t.WebhookID=null,t.container=null,t.config={RegistryModel:new m.PorImageRegistryModel,commitInProgress:!1},t.state={recreateContainerInProgress:!1,joinNetworkInProgress:!1,leaveNetworkInProgress:!1,pullImageValidity:!1},t.hasAuthorizations=function(e){return t.isAdmin||C.hasAuthorizations(e)},t.disabledWebhookButton=function(e){return e?!t.hasAuthorizations(["PortainerWebhookDelete"]):!t.hasAuthorizations(["PortainerWebhookCreate"])},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.updateRestartPolicy=function(n,a){return a="on-failure"===n?a:void 0,f.updateRestartPolicy(t.container.Id,n,a).then((function(){t.container.HostConfig.RestartPolicy={Name:n,MaximumRetryCount:a},y.success(" updated")})).catch((function(t){return y.error("Failure",t,"Unable to update restart policy"),e.reject(t)}))},t.updateWebhook=function(e,n){t.WebhookExists?I.deleteWebhook(t.WebhookID).then((function(){t.WebhookURL=null,t.WebhookID=null,t.WebhookExists=!1})).catch((function(e){y.error("Failure",e,"Unable to delete webhook")})):n||E(e),n&&E(e)},t.copyWebhook=function(){N.copyText(t.WebhookURL),h("#copyNotification").show(),h("#copyNotification").fadeOut(2e3)};const E=function(e){const n=d()(t.config.RegistryModel,"Registry.Id",0);I.createWebhook(e.Id,P.Id,n,2).then((function(e){t.WebhookExists=!0,t.WebhookID=e.Id,t.WebhookURL=T.returnWebhookUrl(e.Token)})).catch((function(e){y.error("Failure",e,"Unable to create webhook")}))};var R=function(){var n=a.params().nodeName;$.setPortainerAgentTargetHeader(n),t.nodeName=n,f.container(a.params().id).then((function(n){var a=n;t.container=a,t.container.edit=!1,t.container.newContainerName=i("trimcontainername")(a.Name),a.State.Running?t.activityTime=p().duration(p()(a.State.StartedAt).utc().diff(p()().utc())).humanize():"created"===a.State.Status?t.activityTime=p().duration(p()(a.Created).utc().diff(p()().utc())).humanize():t.activityTime=p().duration(p()().utc().diff(p()(a.State.FinishedAt).utc())).humanize(),t.portBindings=[],a.NetworkSettings.Ports&&l()(Object.keys(a.NetworkSettings.Ports),(function(e){a.NetworkSettings.Ports[e]&&l()(a.NetworkSettings.Ports[e],(n=>{const a={};a.container=e,a.host=`${n.HostIp}:${n.HostPort}`,t.portBindings.push(a)}))})),t.container.Config.Env=r()(t.container.Config.Env,s());const o=t.container.Config.Labels["com.docker.swarm.service.id"],c=t.container.HostConfig.AutoRemove,d=C.isAdmin(),{allowContainerCapabilitiesForRegularUsers:u,allowHostNamespaceForRegularUsers:m,allowDeviceMappingForRegularUsers:g,allowSysctlSettingForRegularUsers:h,allowBindMountsForRegularUsers:f,allowPrivilegedModeForRegularUsers:v}=P.SecuritySettings,b=!(u&&f&&g&&h&&m&&v);return t.displayRecreateButton=!o&&!c&&(d||!b),t.displayWebhookButton=t.displayRecreateButton,e.all({webhooks:I.webhooks(a.Id,P.Id)})})).then((function(e){if(e.webhooks.length>0){const n=e.webhooks[0];t.WebhookExists=!0,t.WebhookID=n.Id,t.WebhookURL=T.returnWebhookUrl(n.Token)}})).catch((function(e){y.error("Failure",e,"Unable to retrieve container info")}))};function D(e,t,n,a){t(e).then((function(){y.success(n,e),R()})).catch((function(e){y.error("Failure",e,a)}))}async function U(){t.config.commitInProgress=!0;const e=t.config.RegistryModel,s=v.createImageConfigForContainer(e);try{await c.commitContainer({id:a.params().id,repo:s.fromImage}).$promise,y.success("Image created",a.params().id),n.reload()}catch(e){y.error("Failure",e,"Unable to create image"),t.config.commitInProgress=!1}}t.start=function(){D(a.params().id,f.startContainer,"Container successfully started","Unable to start container")},t.stop=function(){D(a.params().id,f.stopContainer,"Container successfully stopped","Unable to stop container")},t.kill=function(){D(a.params().id,f.killContainer,"Container successfully killed","Unable to kill container")},t.pause=function(){D(a.params().id,f.pauseContainer,"Container successfully paused","Unable to pause container")},t.unpause=function(){D(a.params().id,f.resumeContainer,"Container successfully resumed","Unable to resume container")},t.restart=function(){D(a.params().id,f.restartContainer,"Container successfully restarted","Unable to restart container")},t.renameContainer=function(){var e=t.container;f.renameContainer(a.params().id,e.newContainerName).then((function(){e.Name=e.newContainerName,y.success("Container successfully renamed",e.Name)})).catch((function(t){e.newContainerName=e.Name,y.error("Failure",t,"Unable to rename container")})).finally((function(){t.container.edit=!1}))},t.containerLeaveNetwork=function(e,a){t.state.leaveNetworkInProgress=!0,b.disconnectContainer(a,e.Id,!1).then((function(){y.success("Container left network",e.Id),n.reload()})).catch((function(e){y.error("Failure",e,"Unable to disconnect container from network")})).finally((function(){t.state.leaveNetworkInProgress=!1}))},t.containerJoinNetwork=function(e,a){t.state.joinNetworkInProgress=!0,b.connectContainer(a,e.Id).then((function(){y.success("Container joined network",e.Id),n.reload()})).catch((function(e){y.error("Failure",e,"Unable to connect container to network")})).finally((function(){t.state.joinNetworkInProgress=!1}))},t.commit=function(){return o(U)},t.confirmRemove=function(){var a="You are about to remove a container.";t.container.State.Running&&(a="You are about to remove a running container."),(0,g.A7)(a,(function(a){if(a){var s=!1;a[0]&&(s=!0),function(a){f.remove(t.container,a).then((function(){return e.when(t.WebhookID&&I.deleteWebhook(t.WebhookID))})).then((function(){y.success("Container successfully removed"),n.go("docker.containers",{},{reload:!0})})).catch((function(e){y.error("Failure",e,"Unable to remove container")}))}(s)}}))},t.recreate=function(){w.confirmContainerRecreation((function(a){if(a){var s=!1;a[0]&&(s=!0),function(a){var s=t.container,i=u.configFromContainer(s.Model);t.state.recreateContainerInProgress=!0;var r=s.State.Running;(a?S.retrievePorRegistryModelFromRepository(s.Config.Image,P.Id).then((e=>k.pullImage(e,!1))):e.when()).then((function(){return r?f.stopContainer(s.Id):e.when()})).then((function(){return f.renameContainer(s.Id,s.Name+"-old")})).then((function(){var t=i.NetworkingConfig.EndpointsConfig,n=Object.keys(t);return n.length>1&&(i.NetworkingConfig.EndpointsConfig={},i.NetworkingConfig.EndpointsConfig[n[0]]=t[0]),e.all([f.createContainer(i),t])})).then((function(t){var n=t[0],a=t[1],s=Object.keys(a).map((function(e){b.connectContainer(e,n.Id)}));return e.all(s).then((function(){return n}))})).then((function(e){return t.updateWebhook(e,!0),e})).then((function(t){return r?f.startContainer(t.Id).then((function(){return t})):e.when(t)})).then((function(e){const t=C.getUserDetails().ID,n=s.ResourceControl,a=e.Portainer.ResourceControl;return x.duplicateResourceControl(t,n,a)})).then((function(e){return f.remove(s,!0).then((function(){return e}))})).then((function(){y.success("Container successfully re-created"),n.go("docker.containers",{},{reload:!0})})).catch((function(e){y.error("Failure",e,"Unable to re-create container"),t.state.recreateContainerInProgress=!1}))}(s)}}))};var V=t.applicationState.endpoint.mode.provider,O=t.applicationState.endpoint.apiVersion;b.networks("DOCKER_STANDALONE"===V||"DOCKER_SWARM_MODE"===V,!1,"DOCKER_SWARM_MODE"===V&&O>=1.25).then((function(e){var n=e;t.availableNetworks=n})).catch((function(e){y.error("Failure",e,"Unable to retrieve networks")})),R()}])},62897:()=>{angular.module("portainer.docker").controller("ContainerInspectController",["$scope","$transition$","Notifications","ContainerService","HttpRequestHelper",function(e,t,n,a,s){e.state={DisplayTextView:!1},e.containerInfo={},s.setPortainerAgentTargetHeader(t.params().nodeName),a.inspect(t.params().id).then((function(t){e.containerInfo=t})).catch((function(e){n.error("Failure",e,"Unable to inspect container")}))}])},47381:(e,t,n)=>{"use strict";n.r(t);var a=n(4396),s=n.n(a);angular.module("portainer.docker").controller("ContainerLogsController",["$scope","$transition$","$interval","ContainerService","Notifications","HttpRequestHelper",function(e,t,n,a,i,r){function o(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function l(r){var l=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,s()(e.state.sinceTimestamp).unix(),e.state.lineCount,r).then((function(t){e.logs=t})).catch((function(e){o(),i.error("Failure",e,"Unable to retrieve container logs")}))}),1e3*l)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:"",displayTimestamps:!1},e.changeLogCollection=function(t){t?l(!e.container.Config.Tty):o()},e.$on("$destroy",(function(){o()})),r.setPortainerAgentTargetHeader(t.params().nodeName),a.container(t.params().id).then((function(n){var r,c=n;e.container=c,r=!c.Config.Tty,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,s()(e.state.sinceTimestamp).unix(),e.state.lineCount,r).then((function(t){e.logs=t,l(r)})).catch((function(e){o(),i.error("Failure",e,"Unable to retrieve container logs")}))})).catch((function(e){i.error("Failure",e,"Unable to retrieve container information")}))}])},19393:(e,t,n)=>{"use strict";n.r(t);var a=n(4396),s=n.n(a),i=n(52474);angular.module("portainer.docker").controller("ContainerStatsController",["$q","$scope","$transition$","$document","$interval","ContainerService","ChartService","Notifications","HttpRequestHelper",function(e,t,n,a,r,o,l,c,d){function u(){var e=t.repeater;angular.isDefined(e)&&(r.cancel(e),e=null)}function p(e,t){if(e.Networks.length>0){var n=e.Networks[0].rx_bytes,a=e.Networks[0].tx_bytes,i=s()(e.read).format("HH:mm:ss");l.UpdateNetworkChart(i,n,a,t)}}function m(e,t){var n=s()(e.read).format("HH:mm:ss");l.UpdateMemoryChart(n,e.MemoryUsage,e.MemoryCache,t)}function g(e,t){var n=s()(e.read).format("HH:mm:ss");!0!==e.noIOData&&l.UpdateIOChart(n,e.BytesRead,e.BytesWrite,t)}function h(e,t){var n=s()(e.read).format("HH:mm:ss"),a=e.isWindows?function(e){var t=e.NumProcs*parseFloat(s()(e.read,"YYYY-MM-DDTHH:mm:ss.SSSSSSSSSZ").valueOf()-s()(e.preread,"YYYY-MM-DDTHH:mm:ss.SSSSSSSSSZ").valueOf()),n=0;return t>0&&(n=parseFloat(e.CurrentCPUTotalUsage-e.PreviousCPUTotalUsage)/parseFloat(100*t)),n}(e):function(e){var t=0,n=e.CurrentCPUTotalUsage-e.PreviousCPUTotalUsage,a=e.CurrentCPUSystemUsage-e.PreviousCPUSystemUsage;return a>0&&n>0&&(t=n/a*e.CPUCores*100),t}(e);l.UpdateCPUChart(n,a,t)}function f(a,s,i,l){var d=t.state.refreshRate;t.repeater=r((function(){e.all({stats:o.containerStats(n.params().id),top:o.containerTop(n.params().id)}).then((function(e){var n=e.stats;t.processInfo=e.top,p(n,a),m(n,i),h(n,s),g(n,l)})).catch((function(e){u(),c.error("Failure",e,"Unable to retrieve container statistics")}))}),1e3*d)}t.state={refreshRate:"5",networkStatsUnavailable:!1,ioStatsUnavailable:!1},t.$on("$destroy",(function(){u()})),t.changeUpdateRepeater=function(){var e=t.networkChart,n=t.cpuChart,a=t.memoryChart,s=t.ioChart;u(),f(e,n,a,s),i("#refreshRateChange").show(),i("#refreshRateChange").fadeOut(1500)},d.setPortainerAgentTargetHeader(n.params().nodeName),o.container(n.params().id).then((function(e){t.container=e})).catch((function(e){c.error("Failure",e,"Unable to retrieve container information")})),a.ready((function(){!function(){var a=i("#networkChart"),s=l.CreateNetworkChart(a);t.networkChart=s;var r=i("#cpuChart"),d=l.CreateCPUChart(r);t.cpuChart=d;var v=i("#memoryChart"),b=l.CreateMemoryChart(v);t.memoryChart=b;var y=i("#ioChart"),w=l.CreateIOChart(y);t.ioChart=w,function(a,s,i,r){e.all({stats:o.containerStats(n.params().id),top:o.containerTop(n.params().id)}).then((function(e){var n=e.stats;t.processInfo=e.top,0===n.Networks.length&&(t.state.networkStatsUnavailable=!0),!0===n.noIOData&&(t.state.ioStatsUnavailable=!0),p(n,a),m(n,i),h(n,s),g(n,r),f(a,s,i,r)})).catch((function(e){u(),c.error("Failure",e,"Unable to retrieve container statistics")}))}(s,d,b,w)}()}))}])},88444:(e,t,n)=>{"use strict";n.r(t);var a=n(66539),s=n.n(a),i=n(83432),r=n.n(i),o=n(89858),l=n.n(o),c=n(29274),d=n.n(c),u=n(70589);d().module("portainer.docker").controller("DashboardController",["$scope","$q","Authentication","ContainerService","ImageService","NetworkService","VolumeService","SystemService","ServiceService","StackService","Notifications","StateManager","TagService","endpoint",function(e,t,n,a,i,o,c,d,p,m,g,h,f,v){e.dismissInformationPanel=function(e){h.dismissInformationPanel(e)},e.offlineMode=!1,e.showStacks=!1,async function(){const h=e.applicationState.endpoint.mode;e.endpoint=v,e.showStacks=await async function(){return n.isAdmin()||v.SecuritySettings.allowStackManagementForRegularUsers||n.hasAuthorizations(["EndpointResourcesAccess"])}(),t.all({containers:a.containers(1),images:i.images(!1),volumes:c.volumes(),networks:o.networks(!0,!0,!0),services:"DOCKER_SWARM_MODE"===h.provider&&"MANAGER"===h.role?p.services():[],stacks:m.stacks(!0,"DOCKER_SWARM_MODE"===h.provider&&"MANAGER"===h.role,v.Id),info:d.info(),tags:f.tags()}).then((function(t){e.containers=t.containers,e.images=t.images,e.volumeCount=t.volumes.length,e.networkCount=t.networks.length,e.serviceCount=t.services.length,e.stackCount=t.stacks.length,e.info=t.info,e.endpointTags=v.TagIds.length?l()(r()(s()(v.TagIds,(e=>{const n=t.tags.find((t=>t.Id===e));return n?n.Name:""})),Boolean),", "):"-",e.offlineMode=(0,u.isOfflineEndpoint)(v)})).catch((function(e){g.error("Failure",e,"Unable to load dashboard data")}))}()}])},25006:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(26196);class s{constructor(e,t,n,s,i,r){this.$analytics=e,this.$async=t,this.$scope=n,this.EndpointService=s,this.Notifications=i,this.StateManager=r,this.limitedFeature=a.tE.HIDE_AUTO_UPDATE_WINDOW,this.formValues={enableHostManagementFeatures:!1,allowVolumeBrowserForRegularUsers:!1,disableBindMountsForRegularUsers:!1,disablePrivilegedModeForRegularUsers:!1,disableHostNamespaceForRegularUsers:!1,disableStackManagementForRegularUsers:!1,disableDeviceMappingForRegularUsers:!1,disableContainerCapabilitiesForRegularUsers:!1,disableSysctlSettingForRegularUsers:!1},this.isAgent=!1,this.state={actionInProgress:!1,autoUpdateSettings:{Enabled:!1},timeZone:""},this.save=this.save.bind(this),this.onChangeField=this.onChangeField.bind(this),this.onToggleAutoUpdate=this.onToggleAutoUpdate.bind(this),this.onChangeEnableHostManagementFeatures=this.onChangeField("enableHostManagementFeatures"),this.onChangeAllowVolumeBrowserForRegularUsers=this.onChangeField("allowVolumeBrowserForRegularUsers"),this.onChangeDisableBindMountsForRegularUsers=this.onChangeField("disableBindMountsForRegularUsers"),this.onChangeDisablePrivilegedModeForRegularUsers=this.onChangeField("disablePrivilegedModeForRegularUsers"),this.onChangeDisableHostNamespaceForRegularUsers=this.onChangeField("disableHostNamespaceForRegularUsers"),this.onChangeDisableStackManagementForRegularUsers=this.onChangeField("disableStackManagementForRegularUsers"),this.onChangeDisableDeviceMappingForRegularUsers=this.onChangeField("disableDeviceMappingForRegularUsers"),this.onChangeDisableContainerCapabilitiesForRegularUsers=this.onChangeField("disableContainerCapabilitiesForRegularUsers"),this.onChangeDisableSysctlSettingForRegularUsers=this.onChangeField("disableSysctlSettingForRegularUsers")}onToggleAutoUpdate(e){return this.$scope.$evalAsync((()=>{this.state.autoUpdateSettings.Enabled=e}))}onChange(e){return this.$scope.$evalAsync((()=>{this.formValues={...this.formValues,...e}}))}onChangeField(e){return t=>{this.onChange({[e]:t})}}isContainerEditDisabled(){const{disableBindMountsForRegularUsers:e,disableHostNamespaceForRegularUsers:t,disablePrivilegedModeForRegularUsers:n,disableDeviceMappingForRegularUsers:a,disableContainerCapabilitiesForRegularUsers:s,disableSysctlSettingForRegularUsers:i}=this.formValues;return e||t||n||a||s||i}async save(){return this.$async((async()=>{try{this.state.actionInProgress=!0;const e={securitySettings:{enableHostManagementFeatures:this.formValues.enableHostManagementFeatures,allowBindMountsForRegularUsers:!this.formValues.disableBindMountsForRegularUsers,allowPrivilegedModeForRegularUsers:!this.formValues.disablePrivilegedModeForRegularUsers,allowVolumeBrowserForRegularUsers:this.formValues.allowVolumeBrowserForRegularUsers,allowHostNamespaceForRegularUsers:!this.formValues.disableHostNamespaceForRegularUsers,allowDeviceMappingForRegularUsers:!this.formValues.disableDeviceMappingForRegularUsers,allowStackManagementForRegularUsers:!this.formValues.disableStackManagementForRegularUsers,allowContainerCapabilitiesForRegularUsers:!this.formValues.disableContainerCapabilitiesForRegularUsers,allowSysctlSettingForRegularUsers:!this.formValues.disableSysctlSettingForRegularUsers},changeWindow:this.state.autoUpdateSettings};await this.EndpointService.updateSettings(this.endpoint.Id,e),this.endpoint.SecuritySettings=e.securitySettings,this.endpoint.ChangeWindow=e.changeWindow,this.$analytics.eventTrack("time-window-create",{category:"docker",metadata:{"Start-time":e.changeWindow.StartTime,"End-time":e.changeWindow.EndTime,"Time-zone":this.state.timeZone}}),this.Notifications.success("Saved settings successfully")}catch(e){this.Notifications.error("Failure",e,"Failed saving settings")}this.state.actionInProgress=!1}))}checkAgent(){return this.StateManager.getState().endpoint.mode.agentProxy}$onInit(){const e=this.endpoint.SecuritySettings,t=this.checkAgent();this.isAgent=t,this.formValues={enableHostManagementFeatures:t&&e.enableHostManagementFeatures,allowVolumeBrowserForRegularUsers:t&&e.allowVolumeBrowserForRegularUsers,disableBindMountsForRegularUsers:!e.allowBindMountsForRegularUsers,disablePrivilegedModeForRegularUsers:!e.allowPrivilegedModeForRegularUsers,disableHostNamespaceForRegularUsers:!e.allowHostNamespaceForRegularUsers,disableDeviceMappingForRegularUsers:!e.allowDeviceMappingForRegularUsers,disableStackManagementForRegularUsers:!e.allowStackManagementForRegularUsers,disableContainerCapabilitiesForRegularUsers:!e.allowContainerCapabilitiesForRegularUsers,disableSysctlSettingForRegularUsers:!e.allowSysctlSettingForRegularUsers},this.state.autoUpdateSettings=this.endpoint.ChangeWindow}}s.$inject=["$analytics","$async","$scope","EndpointService","Notifications","StateManager"]},68958:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(25006);const r=n(97582);s().module("portainer.docker").component("dockerFeaturesConfigurationView",{templateUrl:r,controller:i.default,bindings:{endpoint:"<"}})},63181:(e,t,n)=>{"use strict";n.r(t);var a=n(4396),s=n.n(a);angular.module("portainer.docker").controller("EventsController",["$scope","Notifications","SystemService",function(e,t,n){var a,i;a=s()().subtract(24,"hour").unix(),i=s()().unix(),n.events(a,i).then((function(t){e.events=t})).catch((function(e){t.error("Failure",e,"Unable to load events")}))}])},34776:()=>{angular.module("portainer.docker").controller("HostBrowserViewController",["SystemService","Notifications",function(e,t){var n=this;n.$onInit=function(){e.info().then((function(e){n.host=e})).catch((function(e){t.error("Unable to retrieve host information",e)}))}}])},24233:(e,t,n)=>{const a=n(18659);angular.module("portainer.docker").component("hostBrowserView",{templateUrl:a,controller:"HostBrowserViewController",bindings:{endpoint:"<"}})},43279:(e,t,n)=>{"use strict";n.r(t);var a=n(70589);angular.module("portainer.docker").controller("HostViewController",["$q","SystemService","Notifications","StateManager","AgentService","ContainerService","Authentication",function(e,t,n,s,i,r,o){var l=this;this.$onInit=function(){var c=s.getState();l.state.isAgent=c.endpoint.mode.agentProxy,l.state.isAdmin=o.isAdmin();var d=c.endpoint.agentApiVersion;l.state.agentApiVersion=d,l.state.enableHostManagementFeatures=l.endpoint.SecuritySettings.enableHostManagementFeatures,e.all({version:t.version(),info:t.info(),jobs:l.state.isAdmin?r.containers(!0,{label:["io.portainer.job.endpoint"]}):[]}).then((function(e){var t;if(l.engineDetails=function(e){var t=e.version,n=e.info;return{releaseVersion:t.Version,apiVersion:t.ApiVersion,rootDirectory:n.DockerRootDir,storageDriver:n.Driver,loggingDriver:n.LoggingDriver,volumePlugins:n.Plugins.Volume,networkPlugins:n.Plugins.Network}}(e),l.hostDetails={os:{arch:(t=e.info).Architecture,type:t.OSType,name:t.OperatingSystem},name:t.Name,kernelVersion:t.KernelVersion,totalCPU:t.NCPU,totalMemory:t.MemTotal},l.state.offlineMode=(0,a.isOfflineEndpoint)(l.endpoint),l.jobs=e.jobs,l.state.isAgent&&d>1)return i.hostInfo(e.info.Hostname).then((function(e){l.devices=e.PCIDevices,l.disks=e.PhysicalDisks}))})).catch((function(e){n.error("Failure",e,"Unable to retrieve engine details")}))},l.state={isAgent:!1,isAdmin:!1,offlineMode:!1},this.engineDetails={},this.hostDetails={},this.devices=null,this.disks=null}])},15906:(e,t,n)=>{const a=n(20927);angular.module("portainer.docker").component("hostView",{templateUrl:a,controller:"HostViewController",bindings:{endpoint:"<"}})},88741:()=>{function e(e,t,n,a,s,i,r){e.state={BuildType:"editor",actionInProgress:!1,activeTab:0,isEditorDirty:!1},e.formValues={ImageNames:[{Name:""}],UploadFile:null,DockerFileContent:"",URL:"",Path:"Dockerfile",NodeName:null},n.onbeforeunload=()=>{if("editor"===e.state.BuildType&&e.formValues.DockerFileContent&&e.state.isEditorDirty)return""},e.$on("$destroy",(function(){e.state.isEditorDirty=!1})),e.addImageName=function(){e.formValues.ImageNames.push({Name:""})},e.addImageName=function(){e.formValues.ImageNames.push({Name:""})},e.removeImageName=function(t){e.formValues.ImageNames.splice(t,1)},e.buildImage=async function(){return t((async()=>{if("editor"!==e.state.BuildType||""!==e.formValues.DockerFileContent){e.state.actionInProgress=!0;var t=e.formValues.ImageNames.filter((function(e){return e.Name})).map((function(e){return e.Name})),n=e.formValues.NodeName;r.setPortainerAgentTargetHeader(n);try{const n=await function(t,n){var a=e.state.BuildType,i=e.formValues.Path;if("upload"===a){var r=e.formValues.UploadFile;return s.buildImageFromUpload(n,r,i)}if("url"===a){var o=e.formValues.URL;return s.buildImageFromURL(n,o,i)}var l=e.formValues.DockerFileContent;return s.buildImageFromDockerfileContent(n,l)}(0,t);e.buildLogs=n.buildLogs,e.buildLogs&&(e.state.isEditorDirty=!1),e.state.activeTab=1,n.hasError?i.error("An error occurred during build",{msg:"Please check build logs output"}):i.success("Image successfully built")}catch(e){i.error("Failure",e,"Unable to build image")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError="Dockerfile content must not be empty"}))},e.validImageNames=function(){for(var t=0;t<e.formValues.ImageNames.length;t++)if(""!==e.formValues.ImageNames[t].Name)return!0;return!1},e.editorUpdate=function(t){e.formValues.DockerFileContent=t.getValue(),e.state.isEditorDirty=!0},this.uiCanExit=async function(){if("editor"===e.state.BuildType&&e.formValues.DockerFileContent&&e.state.isEditorDirty)return a.confirmWebEditorDiscard()}}e.$inject=["$scope","$async","$window","ModalService","BuildService","Notifications","HttpRequestHelper"],angular.module("portainer.docker").controller("BuildImageController",e)},37391:(e,t,n)=>{"use strict";n.r(t);var a=n(94946),s=n.n(a),i=n(40714),r=n.n(i),o=n(44716),l=n.n(o),c=n(76939),d=n(52474);angular.module("portainer.docker").controller("ImageController",["$async","$q","$scope","$transition$","$state","Authentication","ImageService","ImageHelper","RegistryService","Notifications","HttpRequestHelper","ModalService","FileSaver","Blob","endpoint","EndpointService","RegistryModalService",function(e,t,n,a,i,o,u,p,m,g,h,f,v,b,y,w,x){n.endpoint=y,n.isAdmin=o.isAdmin(),n.formValues={RegistryModel:new c.PorImageRegistryModel},n.state={exportInProgress:!1,pullImageValidity:!1},n.sortType="Order",n.sortReverse=!1,n.order=function(e){n.sortReverse=n.sortType===e&&!n.sortReverse,n.sortType=e},n.toggleLayerCommand=function(e){d("#layer-command-expander"+e+" span").toggleClass("glyphicon-plus-sign glyphicon-minus-sign"),d("#layer-command-"+e+"-short").toggle(),d("#layer-command-"+e+"-full").toggle()},n.setPullImageValidity=function(e){n.state.pullImageValidity=e},n.tagImage=function(){const e=n.formValues.RegistryModel,t=p.createImageConfigForContainer(e);u.tagImage(a.params().id,t.fromImage).then((function(){g.success("Image successfully tagged"),i.go("docker.images.image",{id:a.params().id},{reload:!0})})).catch((function(e){g.error("Failure",e,"Unable to tag image")}))},n.pushTag=async function(t){return e((async()=>{try{const e=await x.registryModal(t,n.registries);e&&(d("#uploadResourceHint").show(),await u.pushImage(e),g.success("Image successfully pushed",t))}catch(e){g.error("Failure",e,"Unable to push image to repository")}finally{d("#uploadResourceHint").hide()}}))},n.pullTag=async function(t){return e((async()=>{try{const e=await x.registryModal(t,n.registries);e&&(d("#downloadResourceHint").show(),await u.pullImage(e),g.success("Image successfully pulled",t))}catch(e){g.error("Failure",e,"Unable to pull image from repository")}finally{d("#downloadResourceHint").hide()}}))},n.removeTag=function(e){u.deleteImage(e,!1).then((function(){1===n.image.RepoTags.length?(g.success("Image successfully deleted",e),i.go("docker.images",{},{reload:!0})):(g.success("Tag successfully deleted",e),i.go("docker.images.image",{id:a.params().id},{reload:!0}))})).catch((function(e){g.error("Failure",e,"Unable to remove image")}))},n.removeImage=function(e){u.deleteImage(e,!1).then((function(){g.success("Image successfully deleted",e),i.go("docker.images",{},{reload:!0})})).catch((function(e){g.error("Failure",e,"Unable to remove image")}))},n.exportImage=function(e){0===e.RepoTags.length||l()(e.RepoTags,"<none>")?g.warning("","Cannot download a untagged image"):f.confirmImageExport((function(t){t&&function(e){h.setPortainerAgentTargetHeader(e.NodeName),n.state.exportInProgress=!0,u.downloadImages([e]).then((function(e){var t=new b([e.file],{type:"application/x-tar"});v.saveAs(t,"images.tar"),g.success("Image successfully downloaded")})).catch((function(e){g.error("Failure",e,"Unable to download image")})).finally((function(){n.state.exportInProgress=!1}))}(e)}))},async function(){h.setPortainerAgentTargetHeader(a.params().nodeName);try{n.registries=await m.loadRegistriesForDropdown(y.Id)}catch(e){this.Notifications.error("Failure",e,"Unable to load registries")}t.all({image:u.image(a.params().id),history:u.history(a.params().id)}).then((function(e){n.image=e.image,n.history=e.history,n.image.Env=r()(n.image.Env,s())})).catch((function(e){g.error("Failure",e,"Unable to retrieve image details"),i.go("docker.images")}))}()}])},12107:(e,t,n)=>{"use strict";n.r(t);var a=n(93715),s=n.n(a),i=n(51235),r=n.n(i),o=n(76939),l=n(70589);angular.module("portainer.docker").controller("ImagesController",["$scope","$state","Authentication","ImageService","Notifications","ModalService","HttpRequestHelper","FileSaver","Blob","endpoint",function(e,t,n,a,i,c,d,u,p,m){function g(){a.images(!0).then((function(t){e.images=t,e.offlineMode=(0,l.isOfflineEndpoint)(m)})).catch((function(t){i.error("Failure",t,"Unable to retrieve images"),e.images=[]}))}e.endpoint=m,e.isAdmin=n.isAdmin(),e.state={actionInProgress:!1,exportInProgress:!1,pullRateValid:!1},e.formValues={RegistryModel:new o.PorImageRegistryModel,NodeName:null},e.pullImage=function(){const n=e.formValues.RegistryModel;var s=e.formValues.NodeName;d.setPortainerAgentTargetHeader(s),e.state.actionInProgress=!0,a.pullImage(n,!1).then((function(e){var a=e[e.length-1].errorDetail;if(a)return i.error("Failure",a,"Unable to pull image");i.success("Image successfully pulled",n.Image),t.reload()})).catch((function(e){i.error("Failure",e,"Unable to pull image")})).finally((function(){e.state.actionInProgress=!1}))},e.confirmRemovalAction=function(t,n){c.confirmImageForceRemoval((function(a){a&&e.removeAction(t,n)}))},e.downloadAction=function(t){(function(e){for(var t=0;t<e.length;t++){var n=e[t];if(r()(n.RepoTags,(function(e){return e.indexOf("<none>")>-1})))return i.warning("","Cannot download a untagged image"),!1}return!(s()(e,"NodeName").length>1&&(i.warning("","Cannot download images from different nodes at the same time"),1))})(t)&&c.confirmImageExport((function(n){var s;n&&(s=t,d.setPortainerAgentTargetHeader(s[0].NodeName),e.state.exportInProgress=!0,a.downloadImages(s).then((function(e){var t=new p([e.file],{type:"application/x-tar"});u.saveAs(t,"images.tar"),i.success("Image(s) successfully downloaded")})).catch((function(e){i.error("Failure",e,"Unable to download image(s)")})).finally((function(){e.state.exportInProgress=!1})))}))},e.removeAction=function(n,s){var r=n.length;angular.forEach(n,(function(n){d.setPortainerAgentTargetHeader(n.NodeName),a.deleteImage(n.Id,s).then((function(){i.success("Image successfully removed",n.Id);var t=e.images.indexOf(n);e.images.splice(t,1)})).catch((function(e){i.error("Failure",e,"Unable to remove image")})).finally((function(){0==--r&&t.reload()}))}))},e.offlineMode=!1,e.getImages=g,e.setPullImageValidity=function(t){e.state.pullRateValid=t},g()}])},14521:(e,t,n)=>{"use strict";n.r(t);var a=n(76939);angular.module("portainer.docker").controller("ImportImageController",["$scope","$state","ImageService","Notifications","HttpRequestHelper","Authentication","ImageHelper","endpoint",function(e,t,n,s,i,r,o,l){e.state={actionInProgress:!1},e.endpoint=l,e.isAdmin=r.isAdmin(),e.formValues={UploadFile:null,NodeName:null,RegistryModel:new a.PorImageRegistryModel},e.setPullImageValidity=function(t){e.state.pullImageValidity=t},e.uploadImage=async function(){e.state.actionInProgress=!0;var a=e.formValues.NodeName;i.setPortainerAgentTargetHeader(a);var r=e.formValues.UploadFile;try{const{data:a}=await n.uploadImage(r);if(a.error)s.error("Failure",a.error,"Unable to upload image");else if(a.stream){var l=/Loaded.*?: (.*?)\n$/g.exec(a.stream);l&&2==l.length&&(await async function(t){const a=e.formValues.RegistryModel;if(a.Image){const e=o.createImageConfigForContainer(a);try{await n.tagImage(t,e.fromImage)}catch(e){s.error("Failure",e,"Unable to tag image")}}}(l[1]),t.go("docker.images.image",{id:l[1]},{reload:!0})),s.success("Images successfully uploaded")}else s.success("The uploaded tar file contained multiple images. The provided tag therefore has been ignored.")}catch(e){s.error("Failure",e,"Unable to upload image")}finally{e.state.actionInProgress=!1}}}])},543:(e,t,n)=>{"use strict";n.r(t);var a=n(83432),s=n.n(a),i=n(41952),r=n.n(i),o=n(55743),l=n.n(o),c=n(17465),d=n.n(c),u=n(19898),p=n(50373);angular.module("portainer.docker").controller("CreateNetworkController",["$q","$scope","$state","PluginService","Notifications","NetworkService","LabelHelper","Authentication","ResourceControlService","FormValidator","HttpRequestHelper",function(e,t,n,a,i,o,c,m,g,h,f){function v(e,t){const n=d()(e,"=");return 2===n.length?n[1]===t:e===t}function b(e,t){e.AuxiliaryAddresses={},r()(t.AuxiliaryAddresses,((t,n)=>{const a=d()(t,"=");2===a.length?e.AuxiliaryAddresses[a[0]]=a[1]:e.AuxiliaryAddresses["device"+n]=t}))}function y(e){f.setPortainerAgentTargetHeader(e.nodeName),f.setPortainerAgentManagerOperation(e.managerOperation),t.state.actionInProgress=!0,o.create(e.networkConfiguration).then((function(t){const n=e.userDetails.ID,a=e.accessControlData,s=t.Portainer.ResourceControl;return g.applyResourceControl(n,a,s)})).then((function(){i.success("Network successfully created"),e.reload&&n.go("docker.networks",{},{reload:!0})})).catch((function(e){i.error("Failure",e,"An error occured during network creation")})).finally((function(){t.state.actionInProgress=!1}))}var w;t.formValues={DriverOptions:[],IPV4:{Subnet:"",Gateway:"",IPRange:"",AuxiliaryAddresses:[]},IPV6:{Subnet:"",Gateway:"",IPRange:"",AuxiliaryAddresses:[]},Labels:[],AccessControlData:new u.AccessControlFormData,NodeName:null,Macvlan:new p.MacvlanFormData},t.state={formValidationError:"",actionInProgress:!1},t.availableNetworkDrivers=[],t.config={Driver:"bridge",CheckDuplicate:!0,Internal:!1,Attachable:!1,EnableIPv6:!1,IPAM:{Driver:"default",Config:[]},Labels:{}},t.addDriverOption=function(){t.formValues.DriverOptions.push({name:"",value:""})},t.removeDriverOption=function(e){t.formValues.DriverOptions.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({key:"",value:""})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addIPV4AuxAddress=function(){t.formValues.IPV4.AuxiliaryAddresses.push("")},t.addIPV6AuxAddress=function(){t.formValues.IPV6.AuxiliaryAddresses.push("")},t.removeIPV4AuxAddress=function(e){t.formValues.IPV4.AuxiliaryAddresses.splice(e,1),t.state.IPV4AuxiliaryAddressesError.splice(e,1)},t.removeIPV6AuxAddress=function(e){t.formValues.IPV6.AuxiliaryAddresses.splice(e,1),t.state.IPV6AuxiliaryAddressesError.splice(e,1)},t.checkIPV4AuxiliaryAddress=function(e){t.state.IPV4AuxiliaryAddressesError[e]=v(t.formValues.IPV4.AuxiliaryAddresses[e],t.formValues.IPV4.Gateway)},t.checkIPV6AuxiliaryAddress=function(e){t.state.IPV6AuxiliaryAddressesError[e]=v(t.formValues.IPV6.AuxiliaryAddresses[e],t.formValues.IPV6.Gateway)},t.isValid=function(){const e=!l()(t.state.IPV4AuxiliaryAddressesError,((e,t)=>e||t),!1),n=!l()(t.state.IPV6AuxiliaryAddressesError,((e,t)=>e||t),!1);return e&&n},t.create=function(){var e=function(){var e=angular.copy(t.config);return function(e){if(t.formValues.IPV4.Subnet){let n={};n.Subnet=t.formValues.IPV4.Subnet,t.formValues.IPV4.Gateway&&(n.Gateway=t.formValues.IPV4.Gateway),t.formValues.IPV4.IPRange&&(n.IPRange=t.formValues.IPV4.IPRange),t.formValues.IPV4.AuxiliaryAddresses.length&&b(n,t.formValues.IPV4),e.IPAM.Config.push(n)}if(t.formValues.IPV6.Subnet){let n={};n.Subnet=t.formValues.IPV6.Subnet,t.formValues.IPV6.Gateway&&(n.Gateway=t.formValues.IPV6.Gateway),t.formValues.IPV6.IPRange&&(n.IPRange=t.formValues.IPV6.IPRange),t.formValues.IPV6.AuxiliaryAddresses.length&&b(n,t.formValues.IPV6),e.EnableIPv6=!0,e.IPAM.Config.push(n)}}(e),function(e){var n={};t.formValues.DriverOptions.forEach((function(e){n[e.name]=e.value})),e.Options=n}(e),function(e){e.Labels=c.fromKeyValueToLabelHash(t.formValues.Labels)}(e),e}(),n=t.formValues.AccessControlData,a=m.getUserDetails();if(function(e,n){var a;return t.state.formValidationError="",!(a=h.validateAccessControl(e,n))||(t.state.formValidationError=a,!1)}(n,m.isAdmin())){var s,i={nodeName:t.formValues.NodeName,managerOperation:!1,networkConfiguration:e,userDetails:a,accessControlData:n,reload:!0};if(t.applicationState.endpoint.mode.agentProxy&&"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider&&"overlay"===t.config.Driver&&(i.managerOperation=!0),"macvlan"===t.config.Driver)if("local"===t.formValues.Macvlan.Scope)(s=e).Internal=null,s.Attachable=null,s.ConfigOnly=!0,s.Options.parent=t.formValues.Macvlan.ParentNetworkCard;else if("swarm"===t.formValues.Macvlan.Scope){var r=t.formValues.Macvlan.SelectedNetworkConfig;!function(e,n){e.ConfigFrom={Network:n.Name},"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider?e.Scope="swarm":e.Scope="local"}(e,r),i.nodeName=r.NodeName}if("macvlan"===t.config.Driver&&"local"===t.formValues.Macvlan.Scope&&t.applicationState.endpoint.mode.agentProxy&&"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider){var o=t.formValues.Macvlan.DatatableState.selectedItems;o.forEach((function(e,t){i.nodeName=e.Hostname,i.reload=t===o.length-1,y(i)}))}else y(i)}},w=t.applicationState.endpoint.apiVersion,t.state.IPV4AuxiliaryAddressesError=[],t.state.IPV6AuxiliaryAddressesError=[],a.networkPlugins(w<1.25).then((function(e){t.availableNetworkDrivers=e,t.availableNetworkDrivers=s()(t.availableNetworkDrivers,(e=>"host"!==e&&"null"!==e))})).catch((function(e){i.error("Failure",e,"Unable to retrieve network drivers")}))}])},2669:(e,t,n)=>{"use strict";n.r(t);var a=n(69452);angular.module("portainer.docker").controller("NetworkController",["$scope","$state","$transition$","$filter","NetworkService","Container","Notifications","HttpRequestHelper","NetworkHelper",function(e,t,n,s,i,r,o,l,c){function d(t,n){var a=[];n.forEach((function(e){var n=t.Containers[e.Id];n&&(n.Id=e.Id,n.Name||(n.Name=s("trimcontainername")(e.Names[0])),a.push(n))})),e.containersInNetwork=a}var u;e.removeNetwork=function(){i.remove(n.params().id,n.params().id).then((function(){o.success("Network removed",n.params().id),t.go("docker.networks",{})})).catch((function(e){o.error("Failure",e,"Unable to remove network")}))},e.containerLeaveNetwork=function(e,a){l.setPortainerAgentTargetHeader(a.NodeName),i.disconnectContainer(n.params().id,a.Id,!1).then((function(){o.success("Container left network",n.params().id),t.go("docker.networks.network",{id:e.Id},{reload:!0})})).catch((function(e){o.error("Failure",e,"Unable to disconnect container from network")}))},e.isSystemNetwork=function(){return e.network&&c.isSystemNetwork(e.network)},e.allowRemove=function(){return!e.isSystemNetwork()},u=n.params().nodeName,l.setPortainerAgentTargetHeader(u),e.nodeName=u,i.network(n.params().id).then((function(t){var s,i;e.network=t,s=t,i=e.applicationState.endpoint.apiVersion,s.Containers&&(i<1.24?r.query({},(function(e){var t=e.filter((function(e){if(e.HostConfig.NetworkMode===s.Name)return e}));d(s,t)}),(function(e){o.error("Failure",e,"Unable to retrieve containers in network")})):r.query({filters:{network:[n.params().id]}},(function(e){d(s,e)}),(function(e){o.error("Failure",e,"Unable to retrieve containers in network")}))),e.network.IPAM.IPV4Configs=a.default.getIPV4Configs(e.network.IPAM.Config),e.network.IPAM.IPV6Configs=a.default.getIPV6Configs(e.network.IPAM.Config)})).catch((function(e){o.error("Failure",e,"Unable to retrieve network info")}))}])},74225:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(25445),r=n.n(i),o=n(40714),l=n.n(o),c=n(66539),d=n.n(c),u=n(86103),p=n.n(u),m=n(1979),g=n.n(m),h=n(71204),f=n.n(h),v=n(51235),b=n.n(v),y=n(69452),w=n(70589);angular.module("portainer.docker").controller("NetworksController",["$q","$scope","$state","NetworkService","Notifications","HttpRequestHelper","endpoint","AgentService",function(e,t,n,a,i,o,c,u){function m(){const n={networks:a.networks(!0,!0,!0)};t.applicationState.endpoint.mode.agentProxy&&"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider&&(n.agents=u.agents()),e.all(n).then((e=>{t.offlineMode=(0,w.isOfflineEndpoint)(c);const n=s()(e.networks,(e=>e.Subs=[]));t.applicationState.endpoint.mode.agentProxy&&"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider?t.networks=function(e,t){const n=f()(e,(e=>"swarm"!==e.Scope)),a=g()(p()(e,(e=>e.Id))),s=d()(a,(e=>l()(e,(e=>(e=>b()(t,(t=>t.NodeName===e.NodeName)).NodeRole)(e))))),i=d()(s,(e=>{const t=e[0];for(let n=1;n<e.length;n++)t.Subs.push(e[n]);return t}));return r()(i,...n)}(e.networks,e.agents):t.networks=n,s()(t.networks,(e=>{e.IPAM.IPV4Configs=y.default.getIPV4Configs(e.IPAM.Config),e.IPAM.IPV6Configs=y.default.getIPV6Configs(e.IPAM.Config)}))})).catch((e=>{t.networks=[],i.error("Failure",e,"Unable to retrieve networks")}))}t.removeAction=function(e){var s=e.length;angular.forEach(e,(function(e){o.setPortainerAgentTargetHeader(e.NodeName),a.remove(e.Id).then((function(){i.success("Network successfully removed",e.Name);var n=t.networks.indexOf(e);t.networks.splice(n,1)})).catch((function(e){i.error("Failure",e,"Unable to remove network")})).finally((function(){0==--s&&n.reload()}))}))},t.offlineMode=!1,t.getNetworks=m,m()}])},50451:()=>{angular.module("portainer.docker").controller("NodeBrowserController",["$stateParams","NodeService","HttpRequestHelper","Notifications",function(e,t,n,a){var s=this;s.$onInit=function(){s.nodeId=e.id,t.node(s.nodeId).then((function(e){n.setPortainerAgentTargetHeader(e.Hostname),s.node=e})).catch((function(e){a.error("Unable to retrieve host information",e)}))}}])},83602:(e,t,n)=>{const a=n(52707);angular.module("portainer.docker").component("nodeBrowserView",{templateUrl:a,controller:"NodeBrowserController",bindings:{endpoint:"<"}})},29978:()=>{angular.module("portainer.docker").controller("NodeDetailsViewController",["$q","$stateParams","NodeService","StateManager","AgentService","ContainerService","Authentication",function(e,t,n,a,s,i,r){var o=this;function l(e,t){return e.filter((function(e){return e.Type===t})).map((function(e){return e.Name}))}o.$onInit=function(){var c=a.getState();o.state.isAgent=c.endpoint.mode.agentProxy,o.state.isAdmin=r.isAdmin(),o.state.enableHostManagementFeatures=o.endpoint.SecuritySettings.enableHostManagementFeatures;var d=o.state.isAdmin&&o.state.isAgent,u=t.id;e.all({node:n.node(u),jobs:d?i.containers(!0,{label:["io.portainer.job.endpoint"]}):[]}).then((function(e){var t=e.node;if(o.originalNode=t,o.hostDetails=function(e){return{os:{arch:e.PlatformArchitecture,type:e.PlatformOS},name:e.Hostname,totalCPU:e.CPUs/1e9,totalMemory:e.Memory}}(t),o.engineDetails=function(e){return{releaseVersion:e.EngineVersion,volumePlugins:l(e.Plugins,"Volume"),networkPlugins:l(e.Plugins,"Network"),engineLabels:e.EngineLabels}}(t),o.nodeDetails=function(e){return{name:e.Name,role:e.Role,managerAddress:e.ManagerAddr,availability:e.Availability,status:e.Status,nodeLabels:e.Labels}}(t),o.jobs=e.jobs,o.state.isAgent){var n=c.endpoint.agentApiVersion;if(o.state.agentApiVersion=n,n<2)return;s.hostInfo(t.Hostname).then((function(e){o.devices=e.PCIDevices,o.disks=e.PhysicalDisks}))}}))},o.state={isAgent:!1,isAdmin:!1}}])},74275:(e,t,n)=>{const a=n(89455);angular.module("portainer.docker").component("nodeDetailsView",{templateUrl:a,controller:"NodeDetailsViewController",bindings:{endpoint:"<"}})},77152:(e,t,n)=>{const a=n(73675);angular.module("portainer.docker").component("dockerRegistryAccessView",{templateUrl:a,controller:"DockerRegistryAccessController",bindings:{endpoint:"<"}})},40106:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(93133);class s{constructor(e,t,n,a,s,i,r){this.$async=e,this.$state=t,this.Authentication=n,this.Notifications=a,this.EndpointService=s,this.GroupService=i,this.RoleService=r,this.updateAccess=this.updateAccess.bind(this),this.filterUsers=this.filterUsers.bind(this)}updateAccess(){return this.$async((async()=>{this.state.actionInProgress=!0;try{await this.EndpointService.updateRegistryAccess(this.state.endpointId,this.state.registryId,this.registryEndpointAccesses),this.Notifications.success("Access successfully updated"),this.$state.reload()}catch(e){this.state.actionInProgress=!1,this.Notifications.error("Failure",e,"Unable to update accesses")}}))}filterUsers(e){const t=this.endpoint.UserAccessPolicies,n=this.endpoint.TeamAccessPolicies,s=this.endpointGroup.UserAccessPolicies,i=this.endpointGroup.TeamAccessPolicies;return e.filter((e=>{const r=e instanceof a.UserAccessViewModel&&(t[e.Id]||s[e.Id]),o=e instanceof a.TeamAccessViewModel&&(n[e.Id]||i[e.Id]),l=r||o;if(!l)return!1;const c=l.RoleId,d=this.roles.find((e=>e.Id===c));return this.isStandardRole(d)}))}isStandardRole(e){return e&&(e.Authorizations.DockerImageCreate||e.Authorizations.DockerImagePush)&&!e.Authorizations.EndpointResourcesAccess}$onInit(){return this.$async((async()=>{this.Authentication.redirectIfUnauthorized(["PortainerRegistryUpdateAccess"]);try{this.state={viewReady:!1,actionInProgress:!1,endpointId:this.$state.params.endpointId,registryId:this.$state.params.id},this.roles=await this.RoleService.roles(),this.registry=await this.EndpointService.registry(this.state.endpointId,this.state.registryId),this.registryEndpointAccesses=this.registry.RegistryAccesses[this.state.endpointId]||{},this.endpointGroup=await this.GroupService.group(this.endpoint.GroupId)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registry details")}finally{this.state.viewReady=!0}}))}}s.$inject=["$async","$state","Authentication","Notifications","EndpointService","GroupService","RoleService"];const i=s;angular.module("portainer.docker").controller("DockerRegistryAccessController",s)},65968:(e,t,n)=>{"use strict";n.r(t);var a=n(19898);angular.module("portainer.docker").controller("CreateSecretController",["$scope","$state","Notifications","SecretService","LabelHelper","Authentication","ResourceControlService","FormValidator",function(e,t,n,s,i,r,o,l){e.formValues={Name:"",Data:"",Labels:[],encodeSecret:!0,AccessControlData:new a.AccessControlFormData},e.state={formValidationError:"",actionInProgress:!1},e.addLabel=function(){e.formValues.Labels.push({key:"",value:""})},e.removeLabel=function(t){e.formValues.Labels.splice(t,1)},e.create=function(){const a=e.formValues.AccessControlData,c=r.getUserDetails(),d=r.isAdmin();if(function(t,n){var a;return e.state.formValidationError="",!(a=l.validateAccessControl(t,n))||(e.state.formValidationError=a,!1)}(a,d)){e.state.actionInProgress=!0;var u=((p={}).Name=e.formValues.Name,function(t){e.formValues.encodeSecret?t.Data=btoa(unescape(encodeURIComponent(e.formValues.Data))):t.Data=e.formValues.Data}(p),function(t){t.Labels=i.fromKeyValueToLabelHash(e.formValues.Labels)}(p),p);s.create(u).then((function(e){const t=c.ID,n=e.Portainer.ResourceControl;return o.applyResourceControl(t,a,n)})).then((function(){n.success("Secret successfully created"),t.go("docker.secrets",{},{reload:!0})})).catch((function(e){n.error("Failure",e,"Unable to create secret")})).finally((function(){e.state.actionInProgress=!1}))}var p}}])},20842:()=>{angular.module("portainer.docker").controller("SecretController",["$scope","$transition$","$state","SecretService","Notifications",function(e,t,n,a,s){e.removeSecret=function(e){a.remove(e).then((function(){s.success("Secret successfully removed"),n.go("docker.secrets",{})})).catch((function(e){s.error("Failure",e,"Unable to remove secret")}))},a.secret(t.params().id).then((function(t){e.secret=t})).catch((function(e){s.error("Failure",e,"Unable to retrieve secret details")}))}])},69654:()=>{angular.module("portainer.docker").controller("SecretsController",["$scope","$state","SecretService","Notifications",function(e,t,n,a){function s(){n.secrets().then((function(t){e.secrets=t})).catch((function(t){e.secrets=[],a.error("Failure",t,"Unable to retrieve secrets")}))}e.removeAction=function(s){var i=s.length;angular.forEach(s,(function(s){n.remove(s.Id).then((function(){a.success("Secret successfully removed",s.Name);var t=e.secrets.indexOf(s);e.secrets.splice(t,1)})).catch((function(e){a.error("Failure",e,"Unable to remove secret")})).finally((function(){0==--i&&t.reload()}))}))},e.getSecrets=s,s()}])},91188:(e,t,n)=>{"use strict";n.r(t);var a=n(17908),s=n.n(a),i=n(75345),r=n.n(i),o=n(76939),l=n(93994),c=n(19898);n(74827),n(61573),n(98876),n(14714),angular.module("portainer.docker").controller("CreateServiceController",["$q","$scope","$state","$timeout","Service","ServiceHelper","ConfigService","ConfigHelper","SecretHelper","SecretService","VolumeService","NetworkService","ImageHelper","LabelHelper","Authentication","ResourceControlService","Notifications","FormValidator","PluginService","RegistryService","HttpRequestHelper","NodeService","WebhookService","endpoint",function(e,t,n,a,i,d,u,p,m,g,h,f,v,b,y,w,x,S,k,$,C,A,P,I){function T(e){return[].concat.apply([],e.split("'").map((function(e,t){return t%2?e:e.split(" ")}))).filter(Boolean)}var N;t.endpoint=I,t.formValues={Name:"",RegistryModel:new o.PorImageRegistryModel,Mode:"replicated",Replicas:1,Command:"",EntryPoint:"",WorkingDir:"",User:"",Env:[],Labels:[],ContainerLabels:[],Volumes:[],Network:"",ExtraNetworks:[],HostsEntries:[],Ports:[],Parallelism:1,PlacementConstraints:[],PlacementPreferences:[],UpdateDelay:"0s",UpdateOrder:"stop-first",FailureAction:"pause",Secrets:[],Configs:[],AccessControlData:new c.AccessControlFormData,CpuLimit:0,CpuReservation:0,MemoryLimit:0,MemoryReservation:0,MemoryLimitUnit:"MB",MemoryReservationUnit:"MB",RestartCondition:"any",RestartDelay:"5s",RestartMaxAttempts:0,RestartWindow:"0s",LogDriverName:"",LogDriverOpts:[],Webhook:!1},t.state={formValidationError:"",actionInProgress:!1,pullImageValidity:!1},t.allowBindMounts=!1,t.handleEnvVarChange=function(e){t.formValues.Env=e},t.hasAuthorizations=function(e){return t.isAdmin||y.hasAuthorizations(e)},t.refreshSlider=function(){a((function(){t.$broadcast("rzSliderForceRender")}))},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.addPortBinding=function(){t.formValues.Ports.push({PublishedPort:"",TargetPort:"",Protocol:"tcp",PublishMode:"ingress"})},t.removePortBinding=function(e){t.formValues.Ports.splice(e,1)},t.addExtraNetwork=function(){t.formValues.ExtraNetworks.push({Name:""})},t.removeExtraNetwork=function(e){t.formValues.ExtraNetworks.splice(e,1)},t.addHostsEntry=function(){t.formValues.HostsEntries.push({})},t.removeHostsEntry=function(e){t.formValues.HostsEntries.splice(e,1)},t.addVolume=function(){t.formValues.Volumes.push({Source:null,Target:"",ReadOnly:!1,Type:"volume"})},t.removeVolume=function(e){t.formValues.Volumes.splice(e,1)},t.addConfig=function(){t.formValues.Configs.push({})},t.removeConfig=function(e){t.formValues.Configs.splice(e,1),t.checkIfConfigDuplicated()},t.addSecret=function(){t.formValues.Secrets.push({overrideTarget:!1})},t.removeSecret=function(e){t.formValues.Secrets.splice(e,1),t.checkIfSecretDuplicated()},t.addPlacementConstraint=function(){t.formValues.PlacementConstraints.push({key:"",operator:"==",value:""})},t.removePlacementConstraint=function(e){t.formValues.PlacementConstraints.splice(e,1)},t.addPlacementPreference=function(){t.formValues.PlacementPreferences.push({strategy:"spread",value:""})},t.removePlacementPreference=function(e){t.formValues.PlacementPreferences.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({key:"",value:""})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addContainerLabel=function(){t.formValues.ContainerLabels.push({key:"",value:""})},t.removeContainerLabel=function(e){t.formValues.ContainerLabels.splice(e,1)},t.addLogDriverOpt=function(){t.formValues.LogDriverOpts.push({name:"",value:""})},t.removeLogDriverOpt=function(e){t.formValues.LogDriverOpts.splice(e,1)},t.checkIfSecretDuplicated=function(){t.formValues.Secrets.$invalid=!1,[...t.formValues.Secrets].sort(((e,t)=>e.model.Id.localeCompare(t.model.Id))).sort(((e,n)=>{e.model.Id===n.model.Id&&(t.formValues.Secrets.$invalid=!0,t.formValues.Secrets.$error="Secret "+e.model.Name+" cannot be assigned multiple times.")})),t.formValues.Secrets.$invalid||(t.formValues.Secrets.$error="")},t.checkIfConfigDuplicated=function(){t.formValues.Configs.$invalid=!1,[...t.formValues.Configs].sort(((e,t)=>e.model.Id.localeCompare(t.model.Id))).sort(((e,n)=>{e.model.Id===n.model.Id&&(t.formValues.Configs.$invalid=!0,t.formValues.Configs.$error="Config "+e.model.Name+" cannot be assigned multiple times.")})),t.formValues.Configs.$invalid||(t.formValues.Configs.$error="")},t.volumesAreValid=function(){return t.formValues.Volumes.every((e=>e.Target&&e.Source))},t.create=function(){var a,o,c=t.formValues.AccessControlData;(function(e,n){var a;return t.state.formValidationError="",!(a=S.validateAccessControl(e,n)||t.formValues.Secrets.$error||t.formValues.Configs.$error)||(t.state.formValidationError=a,!1)})(c,t.isAdmin)&&(t.state.actionInProgress=!0,function(a,s){const r=t.formValues.RegistryModel;var o=r.Registry.Authentication?$.encodedCredentials(r.Registry):"";C.setRegistryAuthenticationHeader(o),i.create(a).$promise.then((function(n){const a=n.ID,i=n.Portainer.ResourceControl,r=y.getUserDetails().ID,o=w.applyResourceControl(r,s,i),l=t.formValues.RegistryModel.Registry.Id,c=e.when(4!==I.Type&&t.formValues.Webhook&&P.createWebhook(a,I.Id,l,1));return e.all([o,c])})).then((function(){x.success("Service successfully created"),n.go("docker.services",{},{reload:!0})})).catch((function(e){x.error("Failure",e,"Unable to create service")})).finally((function(){t.state.actionInProgress=!1}))}((a=t.formValues,function(e,t){"replicated"===t.Mode?e.Mode.Replicated={Replicas:t.Replicas}:e.Mode.Global={}}(o={Name:a.Name,TaskTemplate:{ContainerSpec:{Mounts:[]},Placement:{},Resources:{Limits:{},Reservations:{}}},Mode:{},EndpointSpec:{}},a),function(e,t){var n=v.createImageConfigForContainer(t.RegistryModel);e.TaskTemplate.ContainerSpec.Image=n.fromImage}(o,a),function(e,t){let n=[];t.Ports.forEach((function(e){const t={Protocol:e.Protocol,PublishMode:e.PublishMode};e.TargetPort&&(t.TargetPort=+e.TargetPort,e.PublishedPort&&(t.PublishedPort=+e.PublishedPort),n.push(t))})),e.EndpointSpec.Ports=n}(o,a),function(e,t){t.EntryPoint&&(e.TaskTemplate.ContainerSpec.Command=T(t.EntryPoint)),t.Command&&(e.TaskTemplate.ContainerSpec.Args=T(t.Command)),t.User&&(e.TaskTemplate.ContainerSpec.User=t.User),t.WorkingDir&&(e.TaskTemplate.ContainerSpec.Dir=t.WorkingDir)}(o,a),function(e,t){e.TaskTemplate.ContainerSpec.Env=l.convertToArrayOfStrings(t.Env)}(o,a),function(e,t){e.Labels=b.fromKeyValueToLabelHash(t.Labels),e.TaskTemplate.ContainerSpec.Labels=b.fromKeyValueToLabelHash(t.ContainerLabels)}(o,a),function(e,t){t.Volumes.forEach((function(t){if(t.Source&&t.Target)if("volume"!==t.Type)e.TaskTemplate.ContainerSpec.Mounts.push(t);else{var n=(a=t.Source,s=t.Target,i=t.ReadOnly,{Target:s,Source:a.Id,Type:"volume",ReadOnly:i,VolumeOptions:{Labels:a.Labels,DriverConfig:{Name:a.Driver,Options:a.Options}}});e.TaskTemplate.ContainerSpec.Mounts.push(n)}var a,s,i}))}(o,a),function(e,t){var n=[];t.Network&&n.push({Target:t.Network}),t.ExtraNetworks.forEach((function(e){n.push({Target:e.Name})})),e.Networks=r()(n,s())}(o,a),function(e,t){var n=[];t.HostsEntries&&(t.HostsEntries.forEach((function(e){if(e.value&&e.value.indexOf(":")&&2===e.value.split(":").length){var t=e.value.split(":");n.push(t[1]+" "+t[0])}})),n.length>0&&(e.TaskTemplate.ContainerSpec.Hosts=n))}(o,a),function(e,t){e.UpdateConfig={Parallelism:t.Parallelism||0,Delay:d.translateHumanDurationToNanos(t.UpdateDelay)||0,FailureAction:t.FailureAction,Order:t.UpdateOrder}}(o,a),function(e,t){if(t.Configs){var n=[];angular.forEach(t.Configs,(function(e){if(e.model){var t=p.configConfig(e.model);t.File.Name=e.FileName||t.File.Name,n.push(t)}})),e.TaskTemplate.ContainerSpec.Configs=n}}(o,a),function(e,t){if(t.Secrets){var n=[];angular.forEach(t.Secrets,(function(e){if(e.model){var t=m.secretConfig(e.model);t.File.Name=t.SecretName,e.overrideTarget&&e.target&&""!==e.target&&(t.File.Name=e.target),n.push(t)}})),e.TaskTemplate.ContainerSpec.Secrets=n}}(o,a),function(e,t){e.TaskTemplate.Placement.Constraints=d.translateKeyValueToPlacementConstraints(t.PlacementConstraints),e.TaskTemplate.Placement.Preferences=d.translateKeyValueToPlacementPreferences(t.PlacementPreferences)}(o,a),function(e,t){t.CpuLimit>0&&(e.TaskTemplate.Resources.Limits.NanoCPUs=1e9*t.CpuLimit),t.CpuReservation>0&&(e.TaskTemplate.Resources.Reservations.NanoCPUs=1e9*t.CpuReservation)}(o,a),function(e,t){var n=(Math.round(8*t.MemoryLimit)/8).toFixed(3);n*=1048576,"GB"===t.MemoryLimitUnit&&(n*=1024),n>0&&(e.TaskTemplate.Resources.Limits.MemoryBytes=n);var a=(Math.round(8*t.MemoryReservation)/8).toFixed(3);a*=1048576,"GB"===t.MemoryReservationUnit&&(a*=1024),a>0&&(e.TaskTemplate.Resources.Reservations.MemoryBytes=a)}(o,a),function(e,t){e.TaskTemplate.RestartPolicy={Condition:t.RestartCondition||"any",Delay:d.translateHumanDurationToNanos(t.RestartDelay)||5e9,MaxAttempts:t.RestartMaxAttempts||0,Window:d.translateHumanDurationToNanos(t.RestartWindow)||0}}(o,a),function(e,t){var n={};t.LogDriverName&&(e.TaskTemplate.LogDriver={Name:t.LogDriverName},"none"!==t.LogDriverName&&(t.LogDriverOpts.forEach((function(e){e.name&&(n[e.name]=e.value)})),0!==Object.keys(n).length&&n.constructor===Object&&(e.TaskTemplate.LogDriver.Options=n)))}(o,a),o),c))},N=t.applicationState.endpoint.apiVersion,e.all({volumes:h.volumes(),networks:f.networks(!0,!0,!1),secrets:N>=1.25?g.secrets():[],configs:N>=1.3?u.configs():[],nodes:A.nodes(),availableLoggingDrivers:k.loggingPlugins(N<1.25),allowBindMounts:async function(){const e=y.isAdmin(),{allowBindMountsForRegularUsers:t}=I.SecuritySettings;return e||t||y.hasAuthorizations(["EndpointResourcesAccess"])}()}).then((function(e){t.availableVolumes=e.volumes,t.availableNetworks=e.networks,t.availableSecrets=e.secrets,t.availableConfigs=e.configs,t.availableLoggingDrivers=e.availableLoggingDrivers,function(e){var n=0,a=0;for(var s in e)e[s].CPUs&&e[s].CPUs>n&&(n=e[s].CPUs),e[s].Memory&&e[s].Memory>a&&(a=e[s].Memory);t.state.sliderMaxCpu=n>0?n/1e9:32,t.state.sliderMaxMemory=a>0?Math.floor(a/1e3/1e3):32768}(e.nodes),t.isAdmin=y.isAdmin(),t.allowBindMounts=e.allowBindMounts})).catch((function(e){x.error("Failure",e,"Unable to initialize view")}))}])},1816:(e,t,n)=>{"use strict";n.r(t);var a=n(99432),s=n.n(a),i=n(51235),r=n.n(i),o=n(25445),l=n.n(o),c=n(93715),d=n.n(c),u=n(83432),p=n.n(u),m=n(66539),g=n.n(m),h=n(6632),f=n.n(h),v=n(76939),b=n(93994),y=n(52474);n(74612),n(17590),n(83431),n(33964),n(73631),n(49394),n(69480),n(47300),n(95765),n(2224),n(82292),n(31402),n(95266),n(418),n(13269),n(91082),n(72493),n(87512),angular.module("portainer.docker").controller("ServiceController",["$q","$scope","$transition$","$state","$location","$timeout","$anchorScroll","ServiceService","ConfigService","ConfigHelper","SecretService","ImageService","SecretHelper","ServiceHelper","LabelHelper","TaskService","NodeService","ContainerService","TaskHelper","Notifications","ModalService","PluginService","Authentication","VolumeService","ImageHelper","WebhookService","clipboard","WebhookHelper","NetworkService","endpoint","EndpointService","RegistryService",function(e,t,n,a,i,o,c,u,m,h,w,x,S,k,$,C,A,P,I,T,N,E,R,D,U,V,O,F,L,_,M,j){t.endpoint=_,t.state={updateInProgress:!1,deletionInProgress:!1,rollbackInProgress:!1},t.formValues={RegistryModel:new v.PorImageRegistryModel},t.tasks=[],t.availableImages=[],t.lastVersion=0;var K={},B=[];function z(e){var n=k.serviceToConfig(e.Model);if(n.Name=e.Name,n.Labels=$.fromKeyValueToLabelHash(e.ServiceLabels),n.TaskTemplate.ContainerSpec.Env=b.convertToArrayOfStrings(e.EnvironmentVariables),n.TaskTemplate.ContainerSpec.Labels=$.fromKeyValueToLabelHash(e.ServiceContainerLabels),t.hasChanges(e,["Image"])){const e=U.createImageConfigForContainer(t.formValues.RegistryModel);n.TaskTemplate.ContainerSpec.Image=e.fromImage}else n.TaskTemplate.ContainerSpec.Image=e.Image;if(t.hasChanges(e,["Networks"])&&(n.Networks=g()(p()(e.Networks,(e=>e.Id&&e.Editable)),(e=>({Target:e.Id}))),n.TaskTemplate.Networks=n.Networks),n.TaskTemplate.ContainerSpec.Secrets=e.ServiceSecrets?e.ServiceSecrets.map(S.secretConfig):[],n.TaskTemplate.ContainerSpec.Configs=e.ServiceConfigs?e.ServiceConfigs.map(h.configConfig):[],n.TaskTemplate.ContainerSpec.Hosts=e.Hosts?k.translateHostnameIPToHostsEntries(e.Hosts):[],"replicated"===e.Mode&&(n.Mode.Replicated.Replicas=e.Replicas),n.TaskTemplate.ContainerSpec.Mounts=e.ServiceMounts,void 0===n.TaskTemplate.Placement&&(n.TaskTemplate.Placement={}),n.TaskTemplate.Placement.Constraints=k.translateKeyValueToPlacementConstraints(e.ServiceConstraints),n.TaskTemplate.Placement.Preferences=k.translateKeyValueToPlacementPreferences(e.ServicePreferences),t.hasChanges(e,["LimitNanoCPUs","LimitMemoryBytes","ReservationNanoCPUs","ReservationMemoryBytes"])){var a=(Math.round(8*e.LimitMemoryBytes)/8).toFixed(3);a*=1048576;var s=(Math.round(8*e.ReservationMemoryBytes)/8).toFixed(3);s*=1048576,n.TaskTemplate.Resources={Limits:{NanoCPUs:1e9*e.LimitNanoCPUs,MemoryBytes:a},Reservations:{NanoCPUs:1e9*e.ReservationNanoCPUs,MemoryBytes:s}}}if(t.hasChanges(e,["UpdateFailureAction","UpdateDelay","UpdateParallelism","UpdateOrder"])&&(n.UpdateConfig={Parallelism:e.UpdateParallelism,Delay:k.translateHumanDurationToNanos(e.UpdateDelay)||0,FailureAction:e.UpdateFailureAction,Order:e.UpdateOrder}),t.hasChanges(e,["RestartCondition","RestartDelay","RestartMaxAttempts","RestartWindow"])&&(n.TaskTemplate.RestartPolicy={Condition:e.RestartCondition,Delay:k.translateHumanDurationToNanos(e.RestartDelay)||5e9,MaxAttempts:e.RestartMaxAttempts,Window:k.translateHumanDurationToNanos(e.RestartWindow)||0}),n.TaskTemplate.LogDriver=null,e.LogDriverName&&(n.TaskTemplate.LogDriver={Name:e.LogDriverName},"none"!==e.LogDriverName)){var i=k.translateKeyValueToLogDriverOpts(e.LogDriverOpts);0!==Object.keys(i).length&&i.constructor===Object&&(n.TaskTemplate.LogDriver.Options=i)}return e.Ports&&e.Ports.forEach((function(e){null!==e.PublishedPort&&""!==e.PublishedPort||delete e.PublishedPort})),n.EndpointSpec={Mode:n.EndpointSpec&&n.EndpointSpec.Mode||"vip",Ports:e.Ports},n}function H(){var a=t.applicationState.endpoint.apiVersion,i=t.applicationState.endpoint.mode.agentProxy,v=null;u.service(n.params().id).then((function(n){return v=n,t.isUpdating=t.lastVersion>=v.Version,t.isUpdating||(t.lastVersion=v.Version),function(e){e.LimitNanoCPUs=e.LimitNanoCPUs/1e9||0,e.ReservationNanoCPUs=e.ReservationNanoCPUs/1e9||0,e.LimitMemoryBytes=e.LimitMemoryBytes/1024/1024||0,e.ReservationMemoryBytes=e.ReservationMemoryBytes/1024/1024||0}(v),function(e){e.ServiceSecrets=e.Secrets?e.Secrets.map(S.flattenSecret):[],e.ServiceConfigs=e.Configs?e.Configs.map(h.flattenConfig):[],e.EnvironmentVariables=b.parseArrayOfStrings(e.Env).map((e=>({...e,added:!0}))).sort(((e,t)=>e.name>t.name?1:-1)),e.LogDriverOpts=k.translateLogDriverOptsToKeyValue(e.LogDriverOpts),e.ServiceLabels=$.fromLabelHashToKeyValue(e.Labels),e.ServiceContainerLabels=$.fromLabelHashToKeyValue(e.ContainerLabels),e.ServiceMounts=angular.copy(e.Mounts),e.ServiceConstraints=k.translateConstraintsToKeyValue(e.Constraints),e.ServicePreferences=k.translatePreferencesToKeyValue(e.Preferences),e.Hosts=k.translateHostsEntriesToHostnameIP(e.Hosts)}(v),function(e){e.RestartDelay=k.translateNanosToHumanDuration(e.RestartDelay)||"5s",e.RestartWindow=k.translateNanosToHumanDuration(e.RestartWindow)||"0s",e.UpdateDelay=k.translateNanosToHumanDuration(e.UpdateDelay)||"0s",e.StopGracePeriod=e.StopGracePeriod?k.translateNanosToHumanDuration(e.StopGracePeriod):""}(v),t.service=v,K=angular.copy(v),e.all({volumes:D.volumes(),tasks:C.tasks({service:[v.Name]}),containers:i?P.containers():[],nodes:A.nodes(),secrets:a>=1.25?w.secrets():[],configs:a>=1.3?m.configs():[],availableImages:x.images(),availableLoggingDrivers:E.loggingPlugins(a<1.25),availableNetworks:L.networks(!0,!0,a>=1.25),webhooks:V.webhooks(v.Id,_.Id)})})).then((async function(e){t.nodes=e.nodes,t.configs=e.configs,t.secrets=e.secrets,t.availableImages=x.getUniqueTagListFromImages(e.availableImages),t.availableLoggingDrivers=e.availableLoggingDrivers,t.availableVolumes=e.volumes,t.allowBindMounts=_.SecuritySettings.allowBindMountsForRegularUsers,t.isAdmin=R.isAdmin(),t.availableNetworks=e.availableNetworks,t.swarmNetworks=p()(t.availableNetworks,(e=>"swarm"===e.Scope));const n=d()(l()(t.service.Model.Spec.Networks||[],t.service.Model.Spec.TaskTemplate.Networks||[]),"Target"),a=p()(g()(n,(({Target:t})=>r()(e.availableNetworks,{Id:t}))),Boolean);if(s()(t.service.Ports,(e=>"ingress"===e.PublishMode))){const e=r()(t.availableNetworks,(e=>e.Ingress));e&&a.unshift(e)}if(t.service.Networks=await Promise.all(g()(a,(async e=>{let t="";if(e.IPAM.Config.length)t=e.IPAM.Config[0].Subnet;else{const n=await L.network(e.Id);t=n&&n.IPAM&&n.IPAM.Config&&n.IPAM.Config.length&&n.IPAM.Config[0].Subnet||""}return{Id:e.Id,Name:e.Name,Addr:t,Editable:!e.Ingress}}))),K.Networks=angular.copy(t.service.Networks),e.webhooks.length>0){var u=e.webhooks[0];t.WebhookExists=!0,t.webhookID=u.Id,t.webhookURL=F.returnWebhookUrl(u.Token)}var m=e.tasks;if(i)for(var h=e.containers,b=0;b<m.length;b++){var y=m[b];I.associateContainerToTask(y,h)}k.associateTasksToService(v,m),t.tasks=e.tasks;var w=0;for(var S in e.nodes)e.nodes[S].CPUs&&e.nodes[S].CPUs>w&&(w=e.nodes[S].CPUs);t.state.sliderMaxCpu=w>0?w/1e9:32;const $=t.service.Model.Spec.TaskTemplate.ContainerSpec.Image;j.retrievePorRegistryModelFromRepository($,_.Id).then((e=>{t.formValues.RegistryModel=e,t.initialRegistryID=f()(e,"Registry.Id",0)})),t.state.addSecret={override:!1},o((function(){c()}))})).catch((function(e){t.secrets=[],t.configs=[],T.error("Failure",e,"Unable to retrieve service details")}))}function G(e,t){B.push(t),e.hasChanges=!0}t.goToItem=function(e){i.hash()!==e?i.hash(e):c()},t.addEnvironmentVariable=function(e){e.EnvironmentVariables.push({name:"",value:""}),G(e,"EnvironmentVariables",e.EnvironmentVariables)},t.onChangeEnvVars=function(e){const n=t.service,a=n.EnvironmentVariables;n.EnvironmentVariables=e.map((e=>{const t=a.find((({name:t})=>e.name===t)),n=t&&t.added;return{...e,added:n}})),G(n,"EnvironmentVariables",n.EnvironmentVariables)},t.addConfig=function(e,t){t&&0===e.ServiceConfigs.filter((function(e){return e.Id===t.Id})).length&&(e.ServiceConfigs.push({Id:t.Id,Name:t.Name,FileName:t.Name,Uid:"0",Gid:"0",Mode:292}),G(e,"ServiceConfigs",e.ServiceConfigs))},t.removeConfig=function(e,t){null!==e.ServiceConfigs.splice(t,1)&&G(e,"ServiceConfigs",e.ServiceConfigs)},t.updateConfig=function(e){G(e,"ServiceConfigs",e.ServiceConfigs)},t.addSecret=function(e,t){if(t.secret){var n=t.secret.Name;t.override&&(n=t.target),0===e.ServiceSecrets.filter((function(e){return e.Id===t.secret.Id&&e.FileName===n})).length&&(e.ServiceSecrets.push({Id:t.secret.Id,Name:t.secret.Name,FileName:n,Uid:"0",Gid:"0",Mode:444}),G(e,"ServiceSecrets",e.ServiceSecrets))}},t.removeSecret=function(e,t){null!==e.ServiceSecrets.splice(t,1)&&G(e,"ServiceSecrets",e.ServiceSecrets)},t.addLabel=function(e){e.ServiceLabels.push({key:"",value:"",originalValue:""}),G(e,"ServiceLabels",e.ServiceLabels)},t.removeLabel=function(e,t){null!==e.ServiceLabels.splice(t,1)&&G(e,"ServiceLabels",e.ServiceLabels)},t.updateLabel=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,"ServiceLabels",e.ServiceLabels)},t.addContainerLabel=function(e){e.ServiceContainerLabels.push({key:"",value:"",originalValue:""}),G(e,"ServiceContainerLabels",e.ServiceContainerLabels)},t.removeContainerLabel=function(e,t){null!==e.ServiceContainerLabels.splice(t,1)&&G(e,"ServiceContainerLabels",e.ServiceContainerLabels)},t.updateContainerLabel=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,"ServiceContainerLabels",e.ServiceContainerLabels)},t.addMount=function(e){e.ServiceMounts.push({Type:"volume",Source:null,Target:"",ReadOnly:!1}),G(e,"ServiceMounts",e.ServiceMounts)},t.removeMount=function(e,t){null!==e.ServiceMounts.splice(t,1)&&G(e,"ServiceMounts",e.ServiceMounts)},t.onChangeMountType=function(e,n){n.Source=null,t.updateMount(e,n)},t.updateMount=function(e){G(e,"ServiceMounts",e.ServiceMounts)},t.addNetwork=function(e){e.Networks||(e.Networks=[]),e.Networks.push({Editable:!0})},t.removeNetwork=function(e,t){var n=e.Networks.splice(t,1);n&&n.length&&n[0].Id&&G(e,"Networks",e.Networks)},t.updateNetwork=function(e){G(e,"Networks",e.Networks)},t.addPlacementConstraint=function(e){e.ServiceConstraints.push({key:"",operator:"==",value:""}),G(e,"ServiceConstraints",e.ServiceConstraints)},t.removePlacementConstraint=function(e,t){null!==e.ServiceConstraints.splice(t,1)&&G(e,"ServiceConstraints",e.ServiceConstraints)},t.updatePlacementConstraint=function(e){G(e,"ServiceConstraints",e.ServiceConstraints)},t.addPlacementPreference=function(e){e.ServicePreferences.push({strategy:"spread",value:""}),G(e,"ServicePreferences",e.ServicePreferences)},t.removePlacementPreference=function(e,t){null!==e.ServicePreferences.splice(t,1)&&G(e,"ServicePreferences",e.ServicePreferences)},t.updatePlacementPreference=function(e){G(e,"ServicePreferences",e.ServicePreferences)},t.addPublishedPort=function(e){e.Ports||(e.Ports=[]),e.Ports.push({PublishedPort:"",TargetPort:"",Protocol:"tcp",PublishMode:"ingress"})},t.updatePublishedPort=function(e){G(e,"Ports",e.Ports)},t.removePortPublishedBinding=function(e,t){null!==e.Ports.splice(t,1)&&G(e,"Ports",e.Ports)},t.addLogDriverOpt=function(e){e.LogDriverOpts.push({key:"",value:"",originalValue:""}),G(e,"LogDriverOpts",e.LogDriverOpts)},t.removeLogDriverOpt=function(e,t){null!==e.LogDriverOpts.splice(t,1)&&G(e,"LogDriverOpts",e.LogDriverOpts)},t.updateLogDriverOpt=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,"LogDriverOpts",e.LogDriverOpts)},t.updateLogDriverName=function(e){G(e,"LogDriverName",e.LogDriverName)},t.addHostsEntry=function(e){e.Hosts||(e.Hosts=[]),e.Hosts.push({hostname:"",ip:""})},t.removeHostsEntry=function(e,t){null!==e.Hosts.splice(t,1)&&G(e,"Hosts",e.Hosts)},t.updateHostsEntry=function(e){G(e,"Hosts",e.Hosts)},t.updateWebhook=function(e){t.WebhookExists?V.deleteWebhook(t.webhookID).then((function(){t.webhookURL=null,t.webhookID=null,t.WebhookExists=!1})).catch((function(e){T.error("Failure",e,"Unable to delete webhook")})):V.createWebhook(e.Id,_.Id,t.initialRegistryID,1).then((function(e){t.WebhookExists=!0,t.webhookID=e.Id,t.webhookURL=F.returnWebhookUrl(e.Token)})).catch((function(e){T.error("Failure",e,"Unable to create webhook")}))},t.updateWebhookRegistryId=function(){const e=f()(t.formValues.RegistryModel,"Registry.Id",0),n=t.initialRegistryID!=e;t.WebhookExists&&n&&V.updateServiceWebhook(t.webhookID,e).catch((function(e){T.error("Failure",e,"Unable to update webhook")}))},t.copyWebhook=function(){O.copyText(t.webhookURL),y("#copyNotification").show(),y("#copyNotification").fadeOut(2e3)},t.cancelChanges=async function(e,n){if(n)for(const e of n)if("Image"===e)t.formValues.RegistryModel=await j.retrievePorRegistryModelFromRepository(K.Image,_.Id);else{var a=B.indexOf(e);a>=0&&B.splice(a,1)}else t.formValues.RegistryModel=await j.retrievePorRegistryModelFromRepository(K.Image,_.Id),n=Object.keys(e),B=[];n.forEach((function(t){e[t]=K[t]})),e.hasChanges=!1},t.hasChanges=function(e,n){var a=!1;return n.forEach((function(n){if("Image"===n){const n=e?e.Model.Spec.TaskTemplate.ContainerSpec.Image:null,s=U.createImageConfigForContainer(t.formValues.RegistryModel).fromImage;a=a||n!==s}else a=a||B.indexOf(n)>=0})),a},t.mountsAreValid=function(){return t.service.ServiceMounts.every((e=>e.Source&&e.Target))},t.rollbackService=function(e){N.confirm({title:"",message:"",buttons:{confirm:{label:"",className:"btn-danger"}},callback:function(n){n&&function(e){t.state.rollbackInProgress=!0;let n={};n=z(e),u.update(e,n,"previous").then((function(e){e.message&&e.message.match(/^rpc error:/)?T.error("Failure",e,"Error"):(T.success("Success","Service successfully rolled back"),t.cancelChanges({}),H())})).catch((function(e){e.data.message&&e.data.message.includes("does not have a previous spec")?T.error("Failure",{message:""}):T.error("Failure",e,"Unable to rollback service")})).finally((function(){t.state.rollbackInProgress=!1}))}(e)}})},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.updateService=function(e){let n={};n=z(e),u.update(e,n).then((function(e){e.message&&e.message.match(/^rpc error:/)?T.error("Failure",e,"Error"):(T.success("Service successfully updated","Service updated"),t.updateWebhookRegistryId()),t.cancelChanges({}),H()}),(function(e){T.error("Failure",e,"Unable to update service")}))},t.removeService=function(){N.confirmDeletion("",(function(n){n&&(t.state.deletionInProgress=!0,u.remove(t.service).then((function(){return e.when(t.webhookID&&V.deleteWebhook(t.webhookID))})).then((function(){T.success("Service successfully deleted"),a.go("docker.services",{})})).catch((function(e){T.error("Failure",e,"Unable to remove service")})).finally((function(){t.state.deletionInProgress=!1})))}))},t.forceUpdateService=function(e){N.confirmServiceForceUpdate("",(function(n){if(n){var a=!1;n[0]&&(a=!0),function(e,n){t.state.updateInProgress=!0,M.forceUpdateService(_.Id,e.Id,n).then((function(){T.success("Service successfully updated",e.Name),t.cancelChanges({}),H()})).catch((function(t){T.error("Failure",t,"Unable to force update service",e.Name)})).finally((function(){t.state.updateInProgress=!1}))}(e,a)}}))},t.hasAuthorizations=function(e){return t.isAdmin||R.hasAuthorizations(e)},t.disabledWebhookButton=function(e){return e?!t.hasAuthorizations(["PortainerWebhookDelete"]):!t.hasAuthorizations(["PortainerWebhookCreate"])},t.updateServiceAttribute=function(e,t){e[t]===K[t]&&t in K||(e.hasChanges=!0),B.push(t)},t.filterNetworks=function(e,n){return e.filter((e=>!e.Ingress&&(e.Id===n.Id||t.service.Networks.every((t=>e.Id!==t.Id)))))},H()}])},59139:(e,t,n)=>{"use strict";n.r(t);var a=n(4396),s=n.n(a);angular.module("portainer.docker").controller("ServiceLogsController",["$scope","$transition$","$interval","ServiceService","Notifications",function(e,t,n,a,i){function r(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function o(){var o=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,s()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t})).catch((function(e){r(),i.error("Failure",e,"Unable to retrieve service logs")}))}),1e3*o)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:"",displayTimestamps:!1},e.changeLogCollection=function(e){e?o():r()},e.$on("$destroy",(function(){r()})),a.service(t.params().id).then((function(n){e.service=n,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,s()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t,o()})).catch((function(e){r(),i.error("Failure",e,"Unable to retrieve service logs")}))})).catch((function(e){i.error("Failure",e,"Unable to retrieve service information")}))}])},48566:()=>{angular.module("portainer.docker").controller("ServicesController",["$q","$scope","ServiceService","ServiceHelper","Notifications","TaskService","TaskHelper","NodeService","ContainerService","endpoint",function(e,t,n,a,s,i,r,o,l,c){function d(){var c=t.applicationState.endpoint.mode.agentProxy;return e.all({services:n.services(),tasks:i.tasks(),containers:c?l.containers(1):[],nodes:o.nodes()}).then((function(e){var n=e.services,s=e.tasks;if(c)for(var i=e.containers,o=0;o<s.length;o++){var l=s[o];r.associateContainerToTask(l,i)}for(var d=0;d<n.length;d++){var u=n[d];a.associateTasksToService(u,s)}t.nodes=e.nodes,t.tasks=s,t.services=n})).catch((function(e){t.services=[],s.error("Failure",e,"Unable to retrieve services")}))}t.getServices=d,t.endpoint=c,d()}])},9104:()=>{angular.module("portainer.docker").controller("SwarmController",["$q","$scope","SystemService","NodeService","Notifications","StateManager","Authentication",function(e,t,n,a,s,i,r){function o(e,n){var a={};a.name=e[n][0],a.ip=e[n][1],a.Id=e[n+1][1],a.status=e[n+2][1],a.containers=e[n+3][1],a.cpu=e[n+4][1].split("/")[1],a.memory=e[n+5][1].split("/")[1],a.labels=e[n+6][1],a.version=e[n+8][1],t.swarm.Status.push(a)}function l(){"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider&&a.nodes().then((function(e){var n=e;!function(e){var n=0,a=0;angular.forEach(e,(function(e){n+=e.CPUs,a+=e.Memory})),t.totalCPU=n/1e9,t.totalMemory=a}(n),t.nodes=n})).catch((function(e){s.error("Failure",e,"Unable to retrieve cluster details")}))}t.info={},t.docker={},t.swarm={},t.totalCPU=0,t.totalMemory=0,t.getNodes=l,function(){t.isAdmin=r.isAdmin();var a=t.applicationState.endpoint.mode.provider;e.all({version:n.version(),info:n.info()}).then((function(e){t.docker=e.version,t.info=e.info,"DOCKER_SWARM_MODE"===a?l():function(e){var n=e.SystemStatus;t.swarm[n[1][0]]=n[1][1],t.swarm[n[2][0]]=n[2][1];var a="primary"===n[0][1]?n[3][1]:n[4][1],s=parseInt(a,10);t.swarm[n[3][0]]=s,t.swarm.Status=[],function(e,t){var n="primary"===e[0][1]?4:5;for(let a=0;a<t;a++)o(e,n),n+=9}(n,s)}(e.info)})).catch((function(e){s.error("Failure",e,"Unable to retrieve cluster details")}))}()}])},83456:(e,t,n)=>{var a=n(52474);angular.module("portainer.docker").controller("SwarmVisualizerController",["$q","$scope","$document","$interval","NodeService","ServiceService","TaskService","Notifications","LocalStorage",function(e,t,n,s,i,r,o,l,c){function d(){var e=t.repeater;angular.isDefined(e)&&(s.cancel(e),e=null)}function u(){var n=t.state.refreshRate;t.repeater=s((function(){e.all({nodes:i.nodes(),services:r.services(),tasks:o.tasks()}).then((function(e){var n=e.nodes;t.nodes=n;var a=e.services;t.services=a;var s=e.tasks;t.tasks=s,p(n,a,s)})).catch((function(e){d(),l.error("Failure",e,"Unable to retrieve cluster information")}))}),1e3*n)}function p(e,n,a){var s={};!function(e,t){for(var n=0;n<e.length;n++)for(var a=e[n],s=0;s<t.length;s++){var i=t[s];i.ServiceId===a.Id&&(i.ServiceName=a.Name)}}(n,a),function(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.Tasks=[];for(var s=0;s<t.length;s++){var i=t[s];i.NodeId===a.Id&&a.Tasks.push(i)}}}(e,a),s.nodes=e,t.visualizerData=s}t.state={ShowInformationPanel:!0,DisplayOnlyRunningTasks:!1,DisplayNodeLabels:!1,refreshRate:"5"},t.$on("$destroy",(function(){d()})),t.changeShowInformationPanel=function(e){t.state.ShowInformationPanel=e,c.storeSwarmVisualizerSettings("show_info_panel",e)},t.changeDisplayOnlyRunningTasks=function(){var e=t.state.DisplayOnlyRunningTasks;c.storeSwarmVisualizerSettings("display_only_running_tasks",e)},t.changeDisplayNodeLabels=function(){var e=t.state.DisplayNodeLabels;c.storeSwarmVisualizerSettings("display_node_labels",e)},t.changeUpdateRepeater=function(){d(),u(),a("#refreshRateChange").show(),a("#refreshRateChange").fadeOut(1500),c.storeSwarmVisualizerSettings("refresh_rate",t.state.refreshRate)},e.all({nodes:i.nodes(),services:r.services(),tasks:o.tasks()}).then((function(e){var n=e.nodes;t.nodes=n;var a=e.services;t.services=a;var s=e.tasks;t.tasks=s,p(n,a,s),u()})).catch((function(e){l.error("Failure",e,"Unable to initialize cluster visualizer")})),function(){var e=c.getSwarmVisualizerSettings("show_info_panel");null!=e&&(t.state.ShowInformationPanel=e);var n=c.getSwarmVisualizerSettings("display_only_running_tasks");null!=n&&(t.state.DisplayOnlyRunningTasks=n);var a=c.getSwarmVisualizerSettings("display_node_labels");null!=a&&(t.state.DisplayNodeLabels=a);var s=c.getSwarmVisualizerSettings("refresh_rate");null!=s&&(t.state.refreshRate=s)}()}])},75349:()=>{angular.module("portainer.docker").controller("TaskController",["$scope","$transition$","TaskService","ServiceService","Notifications",function(e,t,n,a,s){n.task(t.params().id).then((function(t){var n=t;return e.task=n,a.service(n.ServiceId)})).then((function(t){var n=t;e.service=n})).catch((function(e){s.error("Failure",e,"Unable to retrieve task details")}))}])},93356:(e,t,n)=>{"use strict";n.r(t);var a=n(4396),s=n.n(a);angular.module("portainer.docker").controller("TaskLogsController",["$scope","$transition$","$interval","TaskService","ServiceService","Notifications",function(e,t,n,a,i,r){function o(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function l(){var i=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,s()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t})).catch((function(e){o(),r.error("Failure",e,"Unable to retrieve task logs")}))}),1e3*i)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:"",displayTimestamps:!1},e.changeLogCollection=function(e){e?l():o()},e.$on("$destroy",(function(){o()})),a.task(t.params().id).then((function(t){var n=t;return e.task=n,i.service(n.ServiceId)})).then((function(n){var i=n;e.service=i,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,s()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t,l()})).catch((function(e){o(),r.error("Failure",e,"Unable to retrieve task logs")}))})).catch((function(e){r.error("Failure",e,"Unable to retrieve task details")}))}])},63137:()=>{function e(e,t,n,a){e.volumeId=t.params().id,e.nodeName=t.params().nodeName,e.agentApiVersion=n.getAgentApiVersion(),e.endpointId=a.Id}e.$inject=["$scope","$transition$","StateManager","endpoint"],angular.module("portainer.docker").controller("BrowseVolumeController",e)},61362:(e,t,n)=>{"use strict";n.r(t);var a=n(19898),s=n(4819),i=n(86668);angular.module("portainer.docker").controller("CreateVolumeController",["$q","$scope","$state","VolumeService","PluginService","ResourceControlService","Authentication","Notifications","FormValidator","HttpRequestHelper",function(e,t,n,r,o,l,c,d,u,p){var m;t.formValues={Driver:"local",DriverOptions:[],AccessControlData:new a.AccessControlFormData,NodeName:null,NFSData:new s.VolumesNFSFormData,CIFSData:new i.VolumesCIFSFormData},t.state={formValidationError:"",actionInProgress:!1},t.availableVolumeDrivers=[],t.addDriverOption=function(){t.formValues.DriverOptions.push({name:"",value:""})},t.removeDriverOption=function(e){t.formValues.DriverOptions.splice(e,1)},t.create=function(){var e=t.formValues.Name,a=t.formValues.Driver,s=t.formValues.DriverOptions;t.formValues.NFSData.useNFS&&function(e){var n=t.formValues.NFSData;e.push({name:"type",value:"nfs"});var a="addr="+n.serverAddress+","+n.options;"NFS4"===n.version&&(a+=",nfsvers=4"),e.push({name:"o",value:a});var s=":"===n.mountPoint[0]?n.mountPoint:":"+n.mountPoint;e.push({name:"device",value:s})}(s),t.formValues.CIFSData.useCIFS&&function(e){const n=t.formValues.CIFSData;e.push({name:"type",value:"cifs"});let a=n.share.replace("\\","/");"/"!==a[0]&&(a="/"+a);const s="//"+n.serverAddress+a;e.push({name:"device",value:s});const i=n.versionsNumber[n.versions.indexOf(n.version)],r="username="+n.username+",password="+n.password+",vers="+i;e.push({name:"o",value:r})}(s);var i=r.createVolumeConfiguration(e,a,s),o=t.formValues.AccessControlData,m=c.getUserDetails(),g=c.isAdmin();if(function(e,n){var a;return t.state.formValidationError="",!(a=u.validateAccessControl(e,n))||(t.state.formValidationError=a,!1)}(o,g)){var h=t.formValues.NodeName;p.setPortainerAgentTargetHeader(h),t.state.actionInProgress=!0,r.createVolume(i).then((function(e){const t=m.ID,n=e.ResourceControl;return l.applyResourceControl(t,o,n)})).then((function(){d.success("Volume successfully created"),n.go("docker.volumes",{},{reload:!0})})).catch((function(e){d.error("Failure",e,"An error occured during volume creation")})).finally((function(){t.state.actionInProgress=!1}))}},m=t.applicationState.endpoint.apiVersion,o.volumePlugins(m<1.25).then((function(e){t.availableVolumeDrivers=e})).catch((function(e){d.error("Failure",e,"Unable to retrieve volume drivers")}))}])},28862:()=>{angular.module("portainer.docker").controller("VolumeController",["$scope","$state","$transition$","$q","ModalService","VolumeService","ContainerService","Notifications","HttpRequestHelper",function(e,t,n,a,s,i,r,o,l){e.removeVolume=function(){s.confirmDeletion("",(a=>{a&&i.remove(e.volume).then((function(){o.success("Volume successfully removed",n.params().id),t.go("docker.volumes",{})})).catch((function(e){o.error("Failure",e,"Unable to remove volume")}))}))},l.setPortainerAgentTargetHeader(n.params().nodeName),i.volume(n.params().id).then((function(t){var n=t;e.volume=n;var a={volume:[n.Id]};return r.containers(1,a)})).then((function(t){var n=(e.isCioDriver?t.containers:t).map((function(t){return t.volumeData=function(e,t){return e.Mounts.find((function(e){return e.Name===t}))}(t,e.volume.Id),t}));e.containersUsingVolume=n})).catch((function(e){o.error("Failure",e,"Unable to retrieve volume details")}))}])},6002:(e,t,n)=>{"use strict";n.r(t);var a=n(70589);angular.module("portainer.docker").controller("VolumesController",["$q","$scope","$state","VolumeService","ServiceService","VolumeHelper","Notifications","HttpRequestHelper","ModalService","endpoint",function(e,t,n,s,i,r,o,l,c,d){function u(){var n=t.applicationState.endpoint.mode.provider,l=t.applicationState.endpoint.mode.role;e.all({attached:s.volumes({filters:{dangling:["false"]}}),dangling:s.volumes({filters:{dangling:["true"]}}),services:"DOCKER_SWARM_MODE"===n&&"MANAGER"===l?i.services():[]}).then((function(e){var n=e.services;t.offlineMode=(0,a.isOfflineEndpoint)(d),t.volumes=e.attached.map((function(e){return e.dangling=!1,e})).concat(e.dangling.map((function(e){return e.dangling=!0,r.isVolumeUsedByAService(e,n)&&(e.dangling=!1),e})))})).catch((function(e){o.error("Failure",e,"Unable to retrieve volumes")}))}t.removeAction=function(e){c.confirmDeletion("",(a=>{if(a){var i=e.length;angular.forEach(e,(function(e){l.setPortainerAgentTargetHeader(e.NodeName),s.remove(e).then((function(){o.success("Volume successfully removed",e.Id);var n=t.volumes.indexOf(e);t.volumes.splice(n,1)})).catch((function(e){o.error("Failure",e,"Unable to remove volume")})).finally((function(){0==--i&&n.reload()}))}))}}))},t.offlineMode=!1,t.getVolumes=u,u(),t.showBrowseAction=t.applicationState.endpoint.mode.agentProxy}])},66250:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(6142),r=(n(20493),n(19992),n(19267),n(50033),n(28001),n(66549),n(65562),n(47097),n(48913),n(98191),n(62176),n(3979),n(66960)),o=n(8755),l=n(96973),c=(n(78495),n(15598),n(92429),n(94834),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(77072),n(95004)),d=n(4450),u=n(87227),p=n(79084),m=n(69098),g=n(43321),h=n(42877),f=n(946),v=n(73903),b=n(56713),y=n(90476),w=n(7346),x=n(86557),S=n(2629);function k(){var e=(0,o.h)(),t=e.settings,n=e.setTableSettings;return(0,S.jsx)(x.k,{value:t.autoRefreshRate,onChange:function(e){n({autoRefreshRate:e})}})}n(40958),n(50527);var $=n(89023),C=n(75698),A=n(46980),P=n(77918),I=n(46021),T=n(76827),N=n(65655);function E(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){E(i,a,s,r,o,"next",e)}function o(e){E(i,a,s,r,o,"throw",e)}r(void 0)}))}}function D(e){var t=e.selectedItems,n=e.isOpenAMTEnabled,a=e.isFDOEnabled,s=e.setLoadingMessage,i=(0,$.useRouter)();return(0,S.jsxs)("div",{className:"actionBar",children:[(0,S.jsxs)(C.zx,{disabled:t.length<1,color:"danger",onClick:function(){return function(){return r.apply(this,arguments)}()},children:[(0,S.jsx)("i",{className:"fa fa-trash-alt space-right","aria-hidden":"true"}),"Remove"]}),(0,S.jsxs)(C.zx,{onClick:function(){return function(){return o.apply(this,arguments)}()},children:[(0,S.jsx)("i",{className:"fa fa-plus-circle space-right","aria-hidden":"true"}),"Add Device"]}),n&&(0,S.jsxs)(C.zx,{disabled:1!==t.length,onClick:function(){return function(e){return l.apply(this,arguments)}(t)},children:[(0,S.jsx)("i",{className:"fa fa-link space-right","aria-hidden":"true"}),"Associate with OpenAMT"]})]});function r(){return r=R(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.l9)({title:"",message:" ",buttons:{confirm:{label:"",className:"btn-danger"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Promise.all(t.map(function(){var e=R(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.xr)(t.Id);case 3:I.Vp("Environment successfully removed",t.Name),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),I.vU("Failure",e.t0,"Unable to remove environment");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.next=9,i.stateService.reload();case 9:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}function o(){return(o=R(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return i.stateService.go("portainer.endpoints.newEdgeDevice"),e.abrupt("return");case 3:return e.next=5,(0,P.SW)({title:"",inputType:"radio",inputOptions:[{text:"Provision bare-metal using Intel FDO",value:"FDO"},{text:"Deploy agent manually",value:"MANUAL"}],buttons:{confirm:{label:"",className:"btn-primary"}}});case 5:t=e.sent,e.t0=t,e.next="FDO"===e.t0?9:"MANUAL"===e.t0?11:13;break;case 9:return i.stateService.go("portainer.endpoints.importDevice"),e.abrupt("break",14);case 11:return i.stateService.go("portainer.endpoints.newEdgeDevice"),e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return l=R(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[0],e.next=3,(0,A.l9)({title:"",message:"Associate ".concat(n.Name," with OpenAMT"),buttons:{cancel:{label:"",className:"btn-default"},confirm:{label:"",className:"btn-primary"}}});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,s("Activating Active Management Technology on selected device..."),e.next=10,(0,T.xq)(n.Id);case 10:I.Vp("Successfully associated with OpenAMT",n.Name),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),I.vU("Failure",e.t0,"Unable to associate with OpenAMT");case 16:return e.prev=16,s(""),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[6,13,16,19]])}))),l.apply(this,arguments)}}function U(e){var t=e.children;return(0,S.jsx)("div",{className:"app-portainer-components-datatables-components-InnerDatatable-module__inner-datatable",children:t})}var V=n(51641);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var F=(0,c.createContext)(null);function L(e){var t,n,a=e.environmentId,s=e.children,i=(0,c.useReducer)((function(e){return!e}),!1),r=(n=2,function(e){if(Array.isArray(e))return e}(t=i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),o=r[0],l=r[1],d=(0,c.useMemo)((function(){return{isLoading:o,toggleIsLoading:l,environmentId:a}}),[o,l,a]);return(0,S.jsx)(F.Provider,{value:d,children:s})}function _(){var e=(0,c.useContext)(F);if(!e)throw new Error("RowProvider");return e}var M,j,K,B={Header:"Hostname",accessor:function(e){return e.hostname||"-"},id:"hostname",disableFilters:!0,canHide:!0,sortType:"string",Filter:function(){return null}},z=n(39532),H={Header:"MPS Status",id:"status",disableFilters:!0,canHide:!0,sortType:"string",Cell:function(e){var t=e.row.original;return(0,S.jsx)("span",{className:(0,z.Z)({"text-success":t.connectionStatus}),children:t.connectionStatus?"Connected":"Disconnected"})},Filter:function(){return null}};!function(e){e.PowerOn="power on",e.PowerOff="power off",e.Restart="restart"}(M||(M={})),function(e){e.Running="Running",e.Sleep="Sleep",e.Off="Off",e.Hibernate="Hibernate",e.PowerCycle="Power Cycle"}(j||(j={})),function(e){e[e.On=2]="On",e[e.SleepLight=3]="SleepLight",e[e.SleepDeep=4]="SleepDeep",e[e.OffHard=6]="OffHard",e[e.Hibernate=7]="Hibernate",e[e.OffSoft=8]="OffSoft",e[e.PowerCycle=9]="PowerCycle",e[e.OffHardGraceful=13]="OffHardGraceful"}(K||(K={}));var G={Header:"Power State",accessor:function(e){return q(e.powerState)},id:"powerState",disableFilters:!0,canHide:!0,sortType:"string",Cell:function(e){var t=e.row.original,n=_().isLoading;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{className:(0,z.Z)({"text-success":t.powerState===K.On}),children:q(t.powerState)}),(0,S.jsx)("span",{children:n&&(0,S.jsx)("i",{className:"fa fa-cog fa-spin space-left"})})]})},Filter:function(){return null}};function q(e){switch(e){case K.On:return j.Running;case K.SleepLight:case K.SleepDeep:return j.Sleep;case K.OffHard:case K.OffSoft:case K.OffHardGraceful:return j.Off;case K.Hibernate:return j.Hibernate;case K.PowerCycle:return j.PowerCycle;default:return"-"}}var W=n(30335);function Y(e){var t=e.children;return(0,S.jsx)(W.v2,{className:"app-portainer-components-datatables-components-ActionsMenu-module__actions",children:function(e){var n=e.isExpanded;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(W.j2,{className:(0,z.Z)("app-portainer-components-datatables-components-ActionsMenu-module__table-actions-menu-btn",n&&"app-portainer-components-datatables-components-ActionsMenu-module__actions-active"),children:(0,S.jsx)("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})}),(0,S.jsx)(W.qy,{children:(0,S.jsx)("div",{className:"app-portainer-components-datatables-components-ActionsMenu-module__table-actions-menu-list",children:t})})]})}})}function Q(e){var t=e.children;return(0,S.jsx)("div",{className:"app-portainer-components-datatables-components-ActionsMenuTitle-module__table-actions-title",children:t})}function J(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){J(i,a,s,r,o,"next",e)}function o(e){J(i,a,s,r,o,"throw",e)}r(void 0)}))}}var X={Header:"Actions",accessor:function(){return"actions"},id:"actions",disableFilters:!0,canHide:!0,disableResizing:!0,width:"5px",sortType:"string",Filter:function(){return null},Cell:function(e){var t=e.row.original,n=(0,V.useQueryClient)(),a=_(),s=a.isLoading,i=a.toggleIsLoading,r=a.environmentId,o=(0,$.useSref)("portainer.endpoints.endpoint.kvm",{id:r,deviceId:t.guid,deviceName:t.hostname});return(0,S.jsxs)(Y,{children:[(0,S.jsx)(Q,{children:"AMT Functions"}),(0,S.jsx)(W.sN,{disabled:s,onSelect:function(){return l(M.PowerOn)},children:"Power ON"}),(0,S.jsx)(W.sN,{disabled:s,onSelect:function(){return l(M.PowerOff)},children:"Power OFF"}),(0,S.jsx)(W.sN,{disabled:s,onSelect:function(){return l(M.Restart)},children:"Restart"}),(0,S.jsx)(W.Uk,{href:o.href,onClick:o.onClick,disabled:s,children:"KVM"})]});function l(e){return c.apply(this,arguments)}function c(){return(c=Z(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.l9)({title:"Confirm action",message:" ".concat(a," "),buttons:{cancel:{label:"",className:"btn-default"},confirm:{label:"",className:"btn-primary"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,i(),e.next=9,(0,T.aP)(r,t.guid,a);case 9:return I.Vp("".concat(a," action sent successfully"),t.hostname),e.next=12,n.invalidateQueries(["amt_devices",r]);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),I.vU("Failure",e.t0,"Failed to ".concat(a," the device"));case 17:return e.prev=17,i(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})))).apply(this,arguments)}}};function ee(e){var t=e.environmentId,n=(0,c.useMemo)((function(){return[B,H,G,X]}),[]),a=function(e){var t=(0,V.useQuery)(["amt_devices",e],(function(){return(0,T.PW)(e)})),n=t.isLoading,a=t.data,s=t.isError,i=t.error;return(0,c.useEffect)((function(){s&&I.vU("Failure",i,"Failed retrieving AMT devices")}),[s,i]),{isLoading:n,devices:(0,c.useMemo)((function(){return a||[]}),[a]),error:s?i:void 0}}(t),s=a.isLoading,i=a.devices,r=a.error,o=(0,d.useTable)({columns:n,data:i},d.usePagination),l=o.getTableProps,u=o.getTableBodyProps,p=o.headerGroups,g=o.page,h=o.prepareRow,f=l(),v=u();return(0,S.jsx)(U,{children:(0,S.jsx)(m.xJ,{children:(0,S.jsxs)(m.iA,{className:f.className,role:f.role,style:f.style,children:[(0,S.jsx)("thead",{children:p.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,a=t.className,s=t.role,i=t.style;return(0,S.jsx)(m.KA,{className:a,role:s,style:i,headers:e.headers},n)}))}),(0,S.jsx)("tbody",{className:v.className,role:v.role,style:v.style,children:!s&&i&&i.length>0?g.map((function(e){h(e);var n=e.getRowProps(),a=n.key,s=n.className,i=n.role,r=n.style;return(0,S.jsx)(L,{environmentId:t,children:(0,S.jsx)(m.SC,{cells:e.cells,className:s,role:i,style:r},a)},a)})):(0,S.jsx)("tr",{children:(0,S.jsx)("td",{colSpan:5,className:"text-center text-muted",children:te(s,r)})})})]})})})}function te(e,t){return e?"...":t?t.message:"No devices found"}var ne=n(95168),ae=(0,c.createContext)(null);function se(e){var t=e.disableTrustOnFirstConnect,n=e.isOpenAmtEnabled,a=e.children,s=(0,c.useMemo)((function(){return{disableTrustOnFirstConnect:t,isOpenAmtEnabled:n}}),[t,n]);return(0,S.jsx)(ae.Provider,{value:s,children:a})}function ie(){var e=(0,c.useContext)(ae);if(!e)throw new Error("should be nested under RowProvider");return e}var re=n(64062);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e){var t,n=e.row,a=e.showExpandArrow,s=e.children;return(0,S.jsxs)(S.Fragment,{children:[a&&(0,S.jsx)("button",{type:"button",className:"app-portainer-components-datatables-components-ExpandingCell-module__expand-button",children:(0,S.jsx)("i",le(le({},n.getToggleRowExpandedProps()),{},{className:"fas ".concat((t=n.isExpanded,t?"fa-angle-down":"fa-angle-right")," space-right"),"aria-hidden":"true"}))}),s]})}var ue={Header:"Name",accessor:function(e){return e.Name},id:"name",Cell:function(e){var t=e.value,n=e.row,a=!!(ie().isOpenAmtEnabled&&n.original.AMTDeviceGUID&&n.original.AMTDeviceGUID.length>0);return(0,S.jsx)(de,{row:n,showExpandArrow:a,children:(0,S.jsx)(re.r,{to:"portainer.endpoints.endpoint",params:{id:n.original.Id},title:t,children:t})})},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:"string"},pe=n(23945),me={Header:"Heartbeat",accessor:"Status",id:"status",Cell:function(e){var t,n=e.row.original;return ie().disableTrustOnFirstConnect&&!n.UserTrusted?(0,S.jsx)("span",{className:"label label-default",children:"untrusted"}):n.LastCheckInDate?(0,S.jsx)("i",{className:(0,z.Z)("fa","fa-heartbeat",(t=n.Status,t===pe.a2.Up?"green-icon":"orange-icon")),"aria-hidden":"true"}):(0,S.jsx)("span",{className:"label label-default",children:(0,S.jsx)("s",{children:"associated"})})},disableFilters:!0,canHide:!0},ge={Header:"Group",accessor:function(e){return e.GroupName||"-"},id:"groupName",Filter:n(55552).t,canHide:!0};function he(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){he(i,a,s,r,o,"next",e)}function o(e){he(i,a,s,r,o,"throw",e)}r(void 0)}))}}n(15845),n(7974);var ve={Header:"Actions",accessor:function(){return"actions"},id:"actions",disableFilters:!0,canHide:!0,disableResizing:!0,width:"5px",sortType:"string",Filter:function(){return null},Cell:function(e){var t=e.row.original,n=(0,$.useRouter)(),a=function(e){if(t=e.Type,[pe.Qj.EdgeAgentOnDocker,pe.Qj.EdgeAgentOnKubernetes].includes(t)&&!e.EdgeID)return"portainer.endpoints.endpoint";var t,n=function(e){switch(e){case pe.Qj.KubernetesLocal:case pe.Qj.AgentOnKubernetes:case pe.Qj.EdgeAgentOnKubernetes:return pe.zh.Kubernetes;case pe.Qj.Docker:case pe.Qj.AgentOnDocker:case pe.Qj.EdgeAgentOnDocker:return pe.zh.Docker;case pe.Qj.Azure:return pe.zh.Azure;default:throw new Error(" ".concat(e," "))}}(e.Type);switch(n){case pe.zh.Azure:return"azure.dashboard";case pe.zh.Docker:return"docker.dashboard";case pe.zh.Kubernetes:return"kubernetes.dashboard";default:return""}}(t),s=(0,$.useSref)(a,{id:t.Id,endpointId:t.Id}),i=ie().disableTrustOnFirstConnect;return(0,S.jsxs)(Y,{children:[(0,S.jsx)(W.Uk,{href:s.href,onClick:s.onClick,children:"Browse"}),!1,i&&!t.UserTrusted&&(0,S.jsx)(W.Uk,{onClick:function(){return r.apply(this,arguments)},children:"Trust"})]});function r(){return(r=fe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.l9)({title:"",message:"Mark ".concat(t.Name," as trusted?"),buttons:{cancel:{label:"",className:"btn-default"},confirm:{label:"Trust",className:"btn-primary"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,N.uo)(t.Id);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),I.vU("Failure",e.t0,"An error occurred while trusting the environment");case 13:return e.prev=13,e.next=16,n.stateService.reload();case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[5,10,13,17]])})))).apply(this,arguments)}}};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Se(e){var t,n,a=e.isFdoEnabled,s=e.isOpenAmtEnabled,i=e.disableTrustOnFirstConnect,r=e.mpsServer,x=e.dataset,$=e.onRefresh,C=e.setLoadingMessage,A=(0,o.h)(),P=A.settings,I=A.setTableSettings,T=(t=(0,l.JS)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),N=T[0],E=T[1],R=(0,c.useMemo)((function(){return[ue,me,ge,ve]}),[]);(0,f.j)(P.autoRefreshRate,$);var U=(0,d.useTable)({defaultCanFilter:!1,columns:R,data:x,filterTypes:{multiple:g.m},initialState:{pageSize:P.pageSize||10,hiddenColumns:P.hiddenColumns,sortBy:[P.sortBy],globalFilter:N},isRowSelectable:function(){return!0},autoResetExpanded:!1,autoResetSelectedRows:!1,selectColumnWidth:5},d.useFilters,d.useGlobalFilter,d.useSortBy,d.useExpanded,d.usePagination,b.i,u.M_),V=U.getTableProps,O=U.getTableBodyProps,F=U.headerGroups,L=U.page,_=U.prepareRow,M=U.selectedFlatRows,j=U.allColumns,K=U.gotoPage,B=U.setPageSize,z=U.setHiddenColumns,H=U.setGlobalFilter,G=U.state,q=G.pageIndex,W=G.pageSize,Y=(0,v.N)(N);(0,c.useEffect)((function(){H(Y)}),[Y,H]);var Q=j.filter((function(e){var t=R.find((function(t){return t.id===e.id}));return null==t?void 0:t.canHide})),J=V(),Z=O(),X=x.some((function(e){return e.AMTDeviceGUID&&""!==e.AMTDeviceGUID}));return(0,S.jsxs)(m.xJ,{children:[(0,S.jsx)(m.lw,{icon:"fa-plug",label:"Edge Devices",children:(0,S.jsxs)(m.MQ,{children:[(0,S.jsx)(h.a,{columns:Q,onChange:function(e){z(e),I((function(t){return ye(ye({},t),{},{hiddenColumns:e})}))},value:P.hiddenColumns}),(0,S.jsx)(m.I6,{children:(0,S.jsx)(k,{})})]})}),(0,S.jsx)(m.p2,{children:(0,S.jsx)(D,{selectedItems:M.map((function(e){return e.original})),isFDOEnabled:a,isOpenAMTEnabled:s,setLoadingMessage:C})}),X&&(0,S.jsx)("div",{className:"app-edge-devices-components-EdgeDevicesDatatable-EdgeDevicesDatatable-module__kvm-tip",children:(0,S.jsxs)(ne.a,{color:"blue",children:[" KVM  MPS "," ",(0,S.jsx)("a",{href:"https://".concat(r),target:"_blank",rel:"noreferrer",children:"site"})," ",""]})}),(0,S.jsx)(l.E1,{value:N,onChange:function(e){E(e)}}),(0,S.jsxs)(m.iA,{className:J.className,role:J.role,style:J.style,children:[(0,S.jsx)("thead",{children:F.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,a=t.className,s=t.role,i=t.style;return(0,S.jsx)(m.KA,{className:a,role:s,style:i,headers:e.headers,onSortChange:te},n)}))}),(0,S.jsx)("tbody",{className:Z.className,role:Z.role,style:Z.style,children:L.map((function(e){_(e);var t=e.getRowProps(),n=t.key,a=t.className,r=t.role,o=t.style;return(0,S.jsxs)(se,{disableTrustOnFirstConnect:i,isOpenAmtEnabled:s,children:[(0,S.jsx)(m.SC,{cells:e.cells,className:a,role:r,style:o},n),e.isExpanded&&(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{}),(0,S.jsx)("td",{colSpan:e.cells.length-1,children:(0,S.jsx)(ee,{environmentId:e.original.Id})})]})]},n)}))})]}),(0,S.jsxs)(y.y,{children:[(0,S.jsx)(w.V,{value:M.length}),(0,S.jsx)(p.j,{showAll:!0,pageLimit:W,page:q+1,onPageChange:function(e){return K(e-1)},totalCount:x.length,onPageLimitChange:function(e){B(e),I((function(t){return ye(ye({},t),{},{pageSize:e})}))}})]})]});function te(e,t){I((function(n){return ye(ye({},n),{},{sortBy:{id:e,desc:t}})}))}}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=(0,r.F)((function(e){var t=Object.assign({},e);return(0,S.jsx)(o.U,{defaults:{autoRefreshRate:0,hiddenQuickActions:[],hiddenColumns:[],pageSize:10,sortBy:{id:"state",desc:!1}},storageKey:"edgeDevices",children:(0,S.jsx)(l.tO,{storageKey:"edgeDevices",children:(0,S.jsx)(Se,$e({},t))})})}),["dataset","onRefresh","setLoadingMessage","isFdoEnabled","disableTrustOnFirstConnect","isOpenAmtEnabled","mpsServer"]);const Pe=s().module("portainer.edge.devices",[]).component("edgeDevicesDatatable",Ae).name;s().module("portainer.edge",[i.default,Pe]).config(["$stateRegistryProvider",function(e){e.register({name:"edge",url:"/edge",parent:"root",abstract:!0}),e.register({name:"edge.groups",url:"/groups",views:{"content@":{component:"edgeGroupsView"}}}),e.register({name:"edge.groups.new",url:"/new",views:{"content@":{component:"createEdgeGroupView"}}}),e.register({name:"edge.groups.edit",url:"/:groupId",views:{"content@":{component:"editEdgeGroupView"}}}),e.register({name:"edge.stacks",url:"/stacks",views:{"content@":{component:"edgeStacksView"}}}),e.register({name:"edge.stacks.new",url:"/new",views:{"content@":{component:"createEdgeStackView"}}}),e.register({name:"edge.stacks.edit",url:"/:stackId",views:{"content@":{component:"editEdgeStackView"}},params:{tab:0}}),e.register({name:"edge.jobs",url:"/jobs",views:{"content@":{component:"edgeJobsView"}}}),e.register({name:"edge.jobs.job",url:"/:id",views:{"content@":{component:"edgeJobView"}},params:{tab:0}}),e.register({name:"edge.jobs.new",url:"/new",views:{"content@":{component:"createEdgeJobView"}}}),e.register({name:"edge.devices",url:"/devices",views:{"content@":{component:"edgeDevicesView"}}})}])},24381:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AssociatedEndpointsDatatableController:()=>i});var a=n(29274),s=n.n(a);class i{constructor(e,t,n,a){this.extendGenericController(t,e),this.DatatableService=n,this.PaginationService=a,this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.onPageChange=this.onPageChange.bind(this),this.paginationChanged=this.paginationChanged.bind(this)}extendGenericController(e,t){const n=this.$onInit.bind(this),a=this.changePaginationLimit.bind(this),i=this.onTextFilterChange.bind(this);s().extend(this,e("GenericDatatableController",{$scope:t})),this.$onInit=n,this.changePaginationLimit=a,this.onTextFilterChange=i}$onInit(){this.setDefaults(),this.prepareTableFromDataset();var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}$onChanges({updateKey:e}){e.currentValue&&!e.isFirstChange()&&this.paginationChanged()}onPageChange(e){this.state.pageNumber=e,this.paginationChanged()}changePaginationLimit(){this.PaginationService.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()}onTextFilterChange(){var e=this.state.textFilter;this.DatatableService.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()}paginationChanged(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter).then((e=>{this.state.filteredDataSet=e.endpoints,this.state.totalFilteredDataSet=e.totalCount})).finally((()=>{this.state.loading=!1}))}}i.$inject=["$scope","$controller","DatatableService","PaginationService"]},34139:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(24381);const r=n(31140);s().module("portainer.edge").component("associatedEndpointsDatatable",{templateUrl:r,controller:i.AssociatedEndpointsDatatableController,bindings:{titleText:"@",titleIcon:"@",tableKey:"@",orderBy:"@",reverseOrder:"<",retrievePage:"<",updateKey:"<"}})},72155:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(18514);s().module("portainer.edge").component("edgeGroupsSelector",{templateUrl:i,bindings:{model:"<",items:"<",onChange:"<"}})},267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeJobFormController:()=>c});var a=n(83432),s=n.n(a),i=n(44716),r=n.n(i),o=n(4396),l=n.n(o);class c{constructor(){this.state={formValidationError:""},this.scheduleValues=[{displayed:"Every hour",cron:"0 * * * *"},{displayed:"Every 2 hours",cron:"0 */2 * * *"},{displayed:"Every day",cron:"0 0 * * *"}],this.formValues={datetime:l()(),scheduleValue:this.scheduleValues[0],cronMethod:"basic",method:"editor"},this.cronRegex=/(@(annually|yearly|monthly|weekly|daily|hourly|reboot))|(@every (\d+(ns|us|s|ms|s|m|h))+)|((((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*) ){4,6}((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*))/,this.action=this.action.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this)}onChangeModel(e){const t=l()().add("hours",1);this.formValues={datetime:e.CronExpression?d(e.CronExpression,t):t,scheduleValue:this.formValues.scheduleValue,cronMethod:e.Recurring?"advanced":"basic",method:this.formValues.method}}action(){var e,t;this.state.formValidationError="","editor"!==this.formValues.method||""!==this.model.FileContent?("basic"===this.formValues.cronMethod?this.model.Recurring?this.model.CronExpression=this.formValues.scheduleValue.cron:this.model.CronExpression=(e=this.formValues.datetime,[(t=l()(e)).minutes(),t.hours(),t.date(),t.month()+1,"*"].join(" ")):this.model.Recurring=!0,this.formAction(this.formValues.method)):this.state.formValidationError="Script file content must not be empty"}editorUpdate(e){this.model.FileContent=e.getValue(),this.isEditorDirty=!0}associateEndpoint(e){r()(this.model.Endpoints,e.Id)||(this.model.Endpoints=[...this.model.Endpoints,e.Id])}dissociateEndpoint(e){this.model.Endpoints=s()(this.model.Endpoints,(t=>t!==e.Id))}$onInit(){this.onChangeModel(this.model)}}function d(e,t=l()()){var n=e.split(" ");return n.length>4?(n=n.slice(0,4),l()(e,"m H D M")):t}c.$inject=[]},59788:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(267);const r=n(7422);s().module("portainer.edge").component("edgeJobForm",{templateUrl:r,controller:i.EdgeJobFormController,bindings:{model:"=",groups:"<",tags:"<",addLabelAction:"<",removeLabelAction:"<",formAction:"<",formActionLabel:"@",actionInProgress:"<",isEditorDirty:"="}})},11314:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeJobResultsDatatableController:()=>o});var a=n(99432),s=n.n(a),i=n(29274),r=n.n(i);class o{constructor(e,t,n){this.$state=n,r().extend(this,e("GenericDatatableController",{$scope:t}))}collectLogs(...e){this.settings.repeater.autoRefresh=!0,this.settings.repeater.refreshRate="5",this.onSettingsRepeaterChange(),this.onCollectLogsClick(...e)}$onChanges({dataset:e}){e&&e.currentValue&&this.onDatasetChange(e.currentValue)}onDatasetChange(e){const t=s()(e,(e=>2===e.LogsStatus));this.settings.repeater.autoRefresh=t,this.settings.repeater.refreshRate="5",this.onSettingsRepeaterChange()}}o.$inject=["$controller","$scope","$state"]},46642:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(11314);const r=n(88832);s().module("portainer.edge").component("edgeJobResultsDatatable",{templateUrl:r,controller:i.EdgeJobResultsDatatableController,bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",onDownloadLogsClick:"<",onCollectLogsClick:"<",onClearLogsClick:"<",refreshCallback:"<"}})},25758:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(14186);s().module("portainer.edge").component("edgeJobsDatatable",{templateUrl:i,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<"}})},70830:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(){this.deploymentOptions=[{id:"deployment_compose",icon:"fab fa-docker",label:"Compose",description:"docker-compose format",value:0},{id:"deployment_kube",icon:"fa fa-cubes",label:"Kubernetes",description:"Kubernetes manifest format",value:1,disabled:()=>this.hasDockerEndpoint(),tooltip:()=>this.hasDockerEndpoint()?" Docker":""}]}}a.$inject=[]},60559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{edgeStackDeploymentTypeSelector:()=>r});var a=n(29274),s=n.n(a),i=n(70830);const r={templateUrl:n(23423),controller:i.default,bindings:{value:"<",onChange:"<",hasDockerEndpoint:"<"}};s().module("portainer.edge").component("edgeStackDeploymentTypeSelector",r)},67383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeStackEndpointsDatatableController:()=>i});var a=n(29274),s=n.n(a);class i{constructor(e,t,n,a,s,i){this.extendGenericController(n,t),this.DatatableService=a,this.PaginationService=s,this.Notifications=i,this.$async=e,this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.onPageChange=this.onPageChange.bind(this),this.paginationChanged=this.paginationChanged.bind(this),this.paginationChangedAsync=this.paginationChangedAsync.bind(this),this.statusMap={1:"OK",2:"Error",3:"Acknowledged"}}extendGenericController(e,t){const n=this.$onInit.bind(this),a=this.changePaginationLimit.bind(this),i=this.onTextFilterChange.bind(this);s().extend(this,e("GenericDatatableController",{$scope:t})),this.$onInit=n,this.changePaginationLimit=a,this.onTextFilterChange=i}$onInit(){this.setDefaults(),this.prepareTableFromDataset();var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}onPageChange(e){this.state.pageNumber=e,this.paginationChanged()}changePaginationLimit(){this.PaginationService.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()}onTextFilterChange(){var e=this.state.textFilter;this.DatatableService.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()}paginationChanged(){this.$async(this.paginationChangedAsync)}async paginationChangedAsync(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;try{const{endpoints:t,totalCount:n}=await this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter);this.state.filteredDataSet=t,this.state.totalFilteredDataSet=n}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environments")}finally{this.state.loading=!1}}}i.$inject=["$async","$scope","$controller","DatatableService","PaginationService","Notifications"]},91505:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(67383);const r=n(77656);s().module("portainer.edge").component("edgeStackEndpointsDatatable",{templateUrl:r,controller:i.EdgeStackEndpointsDatatableController,bindings:{titleText:"@",titleIcon:"@",tableKey:"@",orderBy:"@",reverseOrder:"<",retrievePage:"<"}})},794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeStackStatusController:()=>s});const a={1:"ok",2:"error",3:"acknowledged"};class s{$onChanges({stackStatus:e}){if(!e||!e.currentValue)return;const t={ok:0,error:0,acknowledged:0};for(let n in e.currentValue){const s=e.currentValue[n];t[a[s.Type]]++}this.status=t}}},26342:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(794);const r=n(53501);s().module("portainer.edge").component("edgeStackStatus",{templateUrl:r,controller:i.EdgeStackStatusController,bindings:{stackStatus:"<"}})},70018:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(3942);s().module("portainer.edge").component("edgeStacksDatatable",{templateUrl:i,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},83205:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EditEdgeStackFormController:()=>s});var a=n(74808);class s{constructor(){this.state={endpointTypes:[]},this.fileContents={0:"",1:""},this.onChangeGroups=this.onChangeGroups.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeComposeConfig=this.onChangeComposeConfig.bind(this),this.onChangeKubeManifest=this.onChangeKubeManifest.bind(this),this.hasDockerEndpoint=this.hasDockerEndpoint.bind(this),this.hasKubeEndpoint=this.hasKubeEndpoint.bind(this),this.onChangeDeploymentType=this.onChangeDeploymentType.bind(this),this.removeLineBreaks=this.removeLineBreaks.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this)}hasKubeEndpoint(){return this.state.endpointTypes.includes(a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment)}hasDockerEndpoint(){return this.state.endpointTypes.includes(a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment)}onChangeGroups(e){this.model.EdgeGroups=e,this.checkEndpointTypes(e)}isFormValid(){return this.model.EdgeGroups.length&&this.model.StackFileContent&&this.validateEndpointsForDeployment()}checkEndpointTypes(e){const t=e.map((e=>this.edgeGroups.find((t=>t.Id===e))));this.state.endpointTypes=t.flatMap((e=>e.EndpointTypes))}removeLineBreaks(e){return e.replace(/(\r\n|\n|\r)/gm,"")}onChangeFileContent(e,t){const n=this.fileContents[e];this.removeLineBreaks(n)!==this.removeLineBreaks(t)&&(this.model.StackFileContent=t,this.fileContents[e]=t,this.isEditorDirty=!0)}onChangeKubeManifest(e){this.onChangeFileContent(1,e)}onChangeComposeConfig(e){this.onChangeFileContent(0,e)}onChangeDeploymentType(e){this.model.DeploymentType=e,this.model.StackFileContent=this.fileContents[e]}validateEndpointsForDeployment(){return 0==this.model.DeploymentType||!this.hasDockerEndpoint()}$onInit(){this.checkEndpointTypes(this.model.EdgeGroups)}}s.$inject=[]},56037:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(83205);const r=n(51367);s().module("portainer.edge").component("editEdgeStackForm",{templateUrl:r,controller:i.EditEdgeStackFormController,bindings:{model:"<",actionInProgress:"<",submitAction:"<",edgeGroups:"<",isEditorDirty:"="}})},88633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeGroupFormController:()=>o});var a=n(83432),s=n.n(a),i=n(44716),r=n.n(i);class o{constructor(e,t,n){this.EndpointService=e,this.$async=t,this.endpoints={state:{limit:"10",filter:"",pageNumber:1,totalCount:0},value:null},this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.getDynamicEndpointsAsync=this.getDynamicEndpointsAsync.bind(this),this.getDynamicEndpoints=this.getDynamicEndpoints.bind(this),n.$watch((()=>this.model),(()=>{this.model.Dynamic&&this.getDynamicEndpoints()}),!0)}associateEndpoint(e){r()(this.model.Endpoints,e.Id)||(this.model.Endpoints=[...this.model.Endpoints,e.Id])}dissociateEndpoint(e){this.model.Endpoints=s()(this.model.Endpoints,(t=>t!==e.Id))}getDynamicEndpoints(){return this.$async(this.getDynamicEndpointsAsync)}async getDynamicEndpointsAsync(){const{pageNumber:e,limit:t,search:n}=this.endpoints.state,a=(e-1)*t+1,s={search:n,types:[4,7],tagIds:this.model.TagIds,tagsPartialMatch:this.model.PartialMatch},i=await this.EndpointService.endpoints(a,t,s),r=parseInt(i.totalCount,10);this.endpoints.value=i.value,this.endpoints.state.totalCount=r}}o.$inject=["EndpointService","$async","$scope"]},36906:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(88633);const r=n(68393);s().module("portainer.edge").component("edgeGroupForm",{templateUrl:r,controller:i.EdgeGroupFormController,bindings:{model:"<",groups:"<",tags:"<",formActionLabel:"@",formAction:"<",actionInProgress:"<",loaded:"<",pageType:"@"}})},9868:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeGroupsDatatableController:()=>i});var a=n(29274),s=n.n(a);class i{constructor(e,t){const n=this.allowSelection;s().extend(this,t("GenericDatatableController",{$scope:e})),this.allowSelection=n.bind(this)}allowSelection(e){return!e.HasEdgeStack}}i.$inject=["$scope","$controller"]},36267:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(9868);const r=n(48384);s().module("portainer.edge").component("edgeGroupsDatatable",{templateUrl:r,controller:i.EdgeGroupsDatatableController,bindings:{dataset:"<",titleIcon:"@",tableKey:"@",orderBy:"@",removeAction:"<",updateAction:"<",reverseOrder:"<"}})},65658:(e,t,n)=>{"use strict";n.r(t);var a=n(29274);n.n(a)().module("portainer.edge").factory("EdgeGroups",["$resource","API_ENDPOINT_EDGE_GROUPS",function(e,t){return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@Id"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},96791:()=>{function e(e,t){return e(t+"/:id/tasks/:taskId/:action",{},{query:{method:"GET",isArray:!0,params:{id:"@id"}},logFile:{method:"GET",params:{id:"@id",taskId:"@taskId",action:"logs"}},clearLogs:{method:"DELETE",params:{id:"@id",taskId:"@taskId",action:"logs"}},collectLogs:{method:"POST",params:{id:"@id",taskId:"@taskId",action:"logs"}}})}e.$inject=["$resource","API_ENDPOINT_EDGE_JOBS"],angular.module("portainer.edge").factory("EdgeJobResults",e)},2056:()=>{function e(e,t){return e(t+"/:id/:action",{},{create:{method:"POST"},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},file:{method:"GET",params:{id:"@id",action:"file"}},tasks:{method:"GET",isArray:!0,params:{id:"@id",action:"tasks"}}})}e.$inject=["$resource","API_ENDPOINT_EDGE_JOBS"],angular.module("portainer.edge").factory("EdgeJobs",e)},86796:(e,t,n)=>{"use strict";n.r(t);var a=n(29274);n.n(a)().module("portainer.edge").factory("EdgeStacks",["$resource","API_ENDPOINT_EDGE_STACKS",function(e,t){return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},file:{method:"GET",params:{id:"@id",action:"file"}}})}])},42163:(e,t,n)=>{"use strict";n.r(t);var a=n(29274);n.n(a)().module("portainer.edge").factory("EdgeTemplates",["$resource","API_ENDPOINT_EDGE_TEMPLATES",function(e,t){return e(t,{},{query:{method:"GET",isArray:!0}})}])},800:(e,t,n)=>{"use strict";n.r(t);var a=n(29274);n.n(a)().module("portainer.edge").factory("EdgeGroupService",["EdgeGroups",function(e){return{group:function(t){return e.get({id:t}).$promise},groups:function(){return e.query({}).$promise},remove:function(t){return e.remove({id:t}).$promise},create:function(t){return e.create(t).$promise},update:function(t){return e.update(t).$promise}}}])},30221:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(82653);function r(e,t,n){var a={edgeJob:async function(t){try{return await e.get({id:t}).$promise}catch(e){throw{msg:"Unable to retrieve edgeJob",err:e}}},edgeJobs:async function(){try{return await e.query().$promise}catch(e){throw{msg:"Unable to retrieve edgeJobs",err:e}}},jobResults:async function(e){try{return await t.query({id:e}).$promise}catch(e){throw{msg:"Unable to retrieve results associated to the edgeJob",err:e}}},logFile:function(e,n){return t.logFile({id:e,taskId:n}).$promise},collectLogs:function(e,n){return t.collectLogs({id:e,taskId:n}).$promise},clearLogs:function(e,n){return t.clearLogs({id:e,taskId:n}).$promise},createEdgeJobFromFileContent:function(t){var n=new i.ScheduleCreateRequest(t);return e.create({method:"string"},n).$promise},createEdgeJobFromFileUpload:function(e){var t=new i.ScheduleCreateRequest(e);return n.createSchedule(t)},updateEdgeJob:function(t){var n=new i.ScheduleUpdateRequest(t);return e.update(n).$promise},remove:function(t){return e.remove({id:t}).$promise},getScriptFile:function(t){return e.file({id:t}).$promise}};return a}r.$inject=["EdgeJobs","EdgeJobResults","FileUploadService"],s().module("portainer.edge").factory("EdgeJobService",r)},27527:(e,t,n)=>{"use strict";n.r(t);var a=n(29274);n.n(a)().module("portainer.edge").factory("EdgeStackService",["EdgeStacks","FileUploadService",function(e,t){return{stack:function(t){return e.get({id:t}).$promise},stacks:function(){return e.query({}).$promise},remove:function(t){return e.remove({id:t}).$promise},stackFile:async function(t){try{const{StackFileContent:n}=await e.file({id:t}).$promise;return n}catch(e){throw{msg:"Unable to retrieve stack content",err:e}}},updateStack:async function(t,n){return e.update({id:t},n).$promise},createStackFromFileContent:async function(t){try{return await e.create({method:"string"},t).$promise}catch(e){throw{msg:"Unable to create the stack",err:e}}},createStackFromFileUpload:async function(e,n){try{return await t.createEdgeStack(e,n)}catch(e){throw{msg:"Unable to create the stack",err:e}}},createStackFromGitRepository:async function(t,n){try{return await e.create({method:"repository"},{...t,RepositoryURL:n.RepositoryURL,RepositoryReferenceName:n.RepositoryReferenceName,FilePathInRepository:n.FilePathInRepository,RepositoryAuthentication:n.RepositoryAuthentication,RepositoryUsername:n.RepositoryUsername,RepositoryPassword:n.RepositoryPassword}).$promise}catch(e){throw{msg:"Unable to create the stack",err:e}}},update:function(t){return e.update(t).$promise}}}])},10993:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);class i{constructor(e){this.EdgeTemplates=e}edgeTemplates(){return this.EdgeTemplates.query().$promise}async edgeTemplate(e){const t=await fetch(e.stackFile);if(!t.ok)throw new Error(t.statusText);return t.text()}}i.$inject=["EdgeTemplates"],s().module("portainer.edge").service("EdgeTemplateService",i)},96753:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeDevicesViewController:()=>r});var a=n(70589),s=n(65655),i=n(23945);function r(e,t,n,r,o,l,c){var d=this;d.edgeDevices=[],this.getEnvironments=function(){return t((async()=>{try{const[e,t]=await Promise.all([(0,s.U8)(0,100,{types:[i.Qj.EdgeAgentOnDocker]}),r.groups()]);a.default.mapGroupNameToEndpoint(e.value,t),d.edgeDevices=e.value}catch(e){c.error("Failure",e,"Unable to retrieve edge devices"),d.edgeDevices=[]}}))},this.getSettings=function(){return t((async()=>{try{const e=await o.settings();d.isFDOEnabled=e&&e.EnableEdgeComputeFeatures&&e.fdoConfiguration&&e.fdoConfiguration.enabled,d.disableTrustOnFirstConnect=e&&e.EnableEdgeComputeFeatures&&e.DisableTrustOnFirstConnect,d.isOpenAMTEnabled=e&&e.EnableEdgeComputeFeatures&&e.openAMTConfiguration&&e.openAMTConfiguration.enabled,d.mpsServer=d.isOpenAMTEnabled?e.openAMTConfiguration.mpsServer:""}catch(e){c.error("Failure",e,"Unable to retrieve settings")}}))},this.setLoadingMessage=function(e){return t((async()=>{d.loadingMessage=e}))},d.getEnvironments(),d.getSettings()}r.$inject=["$q","$async","EndpointService","GroupService","SettingsService","ModalService","Notifications"],angular.module("portainer.edge").controller("EdgeDevicesViewController",r)},51088:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(96753);const r=n(72725);s().module("portainer.edge").component("edgeDevicesView",{templateUrl:r,controller:i.EdgeDevicesViewController})},44932:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CreateEdgeGroupController:()=>a});class a{constructor(e,t,n,a,s,i){this.EdgeGroupService=e,this.GroupService=t,this.TagService=n,this.Notifications=a,this.$state=s,this.$async=i,this.state={actionInProgress:!1,loaded:!1},this.model={Name:"",Endpoints:[],Dynamic:!1,TagIds:[],PartialMatch:!1},this.createGroup=this.createGroup.bind(this),this.createGroupAsync=this.createGroupAsync.bind(this)}async $onInit(){const[e,t]=await Promise.all([this.TagService.tags(),this.GroupService.groups()]);this.tags=e,this.endpointGroups=t,this.state.loaded=!0}createGroup(){return this.$async(this.createGroupAsync)}async createGroupAsync(){this.state.actionInProgress=!0;try{await this.EdgeGroupService.create(this.model),this.Notifications.success("Edge group successfully created"),this.$state.go("edge.groups")}catch(e){this.Notifications.error("Failure",e,"Unable to create edge group")}finally{this.state.actionInProgress=!1}}}a.$inject=["EdgeGroupService","GroupService","TagService","Notifications","$state","$async"]},35146:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(44932);const r=n(4690);s().module("portainer.edge").component("createEdgeGroupView",{templateUrl:r,controller:i.CreateEdgeGroupController})},62044:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeGroupsController:()=>i});var a=n(71204),s=n.n(a);class i{constructor(e,t,n,a){this.$async=e,this.$state=t,this.EdgeGroupService=n,this.Notifications=a,this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}async $onInit(){try{this.items=await this.EdgeGroupService.groups()}catch(e){this.items=[],this.Notifications.error("Failure",e,"Unable to retrieve Edge groups")}}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){for(let t of e)try{await this.EdgeGroupService.remove(t.Id),this.Notifications.success("Edge Group successfully removed",t.Name),s()(this.items,t)}catch(e){this.Notifications.error("Failure",e,"Unable to remove Edge Group")}this.$state.reload()}}i.$inject=["$async","$state","EdgeGroupService","Notifications"]},45359:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(62044);const r=n(52934);s().module("portainer.edge").component("edgeGroupsView",{templateUrl:r,controller:i.EdgeGroupsController})},23794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EditEdgeGroupController:()=>a});class a{constructor(e,t,n,a,s,i){this.EdgeGroupService=e,this.GroupService=t,this.TagService=n,this.Notifications=a,this.$state=s,this.$async=i,this.state={actionInProgress:!1,loaded:!1},this.updateGroup=this.updateGroup.bind(this),this.updateGroupAsync=this.updateGroupAsync.bind(this)}async $onInit(){const[e,t,n]=await Promise.all([this.TagService.tags(),this.GroupService.groups(),this.EdgeGroupService.group(this.$state.params.groupId)]);n||(this.Notifications.error("Failed to find edge group",{}),this.$state.go("edge.groups")),this.tags=e,this.endpointGroups=t,this.model=n,this.state.loaded=!0}updateGroup(){return this.$async(this.updateGroupAsync)}async updateGroupAsync(){this.state.actionInProgress=!0;try{await this.EdgeGroupService.update(this.model),this.Notifications.success("Edge group successfully updated"),this.$state.go("edge.groups")}catch(e){this.Notifications.error("Failure",e,"Unable to update edge group")}finally{this.state.actionInProgress=!1}}}a.$inject=["EdgeGroupService","GroupService","TagService","Notifications","$state","$async"]},58188:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(23794);const r=n(25575);s().module("portainer.edge").component("editEdgeGroupView",{templateUrl:r,controller:i.EditEdgeGroupController})},8039:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CreateEdgeJobViewController:()=>a});class a{constructor(e,t,n,a,s,i,r,o,l){this.state={actionInProgress:!1,isEditorDirty:!1},this.model={Name:"",Recurring:!1,CronExpression:"",Endpoints:[],FileContent:"",File:null},this.$async=e,this.$q=t,this.$state=n,this.$window=a,this.ModalService=s,this.Notifications=o,this.GroupService=r,this.EdgeJobService=i,this.TagService=l,this.create=this.create.bind(this),this.createEdgeJob=this.createEdgeJob.bind(this),this.createAsync=this.createAsync.bind(this)}create(e){return this.$async(this.createAsync,e)}async createAsync(e){this.state.actionInProgress=!0;try{await this.createEdgeJob(e,this.model),this.Notifications.success("Edge job successfully created"),this.state.isEditorDirty=!1,this.$state.go("edge.jobs",{},{reload:!0})}catch(e){this.Notifications.error("Failure",e,"Unable to create Edge job")}this.state.actionInProgress=!1}createEdgeJob(e,t){return"editor"===e?this.EdgeJobService.createEdgeJobFromFileContent(t):this.EdgeJobService.createEdgeJobFromFileUpload(t)}async uiCanExit(){if(this.model.FileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}$onDestroy(){this.state.isEditorDirty=!1}async $onInit(){try{const[e,t]=await Promise.all([this.GroupService.groups(),this.TagService.tags()]);this.groups=e,this.tags=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve page data")}this.$window.onbeforeunload=()=>{if(this.model.FileContent&&this.state.isEditorDirty)return""}}}a.$inject=["$async","$q","$state","$window","ModalService","EdgeJobService","GroupService","Notifications","TagService"]},47994:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(8039);const r=n(4913);s().module("portainer.edge").component("createEdgeJobView",{templateUrl:r,controller:i.CreateEdgeJobViewController})},87609:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeJobController:()=>o});var a=n(51235),s=n.n(a),i=n(66539),r=n.n(i);class o{constructor(e,t,n,a,s,i,r,o,l,c,d,u){this.state={actionInProgress:!1,showEditorTab:!1,isEditorDirty:!1},this.$async=e,this.$q=t,this.$state=n,this.$window=a,this.ModalService=s,this.EdgeJobService=i,this.EndpointService=r,this.FileSaver=o,this.GroupService=l,this.HostBrowserService=c,this.Notifications=d,this.TagService=u,this.update=this.update.bind(this),this.updateAsync=this.updateAsync.bind(this),this.downloadLogs=this.downloadLogs.bind(this),this.downloadLogsAsync=this.downloadLogsAsync.bind(this),this.collectLogs=this.collectLogs.bind(this),this.collectLogsAsync=this.collectLogsAsync.bind(this),this.clearLogs=this.clearLogs.bind(this),this.clearLogsAsync=this.clearLogsAsync.bind(this),this.refresh=this.refresh.bind(this),this.refreshAsync=this.refreshAsync.bind(this),this.showEditor=this.showEditor.bind(this)}update(){return this.$async(this.updateAsync)}async updateAsync(){const e=this.edgeJob;this.state.actionInProgress=!0;try{await this.EdgeJobService.updateEdgeJob(e),this.Notifications.success("Edge job successfully updated"),this.state.isEditorDirty=!1,this.$state.go("edge.jobs",{},{reload:!0})}catch(e){this.Notifications.error("Failure",e,"Unable to update Edge job")}this.state.actionInProgress=!1}downloadLogs(e){return this.$async(this.downloadLogsAsync,e)}async downloadLogsAsync(e){try{const t=await this.EdgeJobService.logFile(this.edgeJob.Id,e),n=new Blob([t.FileContent],{type:"text/plain;charset=utf-8"}),a=`job_${this.edgeJob.Id}_task_${e}.log`;this.FileSaver.saveAs(n,a)}catch(e){this.Notifications.error("Failure",e,"Unable to download file")}}associateEndpointsToResults(e,t){return r()(e,(e=>{const n=s()(t,(t=>t.Id===e.EndpointId));return e.Endpoint=n,e}))}collectLogs(e){return this.$async(this.collectLogsAsync,e)}async collectLogsAsync(e){try{await this.EdgeJobService.collectLogs(this.edgeJob.Id,e),s()(this.results,(t=>t.EndpointId===e)).LogsStatus=2}catch(e){this.Notifications.error("Failure",e,"Unable to collect logs")}}clearLogs(e){return this.$async(this.clearLogsAsync,e)}async clearLogsAsync(e){try{await this.EdgeJobService.clearLogs(this.edgeJob.Id,e),s()(this.results,(t=>t.EndpointId===e)).LogsStatus=1}catch(e){this.Notifications.error("Failure",e,"Unable to clear logs")}}refresh(){return this.$async(this.refreshAsync)}async refreshAsync(){const{id:e}=this.$state.params,t=await this.EdgeJobService.jobResults(e);if(t.length>0){const e=r()(t,(e=>e.EndpointId)),n=await this.EndpointService.endpoints(void 0,void 0,{endpointIds:e});this.results=this.associateEndpointsToResults(t,n.value)}else this.results=t}showEditor(){this.state.showEditorTab=!0}async uiCanExit(){if(this.edgeJob.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){const{id:e,tab:t}=this.$state.params;this.state.activeTab=t,t&&0!==t||(this.state.showEditorTab=!0);try{const[t,n,a,s,i]=await Promise.all([this.EdgeJobService.edgeJob(e),this.EdgeJobService.getScriptFile(e),this.EdgeJobService.jobResults(e),this.GroupService.groups(),this.TagService.tags()]);if(t.FileContent=n.FileContent,this.oldFileContent=t.FileContent,this.edgeJob=t,this.groups=s,this.tags=i,a.length>0){const e=r()(a,(e=>e.EndpointId)),t=await this.EndpointService.endpoints(void 0,void 0,{endpointIds:e});this.results=this.associateEndpointsToResults(a,t.value)}else this.results=a}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment list")}this.$window.onbeforeunload=()=>{if(this.edgeJob.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}}o.$inject=["$async","$q","$state","$window","ModalService","EdgeJobService","EndpointService","FileSaver","GroupService","HostBrowserService","Notifications","TagService"]},6300:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(87609);const r=n(14399);s().module("portainer.edge").component("edgeJobView",{templateUrl:r,controller:i.EdgeJobController})},54223:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeJobsViewController:()=>i});var a=n(71204),s=n.n(a);class i{constructor(e,t,n,a,s){this.$async=e,this.$state=t,this.EdgeJobService=n,this.ModalService=a,this.Notifications=s,this.removeAction=this.removeAction.bind(this),this.deleteJobsAsync=this.deleteJobsAsync.bind(this),this.deleteJobs=this.deleteJobs.bind(this)}removeAction(e){this.ModalService.confirmDeletion("",(t=>{t&&this.deleteJobs(e)}))}deleteJobs(e){return this.$async(this.deleteJobsAsync,e)}async deleteJobsAsync(e){for(let t of e)try{await this.EdgeJobService.remove(t.Id),this.Notifications.success("Stack successfully removed",t.Name),s()(this.edgeJobs,t)}catch(e){this.Notifications.error("Failure",e,"Unable to remove Edge job "+t.Name)}this.$state.reload()}async $onInit(){try{const e=await this.EdgeJobService.edgeJobs();this.edgeJobs=e}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Edge jobs"),this.edgeJobs=[]}}}i.$inject=["$async","$state","EdgeJobService","ModalService","Notifications"]},30190:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(54223);const r=n(53684);s().module("portainer.edge").component("edgeJobsView",{templateUrl:r,controller:i.EdgeJobsViewController})},32884:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n,a,s,i,r){Object.assign(this,{$state:e,$window:t,ModalService:n,EdgeStackService:a,EdgeGroupService:s,Notifications:i,$async:r}),this.formValues={Name:"",StackFileContent:"",StackFile:null,RepositoryURL:"",RepositoryReferenceName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",Env:[],ComposeFilePathInRepository:"",Groups:[],DeploymentType:0},this.state={Method:"editor",formValidationError:"",actionInProgress:!1,StackType:null,isEditorDirty:!1,endpointTypes:[]},this.edgeGroups=null,this.createStack=this.createStack.bind(this),this.validateForm=this.validateForm.bind(this),this.createStackByMethod=this.createStackByMethod.bind(this),this.createStackFromFileContent=this.createStackFromFileContent.bind(this),this.createStackFromFileUpload=this.createStackFromFileUpload.bind(this),this.createStackFromGitRepository=this.createStackFromGitRepository.bind(this),this.onChangeGroups=this.onChangeGroups.bind(this),this.hasDockerEndpoint=this.hasDockerEndpoint.bind(this),this.onChangeDeploymentType=this.onChangeDeploymentType.bind(this)}buildAnalyticsProperties(){const e={type:function(e){switch(e){case"editor":return"web-editor";case"repository":return"git";case"upload":return"file-upload";case"template":return"template"}}(this.state.Method),format:"compose"};return"template"===e.type&&(e.templateName=this.selectedTemplate.title),{metadata:e}}async uiCanExit(){if("editor"===this.state.Method&&this.formValues.StackFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){try{this.edgeGroups=await this.EdgeGroupService.groups(),this.noGroups=0===this.edgeGroups.length}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Edge groups")}this.$window.onbeforeunload=()=>{if("editor"===this.state.Method&&this.formValues.StackFileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}createStack(){return this.$async((async()=>{const e=this.formValues.Name;let t=this.state.Method;if("template"===t&&(t="editor"),this.validateForm(t)){this.state.actionInProgress=!0;try{await this.createStackByMethod(e,t),this.Notifications.success("Stack successfully deployed"),this.state.isEditorDirty=!1,this.$state.go("edge.stacks")}catch(e){this.Notifications.error("Deployment error",e,"Unable to deploy stack")}finally{this.state.actionInProgress=!1}}}))}onChangeGroups(e){this.formValues.Groups=e,this.checkIfEndpointTypes(e)}checkIfEndpointTypes(e){const t=e.map((e=>this.edgeGroups.find((t=>t.Id===e))));this.state.endpointTypes=t.flatMap((e=>e.EndpointTypes)),this.hasDockerEndpoint()&&1==this.formValues.DeploymentType&&this.onChangeDeploymentType(0)}hasKubeEndpoint(){return this.state.endpointTypes.includes(7)}hasDockerEndpoint(){return this.state.endpointTypes.includes(4)}validateForm(e){if(this.state.formValidationError="","editor"!==e||""!==this.formValues.StackFileContent)return!0;this.state.formValidationError="Stack file content must not be empty"}createStackByMethod(e,t){switch(t){case"editor":return this.createStackFromFileContent(e);case"upload":return this.createStackFromFileUpload(e);case"repository":return this.createStackFromGitRepository(e)}}createStackFromFileContent(e){const{StackFileContent:t,Groups:n,DeploymentType:a}=this.formValues;return this.EdgeStackService.createStackFromFileContent({name:e,StackFileContent:t,EdgeGroups:n,DeploymentType:a})}createStackFromFileUpload(e){const{StackFile:t,Groups:n,DeploymentType:a}=this.formValues;return this.EdgeStackService.createStackFromFileUpload({Name:e,EdgeGroups:n,DeploymentType:a},t)}createStackFromGitRepository(e){const{Groups:t,DeploymentType:n}=this.formValues,a={RepositoryURL:this.formValues.RepositoryURL,RepositoryReferenceName:this.formValues.RepositoryReferenceName,FilePathInRepository:this.formValues.ComposeFilePathInRepository,RepositoryAuthentication:this.formValues.RepositoryAuthentication,RepositoryUsername:this.formValues.RepositoryUsername,RepositoryPassword:this.formValues.RepositoryPassword};return this.EdgeStackService.createStackFromGitRepository({name:e,EdgeGroups:t,DeploymentType:n},a)}onChangeDeploymentType(e){this.formValues.DeploymentType=e,this.state.Method="editor",this.formValues.StackFileContent=""}formIsInvalid(){return this.form.$invalid||!this.formValues.Groups.length||["template","editor"].includes(this.state.Method)&&!this.formValues.StackFileContent||"upload"===this.state.Method&&!this.formValues.StackFile}}a.$inject=["$state","$window","ModalService","EdgeStackService","EdgeGroupService","Notifications","$async"]},96478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createEdgeStackView:()=>s});var a=n(32884);const s={templateUrl:n(71818),controller:a.default}},83615:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(e,t,n){Object.assign(this,{$async:e,EdgeTemplateService:t,Notifications:n}),this.methodOptions=[{id:"method_editor",icon:"fa fa-edit",label:"Web editor",description:"Use our Web editor",value:"editor"},{id:"method_upload",icon:"fa fa-upload",label:"Upload",description:"Upload from your computer",value:"upload"},{id:"method_repository",icon:"fab fa-github",label:"Repository",description:"Use a git repository",value:"repository"},{id:"method_template",icon:"fa fa-rocket",label:"Template",description:"Use an Edge stack template",value:"template"}],this.selectedTemplate=null,this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeFile=this.onChangeFile.bind(this),this.onChangeTemplate=this.onChangeTemplate.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this)}onChangeFormValues(e){this.formValues=e}onChangeMethod(e){this.state.Method=e,this.formValues.StackFileContent="",this.selectedTemplate=null}onChangeTemplate(e){return this.$async((async()=>{this.formValues.StackFileContent="";try{const t=await this.EdgeTemplateService.edgeTemplate(e);this.formValues.StackFileContent=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Template")}}))}onChangeFileContent(e){this.formValues.StackFileContent=e}onChangeFile(e){return this.$async((async()=>{this.formValues.StackFile=e}))}async $onInit(){return this.$async((async()=>{try{const e=await this.EdgeTemplateService.edgeTemplates();this.templates=e.map((e=>({...e,label:`${e.title} - ${e.description}`})))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Templates")}}))}}a.$inject=["$async","EdgeTemplateService","Notifications"];const s=a},32878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{edgeStacksDockerComposeForm:()=>s});var a=n(83615);const s={templateUrl:n(2892),controller:a.default,bindings:{formValues:"=",state:"="}}},24125:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(96478),r=n(32878),o=n(56799),l=n(75038);const c=s().module("portainer.edge.stacks.create",[]).component("createEdgeStackView",i.createEdgeStackView).component("edgeStacksDockerComposeForm",r.edgeStacksDockerComposeForm).component("edgeStacksKubeManifestForm",o.kubeManifestForm).component("kubeDeployDescription",l.kubeDeployDescription).name},75038:(e,t,n)=>{"use strict";n.r(t),n.d(t,{kubeDeployDescription:()=>a});const a={templateUrl:n(87700)}},56799:(e,t,n)=>{"use strict";n.r(t),n.d(t,{kubeManifestForm:()=>s});var a=n(23836);const s={templateUrl:n(65398),controller:a.default,bindings:{formValues:"=",state:"="}}},23836:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(e){Object.assign(this,{$async:e}),this.methodOptions=[{id:"method_editor",icon:"fa fa-edit",label:"Web editor",description:"Use our Web editor",value:"editor"},{id:"method_upload",icon:"fa fa-upload",label:"Upload",description:"Upload from your computer",value:"upload"},{id:"method_repository",icon:"fab fa-github",label:"Repository",description:"Use a git repository",value:"repository"}],this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.onChangeFile=this.onChangeFile.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this)}onChangeFormValues(e){this.formValues=e}onChangeFileContent(e){this.formValues.StackFileContent=e}onChangeFile(e){return this.$async((async()=>{this.formValues.StackFile=e}))}onChangeMethod(e){this.state.Method=e}}a.$inject=["$async"];const s=a},33661:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EdgeStacksViewController:()=>i});var a=n(71204),s=n.n(a);class i{constructor(e,t,n,a,s){this.$state=e,this.Notifications=t,this.EdgeStackService=n,this.$scope=a,this.$async=s,this.stacks=void 0,this.getStacks=this.getStacks.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}$onInit(){this.getStacks()}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){for(let t of e)try{await this.EdgeStackService.remove(t.Id),this.Notifications.success("Stack successfully removed",t.Name),s()(this.stacks,t)}catch(e){this.Notifications.error("Failure",e,"Unable to remove stack "+t.Name)}this.$state.reload()}async getStacks(){try{this.stacks=await this.EdgeStackService.stacks()}catch(e){this.stacks=[],this.Notifications.error("Failure",e,"Unable to retrieve stacks")}}}i.$inject=["$state","Notifications","EdgeStackService","$scope","$async"]},82138:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(33661);const r=n(51919);s().module("portainer.edge").component("edgeStacksView",{templateUrl:r,controller:i.EdgeStacksViewController})},66514:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EditEdgeStackViewController:()=>c});var a=n(51235),s=n.n(a),i=n(66539),r=n.n(i),o=n(55332),l=n.n(o);class c{constructor(e,t,n,a,s,i,r,o){this.$async=e,this.$state=t,this.$window=n,this.ModalService=a,this.EdgeGroupService=s,this.EdgeStackService=i,this.EndpointService=r,this.Notifications=o,this.stack=null,this.edgeGroups=null,this.state={actionInProgress:!1,activeTab:0,isEditorDirty:!1},this.deployStack=this.deployStack.bind(this),this.deployStackAsync=this.deployStackAsync.bind(this),this.getPaginatedEndpoints=this.getPaginatedEndpoints.bind(this),this.getPaginatedEndpointsAsync=this.getPaginatedEndpointsAsync.bind(this)}async $onInit(){const{stackId:e,tab:t}=this.$state.params;this.state.activeTab=t;try{const[t,n,a]=await Promise.all([this.EdgeGroupService.groups(),this.EdgeStackService.stack(e),this.EdgeStackService.stackFile(e)]);this.edgeGroups=t,this.stack=n,this.stackEndpointIds=this.filterStackEndpoints(n.EdgeGroups,t),this.originalFileContent=a,this.formValues={StackFileContent:a,EdgeGroups:this.stack.EdgeGroups,DeploymentType:this.stack.DeploymentType},this.oldFileContent=this.formValues.StackFileContent}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve stack data")}this.$window.onbeforeunload=()=>{if(this.formValues.StackFileContent!==this.oldFileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(this.formValues.StackFileContent.replace(/(\r\n|\n|\r)/gm,"")!==this.oldFileContent.replace(/(\r\n|\n|\r)/gm,"")&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}filterStackEndpoints(e,t){return l()(r()(e,(e=>s()(t,{Id:e}).Endpoints)))}deployStack(){return this.$async(this.deployStackAsync)}async deployStackAsync(){this.state.actionInProgress=!0;try{this.originalFileContent!=this.formValues.StackFileContent&&(this.formValues.Version=this.stack.Version+1),await this.EdgeStackService.updateStack(this.stack.Id,this.formValues),this.Notifications.success("Stack successfully deployed"),this.state.isEditorDirty=!1,this.$state.go("edge.stacks")}catch(e){this.Notifications.error("Deployment error",e,"Unable to deploy stack")}finally{this.state.actionInProgress=!1}}getPaginatedEndpoints(...e){return this.$async(this.getPaginatedEndpointsAsync,...e)}async getPaginatedEndpointsAsync(e,t,n){try{const a={search:n,types:[4,7],endpointIds:this.stackEndpointIds},{value:s,totalCount:i}=await this.EndpointService.endpoints(e,t,a);return{endpoints:r()(s,(e=>{const t=this.stack.Status[e.Id];return e.Status=t,e})),totalCount:i}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment information")}}}c.$inject=["$async","$state","$window","ModalService","EdgeGroupService","EdgeStackService","EndpointService","Notifications"]},36237:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(66514);const r=n(48023);s().module("portainer.edge").component("editEdgeStackView",{templateUrl:r,controller:i.EditEdgeStackViewController})},6142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a),i=n(24125);const r=s().module("portainer.edge.stacks",[i.default]).name},21570:(e,t,n)=>{"use strict";n.r(t),n(42311),n(34125);var a=n(29274),s=n.n(a),i=n(28127),r=(n(63924),n(48385)),o=(n(26317),n(61094),n(8522),n(66250),n(86929),n(54905)),l=n(98767),c=n(20037),d=n(26196);(0,c.S1)(d.cX.BE),s().module("portainer",["ui.bootstrap","ui.router",i.jd,"ui.select","isteven-multi-select","ngSanitize","ngFileUpload","ngMessages","ngResource","angularUtils.directives.dirPagination","LocalStorageModule","angular-jwt","angular-json-tree","angular-loading-bar","angular-clipboard","ngFileSaver","luegg.directives","portainer.app","portainer.agent","portainer.azure","portainer.docker","portainer.kubernetes","portainer.edge","rzModule","moment-picker","angulartics",r.default]).run(o.onStartupAngular).config(l.configApp);{const e=n(19338);e.keys().filter((e=>!e.includes(".test"))).forEach((function(t){e(t)}))}},26604:(e,t,n)=>{"use strict";n.r(t);var a=n(87658),s=n(79023);angular.module("portainer.kubernetes",["portainer.app",a.default,s.default]).config(["$stateRegistryProvider",function(e){const t={name:"kubernetes",url:"/kubernetes",parent:"endpoint",abstract:!0,onEnter:["$async","$state","endpoint","EndpointProvider","KubernetesHealthService","KubernetesNamespaceService","Notifications","StateManager",function(e,t,n,a,s,i,r,o){return e((async()=>{if([5,6,7].includes(n.Type))try{if(7===n.Type)try{await s.ping(n.Id),n.Status=1}catch(e){n.Status=2}if(a.setEndpointID(n.Id),await o.updateEndpointState(n),7===n.Type&&2===n.Status)throw new Error("");await i.get()}catch(e){r.error("Failed loading environment",e),t.go("portainer.home",{},{reload:!0})}else t.go("portainer.home")}))}]};e.register(t),e.register({name:"kubernetes.helm",url:"/helm/:namespace/:name",views:{"content@":{component:"kubernetesHelmApplicationView"}}}),e.register({name:"kubernetes.templates.helm",url:"/helm",views:{"content@":{component:"helmTemplatesView"}}}),e.register({name:"kubernetes.applications",url:"/applications",views:{"content@":{component:"kubernetesApplicationsView"}}}),e.register({name:"kubernetes.applications.new",url:"/new",views:{"content@":{component:"kubernetesCreateApplicationView"}}}),e.register({name:"kubernetes.applications.application",url:"/:namespace/:name",views:{"content@":{component:"kubernetesApplicationView"}}}),e.register({name:"kubernetes.applications.application.edit",url:"/edit",views:{"content@":{component:"kubernetesCreateApplicationView"}}}),e.register({name:"kubernetes.applications.application.console",url:"/:pod/:container/console",views:{"content@":{component:"kubernetesApplicationConsoleView"}}}),e.register({name:"kubernetes.applications.application.logs",url:"/:pod/:container/logs",views:{"content@":{component:"kubernetesApplicationLogsView"}}}),e.register({name:"kubernetes.applications.application.stats",url:"/:pod/:container/stats",views:{"content@":{component:"kubernetesApplicationStatsView"}}}),e.register({name:"kubernetes.stacks",url:"/stacks",abstract:!0}),e.register({name:"kubernetes.stacks.stack",url:"/:namespace/:name",abstract:!0}),e.register({name:"kubernetes.stacks.stack.logs",url:"/logs",views:{"content@":{component:"kubernetesStackLogsView"}}}),e.register({name:"kubernetes.configurations",url:"/configurations",views:{"content@":{component:"kubernetesConfigurationsView"}}}),e.register({name:"kubernetes.configurations.new",url:"/new",views:{"content@":{component:"kubernetesCreateConfigurationView"}}}),e.register({name:"kubernetes.configurations.configuration",url:"/:namespace/:name",views:{"content@":{component:"kubernetesConfigurationView"}}}),e.register({name:"kubernetes.cluster",url:"/cluster",views:{"content@":{component:"kubernetesClusterView"}}}),e.register({name:"kubernetes.dashboard",url:"/dashboard",views:{"content@":{component:"kubernetesDashboardView"}}}),e.register({name:"kubernetes.deploy",url:"/deploy?templateId",views:{"content@":{component:"kubernetesDeployView"}},params:{templateId:""}}),e.register({name:"kubernetes.cluster.node",url:"/:name",views:{"content@":{component:"kubernetesNodeView"}}}),e.register({name:"kubernetes.cluster.node.stats",url:"/stats",views:{"content@":{component:"kubernetesNodeStatsView"}}}),e.register({name:"kubernetes.resourcePools",url:"/pools",views:{"content@":{component:"kubernetesResourcePoolsView"}}}),e.register({name:"kubernetes.resourcePools.new",url:"/new",views:{"content@":{component:"kubernetesCreateResourcePoolView"}}}),e.register({name:"kubernetes.resourcePools.resourcePool",url:"/:id",views:{"content@":{component:"kubernetesResourcePoolView"}}}),e.register({name:"kubernetes.resourcePools.resourcePool.access",url:"/access",views:{"content@":{component:"kubernetesResourcePoolAccessView"}}}),e.register({name:"kubernetes.volumes",url:"/volumes",views:{"content@":{component:"kubernetesVolumesView"}}}),e.register({name:"kubernetes.volumes.volume",url:"/:namespace/:name",views:{"content@":{component:"kubernetesVolumeView"}}}),e.register({name:"kubernetes.registries",url:"/registries",views:{"content@":{component:"endpointRegistriesView"}}}),e.register({name:"kubernetes.registries.access",url:"/:id/access",views:{"content@":{component:"kubernetesRegistryAccessView"}}})}])},28953:(e,t,n)=>{const a=n(15879);angular.module("portainer.kubernetes").component("kubernetesContainersDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",refreshCallback:"<",showConsole:"<",accessNode:"<",isPod:"<",useServerMetrics:"<"}})},41727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(82434);const s=class{$onInit(){const e=(this.configurations||[]).filter((e=>e.Data&&e.Type===a.KubernetesConfigurationTypes.SECRET)).flatMap((e=>Object.entries(e.Data))).map((([e,t])=>({key:e,value:t})));this.state={secrets:e}}}},3962:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(41727);const r=n(99055);s().module("portainer.kubernetes").component("kubernetesApplicationsDatatableDetails",{templateUrl:r,controller:i.default,bindings:{configurations:"<"}})},87082:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(57257);s().module("portainer.kubernetes").component("kubernetesApplicationsDatatableUrl",{templateUrl:i,bindings:{publishedUrl:"@"}})},42270:(e,t,n)=>{"use strict";n.r(t);const a=n(69333);angular.module("portainer.kubernetes").component("kubernetesApplicationsDatatable",{templateUrl:a,controller:"KubernetesApplicationsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",settingsKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<",onPublishingModeClick:"<",isPrimary:"<"}})},45941:(e,t,n)=>{"use strict";n.r(t);var a=n(93715),s=n.n(a),i=n(7172),r=n(57947),o=n(7506),l=n(82434);angular.module("portainer.docker").controller("KubernetesApplicationsDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,a){angular.extend(this,t("GenericDatatableController",{$scope:e}));const c=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.state=Object.assign(this.state,{expandAll:!1,expandedItems:[]}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,this.state.filteredDataSet.forEach((e=>this.expandItem(e,this.state.expandAll)))},this.isItemExpanded=function(e){return this.state.expandedItems.includes(e.Id)},this.isExpandable=function(e){return e.KubernetesApplications||this.hasConfigurationSecrets(e)||!!this.getPublishedUrl(e).length},this.expandItem=function(e,t){t?t&&!this.state.expandedItems.includes(e.Id)&&(this.state.expandedItems=[...this.state.expandedItems,e.Id]):this.state.expandedItems=this.state.expandedItems.filter((t=>t!==e.Id)),n.setDataTableExpandedItems(this.tableKey,this.state.expandedItems)},this.expandItems=function(e){this.state.expandedItems=e,this.state.expandedItems.length===this.dataset.length&&(this.state.expandAll=!0)},this.onDataRefresh=function(){const e=n.getDataTableExpandedItems(this.tableKey);null!==e&&this.expandItems(e)},this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return r.default.isExternalApplication(e)},this.isSystemNamespace=function(e){return e.KubernetesApplications&&e.KubernetesApplications.length>0?e.KubernetesApplications.some((e=>o.default.isSystemNamespace(e.ResourcePool))):o.default.isSystemNamespace(e.ResourcePool)},this.isDisplayed=function(e){return!c.isSystemNamespace(e)||c.settings.showSystem},this.getPublishedUrl=function(e){const t=e.PublishedPorts.flatMap((e=>e.IngressRules)).filter((({Host:e,IP:t})=>e||t)).map((({Host:e,IP:t,Port:n,Path:a})=>`${443===n?"https":"http"}://${e||t}${80===n||443===n?"":`:${n}`}${a}`));let n=[];e.LoadBalancerIPAddress&&(n=e.PublishedPorts.map((t=>`http://${e.LoadBalancerIPAddress}:${t.Port}`)));const a=[...t,...n];return a.length>0?a[0]:""},this.hasConfigurationSecrets=function(e){return e.Configurations&&e.Configurations.some((e=>e.Data&&e.Type===l.KubernetesConfigurationTypes.SECRET))},this.allowSelection=function(e){return!this.isSystemNamespace(e)},this.applyFilters=function(e){return c.filters.state.values.some((t=>e.ApplicationType===t.type&&t.display))},this.onStateFilterChange=function(){this.filters.state.enabled=this.filters.state.values.some((e=>!e.display))},this.prepareTableFromDataset=function(){const e=this.dataset.map((e=>({type:e.ApplicationType,display:!0})));this.filters.state.values=s()(e,"type")},this.$onInit=function(){this.KubernetesApplicationDeploymentTypes=i.KubernetesApplicationDeploymentTypes,this.KubernetesApplicationTypes=i.KubernetesApplicationTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;const e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);const t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());const s=n.getDataTableFilters(this.tableKey);null!==s&&(this.filters=s),this.filters&&this.filters.state&&(this.filters.state.open=!1);const r=n.getDataTableExpandedItems(this.tableKey);null!==r&&this.expandItems(r);const o=n.getDataTableSettings(this.settingsKey);null!==o&&(this.settings=o,this.settings.open=!1),!a.hasAuthorizations(["K8sAccessSystemNamespaces"])&&this.settings.showSystem&&(this.settings.showSystem=!1,n.setDataTableSettings(this.settingsKey,this.settings)),this.onSettingsRepeaterChange()}}])},50195:(e,t,n)=>{const a=n(13181);angular.module("portainer.kubernetes").component("kubernetesApplicationsPortsDatatable",{templateUrl:a,controller:"KubernetesApplicationsPortsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},77106:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(83432),r=n.n(i),o=n(7172),l=n(57947),c=n(7506),d=n(79990);angular.module("portainer.docker").controller("KubernetesApplicationsPortsDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,a){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1});var i=this;this.KubernetesServiceTypes=d.KubernetesServiceTypes,this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return l.default.isExternalApplication(e)},this.isSystemNamespace=function(e){return c.default.isSystemNamespace(e.ResourcePool)},this.isDisplayed=function(e){return!i.isSystemNamespace(e)||i.settings.showSystem},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Ports.length>1||e.Ports[0].IngressRules.length>1},this.buildIngressRuleURL=function(e){return"http://"+(e.Host?e.Host:e.IP)+e.Path},this.portHasIngressRules=function(e){return e.IngressRules.length>0},this.ruleCanBeDisplayed=function(e){return!(!e.Host&&!e.IP)},this.hasExpandableItems=function(){return r()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,s()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.KubernetesApplicationDeploymentTypes=o.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var s=n.getDataTableFilters(this.tableKey);null!==s&&(this.filters=s),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),!a.hasAuthorizations(["K8sAccessSystemNamespaces"])&&this.settings.showSystem&&(this.settings.showSystem=!1,n.setDataTableSettings(this.tableKey,this.settings)),this.onSettingsRepeaterChange()}}])},21266:(e,t,n)=>{const a=n(35558);angular.module("portainer.kubernetes").component("kubernetesApplicationsStacksDatatable",{templateUrl:a,controller:"KubernetesApplicationsStacksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<",removeAction:"<"}})},89107:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(83432),r=n.n(i),o=n(7172),l=n(57947),c=n(7506);angular.module("portainer.kubernetes").controller("KubernetesApplicationsStacksDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,a){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1});var i=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return l.default.isExternalApplication(e)},this.allowSelection=function(e){return!this.isSystemNamespace(e.ResourcePool)},this.isSystemNamespace=function(e){return c.default.isSystemNamespace(e)},this.isDisplayed=function(e){return!i.isSystemNamespace(e.ResourcePool)||i.settings.showSystem},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Applications.length>0},this.hasExpandableItems=function(){return r()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,s()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.KubernetesApplicationDeploymentTypes=o.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var s=n.getDataTableFilters(this.tableKey);null!==s&&(this.filters=s),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),!a.hasAuthorizations(["K8sAccessSystemNamespaces"])&&this.settings.showSystem&&(this.settings.showSystem=!1,n.setDataTableSettings(this.tableKey,this.settings)),this.onSettingsRepeaterChange()}}])},95240:(e,t,n)=>{const a=n(62178);angular.module("portainer.kubernetes").component("kubernetesConfigurationsDatatable",{templateUrl:a,controller:"KubernetesConfigurationsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",refreshCallback:"<",removeAction:"<"}})},63507:(e,t,n)=>{"use strict";n.r(t);var a=n(51780),s=n(7506);angular.module("portainer.docker").controller("KubernetesConfigurationsDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,i){angular.extend(this,t("GenericDatatableController",{$scope:e}));const r=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isSystemNamespace=function(e){return s.default.isSystemNamespace(e.Namespace)},this.isSystemToken=function(e){return a.default.isSystemToken(e)},this.isSystemConfig=function(e){return r.isSystemNamespace(e)||r.isSystemToken(e)||e.IsRegistrySecret},this.isExternalConfiguration=function(e){return a.default.isExternalConfiguration(e)},this.isDisplayed=function(e){return!r.isSystemConfig(e)||r.settings.showSystem},this.allowSelection=function(e){return!this.isSystemConfig(e)&&!e.Used},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),!i.hasAuthorizations(["K8sAccessSystemNamespaces"])&&this.settings.showSystem&&(this.settings.showSystem=!1,n.setDataTableSettings(this.tableKey,this.settings)),this.onSettingsRepeaterChange()}}])},39564:(e,t,n)=>{const a=n(29649);angular.module("portainer.kubernetes").component("kubernetesEventsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",loading:"<",refreshCallback:"<"}})},78458:(e,t,n)=>{const a=n(95947);angular.module("portainer.kubernetes").component("kubernetesIntegratedApplicationsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},56531:(e,t,n)=>{const a=n(33989);angular.module("portainer.kubernetes").component("kubernetesNodeApplicationsDatatable",{templateUrl:a,controller:"KubernetesNodeApplicationsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},8122:(e,t,n)=>{"use strict";n.r(t);var a=n(7172),s=n(57947),i=n(7506);angular.module("portainer.docker").controller("KubernetesNodeApplicationsDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.isSystemNamespace=function(e){return i.default.isSystemNamespace(e.ResourcePool)},this.isExternalApplication=function(e){return s.default.isExternalApplication(e)},this.$onInit=function(){this.KubernetesApplicationDeploymentTypes=a.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var s=n.getDataTableFilters(this.tableKey);null!==s&&(this.filters=s),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},60810:(e,t,n)=>{const a=n(93172);angular.module("portainer.kubernetes").component("kubernetesNodesDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",refreshCallback:"<",hasK8sClusterNodeR:"<",useServerMetrics:"<"}})},56975:(e,t,n)=>{const a=n(60927);angular.module("portainer.kubernetes").component("kubernetesResourcePoolApplicationsDatatable",{templateUrl:a,controller:"KubernetesResourcePoolApplicationsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},94817:(e,t,n)=>{"use strict";n.r(t);var a=n(57947);angular.module("portainer.docker").controller("KubernetesResourcePoolApplicationsDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.isExternalApplication=function(e){return a.default.isExternalApplication(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},22158:(e,t,n)=>{const a=n(70586);angular.module("portainer.kubernetes").component("kubernetesResourcePoolsDatatable",{templateUrl:a,controller:"KubernetesResourcePoolsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},51329:(e,t,n)=>{"use strict";n.r(t);var a=n(7506);angular.module("portainer.docker").controller("KubernetesResourcePoolsDatatableController",["$scope","$controller","Authentication","DatatableService","EndpointProvider",function(e,t,n,s,i){angular.extend(this,t("GenericDatatableController",{$scope:e}));var r=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){s.setDataTableSettings(this.tableKey,this.settings)},this.canManageAccess=function(e){return(this.endpoint.Kubernetes.Configuration.RestrictDefaultNamespace||!a.default.isDefaultNamespace(e.Namespace.Name))&&!this.isSystemNamespace(e)},this.disableRemove=function(e){return this.isSystemNamespace(e)||a.default.isDefaultNamespace(e.Namespace.Name)},this.isSystemNamespace=function(e){return a.default.isSystemNamespace(e.Namespace.Name)},this.isDisplayed=function(e){return!r.isSystemNamespace(e)||r.settings.showSystem},this.namespaceStatusColor=function(e){switch(e.toLowerCase()){case"active":return"success";case"terminating":return"danger";default:return"primary"}},this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.endpoint=i.currentEndpoint(),this.isAdmin=n.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=s.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=s.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=s.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=s.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),!n.hasAuthorizations(["K8sAccessSystemNamespaces"])&&this.settings.showSystem&&(this.settings.showSystem=!1,s.setDataTableSettings(this.tableKey,this.settings)),this.onSettingsRepeaterChange()}}])},62925:(e,t,n)=>{const a=n(18491);angular.module("portainer.kubernetes").component("kubernetesVolumesDatatable",{templateUrl:a,controller:"KubernetesVolumesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},63651:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(11507),r=n(7506);class o{constructor(e,t,n,a){this.$async=e,this.$controller=t,this.DatatableService=n,this.Authentication=a,this.onInit=this.onInit.bind(this),this.allowSelection=this.allowSelection.bind(this),this.isDisplayed=this.isDisplayed.bind(this)}onSettingsShowSystemChange(){this.DatatableService.setDataTableSettings(this.tableKey,this.settings)}disableRemove(e){return this.isSystemNamespace(e)||this.isUsed(e)}isUsed(e){return i.default.isUsed(e)}isSystemNamespace(e){return r.default.isSystemNamespace(e.ResourcePool.Namespace.Name)}isDisplayed(e){return!this.isSystemNamespace(e)||this.settings.showSystem}isExternalVolume(e){return i.default.isExternalVolume(e)}allowSelection(e){return!this.disableRemove(e)}async onInit(){this.setDefaults(),this.prepareTableFromDataset(),this.settings.showSystem=!1,this.state.orderBy=this.orderBy;var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=this.DatatableService.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),!this.Authentication.hasAuthorizations(["K8sAccessSystemNamespaces"])&&this.settings.showSystem&&(this.settings.showSystem=!1,this.DatatableService.setDataTableSettings(this.tableKey,this.settings)),this.onSettingsRepeaterChange()}$onInit(){const e=s().extend({},this.$controller("GenericDatatableController"),this);return s().extend(this,e),this.$async(this.onInit)}}o.$inject=["$async","$controller","DatatableService","Authentication"];const l=o;s().module("portainer.kubernetes").controller("KubernetesVolumesDatatableController",o)},41399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n,a,s){this.$state=e,this.$async=t,this.HelmService=n,this.Notifications=a,this.EndpointProvider=s}doesRepoExist(){return!!this.state.repository&&this.repos.includes(this.state.repository.toLowerCase().replace(/\/$/,""))}async addRepository(){this.state.isAddingRepo=!0;try{await this.HelmService.addHelmRepository(this.EndpointProvider.currentEndpoint().Id,{url:this.state.repository}),this.Notifications.success("Helm repository added successfully"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Installation error",e)}finally{this.state.isAddingRepo=!1}}$onInit(){return this.$async((async()=>{this.state={isAddingRepo:!1,repository:""}}))}}a.$inject=["$state","$async","HelmService","Notifications","EndpointProvider"]},79553:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(41399);const r=n(46598);s().module("portainer.kubernetes").component("helmAddRepository",{templateUrl:r,controller:i.default,bindings:{repos:"<",endpoint:"<"}})},43579:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(2894);s().module("portainer.kubernetes").component("helmTemplatesListItem",{templateUrl:i,bindings:{model:"<",onSelect:"<"},transclude:{actions:"?templateItemActions"}})},88416:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n,a){this.$async=e,this.DatatableService=t,this.HelmService=n,this.Notifications=a,this.updateCategories=this.updateCategories.bind(this)}async updateCategories(){try{const e=this.charts.map((e=>e.annotations)).filter((e=>e)).map((e=>e.category)),t=[...new Set(e)].sort();this.state.categories=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm charts categories")}}onTextFilterChange(){this.DatatableService.setDataTableTextFilters(this.tableKey,this.state.textFilter)}clearCategory(){this.state.selectedCategory=""}$onChanges(){this.charts.length>0&&this.updateCategories()}$onInit(){return this.$async((async()=>{this.state={textFilter:"",selectedCategory:"",categories:[]};const e=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==e&&(this.state.textFilter=e)}))}}a.$inject=["$async","DatatableService","HelmService","Notifications"]},15778:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(88416);const r=n(24633);s().module("portainer.kubernetes").component("helmTemplatesList",{templateUrl:r,controller:i.default,bindings:{loading:"<",titleText:"@",titleIcon:"@",charts:"<",tableKey:"@",selectAction:"<"}})},67316:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(40714),s=n.n(a),i=n(7506);class r{constructor(e,t,n,a,s,i,r,o,l,c){this.$analytics=e,this.$async=t,this.$window=a,this.$state=n,this.$anchorScroll=s,this.Authentication=i,this.HelmService=r,this.KubernetesResourcePoolService=o,this.Notifications=l,this.ModalService=c,this.editorUpdate=this.editorUpdate.bind(this),this.uiCanExit=this.uiCanExit.bind(this),this.installHelmchart=this.installHelmchart.bind(this),this.getHelmValues=this.getHelmValues.bind(this),this.selectHelmChart=this.selectHelmChart.bind(this),this.getHelmRepoURLs=this.getHelmRepoURLs.bind(this),this.getLatestCharts=this.getLatestCharts.bind(this),this.getResourcePools=this.getResourcePools.bind(this),a.onbeforeunload=()=>{if(this.state.isEditorDirty)return""}}editorUpdate(e){const t=e.getValue();this.state.originalvalues===t?this.state.isEditorDirty=!1:(this.state.values=t,this.state.isEditorDirty=!0)}async uiCanExit(){if(this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async installHelmchart(){this.state.actionInProgress=!0;try{const e={Name:this.state.appName,Repo:this.state.chart.repo,Chart:this.state.chart.name,Values:this.state.values,Namespace:this.state.resourcePool.Namespace.Name};await this.HelmService.install(this.endpoint.Id,e),this.Notifications.success("Helm Chart successfully installed"),this.$analytics.eventTrack("kubernetes-helm-install",{category:"kubernetes",metadata:{"chart-name":this.state.chart.name}}),this.state.isEditorDirty=!1,this.$state.go("kubernetes.applications")}catch(e){this.Notifications.error("Installation error",e)}finally{this.state.actionInProgress=!1}}async getHelmValues(){this.state.loadingValues=!0;try{const{values:e}=await this.HelmService.values(this.state.chart.repo,this.state.chart.name);this.state.values=e,this.state.originalvalues=e}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm chart values.")}finally{this.state.loadingValues=!1}}async selectHelmChart(e){this.$anchorScroll("view-top"),this.state.showCustomValues=!1,this.state.chart=e,await this.getHelmValues()}async getHelmRepoURLs(){this.state.reposLoading=!0;try{const{GlobalRepository:e,UserRepositories:t}=await this.HelmService.getHelmRepositories(this.endpoint.Id);this.state.globalRepository=e;const n=t.map((e=>e.URL)),a=[...new Set([e,...n])].map((e=>e.toLowerCase())).filter((e=>e));return this.state.repos=a,a}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm repo urls.")}finally{this.state.reposLoading=!1}}async getLatestCharts(e){this.state.chartsLoading=!0;try{const t=e.map((e=>this.HelmService.search(e))),n=await Promise.allSettled(t),a=n.filter((e=>"fulfilled"===e.status)).map((t=>({entries:t.value.entries,repo:e[n.indexOf(t)]}))).flatMap((({entries:e,repo:t})=>Object.values(e).map((e=>({...e[0],repo:t})))));this.state.charts=a}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm repo charts.")}finally{this.state.chartsLoading=!1}}async getResourcePools(){this.state.resourcePoolsLoading=!0;try{const e=(await this.KubernetesResourcePoolService.get()).filter((e=>!i.default.isSystemNamespace(e.Namespace.Name)));this.state.resourcePools=s()(e,(({Namespace:e})=>"default"===e.Name?0:1)),this.state.resourcePool=this.state.resourcePools[0]}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve initial helm data.")}finally{this.state.resourcePoolsLoading=!1}}$onInit(){return this.$async((async()=>{this.state={appName:"",chart:null,showCustomValues:!1,actionInProgress:!1,resourcePools:[],resourcePool:"",values:null,originalvalues:null,repos:[],charts:[],loadingValues:!1,isEditorDirty:!1,chartsLoading:!1,resourcePoolsLoading:!1,canInstallChart:this.Authentication.hasAuthorizations(["HelmInstallChart"]),viewReady:!1,isAdmin:this.Authentication.isAdmin(),globalRepository:void 0};const e=await this.getHelmRepoURLs();await Promise.all([this.getLatestCharts(e),this.getResourcePools()]),this.state.viewReady=!0}))}$onDestroy(){this.state.isEditorDirty=!1}}r.$inject=["$analytics","$async","$state","$window","$anchorScroll","Authentication","HelmService","KubernetesResourcePoolService","Notifications","ModalService"]},71228:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(67316);const r=n(18236);s().module("portainer.kubernetes").component("helmTemplatesView",{templateUrl:r,controller:i.default,bindings:{endpoint:"<"}})},65473:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(66539),s=n.n(a),i=n(79990),r=n(14917),o=n(54241),l=n(20783);class c{constructor(e,t){this.EndpointProvider=e,this.Authentication=t,this.KubernetesApplicationPublishingTypes=l.KubernetesApplicationPublishingTypes}addPort(){const e=new i.KubernetesServicePort;if(e.nodePort="",e.port="",e.targetPort="",e.protocol="TCP",this.ingressType){const t=new i.KubernetesIngressServiceRoute;t.ServiceName=this.serviceName,this.serviceType===l.KubernetesApplicationPublishingTypes.CLUSTER_IP&&this.originalIngresses.length>0&&(t.IngressName||(t.IngressName=this.originalIngresses[0].Name),t.Host||(t.Host=this.originalIngresses[0].Hosts[0])),e.ingress=t,e.Ingress=!0}this.servicePorts.push(e)}removePort(e){this.servicePorts.splice(e,1)}servicePort(e){const t=this.servicePorts[e].targetPort;this.servicePorts[e].port=t}isAdmin(){return this.Authentication.isAdmin()}onChangeContainerPort(){const e=this.state.duplicates.targetPort,t=s()(this.servicePorts,(e=>e.targetPort)),n=o.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onChangeServicePort(){const e=this.state.duplicates.servicePort,t=s()(this.servicePorts,(e=>e.port)),n=o.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onChangeNodePort(){const e=this.state.duplicates.nodePort,t=s()(this.servicePorts,(e=>e.nodePort)),n=o.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}$onInit(){0===this.servicePorts.length&&this.addPort(),this.state={duplicates:{targetPort:new r.KubernetesFormValidationReferences,servicePort:new r.KubernetesFormValidationReferences,nodePort:new r.KubernetesFormValidationReferences},endpointId:this.EndpointProvider.endpointID()}}}c.$inject=["EndpointProvider","Authentication"]},1542:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(65473);const r=n(74226);s().module("portainer.kubernetes").component("kubeServicesItemView",{templateUrl:r,controller:i.default,bindings:{serviceType:"<",servicePorts:"=",serviceRoutes:"=",ingressType:"<",originalIngresses:"<",isEdit:"<",serviceName:"<",multiItemDisable:"<",serviceIndex:"<",loadbalancerEnabled:"<"}})},54466:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(79990),s=n(20783);class i{constructor(e,t,n){this.$async=e,this.EndpointProvider=t,this.Authentication=n}addEntry(e){const t=new a.KubernetesService;e===s.KubernetesApplicationPublishingTypes.INGRESS?(t.Type=s.KubernetesApplicationPublishingTypes.CLUSTER_IP,t.Ingress=!0):t.Type=e,t.Selector=this.formValues.Selector,t.Name=this.getUniqName(),this.state.nameIndex+=1,this.formValues.Services.push(t)}getUniqName(){let e=this.formValues.Name+"-"+this.state.nameIndex;return this.formValues.Services.forEach((t=>{t.Name===e&&(this.state.nameIndex+=1,e=this.formValues.Name+"-"+this.state.nameIndex)})),this.formValues.Name+"-"+this.state.nameIndex}deleteService(e){this.formValues.Services.splice(e,1),this.state.nameIndex-=1}addPort(e){const t=new a.KubernetesServicePort;this.formValues.Services[e].Ports.push(t)}serviceType(e){switch(e){case s.KubernetesApplicationPublishingTypes.CLUSTER_IP:return a.KubernetesServiceTypes.CLUSTER_IP;case s.KubernetesApplicationPublishingTypes.NODE_PORT:return a.KubernetesServiceTypes.NODE_PORT;case s.KubernetesApplicationPublishingTypes.LOAD_BALANCER:return a.KubernetesServiceTypes.LOAD_BALANCER;case s.KubernetesApplicationPublishingTypes.INGRESS:return a.KubernetesServiceTypes.INGRESS}}isAdmin(){return this.Authentication.isAdmin()}iconStyle(e){switch(e){case s.KubernetesApplicationPublishingTypes.CLUSTER_IP:return"fa fa-list-alt";case s.KubernetesApplicationPublishingTypes.NODE_PORT:return"fa fa-list";case s.KubernetesApplicationPublishingTypes.LOAD_BALANCER:return"fa fa-project-diagram";case s.KubernetesApplicationPublishingTypes.INGRESS:return"fa fa-route"}}$onInit(){this.state={serviceType:[{typeName:a.KubernetesServiceTypes.CLUSTER_IP,typeValue:s.KubernetesApplicationPublishingTypes.CLUSTER_IP},{typeName:a.KubernetesServiceTypes.NODE_PORT,typeValue:s.KubernetesApplicationPublishingTypes.NODE_PORT},{typeName:a.KubernetesServiceTypes.LOAD_BALANCER,typeValue:s.KubernetesApplicationPublishingTypes.LOAD_BALANCER},{typeName:a.KubernetesServiceTypes.INGRESS,typeValue:s.KubernetesApplicationPublishingTypes.INGRESS}],selected:s.KubernetesApplicationPublishingTypes.CLUSTER_IP,nameIndex:this.formValues.Services.length,endpointId:this.EndpointProvider.endpointID()}}}i.$inject=["$async","EndpointProvider","Authentication"]},14957:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(54466);const r=n(68629);s().module("portainer.kubernetes").component("kubeServicesView",{templateUrl:r,controller:i.default,bindings:{formValues:"=",isEdit:"<",loadbalancerEnabled:"<"}})},30761:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(96049),s=n(13501),i=n(50433);class r{constructor(e,t,n,a,s,i){this.$async=n,this.$window=t,this.TerminalWindow=e,this.EndpointProvider=a,this.LocalStorage=s,this.Notifications=i,t.onbeforeunload=()=>{if(this.state.shell.connected)return""}}disconnect(){this.state.shell.connected&&(this.state.shell.connected=!1,this.state.icon="fas fa-window-minimize",this.state.shell.socket.close(),this.state.shell.term.dispose(),this.TerminalWindow.terminalclose(),this.$window.onresize=null)}screenClear(){this.state.shell.term.clear()}miniRestore(){"mini"===this.state.css?(this.state.css="normal",this.state.icon="fas fa-window-minimize",this.TerminalWindow.terminalopen()):(this.state.css="mini",this.state.icon="fas fa-window-restore",this.TerminalWindow.terminalclose())}configureSocketAndTerminal(e,t){e.onopen=()=>{const e=document.getElementById("terminal-container");t.open(e),t.setOption("cursorBlink",!0),t.focus(),t.fit(),t.writeln("#Run kubectl commands inside here"),t.writeln("# kubectl get all"),t.writeln("")},t.on("data",(t=>{e.send(t)})),e.onmessage=e=>{t.write(e.data)},e.onerror=e=>{this.disconnect(),e.target.readyState!==WebSocket.CLOSED&&this.Notifications.error("Failure",e,"Websocket connection error")},this.$window.onresize=()=>{this.TerminalWindow.terminalresize()},e.onclose=this.disconnect.bind(this),this.state.shell.connected=!0}connectConsole(){this.TerminalWindow.terminalopen(),this.state.css="normal";const e={token:this.LocalStorage.getJWT(),endpointId:this.EndpointProvider.endpointID()},t="https:"===this.$window.location.protocol?"wss://":"ws://",n=(0,i.baseHref)()+"api/websocket/kubernetes-shell",r=Object.entries(e).map((([e,t])=>`${e}=${t}`)).join("&"),o=`${t}${window.location.host}${n}?${r}`;a.o.applyAddon(s),this.state.shell.socket=new WebSocket(o),this.state.shell.term=new a.o,this.configureSocketAndTerminal(this.state.shell.socket,this.state.shell.term)}$onInit(){return this.$async((async()=>{this.state={css:"normal",icon:"fa-window-minimize",shell:{connected:!1,socket:null,term:null}}}))}$onDestroy(){this.state.shell.connected&&(this.disconnect(),this.$window.onresize=null)}}r.$inject=["TerminalWindow","$window","$async","EndpointProvider","LocalStorage","Notifications"]},92590:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(30761);const r=n(68366);s().module("portainer.kubernetes").component("kubectlShell",{templateUrl:r,controller:i.default})},4546:(e,t,n)=>{const a=n(80331);angular.module("portainer.kubernetes").component("kubernetesConfigurationData",{templateUrl:a,controller:"KubernetesConfigurationDataController",bindings:{formValues:"=",isValid:"=",isCreation:"=",isEditorDirty:"="}})},16591:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(28380),l=n.n(o),c=n(52300),d=n(54241),u=n(51780),p=n(30578);class m{constructor(e){this.$async=e,this.editorUpdate=this.editorUpdate.bind(this),this.editorUpdateAsync=this.editorUpdateAsync.bind(this),this.onFileLoad=this.onFileLoad.bind(this),this.onFileLoadAsync=this.onFileLoadAsync.bind(this),this.showSimpleMode=this.showSimpleMode.bind(this),this.showAdvancedMode=this.showAdvancedMode.bind(this)}onChangeKey(e){e&&e.Used||(this.state.duplicateKeys=d.default.getDuplicates(s()(this.formValues.Data,(e=>e.Key))),this.state.invalidKeys=d.default.getInvalidKeys(s()(this.formValues.Data,(e=>e.Key))),this.isValid=0===Object.keys(this.state.duplicateKeys).length&&0===Object.keys(this.state.invalidKeys).length)}addEntry(){this.formValues.Data.push(new p.KubernetesConfigurationFormValuesEntry)}removeEntry(e,t){t.Used||(this.formValues.Data.splice(e,1),this.onChangeKey())}async editorUpdateAsync(e){this.formValues.DataYaml!==e.getValue()&&(this.formValues.DataYaml=e.getValue(),this.isEditorDirty=!0)}editorUpdate(e){return this.$async(this.editorUpdateAsync,e)}async onFileLoadAsync(e){const t=new p.KubernetesConfigurationFormValuesEntry,n=l().detect(Buffer.from(e.target.result)),a=new TextDecoder(n);if(t.Key=e.target.fileName,t.IsBinary=u.default.isBinary(n),t.IsBinary){const n=a.decode(e.target.result);t.Value=c.DS.encode(n)}else t.Value=a.decode(e.target.result);this.formValues.Data.push(t),this.onChangeKey()}onFileLoad(e){return this.$async(this.onFileLoadAsync,e)}addEntryFromFile(e){if(e){const t=new FileReader;t.fileName=e.name,t.onload=this.onFileLoad,t.readAsArrayBuffer(e)}}showSimpleMode(){this.formValues.IsSimple=!0,this.formValues.Data=u.default.parseYaml(this.formValues),this.onChangeKey()}showAdvancedMode(){this.formValues.IsSimple=!1,this.formValues.DataYaml=u.default.parseData(this.formValues)}$onInit(){this.state={duplicateKeys:[],invalidKeys:{}}}}m.$inject=["$async"];const g=m;r().module("portainer.kubernetes").controller("KubernetesConfigurationDataController",m)},51713:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(81105);s().module("portainer.kubernetes").component("kubernetesSidebar",{templateUrl:i,bindings:{endpointId:"<",isSidebarOpen:"<"}})},42718:(e,t,n)=>{const a=n(37751);angular.module("portainer.kubernetes").component("kubernetesResourceReservation",{templateUrl:a,controller:"KubernetesResourceReservationController",bindings:{description:"@",cpuReservation:"<",cpuUsage:"<",cpuLimit:"<",memoryReservation:"<",memoryUsage:"<",memoryLimit:"<",displayUsage:"<"}})},44579:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a);class i{usageValues(){this.cpuLimit&&(this.cpuReservationPercent=Math.round(this.cpuReservation/this.cpuLimit*100)),this.memoryLimit&&(this.memoryReservationPercent=Math.round(this.memoryReservation/this.memoryLimit*100)),this.displayUsage&&this.cpuLimit&&this.memoryLimit&&(this.cpuUsagePercent=Math.round(this.cpuUsage/this.cpuLimit*100),this.memoryUsagePercent=Math.round(this.memoryUsage/this.memoryLimit*100))}$onInit(){this.usageValues()}$onChanges(){this.usageValues()}}const r=i;s().module("portainer.kubernetes").controller("KubernetesResourceReservationController",i)},43281:(e,t,n)=>{const a=n(18691);angular.module("portainer.kubernetes").component("kubernetesViewHeader",{templateUrl:a,transclude:!0,bindings:{viewReady:"<",title:"@",state:"@"}})},15572:(e,t,n)=>{const a=n(41776);angular.module("portainer.kubernetes").component("kubernetesViewLoading",{templateUrl:a,bindings:{viewReady:"<"}})},31938:(e,t,n)=>{const a=n(96354);angular.module("portainer.kubernetes").component("kubernetesYamlInspector",{templateUrl:a,controller:"KubernetesYamlInspectorController",bindings:{key:"@",data:"<"}})},50346:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(52474);class r{constructor(e){this.clipboard=e,this.expanded=!1}copyYAML(){this.clipboard.copyText(this.data),i("#copyNotificationYAML").show().fadeOut(2500)}toggleYAMLInspectorExpansion(){let e=this.expanded?"500px":"80vh";i("kubernetes-yaml-inspector code-editor > div.CodeMirror").css({height:e}),this.expanded=!this.expanded}}r.$inject=["clipboard"];const o=r;s().module("portainer.kubernetes").controller("KubernetesYamlInspectorController",r)},10293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var a=n(46006),s=n.n(a),i=n(83432),r=n.n(i),o=n(55743),l=n.n(o),c=n(74362),d=n.n(c),u=n(25445),p=n.n(u),m=n(46545),g=n.n(m),h=n(51235),f=n.n(h),v=n(41952),b=n.n(v),y=n(66539),w=n.n(y),x=n(29500),S=n.n(x),k=n(7172),$=n(79990),C=n(22229),A=n(14917),P=n(57947),I=n(95929),T=n(12512),N=n(15986),E=n(86998),R=n(56636),D=n(20023),U=n(7587),V=n(12925);class O{static applicationCommon(e,t,n,a,i){const o=t.spec.template?g()(p()(t.spec.template.spec.containers,t.spec.template.spec.initContainers),void 0):t.spec.containers;if(e.Id=t.metadata.uid,e.Name=t.metadata.name,e.Metadata=t.metadata,t.metadata.labels){const{labels:n}=t.metadata;e.StackId=n[k.KubernetesPortainerApplicationStackIdLabel]?parseInt(n[k.KubernetesPortainerApplicationStackIdLabel],10):null,e.StackName=n[k.KubernetesPortainerApplicationStackNameLabel]||"",e.ApplicationKind=n[k.KubernetesPortainerApplicationKindLabel]||"",e.ApplicationOwner=n[k.KubernetesPortainerApplicationOwnerLabel]||"",e.ApplicationName=n[k.KubernetesPortainerApplicationNameLabel]||e.Name}if(e.Note=t.metadata.annotations&&t.metadata.annotations[k.KubernetesPortainerApplicationNote]||"",e.ResourcePool=t.metadata.namespace,o.length&&(e.Image=o[0].image),t.spec.template&&t.spec.template.spec&&t.spec.template.spec.imagePullSecrets&&t.spec.template.spec.imagePullSecrets.length&&(e.RegistryId=parseInt(t.spec.template.spec.imagePullSecrets[0].name.replace("registry-",""),10)),e.CreationDate=t.metadata.creationTimestamp,e.Env=g()(d()(w()(o,"env")),void 0),e.Pods=t.spec.selector?P.default.associatePodsAndApplication(n,t.spec.selector):[t],e.Limits=l()(o,((e,t)=>(t.resources.limits&&t.resources.limits.cpu&&(e.Cpu+=C.default.parseCPU(t.resources.limits.cpu)),t.resources.limits&&t.resources.limits.memory&&(e.Memory+=S()(t.resources.limits.memory,{base:10})),e)),{Cpu:0,Memory:0}),e.Requests=l()(o,((e,t)=>(t.resources.requests&&t.resources.requests.cpu&&(e.Cpu+=C.default.parseCPU(t.resources.requests.cpu)),t.resources.requests&&t.resources.requests.memory&&(e.Memory+=S()(t.resources.requests.memory,{base:10})),e)),{Cpu:0,Memory:0}),a){const t=a.spec.type;e.ServiceType=t,e.ServiceId=a.metadata.uid,e.ServiceName=a.metadata.name,e.ClusterIp=a.spec.clusterIP,e.ExternalIp=a.spec.externalIP,t===$.KubernetesServiceTypes.LOAD_BALANCER&&a.status.loadBalancer.ingress&&a.status.loadBalancer.ingress.length>0&&(e.LoadBalancerIPAddress=a.status.loadBalancer.ingress[0].ip||a.status.loadBalancer.ingress[0].hostname);const n=p()(...w()(o,(e=>e.ports))),s=function(e,t){const n=w()(e,(e=>{const t=new k.KubernetesApplicationPort;return t.Port=e.port,t.TargetPort=e.targetPort,t.NodePort=e.nodePort,t.Protocol=e.protocol,t}));return b()(n,(e=>{if(isNaN(e.TargetPort)){const n=f()(t,{name:e.TargetPort});n&&(e.TargetPort=n.containerPort)}})),n}(a.spec.ports,n),l=U.KubernetesIngressHelper.findSBoundServiceIngressesRules(i,a.metadata.name);b()(s,(e=>e.IngressRules=r()(l,(t=>t.Port===e.Port)))),e.PublishedPorts=s}if(t.spec.template?e.Volumes=t.spec.template.spec.volumes?t.spec.template.spec.volumes:[]:e.Volumes=t.spec.volumes,t.spec.volumeClaimTemplates){const n=w()(t.spec.volumeClaimTemplates,(e=>({name:e.metadata.name,persistentVolumeClaim:{claimName:e.metadata.name}}))),a=r()(n,(t=>!f()(e.Volumes,{persistentVolumeClaim:{claimName:t.persistentVolumeClaim.claimName}})));e.Volumes=p()(e.Volumes,a)}const c=r()(e.Volumes,(e=>e.persistentVolumeClaim||e.hostPath));e.PersistedFolders=w()(c,(e=>{const t=s()(d()(w()(o,"volumeMounts")),"name"),n=f()(t,{name:e.name});if(n){const t=new k.KubernetesApplicationPersistedFolder;return t.MountPath=n.mountPath,e.persistentVolumeClaim?t.PersistentVolumeClaimName=e.persistentVolumeClaim.claimName:t.HostPath=e.hostPath.path,t}})),e.PersistedFolders=g()(e.PersistedFolders,void 0),e.ConfigurationVolumes=l()(e.Volumes,((e,t)=>{if(t.configMap||t.secret){const n=f()(d()(w()(o,"volumeMounts")),{name:t.name});if(n){let a=[],s="";if(t.configMap?(a=t.configMap.items,s=t.configMap.name):(a=t.secret.items,s=t.secret.secretName),a)b()(a,(t=>{const a=new k.KubernetesApplicationConfigurationVolume;a.fileMountPath=n.mountPath+"/"+t.path,a.rootMountPath=n.mountPath,a.configurationKey=t.key,a.configurationName=s,e.push(a)}));else{const t=new k.KubernetesApplicationConfigurationVolume;t.fileMountPath=n.mountPath,t.rootMountPath=n.mountPath,t.configurationName=s,e.push(t)}}}return e}),[])}static apiPodToApplication(e,t,n,a){const s=new k.KubernetesApplication;return O.applicationCommon(s,e,t,n,a),s.ApplicationType=k.KubernetesApplicationTypes.POD,s}static apiDeploymentToApplication(e,t,n,a){const s=new k.KubernetesApplication;return O.applicationCommon(s,e,t,n,a),s.ApplicationType=k.KubernetesApplicationTypes.DEPLOYMENT,s.DeploymentType=k.KubernetesApplicationDeploymentTypes.REPLICATED,s.DataAccessPolicy=k.KubernetesApplicationDataAccessPolicies.SHARED,s.RunningPodsCount=e.status.availableReplicas||e.status.replicas-e.status.unavailableReplicas||0,s.TotalPodsCount=e.spec.replicas,s}static apiDaemonSetToApplication(e,t,n,a){const s=new k.KubernetesApplication;return O.applicationCommon(s,e,t,n,a),s.ApplicationType=k.KubernetesApplicationTypes.DAEMONSET,s.DeploymentType=k.KubernetesApplicationDeploymentTypes.GLOBAL,s.DataAccessPolicy=k.KubernetesApplicationDataAccessPolicies.SHARED,s.RunningPodsCount=e.status.numberAvailable||e.status.desiredNumberScheduled-e.status.numberUnavailable||0,s.TotalPodsCount=e.status.desiredNumberScheduled,s}static apiStatefulSetToapplication(e,t,n,a){const s=new k.KubernetesApplication;return O.applicationCommon(s,e,t,n,a),s.ApplicationType=k.KubernetesApplicationTypes.STATEFULSET,s.DeploymentType=k.KubernetesApplicationDeploymentTypes.REPLICATED,s.DataAccessPolicy=k.KubernetesApplicationDataAccessPolicies.ISOLATED,s.RunningPodsCount=e.status.readyReplicas||0,s.TotalPodsCount=e.spec.replicas,s.HeadlessServiceName=e.spec.serviceName,s}static applicationToFormValues(e,t,n,a,s,i){const o=new A.KubernetesApplicationFormValues;o.ApplicationType=e.ApplicationType,o.ResourcePool=f()(t,["Namespace.Name",e.ResourcePool]),o.Name=e.Name,o.Services=P.default.generateServicesFormValuesFromServices(e),o.Selector=P.default.generateSelectorFromService(e),o.StackName=e.StackName,o.ApplicationOwner=e.ApplicationOwner,o.ImageModel.Image=e.Image,o.ImageModel.Registry.Id=e.RegistryId,o.ReplicaCount=e.TotalPodsCount,o.MemoryLimit=C.default.megaBytesValue(e.Limits.Memory),o.CpuLimit=e.Limits.Cpu,o.DeploymentType=e.DeploymentType,o.DataAccessPolicy=e.DataAccessPolicy,o.EnvironmentVariables=P.default.generateEnvVariablesFromEnv(e.Env),o.PersistedFolders=P.default.generatePersistedFoldersFormValuesFromPersistedFolders(e.PersistedFolders,a),o.Configurations=P.default.generateConfigurationFormValuesFromEnvAndVolumes(e.Env,e.ConfigurationVolumes,n),o.AutoScaler=P.default.generateAutoScalerFormValueFromHorizontalPodAutoScaler(e.AutoScaler,o.ReplicaCount),o.PublishedPorts=P.default.generatePublishedPortsFormValuesFromPublishedPorts(e.ServiceType,e.PublishedPorts,i),o.Containers=e.Containers;const l=r()(o.PublishedPorts,(e=>e.IngressName)).length;return e.ServiceType===$.KubernetesServiceTypes.LOAD_BALANCER?o.PublishingType=k.KubernetesApplicationPublishingTypes.LOAD_BALANCER:e.ServiceType===$.KubernetesServiceTypes.NODE_PORT?o.PublishingType=k.KubernetesApplicationPublishingTypes.NODE_PORT:e.ServiceType===$.KubernetesServiceTypes.CLUSTER_IP&&l?o.PublishingType=k.KubernetesApplicationPublishingTypes.INGRESS:o.PublishingType=k.KubernetesApplicationPublishingTypes.CLUSTER_IP,e.Pods&&e.Pods.length&&P.default.generatePlacementsFormValuesFromAffinity(o,e.Pods[0].Affinity,s),o}static applicationFormValuesToApplication(e){e.ApplicationOwner=V.default.ownerToLabel(e.ApplicationOwner);const t=R.default.applicationFormValuesToVolumeClaims(e),n=P.default.hasRWX(t),a=e.DeploymentType===k.KubernetesApplicationDeploymentTypes.REPLICATED&&(0===t.length||t.length>0&&e.DataAccessPolicy===k.KubernetesApplicationDataAccessPolicies.SHARED)||e.ApplicationType===k.KubernetesApplicationTypes.DEPLOYMENT,s=e.DeploymentType===k.KubernetesApplicationDeploymentTypes.REPLICATED&&t.length>0&&e.DataAccessPolicy===k.KubernetesApplicationDataAccessPolicies.ISOLATED||e.ApplicationType===k.KubernetesApplicationTypes.STATEFULSET,i=e.DeploymentType===k.KubernetesApplicationDeploymentTypes.GLOBAL&&(0===t.length||t.length>0&&e.DataAccessPolicy===k.KubernetesApplicationDataAccessPolicies.SHARED&&n)||e.ApplicationType===k.KubernetesApplicationTypes.DAEMONSET;let r,o;if(a)r=I.default.applicationFormValuesToDeployment(e,t);else if(s)r=N.default.applicationFormValuesToStatefulSet(e,t);else{if(!i)throw new D.Z("Unable to determine which association to use to convert form");r=T.default.applicationFormValuesToDaemonSet(e,t)}s&&(o=E.default.applicationFormValuesToHeadlessService(e));let l=E.default.applicationFormValuesToService(e);return l.Ports.length||(l=void 0),[r,o,E.default.applicationFormValuesToServices(e),l,t]}}const F=O},40654:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var a=n(41952),s=n.n(a),i=n(80738),r=n.n(i),o=n(66539),l=n.n(o),c=n(25445),d=n.n(c),u=n(59712),p=n.n(u),m=n(13978),g=n(40879),h=n(82434),f=n(30578);class v{static apiToPortainerAccessConfigMap(e){const t=new m.KubernetesPortainerAccessConfigMap;return t.Id=e.metadata.uid,t.Data=e.data,t}static createAccessPayload(e){const t=new g.KubernetesConfigMapCreatePayload;return p()(t,"binaryData"),t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.data=e.Data,t}static updateAccessPayload(e){const t=v.createAccessPayload(e);return t.metadata.uid=e.Id,t}static apiToConfigMap(e,t){const n=new m.KubernetesConfigMap;return n.Id=e.metadata.uid,n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.ConfigurationOwner=e.metadata.labels?e.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]:"",n.CreationDate=e.metadata.creationTimestamp,n.Yaml=t?t.data:"",n.Data=d()(l()(e.data,((e,t)=>{const n=new f.KubernetesConfigurationFormValuesEntry;return n.Key=t,n.Value=e,n})),l()(e.binaryData,((e,t)=>{const n=new f.KubernetesConfigurationFormValuesEntry;return n.Key=t,n.Value=e,n.IsBinary=!0,n}))),n}static defaultConfigMap(e,t){const n=new m.KubernetesConfigMap;return n.Name=t,n.Namespace=e,n}static createPayload(e){const t=new g.KubernetesConfigMapCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace;const n=r()(e.ConfigurationOwner,{length:63,omission:""});return t.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]=n,s()(e.Data,(e=>{e.IsBinary?t.binaryData[e.Key]=e.Value:t.data[e.Key]=e.Value})),t}static updatePayload(e){const t=new g.KubernetesConfigMapUpdatePayload;return t.metadata.uid=e.Id,t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]=e.ConfigurationOwner,s()(e.Data,(e=>{e.IsBinary?t.binaryData[e.Key]=e.Value:t.data[e.Key]=e.Value})),t}static configurationFormValuesToConfigMap(e){const t=new m.KubernetesConfigMap;return t.Id=e.Id,t.Name=e.Name,t.Namespace=e.ResourcePool.Namespace.Name,t.ConfigurationOwner=e.ConfigurationOwner,t.Data=e.Data,t}}const b=v},10241:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(41952),s=n.n(a),i=n(82434);const r=class{static secretToConfiguration(e){const t=new i.KubernetesConfiguration;return t.Type=i.KubernetesConfigurationTypes.SECRET,t.Id=e.Id,t.Name=e.Name,t.Namespace=e.Namespace,t.CreationDate=e.CreationDate,t.Yaml=e.Yaml,s()(e.Data,(e=>{t.Data[e.Key]=e.Value})),t.ConfigurationOwner=e.ConfigurationOwner,t.IsRegistrySecret=e.IsRegistrySecret,t}static configMapToConfiguration(e){const t=new i.KubernetesConfiguration;return t.Type=i.KubernetesConfigurationTypes.CONFIGMAP,t.Id=e.Id,t.Name=e.Name,t.Namespace=e.Namespace,t.CreationDate=e.CreationDate,t.Yaml=e.Yaml,s()(e.Data,(e=>{t.Data[e.Key]=e.Value})),t.ConfigurationOwner=e.ConfigurationOwner,t}}},12512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var a=n(34901),s=n(12745),i=n(82935),r=n(7172),o=n(57947),l=n(22229),c=n(12925),d=n(20886);class u{static applicationFormValuesToDaemonSet(e,t){const n=new s.KubernetesDaemonSet;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=l.default.bytesValue(e.MemoryLimit),n.Env=o.default.generateEnvFromEnvVariables(e.EnvironmentVariables),o.default.generateVolumesFromPersistentVolumClaims(n,t),o.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),o.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new i.KubernetesDaemonSetCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[r.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[r.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[r.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[r.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[r.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,t.spec.template.spec.containers[0].image=(0,d.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}]),t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].env",e.Env),c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].volumeMounts",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.volumes",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=u.createPayload(e),s=u.createPayload(t);return a.qu(n,s)}}const p=u},95929:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var a=n(34901),s=n(59238),i=n(95008),r=n(7172),o=n(57947),l=n(22229),c=n(12925),d=n(20886);class u{static applicationFormValuesToDeployment(e,t){const n=new s.KubernetesDeployment;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ReplicaCount=e.ReplicaCount,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=l.default.bytesValue(e.MemoryLimit),n.Env=o.default.generateEnvFromEnvVariables(e.EnvironmentVariables),n.Containers=e.Containers,o.default.generateVolumesFromPersistentVolumClaims(n,t),o.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),o.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new i.KubernetesDeploymentCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[r.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[r.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[r.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[r.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[r.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,e.ImageModel&&(t.spec.template.spec.containers[0].image=(0,d.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}])),t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].env",e.Env),c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].volumeMounts",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.volumes",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=u.createPayload(e),s=u.createPayload(t);return a.qu(n,s)}}const p=u},43083:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(82239);const s=class{static apiToEvent(e){const t=new a.KubernetesEvent;return t.Id=e.metadata.uid,t.Date=e.lastTimestamp||e.eventTime,t.Type=e.type,t.Message=e.message,t.Involved=e.involvedObject,t}}},2544:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(80738),s=n.n(a),i=n(4622),r=n.n(i),o=n(35076),l=n(63829),c=n(72210),d=n(7506);class u{static apiToNamespace(e,t){const n=new o.KubernetesNamespace;if(n.Id=e.metadata.uid,n.Name=e.metadata.name,n.CreationDate=e.metadata.creationTimestamp,n.Status=e.status.phase,n.Yaml=t?t.data:"",n.ResourcePoolName=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]:"",n.ResourcePoolOwner=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]:"",n.IsSystem=d.default.isDefaultSystemNamespace(e.metadata.name),e.metadata.labels){const t=e.metadata.labels[c.KubernetesPortainerNamespaceSystemLabel];r()(t)||(n.IsSystem="true"===t)}return n}static createPayload(e){const t=new l.KubernetesNamespaceCreatePayload;if(t.metadata.name=e.Name,t.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]=e.ResourcePoolName,e.ResourcePoolOwner){const n=s()(e.ResourcePoolOwner,{length:63,omission:""});t.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]=n}return t}}},56636:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(4622),s=n.n(a),i=n(66539),r=n.n(i),o=n(71204),l=n.n(o),c=n(51235),d=n.n(c),u=n(34901),p=n(72913),m=n(88296),g=n(7172);class h{static apiToPersistentVolumeClaim(e,t,n){const a=new p.KubernetesPersistentVolumeClaim;return a.Id=e.metadata.uid,a.Name=e.metadata.name,a.Namespace=e.metadata.namespace,a.CreationDate=e.metadata.creationTimestamp,a.Storage=`${e.spec.resources.requests.storage}B`,a.StorageClass=d()(t,{Name:e.spec.storageClassName}),a.Yaml=n?n.data:"",a.ApplicationOwner=e.metadata.labels?e.metadata.labels[g.KubernetesPortainerApplicationOwnerLabel]:"",a.ApplicationName=e.metadata.labels?e.metadata.labels[g.KubernetesPortainerApplicationNameLabel]:"",a}static applicationFormValuesToVolumeClaims(e){return l()(e.PersistedFolders,(e=>e.NeedsDeletion)),r()(e.PersistedFolders,(t=>{const n=new p.KubernetesPersistentVolumeClaim;if(s()(t.ExistingVolume))t.PersistentVolumeClaimName?(n.Name=t.PersistentVolumeClaimName,n.PreviousName=t.PersistentVolumeClaimName):n.Name=e.Name+"-"+n.Name,n.Storage=""+t.Size+t.SizeUnit.charAt(0),n.StorageClass=t.StorageClass;else{const e=t.ExistingVolume.PersistentVolumeClaim;n.Name=e.Name,t.PersistentVolumeClaimName&&(n.PreviousName=t.PersistentVolumeClaimName),n.StorageClass=e.StorageClass,n.Storage=e.Storage.charAt(0),n.CreationDate=e.CreationDate,n.Id=e.Id}return n.MountPath=t.ContainerPath,n.Namespace=e.ResourcePool.Namespace.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n}))}static createPayload(e){const t=new m.KubernetesPersistentVolumClaimCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.spec.resources.requests.storage=e.Storage,t.spec.storageClassName=e.StorageClass?e.StorageClass.Name:"",t.metadata.labels.app=e.ApplicationName,t.metadata.labels[g.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.labels[g.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t}static patchPayload(e,t){const n=h.createPayload(e),a=h.createPayload(t);return u.qu(n,a)}}const f=h},57911:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var a=n(44716),s=n.n(a),i=n(46545),r=n.n(i),o=n(66539),l=n.n(o),c=n(72210),d=n(35076),u=n(47086),p=n(57456);const m=class{static apiToResourcePool(e){const t=new c.KubernetesResourcePool;return t.Namespace=e,t.Yaml=e.Yaml,t}static formValuesToResourcePool(e){const t=new d.KubernetesNamespace;t.Name=e.Name,t.ResourcePoolName=e.Name,t.ResourcePoolOwner=e.Owner,t.IsSystem=e.IsSystem;const n=p.default.resourcePoolFormValuesToResourceQuota(e),a=l()(e.IngressClasses,(e=>{if(e.Selected)return e.Namespace=t.Name,u.KubernetesIngressConverter.resourcePoolIngressClassFormValueToIngress(e)})),i=r()(a,void 0),o=l()(e.Registries,(t=>(t.RegistryAccesses[e.EndpointId]||(t.RegistryAccesses[e.EndpointId]={Namespaces:[]}),s()(t.RegistryAccesses[e.EndpointId].Namespaces,e.Name)||(t.RegistryAccesses[e.EndpointId].Namespaces=[...t.RegistryAccesses[e.EndpointId].Namespaces,e.Name]),t)));return[t,n,i,o]}}},57456:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var a=n(41952),s=n.n(a),i=n(30465),r=n.n(i),o=n(66539),l=n.n(o),c=n(94467),d=n.n(c),u=n(68260),p=n.n(u),m=n(83432),g=n.n(m),h=n(34901),f=n(29500),v=n.n(f),b=n(47685),y=n(75976),w=n(21458),x=n(72210),S=n(22229),k=n(12925),$=n(16496);class C{static apiToResourceQuota(e,t){const n=new b.KubernetesResourceQuota;if(n.Id=e.metadata.uid,n.Namespace=e.metadata.namespace,n.Name=e.metadata.name,n.CpuLimit=0,n.MemoryLimit=0,e.spec.hard&&e.spec.hard[b.KubernetesPortainerResourceQuotaCPULimit]&&(n.CpuLimit=S.default.parseCPU(e.spec.hard[b.KubernetesPortainerResourceQuotaCPULimit])),e.spec.hard&&e.spec.hard[b.KubernetesPortainerResourceQuotaMemoryLimit]&&(n.MemoryLimit=v()(e.spec.hard[b.KubernetesPortainerResourceQuotaMemoryLimit],{base:10})),n.MemoryLimitUsed=0,e.status.used&&e.status.used[b.KubernetesPortainerResourceQuotaMemoryLimit]&&(n.MemoryLimitUsed=v()(e.status.used[b.KubernetesPortainerResourceQuotaMemoryLimit],{base:10})),n.CpuLimitUsed=0,e.status.used&&e.status.used[b.KubernetesPortainerResourceQuotaCPULimit]&&(n.CpuLimitUsed=S.default.parseCPU(e.status.used[b.KubernetesPortainerResourceQuotaCPULimit])),n.LoadBalancers=null,e.spec.hard&&e.spec.hard[b.KubernetesPortainerResourceQuotaLoadbalancers]&&(n.LoadBalancers=parseInt(e.spec.hard[b.KubernetesPortainerResourceQuotaLoadbalancers],10)),n.Yaml=t?t.data:"",n.ResourcePoolName=e.metadata.labels?e.metadata.labels[x.KubernetesPortainerResourcePoolNameLabel]:"",n.ResourcePoolOwner=e.metadata.labels?e.metadata.labels[x.KubernetesPortainerResourcePoolOwnerLabel]:"",e.spec.hard){const t=g()(p()(e.spec.hard),(e=>d()(e,b.KubernetesPortainerResourceQuotaStorageSuffix)));n.StorageRequests=l()(t,(t=>{const n=e.spec.hard[t],a=new $.KubernetesResourcePoolStorageClassFormValue;return a.Name=r()(t,b.KubernetesPortainerResourceQuotaStorageSuffix,""),a.Size=parseInt(n,10),a.SizeUnit=0===a.Size?"GB":`${n.slice(-1)}B`,a.Selected=!0,a}))}return n}static createPayload(e){const t=new y.KubernetesResourceQuotaCreatePayload;return t.metadata.name=w.default.generateResourceQuotaName(e.Namespace),t.metadata.namespace=e.Namespace,k.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${b.KubernetesPortainerResourceQuotaCPURequest}']`,e.CpuLimit),k.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${b.KubernetesPortainerResourceQuotaMemoryRequest}']`,e.MemoryLimit),k.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${b.KubernetesPortainerResourceQuotaCPULimit}']`,e.CpuLimit),k.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${b.KubernetesPortainerResourceQuotaMemoryLimit}']`,e.MemoryLimit),k.default.assignOrDeleteIfEmpty(t,`spec.hard['${b.KubernetesPortainerResourceQuotaLoadbalancers}']`,e.LoadBalancers),e.StorageRequests&&s()(e.StorageRequests,(e=>{const n=w.default.generateResourceQuotaStorageKey(e.Name),a=`${e.Size}${e.SizeUnit.charAt(0)}`;t.spec.hard[n]=a})),t.metadata.labels[x.KubernetesPortainerResourcePoolNameLabel]=e.ResourcePoolName,e.ResourcePoolOwner&&(t.metadata.labels[x.KubernetesPortainerResourcePoolOwnerLabel]=e.ResourcePoolOwner),t}static updatePayload(e){const t=C.createPayload(e);return t.metadata.uid=e.Id,t}static patchPayload(e,t){const n=C.createPayload(e),a=C.createPayload(t);return h.qu(n,a)}static quotaToResourcePoolFormValues(e){const t=new $.KubernetesResourcePoolFormValues(b.KubernetesResourceQuotaDefaults);return t.Name=e.Namespace,t.CpuLimit=e.CpuLimit,t.MemoryLimit=S.default.megaBytesValue(e.MemoryLimit),null!==e.LoadBalancers&&(t.LoadBalancers=e.LoadBalancers,t.UseLoadBalancersQuota=!0),(t.CpuLimit||t.MemoryLimit)&&(t.HasQuota=!0),t.StorageClasses=e.StorageRequests,t}static resourcePoolFormValuesToResourceQuota(e){const t=g()(e.StorageClasses,{Selected:!0});if(e.HasQuota||e.UseLoadBalancersQuota||t.length){const n=new b.KubernetesResourceQuota(e.Name);return e.HasQuota&&(n.CpuLimit=e.CpuLimit,n.MemoryLimit=S.default.bytesValue(e.MemoryLimit)),n.LoadBalancers=null,e.UseLoadBalancersQuota&&(n.LoadBalancers=e.LoadBalancers),t.length&&(n.StorageRequests=t),n.ResourcePoolName=e.Name,n.ResourcePoolOwner=e.Owner,n}}}const A=C},52341:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(44716),s=n.n(a),i=n(66539),r=n.n(i),o=n(41952),l=n.n(o),c=n(80738),d=n.n(c),u=n(60622),p=n(69730),m=n(82434),g=n(30578);const h=class{static createPayload(e){const t=new u.KubernetesSecretCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace;const n=d()(e.ConfigurationOwner,{length:63,omission:""});t.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]=n;let a="";return l()(e.Data,(e=>{e.IsBinary?(t.data[e.Key]=e.Value,a+=""!==a?"|"+e.Key:e.Key):t.stringData[e.Key]=e.Value})),""!==a&&(t.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]=a),t}static updatePayload(e){const t=new u.KubernetesSecretUpdatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]=e.ConfigurationOwner;let n="";return l()(e.Data,(e=>{e.IsBinary?(t.data[e.Key]=e.Value,n+=""!==n?"|"+e.Key:e.Key):t.stringData[e.Key]=e.Value})),""!==n&&(t.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]=n),t}static apiToSecret(e,t){const n=new p.KubernetesApplicationSecret;return n.Id=e.metadata.uid,n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.ConfigurationOwner=e.metadata.labels?e.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]:"",n.CreationDate=e.metadata.creationTimestamp,n.IsRegistrySecret=e.metadata.annotations&&!!e.metadata.annotations["portainer.io/registry.id"],n.Yaml=t?t.data:"",n.Data=r()(e.data,((t,n)=>{const a=e.metadata.annotations?e.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]:"",i=new g.KubernetesConfigurationFormValuesEntry;return i.Key=n,i.IsBinary=s()(a,i.Key),i.IsBinary?i.Value=t:i.Value=atob(t),i})),n}static configurationFormValuesToSecret(e){const t=new p.KubernetesApplicationSecret;return t.Name=e.Name,t.Namespace=e.ResourcePool.Namespace.Name,t.ConfigurationOwner=e.ConfigurationOwner,t.Data=e.Data,t}}},86998:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var a=n(46545),s=n.n(a),i=n(93715),r=n.n(i),o=n(66539),l=n.n(o),c=n(94946),d=n.n(c),u=n(34901),p=n(31249),m=n(7172),g=n(79990),h=n(57637);class f{static applicationFormValuesToService(e){const t=new g.KubernetesService;t.Namespace=e.ResourcePool.Namespace.Name,t.Name=e.Name,t.StackName=e.StackName?e.StackName:e.Name,t.ApplicationOwner=e.ApplicationOwner,t.ApplicationName=e.Name,e.PublishingType===m.KubernetesApplicationPublishingTypes.NODE_PORT?t.Type=g.KubernetesServiceTypes.NODE_PORT:e.PublishingType===m.KubernetesApplicationPublishingTypes.LOAD_BALANCER&&(t.Type=g.KubernetesServiceTypes.LOAD_BALANCER);const n=l()(e.PublishedPorts,(n=>function(e,t,n){if(t.IsNew||!t.NeedsDeletion){const a=e.Name,s=new g.KubernetesServicePort;return s.name=d()(a+"-"+t.ContainerPort+"-"+t.Protocol),s.port=n===g.KubernetesServiceTypes.LOAD_BALANCER?t.LoadBalancerPort:t.ContainerPort,s.targetPort=t.ContainerPort,s.protocol=t.Protocol,n===g.KubernetesServiceTypes.NODE_PORT&&t.NodePort?s.nodePort=t.NodePort:n===g.KubernetesServiceTypes.LOAD_BALANCER&&t.LoadBalancerNodePort?s.nodePort=t.LoadBalancerNodePort:delete s.nodePort,s}}(e,n,t.Type)));return t.Ports=r()(s()(n,void 0),(e=>e.targetPort+e.protocol)),t}static applicationFormValuesToServices(e){let t=[];return e.Services.forEach((function(n){const a=new g.KubernetesService;a.Namespace=e.ResourcePool.Namespace.Name,a.Name=n.Name,a.StackName=e.StackName?e.StackName:e.Name,a.ApplicationOwner=e.ApplicationOwner,a.ApplicationName=e.Name,n.Type===m.KubernetesApplicationPublishingTypes.NODE_PORT?a.Type=g.KubernetesServiceTypes.NODE_PORT:n.Type===m.KubernetesApplicationPublishingTypes.LOAD_BALANCER?a.Type=g.KubernetesServiceTypes.LOAD_BALANCER:n.Type===m.KubernetesApplicationPublishingTypes.CLUSTER_IP&&(a.Type=g.KubernetesServiceTypes.CLUSTER_IP),a.Ingress=n.Ingress,void 0!==n.Selector?a.Selector=n.Selector:a.Selector={app:e.Name};let s=[];n.Ports.forEach((function(e,t){const n=new g.KubernetesServicePort;n.name="port-"+t,n.port=e.port,e.nodePort&&(n.nodePort=e.nodePort),n.protocol=e.protocol,n.targetPort=e.targetPort,n.ingress=e.ingress,s.push(n)})),a.Ports=s,t.push(a)})),t}static applicationFormValuesToHeadlessService(e){const t=f.applicationFormValuesToService(e);return t.Name=h.default.generateHeadlessServiceName(e.Name),t.Headless=!0,t.Selector={app:e.Name},t}static createPayload(e){const t=new p.KubernetesServiceCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[m.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[m.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[m.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner;const n=[];return e.Ports.forEach((e=>{const t={};t.name=e.name,t.port=e.port,t.nodePort=e.nodePort,t.protocol=e.protocol,t.targetPort=e.targetPort,n.push(t)})),t.spec.ports=n,t.spec.selector=e.Selector,e.Headless?(t.spec.clusterIP=g.KubernetesServiceHeadlessClusterIP,delete t.spec.ports):e.Type&&(t.spec.type=e.Type),t}static patchPayload(e,t){const n=f.createPayload(e),a=f.createPayload(t);return u.qu(n,a)}}const v=f},15986:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(66539),s=n.n(a),i=n(34901),r=n(91920),o=n(13871),l=n(7172),c=n(57947),d=n(22229),u=n(12925),p=n(20886),m=n(56636);class g{static applicationFormValuesToStatefulSet(e,t){const n=new r.KubernetesStatefulSet;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ReplicaCount=e.ReplicaCount,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=d.default.bytesValue(e.MemoryLimit),n.Env=c.default.generateEnvFromEnvVariables(e.EnvironmentVariables),c.default.generateVolumesFromPersistentVolumClaims(n,t),c.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),c.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new o.KubernetesStatefulSetCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[l.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[l.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[l.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[l.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.serviceName=e.ServiceName,t.spec.selector.matchLabels.app=e.Name,t.spec.volumeClaimTemplates=s()(e.VolumeClaims,(e=>m.default.createPayload(e))),t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[l.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,e.ImageModel.Image&&(t.spec.template.spec.containers[0].image=(0,p.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}])),t.spec.template.spec.affinity=e.Affinity,u.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].env",e.Env),u.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].volumeMounts",e.VolumeMounts),u.default.assignOrDeleteIfEmpty(t,"spec.template.spec.volumes",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=g.createPayload(e),a=g.createPayload(t);return i.qu(n,a)}}const h=g},17981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(66539),s=n.n(a),i=n(34901),r=n(86871),o=n(79824),l=n(16496);class c{static apiToStorageClass(e){const t=new r.KubernetesStorageClass;return t.Name=e.metadata.name,t.Provisioner=e.provisioner,t.AllowVolumeExpansion=e.allowVolumeExpansion,t}static storageClassesToResourcePoolFormValues(e){return s()(e,(e=>{const t=new l.KubernetesResourcePoolStorageClassFormValue;return t.Name=e.Name,t}))}static createPayload(e){const t=new o.KubernetesStorageClassCreatePayload;return t.metadata.name=e.Name,t.provisioner=e.Provisioner,t.allowVolumeExpansion=e.AllowVolumeExpansion,t}static patchPayload(e,t){const n=c.createPayload(e),a=c.createPayload(t);return i.qu(n,a)}}const d=c},92192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(72913);const s=class{static pvcToVolume(e,t){const n=new a.KubernetesVolume;return n.PersistentVolumeClaim=e,n.ResourcePool=t,n}}},79023:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(79403),r=n(52657),o=n(6793);c.$inject=["$stateRegistryProvider"];const l=s().module("portainer.kubernetes.custom-templates",[]).config(c).component("kubeCustomTemplatesView",i.kubeCustomTemplatesView).component("kubeEditCustomTemplateView",r.kubeEditCustomTemplateView).component("kubeCreateCustomTemplateView",o.kubeCreateCustomTemplateView).name;function c(e){e.register({name:"kubernetes.templates",url:"/templates",abstract:!0}),e.register({name:"kubernetes.templates.custom",url:"/custom",views:{"content@":{component:"kubeCustomTemplatesView"}}}),e.register({name:"kubernetes.templates.custom.new",url:"/new?fileContent",views:{"content@":{component:"kubeCreateCustomTemplateView"}},params:{fileContent:""}}),e.register({name:"kubernetes.templates.custom.edit",url:"/:id",views:{"content@":{component:"kubeEditCustomTemplateView"}}})}},6793:(e,t,n)=>{"use strict";n.r(t),n.d(t,{kubeCreateCustomTemplateView:()=>s});var a=n(2267);const s={templateUrl:n(21843),controller:a.default}},2267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(56619),s=n(19898);class i{constructor(e,t,n,i,r,o,l,c){Object.assign(this,{$async:e,$state:t,Authentication:n,CustomTemplateService:i,FormValidator:r,ModalService:o,Notifications:l,ResourceControlService:c}),this.methodOptions=[(0,a.es)("method_editor","fa fa-edit","Web editor","Use our Web editor","editor"),(0,a.es)("method_upload","fa fa-upload","Upload","Upload from your computer","upload")],this.templates=null,this.state={method:"editor",actionInProgress:!1,formValidationError:"",isEditorDirty:!1},this.formValues={FileContent:"",File:null,Title:"",Description:"",Note:"",Logo:"",AccessControlData:new s.AccessControlFormData},this.onChangeFile=this.onChangeFile.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onBeforeOnload=this.onBeforeOnload.bind(this)}onChangeMethod(e){this.state.method=e}onChangeFileContent(e){this.formValues.FileContent=e,this.state.isEditorDirty=!0}onChangeFile(e){return this.$async((async()=>{this.formValues.File=e}))}async createCustomTemplate(){return this.$async((async()=>{const{method:e}=this.state;if(this.validateForm(e)){this.state.actionInProgress=!0;try{const t=await this.createCustomTemplateByMethod(e,this.formValues),n=this.formValues.AccessControlData,a=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(a,n,t.ResourceControl),this.Notifications.success("Custom template successfully created"),this.state.isEditorDirty=!1,this.$state.go("kubernetes.templates.custom")}catch(e){this.Notifications.error("Failure",e,"Failed creating custom template")}finally{this.state.actionInProgress=!1}}}))}createCustomTemplateByMethod(e,t){switch(t.Type=3,e){case"editor":return this.createCustomTemplateFromFileContent(t);case"upload":return this.createCustomTemplateFromFileUpload(t)}}createCustomTemplateFromFileContent(e){return this.CustomTemplateService.createCustomTemplateFromFileContent(e)}createCustomTemplateFromFileUpload(e){return this.CustomTemplateService.createCustomTemplateFromFileUpload(e)}validateForm(e){if(this.state.formValidationError="","editor"===e&&""===this.formValues.FileContent)return this.state.formValidationError="Template file content must not be empty",!1;const t=this.formValues.Title;if(this.templates.some((e=>e.Title===t)))return this.state.formValidationError="A template with the same name already exists",!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,s=this.FormValidator.validateAccessControl(a,n);return!s||(this.state.formValidationError=s,!1)}async $onInit(){return this.$async((async()=>{const{fileContent:e,type:t}=this.$state.params;this.formValues.FileContent=e,t&&(this.formValues.Type=+t);try{this.templates=await this.CustomTemplateService.customTemplates(3)}catch(e){this.Notifications.error("Failure loading",e,"Failed loading custom templates")}this.state.loading=!1,window.addEventListener("beforeunload",this.onBeforeOnload)}))}$onDestroy(){window.removeEventListener("beforeunload",this.onBeforeOnload)}isEditorDirty(){return"editor"===this.state.method&&this.formValues.FileContent&&this.state.isEditorDirty}onBeforeOnload(e){this.isEditorDirty()&&(e.preventDefault(),e.returnValue="")}uiCanExit(){if(this.isEditorDirty())return this.ModalService.confirmWebEditorDiscard()}}i.$inject=["$async","$state","Authentication","CustomTemplateService","FormValidator","ModalService","Notifications","ResourceControlService"];const r=i},79403:(e,t,n)=>{"use strict";n.r(t),n.d(t,{kubeCustomTemplatesView:()=>s});var a=n(11916);const s={templateUrl:n(66295),controller:a.default}},11916:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(71204),s=n.n(a);class i{constructor(e,t,n,a,s,i,r){Object.assign(this,{$async:e,$state:t,Authentication:n,CustomTemplateService:a,FormValidator:s,ModalService:i,Notifications:r}),this.state={selectedTemplate:null,formValidationError:"",actionInProgress:!1,allowedDeployment:!1},this.currentUser={isAdmin:!1,id:null},this.isEditAllowed=this.isEditAllowed.bind(this),this.getTemplates=this.getTemplates.bind(this),this.validateForm=this.validateForm.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.selectTemplate=this.selectTemplate.bind(this)}selectTemplate(e){this.state.allowedDeployment&&this.$state.go("kubernetes.deploy",{templateId:e.Id})}isEditAllowed(e){return this.currentUser.isAdmin||this.currentUser.id===e.CreatedByUserId}getTemplates(){return this.$async((async()=>{try{this.templates=await this.CustomTemplateService.customTemplates(3)}catch(e){this.Notifications.error("Failed loading templates",e,"Unable to load custom templates")}}))}validateForm(e,t){this.state.formValidationError="";const n=this.FormValidator.validateAccessControl(e,t);return!n||(this.state.formValidationError=n,!1)}confirmDelete(e){return this.$async((async()=>{if(await this.ModalService.confirmDeletionAsync(""))try{await this.CustomTemplateService.remove(e),s()(this.templates,{Id:e})}catch(e){this.Notifications.error("Failure",e,"Failed to delete template")}}))}$onInit(){this.getTemplates(),this.currentUser.isAdmin=this.Authentication.isAdmin();const e=this.Authentication.getUserDetails();this.currentUser.id=e.ID,this.state.allowedDeployment=this.Authentication.hasAuthorizations(["K8sApplicationsAdvancedDeploymentRW"])}}i.$inject=["$async","$state","Authentication","CustomTemplateService","FormValidator","ModalService","Notifications"]},52657:(e,t,n)=>{"use strict";n.r(t),n.d(t,{kubeEditCustomTemplateView:()=>s});var a=n(69199);const s={templateUrl:n(13968),controller:a.default}},69199:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(19898),s=n(45429);class i{constructor(e,t,n,a,s,i,r,o){Object.assign(this,{$async:e,$state:t,ModalService:n,Authentication:a,CustomTemplateService:s,FormValidator:i,Notifications:r,ResourceControlService:o}),this.formValues=null,this.state={formValidationError:"",isEditorDirty:!1},this.templates=[],this.getTemplate=this.getTemplate.bind(this),this.submitAction=this.submitAction.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this)}getTemplate(){return this.$async((async()=>{try{const{id:e}=this.$state.params,[t,n]=await Promise.all([this.CustomTemplateService.customTemplate(e),this.CustomTemplateService.customTemplateFile(e)]);t.FileContent=n,this.formValues=t,this.oldFileContent=this.formValues.FileContent,this.formValues.ResourceControl=new s.w(t.ResourceControl),this.formValues.AccessControlData=new a.AccessControlFormData}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve custom template data")}}))}validateForm(){if(this.state.formValidationError="",!this.formValues.FileContent)return this.state.formValidationError="Template file content must not be empty",!1;const e=this.formValues.Title,t=this.$state.params.id;if(this.templates.some((n=>n.Title===e&&n.Id!=t)))return this.state.formValidationError=`A template with the name ${e} already exists`,!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,s=this.FormValidator.validateAccessControl(a,n);return!s||(this.state.formValidationError=s,!1)}submitAction(){return this.$async((async()=>{if(this.validateForm()){this.actionInProgress=!0;try{await this.CustomTemplateService.updateCustomTemplate(this.formValues.Id,this.formValues);const e=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(e,this.formValues.AccessControlData,this.formValues.ResourceControl),this.Notifications.success("Custom template successfully updated"),this.state.isEditorDirty=!1,this.$state.go("kubernetes.templates.custom")}catch(e){this.Notifications.error("Failure",e,"Unable to update custom template")}finally{this.actionInProgress=!1}}}))}onChangeFileContent(e){o(this.formValues.FileContent)!==o(e)&&(this.formValues.FileContent=e,this.state.isEditorDirty=!0)}async $onInit(){this.$async((async()=>{this.getTemplate();try{this.templates=await this.CustomTemplateService.customTemplates()}catch(e){this.Notifications.error("Failure loading",e,"Failed loading custom templates")}window.addEventListener("beforeunload",this.onBeforeUnload)}))}isEditorDirty(){return this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty}uiCanExit(){if(this.isEditorDirty())return this.ModalService.confirmWebEditorDiscard()}onBeforeUnload(e){if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return e.preventDefault(),e.returnValue="",""}$onDestroy(){window.removeEventListener("beforeunload",this.onBeforeUnload)}}i.$inject=["$async","$state","ModalService","Authentication","CustomTemplateService","FormValidator","Notifications","ResourceControlService"];const r=i;function o(e=""){return e.replace(/(\r\n|\n|\r)/gm,"")}},59041:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(51235),s=n.n(a),i=n(66539),r=n.n(i),o=n(17465),l=n.n(o),c=n(5264);const d=class{static apiToEndpoint(e){const t=new c.KubernetesEndpoint;t.Id=e.metadata.uid,t.Name=e.metadata.name,t.Namespace=e.metadata.namespace;const n=e.metadata.annotations?e.metadata.annotations[c.KubernetesEndpointAnnotationLeader]:"";if(n){const e=JSON.parse(n),a=l()(e.holderIdentity,"_");t.HolderIdentity=a[0]}return e.subsets&&(t.Subsets=r()(e.subsets,(e=>{const t=new c.KubernetesEndpointSubset;t.Ips=r()(e.addresses,"ip");const n=s()(e.ports,{name:"https"});return t.Port=n?n.port:void 0,t}))),t}}},5264:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesEndpointAnnotationLeader:()=>a,KubernetesEndpoint:()=>i,KubernetesEndpointSubset:()=>o});const a="control-plane.alpha.kubernetes.io/leader",s=Object.freeze({Id:"",Name:"",Namespace:"",HolderIdentity:"",Subsets:[]});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const r=Object.freeze({Ips:[],Port:0});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},42964:()=>{angular.module("portainer.kubernetes").factory("KubernetesEndpoints",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return function(a){return e(t+"/:endpointId/kubernetes/api/v1"+(a?"/namespaces/:namespace":"")+"/endpoints/:id",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0}})}}])},5427:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(59041);class c{constructor(e,t){this.$async=e,this.KubernetesEndpoints=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{const t=await this.KubernetesEndpoints(e).get().$promise;return s()(t.items,(e=>l.default.apiToEndpoint(e)))}catch(e){throw new o.Z("Unable to retrieve environments",e)}}get(e){return this.$async(this.getAllAsync,e)}}c.$inject=["$async","KubernetesEndpoints"];const d=c;r().module("portainer.kubernetes").service("KubernetesEndpointService",c)},11518:(e,t,n)=>{"use strict";n.r(t);var a=n(18622),s=n.n(a),i=n(94946),r=n.n(i),o=n(7172),l=n(31275),c=n(21458);angular.module("portainer.kubernetes").filter("kubernetesApplicationServiceTypeIcon",(function(){return function(e){switch(r()(e)){case"loadbalancer":return"fa-project-diagram";case"clusterip":return"fa-list-alt";case"nodeport":return"fa-list"}}})).filter("kubernetesApplicationServiceTypeText",(function(){return function(e){switch(r()(e)){case"loadbalancer":return"LoadBalancer";case"clusterip":return"ClusterIP";case"nodeport":return"NodePort"}}})).filter("kubernetesApplicationTypeText",(function(){return function(e){switch(e){case o.KubernetesApplicationTypes.DEPLOYMENT:return o.KubernetesApplicationTypeStrings.DEPLOYMENT;case o.KubernetesApplicationTypes.DAEMONSET:return o.KubernetesApplicationTypeStrings.DAEMONSET;case o.KubernetesApplicationTypes.STATEFULSET:return o.KubernetesApplicationTypeStrings.STATEFULSET;case o.KubernetesApplicationTypes.POD:return o.KubernetesApplicationTypeStrings.POD;case o.KubernetesApplicationTypes.HELM:return o.KubernetesApplicationTypeStrings.HELM;default:return"-"}}})).filter("kubernetesApplicationCPUValue",(function(){return function(e){return s()(e,2)}})).filter("kubernetesApplicationDataAccessPolicyIcon",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return"fa-cubes";case o.KubernetesApplicationDataAccessPolicies.SHARED:return"fa-cube"}}})).filter("kubernetesApplicationDataAccessPolicyText",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return"Isolated";case o.KubernetesApplicationDataAccessPolicies.SHARED:return"Shared"}}})).filter("kubernetesApplicationDataAccessPolicyTooltip",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return"All the instances of this application are using their own data.";case o.KubernetesApplicationDataAccessPolicies.SHARED:return"All the instances of this application are sharing the same data."}}})).filter("kubernetesApplicationConstraintNodeAffinityValue",(function(){return function(e,t){return t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.NOT_IN?e:t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.DOES_NOT_EXIST?"":t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.GREATER_THAN||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.LOWER_THAN?e[0]:""}})).filter("kubernetesNodeLabelHumanReadbleText",(function(){return function(e){return{"kubernetes.io/os":"Operating system","kubernetes.io/arch":"Architecture","kubernetes.io/hostname":"Node"}[e]||e}})).filter("kubernetesApplicationIngressEmptyHostname",(function(){return function(e){return""===e?"<use IP>":e}})).filter("kubernetesAppStorageRequestSizeHumanReadable",(function(){return function(e){const t=c.default.formatBytes(e,3);return`${t.Size}${t.SizeUnit}`}}))},63642:(e,t,n)=>{"use strict";n.r(t);var a=n(82434);angular.module("portainer.kubernetes").filter("kubernetesConfigurationTypeText",(function(){return function(e){switch(e){case a.KubernetesConfigurationTypes.SECRET:return"Secret";case a.KubernetesConfigurationTypes.CONFIGMAP:return"ConfigMap"}}}))},58311:(e,t,n)=>{"use strict";n.r(t);var a=n(94946),s=n.n(a);angular.module("portainer.kubernetes").filter("kubernetesEventTypeColor",(function(){return function(e){switch(s()(e)){case"normal":return"info";case"warning":return"warning";default:return"danger"}}}))},11634:()=>{angular.module("portainer.kubernetes").filter("kubernetesUsageLevelInfo",(function(){return function(e){return e>=80?"danger":e>50&&e<80?"warning":"success"}}))},65744:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t){const n=t+"/:endpointId/kubernetes/helm",a="/api/templates/helm";return e(n,{},{templates:{url:a,method:"GET",params:{repo:"@repo"},cache:!0},show:{url:`${a}/:type`,method:"GET",params:{repo:"@repo",chart:"@chart"},transformResponse:function(e){return{values:e}}},getHelmRepositories:{method:"GET",url:`${n}/repositories`},addHelmRepository:{method:"POST",url:`${n}/repositories`},list:{method:"GET",isArray:!0,params:{namespace:"@namespace",selector:"@selector",filter:"@filter",output:"@output"}},install:{method:"POST"},uninstall:{url:`${n}/:release`,method:"DELETE",params:{namespace:"@namespace"}}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS"],s().module("portainer.kubernetes").factory("HelmFactory",i)},40846:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HelmService:()=>r});var a=n(29274),s=n.n(a),i=n(20023);function r(e){return{search:async function(t){try{return await e.templates({repo:t}).$promise}catch(e){throw new i.Z("Unable to retrieve helm charts",e)}},values:async function(t,n){try{return await e.show({repo:t,chart:n,type:"values"}).$promise}catch(e){throw new i.Z("Unable to retrieve values from chart",e)}},getHelmRepositories:async function(t){return await e.getHelmRepositories({endpointId:t}).$promise},addHelmRepository:async function(t,n){return await e.addHelmRepository({endpointId:t},n).$promise},install:async function(t,n){return await e.install({endpointId:t},n).$promise},uninstall:async function(t,{Name:n,ResourcePool:a}){try{await e.uninstall({endpointId:t,release:n,namespace:a}).$promise}catch(e){throw new i.Z("Unable to delete release",e)}},listReleases:async function(t,{namespace:n,selector:a,filter:s,output:r}){try{return await e.list({endpointId:t,selector:a,namespace:n,filter:s,output:r}).$promise}catch(e){throw new i.Z("Unable to retrieve release list",e)}}}}r.$inject=["HelmFactory"],s().module("portainer.kubernetes").factory("HelmService",r)},57947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PodKubernetesInstanceLabel:()=>K,PodManagedByLabel:()=>B,default:()=>H});var a=n(17908),s=n.n(a),i=n(13507),r=n.n(i),o=n(51235),l=n.n(o),c=n(86103),d=n.n(c),u=n(47915),p=n.n(u),m=n(25445),g=n.n(m),h=n(68260),f=n.n(h),v=n(71204),b=n.n(v),y=n(55743),w=n.n(y),x=n(74362),S=n.n(x),k=n(44716),$=n.n(k),C=n(66539),A=n.n(C),P=n(46545),I=n.n(P),T=n(41952),N=n.n(T),E=n(83432),R=n.n(E),D=(n(27914),n(83270)),U=n(79990),V=n(82434),O=n(14917),F=n(11505),L=n(11507),_=n(7172),M=n(31275),j=n(78398);const K="app.kubernetes.io/instance",B="app.kubernetes.io/managed-by";class z{static isExternalApplication(e){return!e.ApplicationOwner}static associatePodsAndApplication(e,t){return R()(e,["metadata.labels",t.matchLabels])}static associateContainerPersistedFoldersAndConfigurations(e,t){N()(t,(t=>{t.PersistedFolders=I()(A()(e.PersistedFolders,(e=>{if(e.MountPath&&$()(A()(t.VolumeMounts,"mountPath"),e.MountPath))return e})),void 0),t.ConfigurationVolumes=I()(A()(e.ConfigurationVolumes,(e=>{if(e.rootMountPath&&$()(A()(t.VolumeMounts,"mountPath"),e.rootMountPath))return e})),void 0)}))}static associateContainersAndApplication(e){if(!e.Pods||0===e.Pods.length)return[];const t=e.Pods[0].Containers;return z.associateContainerPersistedFoldersAndConfigurations(e,t),t}static associateAllContainersAndApplication(e){const t=S()(A()(e.Pods,"Containers"));return z.associateContainerPersistedFoldersAndConfigurations(e,t),t}static portMappingsFromApplications(e){return w()(e,((e,t)=>{if(t.PublishedPorts.length>0){const n=new D.KubernetesPortMapping;n.Name=t.Name,n.ResourcePool=t.ResourcePool,n.ServiceType=t.ServiceType,n.LoadBalancerIPAddress=t.LoadBalancerIPAddress,n.ApplicationOwner=t.ApplicationOwner,n.Ports=A()(t.PublishedPorts,(e=>{const t=new D.KubernetesPortMappingPort;return t.Port=n.ServiceType===U.KubernetesServiceTypes.NODE_PORT?e.NodePort:e.Port,t.TargetPort=e.TargetPort,t.Protocol=e.Protocol,t.IngressRules=e.IngressRules,t})),e.push(n)}return e}),[])}static generateEnvFromEnvVariables(e){return b()(e,(e=>e.NeedsDeletion)),A()(e,(e=>{const t=new F.KubernetesApplicationEnvPayload;return t.name=e.Name,void 0===e.Value?delete t.value:t.value=e.Value,t}))}static generateEnvVariablesFromEnv(e){const t=A()(e,(e=>{if(e.valueFrom)return;const t=new O.KubernetesApplicationEnvironmentVariableFormValue;return t.Name=e.name,t.Value=e.value,t.IsNew=!1,t.NameIndex=e.name,t}));return I()(t,void 0)}static generateConfigurationFormValuesFromEnvAndVolumes(e,t,n){const a=S()(n,(n=>{const a=n.Type===V.KubernetesConfigurationTypes.CONFIGMAP?"valueFrom.configMapKeyRef.name":"valueFrom.secretKeyRef.name",s=R()(e,[a,n.Name]),i=R()(t,{configurationName:n.Name});if(!s.length&&!i.length)return;const r=w()(f()(n.Data),((e,t)=>{const n=R()(s,{name:t}),a=R()(i,{configurationKey:t}),r={Key:t,Count:n.length+a.length,Sum:g()(n,a),EnvCount:n.length,VolCount:a.length};return e.push(r),e}),[]),o=p()(A()(r,"Count")),l=o-p()(A()(r,"VolCount")),c=A()(new Array(o),(()=>new O.KubernetesApplicationConfigurationFormValue));return N()(c,((e,t)=>{e.SelectedConfiguration=n,t>=l&&(e.Overriden=!0,e.OverridenKeys=A()(r,(e=>{const n=new O.KubernetesApplicationConfigurationFormValueOverridenKey;return n.Key=e.Key,e.Count?t<e.EnvCount?n.Type=O.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT:(n.Type=O.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM,n.Path=e.Sum[t].rootMountPath):n.Type=O.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.NONE,n})))})),c}));return I()(a,void 0)}static generateEnvOrVolumesFromConfigurations(e,t){let n=[],a=[],s=[];return N()(t,(t=>{const i=t.SelectedConfiguration.Type===V.KubernetesConfigurationTypes.CONFIGMAP;if(t.Overriden){const r=R()(t.OverridenKeys,(e=>e.Type===O.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT));N()(r,(e=>{const a=i?new F.KubernetesApplicationEnvConfigMapPayload:new F.KubernetesApplicationEnvSecretPayload;a.name=e.Key,i?(a.valueFrom.configMapKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.configMapKeyRef.key=e.Key):(a.valueFrom.secretKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.secretKeyRef.key=e.Key),n.push(a)}));const o=R()(t.OverridenKeys,(e=>e.Type===O.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM)),l=d()(o,"Path");N()(l,((n,r)=>{const o=L.default.generatedApplicationConfigVolumeName(e.Name),l=t.SelectedConfiguration.Name,c=A()(n,(e=>{const t=new F.KubernetesApplicationVolumeEntryPayload;return t.key=e.Key,t.path=e.Key,t})),d=i?new F.KubernetesApplicationVolumeMountPayload:new F.KubernetesApplicationVolumeMountPayload(!0),u=i?new F.KubernetesApplicationVolumeConfigMapPayload:new F.KubernetesApplicationVolumeSecretPayload;d.name=o,d.mountPath=r,u.name=o,i?(u.configMap.name=l,u.configMap.items=c):(u.secret.secretName=l,u.secret.items=c),s.push(d),a.push(u)}))}else{const e=f()(t.SelectedConfiguration.Data);N()(e,(e=>{const a=i?new F.KubernetesApplicationEnvConfigMapPayload:new F.KubernetesApplicationEnvSecretPayload;a.name=e,i?(a.valueFrom.configMapKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.configMapKeyRef.key=e):(a.valueFrom.secretKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.secretKeyRef.key=e),n.push(a)}))}})),e.Env=g()(e.Env,n),e.Volumes=g()(e.Volumes,a),e.VolumeMounts=g()(e.VolumeMounts,s),e}static generateServicesFormValuesFromServices(e){let t=[];if(e.Services)return e.Services.forEach((function(n){if("None"!==n.spec.clusterIP){const a=new U.KubernetesService;a.Namespace=n.metadata.namespace,a.Name=n.metadata.name,a.StackName=n.StackName,a.ApplicationOwner=e.ApplicationOwner,a.ApplicationName=e.ApplicationName,a.Type=n.spec.type,n.spec.type===U.KubernetesServiceTypes.CLUSTER_IP?a.Type=1:n.spec.type===U.KubernetesServiceTypes.NODE_PORT?a.Type=2:n.spec.type===U.KubernetesServiceTypes.LOAD_BALANCER&&(a.Type=3);let s=[];n.spec.ports.forEach((function(t){const i=new U.KubernetesServicePort;i.name=t.name,i.port=t.port,i.nodePort=t.nodePort,i.protocol=t.protocol,i.targetPort=t.targetPort,e.Ingresses.value.forEach((e=>{const t=l()(e.Paths,{ServiceName:n.metadata.name});t&&(i.ingress={IngressName:t.IngressName,Host:t.Host,Path:t.Path},a.Ingress=!0)})),s.push(i)})),a.Ports=s,a.Selector=e.Raw.spec.selector.matchLabels,t.push(a)}})),t}static generateSelectorFromService(e){if("Pod"!==e.Raw.kind)return e.Raw.spec.selector.matchLabels}static generatePublishedPortsFormValuesFromPublishedPorts(e,t,n){const a=(t,a)=>{const s=new O.KubernetesApplicationPublishedPortFormValue;return s.IsNew=!1,a&&(s.IngressName=a.IngressName,s.IngressRoute=a.Path,s.IngressHost=a.Host,s.IngressHosts=n&&n.find((e=>e.Name===a.IngressName)).Hosts),s.Protocol=t.Protocol,s.ContainerPort=t.TargetPort,e===U.KubernetesServiceTypes.LOAD_BALANCER?(s.LoadBalancerPort=t.Port,s.LoadBalancerNodePort=t.NodePort):e===U.KubernetesServiceTypes.NODE_PORT&&(s.NodePort=t.NodePort),s};return S()(t,(e=>e.IngressRules.length?A()(e.IngressRules,(t=>a(e,t))):a(e)))}static generateAutoScalerFormValueFromHorizontalPodAutoScaler(e,t){const n=new O.KubernetesApplicationAutoScalerFormValue;return e?(n.IsUsed=!0,n.MinReplicas=e.MinReplicas,n.MaxReplicas=e.MaxReplicas,n.TargetCPUUtilization=e.TargetCPUUtilization,n.ApiVersion=e.ApiVersion):(n.ApiVersion="apps/v1",n.MinReplicas=t,n.MaxReplicas=t),n}static generatePersistedFoldersFormValuesFromPersistedFolders(e,t){return A()(e,(e=>{const n=l()(t,(t=>r()(t.Name,e.PersistentVolumeClaimName))),a=new O.KubernetesApplicationPersistedFolderFormValue(n.StorageClass);return a.PersistentVolumeClaimName=e.PersistentVolumeClaimName,a.Size=parseInt(n.Storage,10),a.SizeUnit=n.Storage.slice(-2),a.ContainerPath=e.MountPath,a}))}static generateVolumesFromPersistentVolumClaims(e,t){e.VolumeMounts=[],e.Volumes=[],N()(t,(t=>{const n=new F.KubernetesApplicationVolumeMountPayload,a=t.Name;n.name=a,n.mountPath=t.MountPath,e.VolumeMounts.push(n);const s=new F.KubernetesApplicationVolumePersistentPayload;s.name=a,s.persistentVolumeClaim.claimName=a,e.Volumes.push(s)}))}static hasRWOOnly(e){return l()(e.PersistedFolders,(e=>e.StorageClass&&s()(e.StorageClass.AccessModes,["RWO"])))}static hasRWX(e){return void 0!==l()(e,(e=>e.StorageClass&&$()(e.StorageClass.AccessModes,"RWX")))}static generatePlacementsFormValuesFromAffinity(e,t,n){let a=e.Placements,s=e.PlacementType;const i=t.nodeAffinity;i&&i.requiredDuringSchedulingIgnoredDuringExecution?(s=_.KubernetesApplicationPlacementTypes.MANDATORY,N()(i.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms,(e=>{N()(e.matchExpressions,(e=>{const t=new O.KubernetesApplicationPlacementFormValue,s=l()(n,{Key:e.key});t.Label=s,t.Value=e.values[0],t.IsNew=!1,a.push(t)}))}))):i&&i.preferredDuringSchedulingIgnoredDuringExecution&&(s=_.KubernetesApplicationPlacementTypes.PREFERRED,N()(i.preferredDuringSchedulingIgnoredDuringExecution,(e=>{N()(e.preference.matchExpressions,(e=>{const t=new O.KubernetesApplicationPlacementFormValue,s=l()(n,{Key:e.key});t.Label=s,t.Value=e.values[0],t.IsNew=!1,a.push(t)}))}))),e.Placements=a,e.PlacementType=s}static generateAffinityFromPlacements(e,t){if(t.DeploymentType===_.KubernetesApplicationDeploymentTypes.REPLICATED){const n=t.Placements,a=new j.KubernetesPodNodeAffinityPayload;let s=A()(n,(e=>{if(!e.NeedsDeletion){const t=new j.KubernetesNodeSelectorRequirementPayload;return t.key=e.Label.Key,e.Value?(t.operator=M.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN,t.values=[e.Value]):(t.operator=M.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS,delete t.values),t}}));if(s=I()(s,void 0),s.length){if(t.PlacementType===_.KubernetesApplicationPlacementTypes.MANDATORY){const e=new j.KubernetesNodeSelectorTermPayload;e.matchExpressions=s,a.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.push(e),delete a.preferredDuringSchedulingIgnoredDuringExecution}else if(t.PlacementType===_.KubernetesApplicationPlacementTypes.PREFERRED){const e=new j.KubernetesPreferredSchedulingTermPayload;e.preference=new j.KubernetesNodeSelectorTermPayload,e.preference.matchExpressions=s,a.preferredDuringSchedulingIgnoredDuringExecution.push(e),delete a.requiredDuringSchedulingIgnoredDuringExecution}e.Affinity=new M.KubernetesPodAffinity,e.Affinity.nodeAffinity=a}}}static getHelmApplications(e){const t=e.filter((e=>e.Metadata.labels&&e.Metadata.labels[K]&&"Helm"===e.Metadata.labels[B])),n={};t.forEach((e=>{const t=e.ResourcePool,a=e.Metadata.labels[K];n[t]?n[t][a]=[...n[t][a]||[],e]:n[t]={[a]:[e]}}));const a=Object.values(n).flatMap((e=>Object.entries(e))).map((([e,t])=>{const n=new _.HelmApplication;n.Name=e,n.ApplicationType=_.KubernetesApplicationTypes.HELM,n.ApplicationOwner=t[0].ApplicationOwner,n.KubernetesApplications=t;const a=t.some((e=>e.RunningPodsCount<e.TotalPodsCount));return n.Status=a?"Not ready":"Ready",n.CreationDate=t.map((e=>e.CreationDate)).sort(((e,t)=>new Date(e)-new Date(t)))[0],n.ResourcePool=t[0].ResourcePool,n.Id=n.ResourcePool+"-"+n.Name.toLowerCase().replaceAll(" ","-"),n}));return a}static getNestedApplications(e){const t=z.getHelmApplications(e),n=[...new Set(t.map((e=>e.Name)))];return{helmApplications:t,nonHelmApplications:e.filter((e=>!e.Metadata.labels||!n.includes(e.Metadata.labels[K])))}}}const H=z},65011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(41952),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(7172),c=n(24601);class d{static getPatchPayload(e,t){let n;switch(e.ApplicationType){case l.KubernetesApplicationTypes.DEPLOYMENT:n=d._getDeploymentPayload(e,t);break;case l.KubernetesApplicationTypes.DAEMONSET:n=d._getDaemonSetPayload(e,t);break;case l.KubernetesApplicationTypes.STATEFULSET:n=d._getStatefulSetPayload(e,t);break;default:throw new o.Z("Unable to determine which association to use to convert patch")}return n}static _getDeploymentPayload(e,t){const n=r().copy(t),a=e.Raw;delete n.spec.template.metadata.labels[c.KubernetesSystem_DefaultDeploymentUniqueLabelKey];const i={};return s()(c.KubernetesSystem_AnnotationsToSkip,((e,t)=>{const n=a.metadata.annotations[t];n&&(i[t]=n)})),s()(n.metadata.annotations,((e,t)=>{c.KubernetesSystem_AnnotationsToSkip[t]||(i[t]=e)})),[{op:"replace",path:"/spec/template",value:n.spec.template},{op:"replace",path:"/metadata/annotations",value:i}]}static _getDaemonSetPayload(e,t){return t.data}static _getStatefulSetPayload(e,t){return t.data}}const u=d},12925:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(80738),s=n.n(a),i=n(30465),r=n.n(i),o=n(5354),l=n.n(o),c=n(59712),d=n.n(c);const u=class{static assignOrDeleteIfEmpty(e,t,n){!n&&0!==n||n instanceof Array&&!n.length?d()(e,t):l()(e,t,n)}static assignOrDeleteIfEmptyOrZero(e,t,n){!n||0===n||n instanceof Array&&!n.length?d()(e,t):l()(e,t,n)}static ownerToLabel(e){let t=r()(e,/[^-A-Za-z0-9_.]/g,".");return t=s()(t,{length:63,omission:""}),t=r()(t,/^[-_.]*/g,""),t=r()(t,/[-_.]*$/g,""),t}}},58007:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(41952),s=n.n(a),i=n(5777),r=n.n(i),o=n(13978),l=n(93133);const c=class{static parseJSONData(e){return r()(e.Data,((t,n)=>{try{e.Data[n]=JSON.parse(t)}catch(a){e.Data[n]=t}})),e}static modifiyNamespaceAccesses(e,t,n){return e.Data[o.KubernetesPortainerConfigMapAccessKey][t]={UserAccessPolicies:{},TeamAccessPolicies:{}},s()(n,(n=>{n instanceof l.UserAccessViewModel?e.Data[o.KubernetesPortainerConfigMapAccessKey][t].UserAccessPolicies[n.Id]={RoleId:0}:n instanceof l.TeamAccessViewModel&&(e.Data[o.KubernetesPortainerConfigMapAccessKey][t].TeamAccessPolicies[n.Id]={RoleId:0})})),r()(e.Data,((t,n)=>{e.Data[n]=JSON.stringify(t)})),e}}},51780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var a=n(55743),s=n.n(a),i=n(66539),r=n.n(i),o=n(41952),l=n.n(o),c=n(44716),d=n.n(c),u=n(13507),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(2419),b=n.n(v),y=n(82434),w=n(30578);class x{static getUsingApplications(e,t){return f()(t,(t=>{let n,a;return e.Type===y.KubernetesConfigurationTypes.CONFIGMAP?(n=g()(t.Env,{valueFrom:{configMapKeyRef:{name:e.Name}}}),a=g()(t.Volumes,{configMap:{name:e.Name}})):(n=g()(t.Env,{valueFrom:{secretKeyRef:{name:e.Name}}}),a=g()(t.Volumes,{secret:{secretName:e.Name}})),n||a}))}static isSystemToken(e){return p()(e.Name,"default-token-")}static isBinary(e){return""!==e&&!d()(e,"ISO")&&!d()(e,"UTF")}static setConfigurationUsed(e){e.Used=e.Applications&&0!==e.Applications.length}static setConfigurationsUsed(e,t){l()(e,(e=>{e.Applications=x.getUsingApplications(e,t),x.setConfigurationUsed(e)}))}static getApplicationConfigurations(e,t){const n=t.filter((t=>0!==x.getUsingApplications(t,e).length));return e.map((e=>{const t=n.filter((t=>e.ApplicationName===t.Name&&e.ResourcePool===t.Namespace)),a=n.filter((t=>e.ConfigurationVolumes.some((e=>e.configurationName===t.Name)))).filter((e=>!t.some((t=>t.Name===e.Name))));return e.Configurations=[...t,...a],e}))}static parseYaml(e){return b().defaultOptions.customTags=["binary"],r()(b().parse(e.DataYaml),((t,n)=>{const a=new w.KubernetesConfigurationFormValuesEntry;a.Key=n,a.Value=t;const s=g()(e.Data,{Key:a.Key});return a.IsBinary=!!s&&s.IsBinary,a}))}static parseData(e){if(!e.Data.length)return"";const t=s()(e.Data,((e,t)=>(e[t.Key]=t.Value,e)),{});return b().stringify(t)}static isExternalConfiguration(e){return!e.ConfigurationOwner}}const S=x},52929:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(83432),s=n.n(a);const i=class{static warningCount(e){return s()(e,(e=>"Warning"===e.Type)).length}}},54241:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(86103),s=n.n(a),i=n(41952),r=n.n(i);const o=class{static getInvalidKeys(e){const t={};return r()(e,((e,n)=>{/^[-._a-zA-Z0-9]+$/.test(e)||(t[n]=!0)})),t}static getDuplicates(e){const t=s()(e),n={};return r()(e,((e,a)=>{e&&t[e].length>1&&(n[a]=e)})),n}}},48367:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var a=n(11600),s=n.n(a),i=n(40714),r=n.n(i),o=n(83432),l=n.n(o),c=n(51235),d=n.n(c);class u{static _isControlledBy(e){return t=>void 0!==d()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=l()(e,["metadata.labels",t.spec.selector.matchLabels]),a=l()(n,u._isControlledBy(t));return r()(a,["revision","metadata.creationTimestamp"])}static getCurrentRevision(e){return s()(e)}}const p=u},38215:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var a=n(66539),s=n.n(a),i=n(17908),r=n.n(i),o=n(40714),l=n.n(o),c=n(83432),d=n.n(c),u=n(51235),p=n.n(u),m=n(29274),g=n.n(m),h=n(24601);class f{static _isControlledBy(e){return t=>void 0!==p()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=d()(e,["spec.selector",t.spec.selector]),a=d()(n,f._isControlledBy(t));return l()(a,["metadata.creationTimestamp","metadata.name"])}static getCurrentRevision(e,t){const n=g().copy(e),a=p()(n,(e=>(delete e.spec.template.metadata.labels[h.KubernetesSystem_DefaultDeploymentUniqueLabelKey],r()(t.spec.template,e.spec.template))));return a.revision=a.metadata.annotations[h.KubernetesSystem_RevisionAnnotation],a}static filterVersionedRevisions(e){const t=d()(e,(e=>void 0!==e.metadata.annotations[h.KubernetesSystem_RevisionAnnotation]));return s()(t,(e=>(e.revision=e.metadata.annotations[h.KubernetesSystem_RevisionAnnotation],e)))}}const v=f},70224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(40714),s=n.n(a),i=n(20023),r=n(38215),o=n(48367),l=n(47220),c=n(7172);class d{static getRevisions(e,t){let n,a;switch(t.ApplicationType){case c.KubernetesApplicationTypes.DEPLOYMENT:[n,a]=d._getDeploymentRevisions(e,t.Raw);break;case c.KubernetesApplicationTypes.DAEMONSET:[n,a]=d._getDaemonSetRevisions(e,t.Raw);break;case c.KubernetesApplicationTypes.STATEFULSET:[n,a]=d._getStatefulSetRevisions(e,t.Raw);break;default:throw new i.Z("Unable to determine which association to use to get revisions")}return a=s()(a,"revision"),[n,a]}static _getDeploymentRevisions(e,t){const n=r.default.filterOwnedRevisions(e,t);return[r.default.getCurrentRevision(n,t),r.default.filterVersionedRevisions(n)]}static _getDaemonSetRevisions(e,t){const n=o.default.filterOwnedRevisions(e,t);return[o.default.getCurrentRevision(n,t),n]}static _getStatefulSetRevisions(e,t){const n=l.default.filterOwnedRevisions(e,t);return[l.default.getCurrentRevision(n,t),n]}}const u=d},47220:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var a=n(11600),s=n.n(a),i=n(40714),r=n.n(i),o=n(83432),l=n.n(o),c=n(51235),d=n.n(c);class u{static _isControlledBy(e){return t=>void 0!==d()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=l()(e,["metadata.labels",t.spec.selector.matchLabels]),a=l()(n,u._isControlledBy(t));return r()(a,["revision","metadata.creationTimestamp"])}static getCurrentRevision(e){return s()(e)}}const p=u},7506:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(44716),s=n.n(a),i=n(35076),r=n(22823);class o{static isSystemNamespace(e){return(0,r.isSystem)(e)}static isDefaultNamespace(e){return e===i.KUBERNETES_DEFAULT_NAMESPACE}static isDefaultSystemNamespace(e){return s()(i.KUBERNETES_DEFAULT_SYSTEM_NAMESPACES,e)}}},21458:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(47685);const s=class{static generateResourceQuotaName(e){return a.KubernetesPortainerResourceQuotaPrefix+e}static generateResourceQuotaStorageKey(e){return`${e}${a.KubernetesPortainerResourceQuotaStorageSuffix}`}static formatBytes(e,t=0,n=!0){if(0===e)return{Size:0,SizeUnit:"B"};const a=n?1e3:1024,s=t<0?0:t,i=Math.floor(Math.log(e)/Math.log(a));return{Size:parseFloat((e/Math.pow(a,i)).toFixed(s)),SizeUnit:["B","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}}}},22229:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(41952),s=n.n(a),i=n(94467),r=n.n(i),o=n(25445),l=n.n(o),c=n(55743),d=n.n(c),u=n(29500),p=n.n(u),m=n(46685);class g{static computeResourceReservation(e){const t=d()(e,((e,t)=>l()(e,t.Containers)),[]);return d()(t,((e,t)=>(t.Requests&&(t.Requests.memory&&(e.Memory+=p()(t.Requests.memory,{base:10})),t.Requests.cpu&&(e.CPU+=g.parseCPU(t.Requests.cpu))),e)),new m.KubernetesResourceReservation)}static parseCPU(e){let t=parseInt(e,10);return r()(e,"m")?t/=1e3:r()(e,"n")&&(t/=1e9),t}static megaBytesValue(e){return Math.floor(p()(e)/1e3/1e3)}static bytesValue(e){return 1e3*p()(e)*1e3}static computeSliderMaxResources(e,t,n,a,i){let r={CPU:0,Memory:0};if(s()(e,(e=>{r.CPU+=e.CPU,r.Memory+=p()(e.Memory)})),r.CPU=Math.trunc(10*r.CPU)/10,r.Memory=g.megaBytesValue(r.Memory),!a){const e=d()(t,((e,t)=>(t.Quota&&t.Namespace.Name!==n&&(e.CPU+=t.Quota.CpuLimit,e.Memory+=t.Quota.MemoryLimit),e)),{CPU:0,Memory:0});e.Memory&&(e.Memory=g.megaBytesValue(e.Memory)),r.CPU=Math.trunc(10*parseFloat(r.CPU-r.CPU*i/100-e.CPU))/10,r.Memory=parseInt(r.Memory-r.Memory*i/100-e.Memory,10)}return r}}const h=g},57637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(83432),s=n.n(a),i=n(55828),r=n.n(i),o=n(51235),l=n.n(o),c=n(79990);const d=class{static generateHeadlessServiceName(e){return c.KubernetesServiceHeadlessPrefix+e}static findApplicationBoundService(e,t){if(t.spec.template)return l()(e,(e=>e.spec.selector&&r()(t.spec.template.metadata.labels,e.spec.selector)))}static findApplicationBoundServices(e,t){if(t.spec.template)return s()(e,(e=>e.spec.selector&&r()(t.spec.template.metadata.labels,e.spec.selector)))}}},41208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(51235),s=n.n(a),i=n(55743),r=n.n(i),o=n(31084);const l=class{static stacksFromApplications(e){return r()(e,((e,t)=>{if(t.StackName){let n=s()(e,{Name:t.StackName,ResourcePool:t.ResourcePool});n||(n=new o.KubernetesStack,n.Name=t.StackName,n.ResourcePool=t.ResourcePool,e.push(n)),n.Applications.push(t)}return e}),[])}}},69461:(e,t,n)=>{"use strict";n.r(t);var a=n(41208);describe("stacksFromApplications",(()=>{const{stacksFromApplications:e}=a.default;test("should return an empty array when passed an empty array",(()=>{expect(e([])).toHaveLength(0)})),test("should return an empty array when passed a list of applications without stacks",(()=>{expect(e([{StackName:""},{StackName:""},{StackName:""},{StackName:""}])).toHaveLength(0)}))}))},11507:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(44716),s=n.n(a),i=n(13507),r=n.n(i),o=n(66539),l=n.n(o),c=n(46545),d=n.n(c),u=n(83432),p=n.n(u),m=n(15964),g=n.n(m),h=n(7172);const f=class{static getUsingApplications(e,t){return p()(t,(t=>{const n=d()(l()(t.Volumes,"persistentVolumeClaim.claimName"),void 0),a=p()(n,(t=>r()(e.PersistentVolumeClaim.Name,t)));return e.ResourcePool.Namespace.Name===t.ResourcePool&&a.length&&(t.ApplicationType!==h.KubernetesApplicationTypes.STATEFULSET||s()(e.PersistentVolumeClaim.Name,t.Name))}))}static isUsed(e){return 0!==e.Applications.length}static generatedApplicationConfigVolumeName(e){return"config-"+e+"-"+g()()}static isExternalVolume(e){return!e.PersistentVolumeClaim.ApplicationOwner}}},41247:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerConverter:()=>r});var a=n(34901),s=n(90914),i=n(85597);class r{static apiToModel(e,t){const n=new s.KubernetesHorizontalPodAutoScaler;return n.Id=e.metadata.uid,n.Namespace=e.metadata.namespace,n.Name=e.metadata.name,n.MinReplicas=e.spec.minReplicas,n.MaxReplicas=e.spec.maxReplicas,n.TargetCPUUtilization=e.spec.targetCPUUtilizationPercentage,e.spec.scaleTargetRef&&(n.TargetEntity.ApiVersion=e.spec.scaleTargetRef.apiVersion,n.TargetEntity.Kind=e.spec.scaleTargetRef.kind,n.TargetEntity.Name=e.spec.scaleTargetRef.name),n.Yaml=t?t.data:"",n}static createPayload(e){const t=new i.KubernetesHorizontalPodAutoScalerCreatePayload;return t.metadata.namespace=e.Namespace,t.metadata.name=e.TargetEntity.Name,t.spec.minReplicas=e.MinReplicas,t.spec.maxReplicas=e.MaxReplicas,t.spec.targetCPUUtilizationPercentage=e.TargetCPUUtilization,t.spec.scaleTargetRef.apiVersion=e.TargetEntity.ApiVersion,t.spec.scaleTargetRef.kind=e.TargetEntity.Kind,t.spec.scaleTargetRef.name=e.TargetEntity.Name,t}static patchPayload(e,t){const n=r.createPayload(e),s=r.createPayload(t);return a.qu(n,s)}static applicationFormValuesToModel(e,t){const n=new s.KubernetesHorizontalPodAutoScaler;return n.Name=e.Name,n.Namespace=e.ResourcePool.Namespace.Name,n.MinReplicas=e.AutoScaler.MinReplicas,n.MaxReplicas=e.AutoScaler.MaxReplicas,n.TargetCPUUtilization=e.AutoScaler.TargetCPUUtilization,n.TargetEntity.Name=e.Name,n.TargetEntity.Kind=t,n.TargetEntity.ApiVersion=e.AutoScaler.ApiVersion,n}}},1239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerHelper:()=>d});var a=n(51235),s=n.n(a),i=n(20023),r=n(7172),o=n(59238),l=n(91920),c=n(12745);class d{static findApplicationBoundScaler(e,t){const n=d.getApplicationTypeString(t);return s()(e,(e=>e.TargetEntity.Kind===n&&e.TargetEntity.Name===t.Name))}static getApplicationTypeString(e){if(e instanceof r.KubernetesApplication&&e.ApplicationType===r.KubernetesApplicationTypes.DEPLOYMENT||e instanceof o.KubernetesDeployment)return r.KubernetesApplicationTypeStrings.DEPLOYMENT;if(e instanceof r.KubernetesApplication&&e.ApplicationType===r.KubernetesApplicationTypes.DAEMONSET||e instanceof c.KubernetesDaemonSet)return r.KubernetesApplicationTypeStrings.DAEMONSET;if(e instanceof r.KubernetesApplication&&e.ApplicationType===r.KubernetesApplicationTypes.STATEFULSET||e instanceof l.KubernetesStatefulSet)return r.KubernetesApplicationTypeStrings.STATEFULSET;if(e instanceof r.KubernetesApplication&&e.ApplicationType===r.KubernetesApplicationTypes.POD)return r.KubernetesApplicationTypeStrings.POD;throw new i.Z("Unable to determine application type")}}},90914:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScaler:()=>s});const a=Object.freeze({Id:"",Namespace:"",Name:"",MinReplicas:1,MaxReplicas:1,TargetCPUUtilization:0,TargetEntity:{ApiVersion:"",Kind:"",Name:""},Yaml:""});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},85597:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerCreatePayload:()=>s});const a=Object.freeze({metadata:{namespace:"",name:""},spec:{maxReplicas:0,minReplicas:0,targetCPUUtilizationPercentage:0,scaleTargetRef:{kind:"",name:""}}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},61160:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesHorizontalPodAutoScalers",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/apis/autoscaling/v1"+(s?"/namespaces/:namespace":"")+"/horizontalpodautoscalers/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},51866:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(82469),c=n(41247);class d{constructor(e,t){this.$async=e,this.KubernetesHorizontalPodAutoScalers=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.all([this.KubernetesHorizontalPodAutoScalers(e).get(n).$promise,this.KubernetesHorizontalPodAutoScalers(e).getYaml(n).$promise]);return c.KubernetesHorizontalPodAutoScalerConverter.apiToModel(a,s)}catch(e){throw new o.Z("Unable to retrieve HorizontalPodAutoScaler",e)}}async getAllAsync(e){try{const t=await this.KubernetesHorizontalPodAutoScalers(e).get().$promise;return s()(t.items,(e=>c.KubernetesHorizontalPodAutoScalerConverter.apiToModel(e)))}catch(e){throw new o.Z("Unable to retrieve HorizontalPodAutoScalers",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=c.KubernetesHorizontalPodAutoScalerConverter.createPayload(e),a=n.metadata.namespace;return await this.KubernetesHorizontalPodAutoScalers(a).create(t,n).$promise}catch(e){throw new o.Z("Unable to create horizontalPodAutoScaler",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,s=c.KubernetesHorizontalPodAutoScalerConverter.patchPayload(e,t);if(!s.length)return;return await this.KubernetesHorizontalPodAutoScalers(a).patch(n,s).$promise}catch(e){throw new o.Z("Unable to patch horizontalPodAutoScaler",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesHorizontalPodAutoScalers(n).delete(t).$promise}catch(e){throw new o.Z("Unable to remove horizontalPodAutoScaler",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=["$async","KubernetesHorizontalPodAutoScalers"];const u=d;r().module("portainer.kubernetes").service("KubernetesHorizontalPodAutoScalerService",d)},62072:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesIngressClassAnnotation:()=>a,KubernetesIngressClassRewriteTargetAnnotations:()=>s,KubernetesIngressClassTypes:()=>i});const a="kubernetes.io/ingress.class",s=Object.freeze({nginx:{"nginx.ingress.kubernetes.io/rewrite-target":"/"},traefik:{"traefik.ingress.kubernetes.io/rewrite-target":"/"}}),i=Object.freeze({NGINX:"nginx",TRAEFIK:"traefik"})},47086:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesIngressConverter:()=>L});var a=n(25445),s=n.n(a),i=n(86103),r=n.n(i),o=n(46545),l=n.n(o),c=n(4160),d=n.n(c),u=n(4892),p=n.n(u),m=n(36947),g=n.n(m),h=n(13507),f=n.n(h),v=n(71204),b=n.n(v),y=n(51235),w=n.n(y),x=n(41952),S=n.n(x),k=n(45849),$=n.n(k),C=n(46006),A=n.n(C),P=n(66539),I=n.n(P),T=n(74362),N=n.n(T),E=n(34901),R=n(12925),D=n(16496),U=n(7172),V=n(27155),O=n(17362),F=n(62072);class L{static apiToModel(e){const t=N()(e.spec.rules,(t=>t.http?I()(t.http.paths,(n=>{const a=new V.KubernetesIngressRule;return a.IngressName=e.metadata.name,a.ServiceName=n.backend.service.name,a.Host=t.host||"",a.IP=e.status.loadBalancer.ingress?e.status.loadBalancer.ingress[0].ip:void 0,a.Port=n.backend.service.port.number,a.Path=n.path,a})):[])),n=new V.KubernetesIngress;n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.Annotations=e.metadata.annotations||{},n.IngressClassName=e.metadata.annotations&&e.metadata.annotations[F.KubernetesIngressClassAnnotation]?e.metadata.annotations[F.KubernetesIngressClassAnnotation]:e.spec.ingressClassName,n.Paths=t,n.Hosts=A()(I()(e.spec.rules,"host"));const a=$()(n.Hosts,(e=>void 0===e));return a>=0&&n.Hosts.splice(a,1,""),n}static applicationFormValuesToIngresses(e,t){const n=e.PublishingType===U.KubernetesApplicationPublishingTypes.INGRESS,a=angular.copy(e.OriginalIngresses);return S()(e.PublishedPorts,(e=>{const s=w()(a,{Name:e.IngressName});if(s)if(e.NeedsDeletion)b()(s.Paths,(n=>n.Port===e.ContainerPort&&n.ServiceName===t&&n.Path===e.IngressRoute));else if(n&&e.IsNew){const n=new V.KubernetesIngressRule;n.IngressName=s.Name,n.ServiceName=t,n.Port=e.ContainerPort,e.IngressRoute&&(n.Path=f()(e.IngressRoute,"/")?e.IngressRoute:"/"+e.IngressRoute),n.Host=e.IngressHost,s.Paths.push(n)}})),a}static applicationFormValuesToDeleteIngresses(e,t){const n=angular.copy(e.OriginalIngresses);return t.Services.forEach((e=>{n.forEach((t=>{const n=w()(t.Paths,{ServiceName:e.metadata.name});n&&b()(t.Paths,n)}))})),n}static deleteIngressByServiceName(e,t){const n=angular.copy(e.OriginalIngresses);return n.forEach((e=>{const n=w()(e.Paths,{ServiceName:t.Name});n&&b()(e.Paths,n)})),n}static newApplicationFormValuesToIngresses(e,t,n){const a=angular.copy(e.OriginalIngresses);return n.forEach((e=>{const n=w()(a,{Name:e.ingress.IngressName});if(n){const a=new V.KubernetesIngressRule;a.ServiceName=t,a.IngressName=e.ingress.IngressName,a.Host=e.ingress.Host,a.Path=f()(e.ingress.Path,"/")?e.ingress.Path:"/"+e.ingress.Path,a.Port=e.port,n.Paths.push(a)}})),a}static editingFormValuesToIngresses(e,t,n){const a=angular.copy(e.OriginalIngresses);return n.forEach((e=>{const n=w()(a,{Name:e.ingress.IngressName});if(n){const a=w()(n.Paths,{ServiceName:t});b()(n.Paths,a);const s=new V.KubernetesIngressRule;s.ServiceName=t,s.IngressName=e.ingress.IngressName,s.Host=e.ingress.Host,s.Path=f()(e.ingress.Path,"/")?e.ingress.Path:"/"+e.ingress.Path,s.Port=e.port,n.Paths.push(s)}})),a}static resourcePoolIngressClassFormValueToIngress(e){const t=new V.KubernetesIngress;t.Name=e.IngressClass.Name,t.Namespace=e.Namespace;const n=I()(e.Annotations,(e=>[e.Key,e.Value]));return t.Annotations=g()(n),e.RewriteTarget&&p()(t.Annotations,F.KubernetesIngressClassRewriteTargetAnnotations[e.IngressClass.Type]),t.Annotations[F.KubernetesIngressClassAnnotation]=e.IngressClass.Name,t.IngressClassName=e.IngressClass.Name,t.Hosts=e.Hosts,t.Paths=e.Paths,t}static ingressClassesToFormValues(e,t){return I()(e,(e=>{const n=new D.KubernetesResourcePoolIngressClassFormValue(e),a=w()(t,{Name:e.Name});if(a){n.Selected=!0,n.WasSelected=!0,n.Hosts=I()(a.Hosts,(e=>{const t=new D.KubernetesResourcePoolIngressClassHostFormValue;return t.Host=e,t.PreviousHost=e,t.IsNew=!1,t}));const[[t]]=d()(F.KubernetesIngressClassRewriteTargetAnnotations[e.Type]),s=I()(d()(a.Annotations),(([e,a])=>{if(e===t)n.RewriteTarget=!0;else if(e!==F.KubernetesIngressClassAnnotation){const t=new D.KubernetesResourcePoolIngressClassAnnotationFormValue;return t.Key=e,t.Value=a,t}}));n.Annotations=l()(s,void 0),n.AdvancedConfig=n.Annotations.length>0,n.Paths=a.Paths}return n}))}static createPayload(e){const t=new O.KubernetesIngressCreatePayload;if(t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.spec.ingressClassName=e.IngressClassName,e.Paths&&e.Paths.length){S()(e.Paths,(e=>{"undefined"!==e.Host&&void 0!==e.Host||(e.Host="")}));const n=[],a=r()(e.Paths,"Host");let i=I()(a,((t,a)=>{const s=w()(e.Hosts,(e=>e===a||e.PreviousHost===a));if(a=s.Host||s,s.NeedsDeletion)return;const i=new O.KubernetesIngressRuleCreatePayload;return R.default.assignOrDeleteIfEmpty(i,"host",a),i.http.paths=I()(t,(e=>{const t=new O.KubernetesIngressRulePathCreatePayload;return t.path=e.Path,t.backend.service.name=e.ServiceName,t.backend.service.port.number=e.Port,t})),n.push(a),i}));i=l()(i,void 0);const o=l()(I()(e.Hosts,(e=>e.NeedsDeletion?void 0:e.Host||e)),void 0),c=l()(o,...n),d=I()(c,(e=>({host:e})));i=s()(i,d),R.default.assignOrDeleteIfEmpty(t,"spec.rules",i)}else e.Hosts?(t.spec.rules=[],S()(e.Hosts,(e=>{e.NeedsDeletion||t.spec.rules.push({host:e.Host||e})}))):delete t.spec.rules;return t}static patchPayload(e,t){const n=L.createPayload(e),a=L.createPayload(t);return E.qu(n,a)}}},7587:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesIngressHelper:()=>o});var a=n(83432),s=n.n(a),i=n(74362),r=n.n(i);class o{static findSBoundServiceIngressesRules(e,t){const n=r()(e,"Paths");return s()(n,{ServiceName:t})}}},27155:(e,t,n)=>{"use strict";function a(){return{Name:"",Namespace:"",Annotations:{},Hosts:[],Paths:[],IngressClassName:""}}function s(){return{IngressName:"",ServiceName:"",Host:"",IP:"",Port:"",Path:""}}function i(){return{Name:"",Type:void 0,NeedsDeletion:!1,IsNew:!0}}n.r(t),n.d(t,{KubernetesIngress:()=>a,KubernetesIngressRule:()=>s,KubernetesIngressClass:()=>i})},17362:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesIngressCreatePayload:()=>s,KubernetesIngressRuleCreatePayload:()=>i,KubernetesIngressRulePathCreatePayload:()=>r});var a=n(27367);function s(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{ingressClassName:"",rules:[]}}}function i(){return{host:"",http:{paths:[]}}}function r(){return{path:"",pathType:"ImplementationSpecific",backend:{service:{name:"",port:{number:0}}}}}},45678:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);function s(e,t,n){return function(s){return e(`${t}/:endpointId/kubernetes/apis/networking.k8s.io/v1${s?"/namespaces/:namespace":""}/ingresses/:id/:action`,{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}s.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider"],angular.module("portainer.kubernetes").factory("KubernetesIngresses",s)},76706:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesIngressService:()=>p});var a=n(25445),s=n.n(a),i=n(55743),r=n.n(i),o=n(29274),l=n.n(o),c=n(20023),d=n(82469),u=n(47086);function p(e,t){return{get:function(t,s){return s?e(n,t,s):e(a,t)},create:function(n){return e((async()=>{try{const e={},a=u.KubernetesIngressConverter.createPayload(n),s=a.metadata.namespace;return await t(s).create(e,a).$promise}catch(e){throw new c.Z("Unable to create ingress",e)}}))},patch:function(n,a){return e((async()=>{try{const e=new d.KubernetesCommonParams;e.id=a.Name;const s=a.Namespace,i=u.KubernetesIngressConverter.patchPayload(n,a);if(!i.length)return;return await t(s).patch(e,i).$promise}catch(e){throw new c.Z("Unable to patch ingress",e)}}))},delete:function(n,a){return e((async()=>{try{const e=new d.KubernetesCommonParams;e.id=a,await t(n).delete(e).$promise}catch(e){throw new c.Z("Unable to delete ingress",e)}}))}};async function n(e,n){try{const a=new d.KubernetesCommonParams;a.id=n;const[s,i]=await Promise.all([t(e).get(a).$promise,t(e).getYaml(a).$promise]);return{Raw:u.KubernetesIngressConverter.apiToModel(s),Yaml:i.data}}catch(e){throw new c.Z("Unable to retrieve Ingress",e)}}async function a(e){try{const n=await t(e).get().$promise;return r()(n.items,((e,t)=>s()(e,u.KubernetesIngressConverter.apiToModel(t))),[])}catch(e){throw new c.Z("Unable to retrieve Ingresses",e)}}}p.$inject=["$async","KubernetesIngresses"],l().module("portainer.kubernetes").service("KubernetesIngressService",p)},60299:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(20023),r=n(82469);class o{constructor(e,t){this.$async=e,this.KubernetesMetrics=t,this.capabilitiesAsync=this.capabilitiesAsync.bind(this),this.getPodAsync=this.getPodAsync.bind(this),this.getNodeAsync=this.getNodeAsync.bind(this),this.getPodsAsync=this.getPodsAsync.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this)}async capabilitiesAsync(e){try{await this.KubernetesMetrics().capabilities({endpointId:e}).$promise}catch(e){throw new i.Z("Unable to retrieve metrics",e)}}capabilities(e){return this.$async(this.capabilitiesAsync,e)}async getNodeAsync(e){try{const t=new r.KubernetesCommonParams;return t.id=e,await this.KubernetesMetrics().getNode(t).$promise}catch(e){throw new i.Z("Unable to retrieve node stats",e)}}getNode(e){return this.$async(this.getNodeAsync,e)}async getPodAsync(e,t){try{const n=new r.KubernetesCommonParams;return n.id=t,await this.KubernetesMetrics(e).getPod(n).$promise}catch(e){throw new i.Z("Unable to retrieve pod stats",e)}}getPod(e,t){return this.$async(this.getPodAsync,e,t)}async getNodesAsync(e){try{return await this.KubernetesMetrics().getNodes({endpointId:e}).$promise}catch(e){throw new i.Z("Unable to retrieve nodes stats",e)}}getNodes(e){return this.$async(this.getNodesAsync,e)}async getPodsAsync(e){try{return await this.KubernetesMetrics(e).getPods().$promise}catch(e){throw new i.Z("Unable to retrieve pod stats",e)}}getPods(e){return this.$async(this.getPodsAsync,e)}}o.$inject=["$async","KubernetesMetrics"];const l=o;s().module("portainer.kubernetes").service("KubernetesMetricsService",o)},26835:()=>{angular.module("portainer.kubernetes").factory("KubernetesMetrics",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return function(a){const s=t+"/:endpointId/kubernetes/apis/metrics.k8s.io/v1beta1",i=`${s}${a?"/namespaces/:namespace":""}/pods/:id`;return e(s,{endpointId:n.endpointID,namespace:a},{capabilities:{method:"GET"},getPod:{method:"GET",url:i},getNode:{method:"GET",url:`${s}/nodes/:id`},getPods:{method:"GET",url:`${s}/namespaces/:namespace/pods`},getNodes:{method:"GET",url:`${s}/nodes`}})}}])},14917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesApplicationFormValues:()=>i,KubernetesApplicationConfigurationFormValueOverridenKeyTypes:()=>r,KubernetesApplicationConfigurationFormValueOverridenKey:()=>l,KubernetesApplicationConfigurationFormValue:()=>d,KubernetesApplicationEnvironmentVariableFormValue:()=>p,KubernetesApplicationPersistedFolderFormValue:()=>g,KubernetesApplicationPublishedPortFormValue:()=>h,KubernetesApplicationPlacementFormValue:()=>f,KubernetesApplicationAutoScalerFormValue:()=>b,KubernetesFormValidationReferences:()=>y});var a=n(76939),s=n(7172);function i(){this.ApplicationType=void 0,this.ResourcePool={},this.Name="",this.StackName="",this.ApplicationOwner="",this.ImageModel=new a.PorImageRegistryModel,this.Note="",this.MemoryLimit=0,this.CpuLimit=0,this.DeploymentType=s.KubernetesApplicationDeploymentTypes.REPLICATED,this.ReplicaCount=1,this.AutoScaler={},this.Containers=[],this.Services=[],this.EnvironmentVariables=[],this.DataAccessPolicy=s.KubernetesApplicationDataAccessPolicies.ISOLATED,this.PersistedFolders=[],this.Configurations=[],this.PublishingType=s.KubernetesApplicationPublishingTypes.CLUSTER_IP,this.PublishedPorts=[],this.PlacementType=s.KubernetesApplicationPlacementTypes.PREFERRED,this.Placements=[],this.OriginalIngresses=void 0,this.IsPublishingService=!1}const r=Object.freeze({NONE:0,ENVIRONMENT:1,FILESYSTEM:2}),o=Object.freeze({Key:"",Path:"",Type:r.ENVIRONMENT});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({SelectedConfiguration:void 0,Overriden:!1,OverridenKeys:[]});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({Name:"",Value:"",IsSecret:!1,NeedsDeletion:!1,IsNew:!0,NameIndex:""});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({PersistentVolumeClaimName:"",NeedsDeletion:!1,ContainerPath:"",Size:"",SizeUnit:"GB",StorageClass:{},ExistingVolume:null,UseNewVolume:!0});class g{constructor(e){Object.assign(this,JSON.parse(JSON.stringify(m))),this.StorageClass=e}}function h(){return{NeedsDeletion:!1,IsNew:!0,ContainerPort:"",NodePort:"",LoadBalancerPort:"",LoadBalancerNodePort:void 0,Protocol:"TCP",IngressName:void 0,IngressRoute:void 0,IngressHost:void 0,IngressHosts:[]}}function f(){return{Label:{},Value:"",NeedsDeletion:!1,IsNew:!0}}const v=Object.freeze({MinReplicas:0,MaxReplicas:0,TargetCPUUtilization:50,ApiVersion:"",IsUsed:!1});class b{constructor(){Object.assign(this,JSON.parse(JSON.stringify(v)))}}function y(){return{refs:{},hasRefs:!1}}},20783:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesApplicationDeploymentTypes:()=>a,KubernetesApplicationDataAccessPolicies:()=>s,KubernetesApplicationTypes:()=>i,KubernetesApplicationTypeStrings:()=>r,KubernetesApplicationPublishingTypes:()=>o,KubernetesApplicationPlacementTypes:()=>l,KubernetesApplicationQuotaDefaults:()=>c,KubernetesPortainerApplicationStackNameLabel:()=>d,KubernetesPortainerApplicationStackIdLabel:()=>u,KubernetesPortainerApplicationKindLabel:()=>p,KubernetesPortainerApplicationNameLabel:()=>m,KubernetesPortainerApplicationOwnerLabel:()=>g,KubernetesPortainerApplicationNote:()=>h});const a=Object.freeze({REPLICATED:1,GLOBAL:2}),s=Object.freeze({SHARED:1,ISOLATED:2}),i=Object.freeze({DEPLOYMENT:1,DAEMONSET:2,STATEFULSET:3,POD:4,HELM:5}),r=Object.freeze({HELM:"Helm",DEPLOYMENT:"Deployment",DAEMONSET:"DaemonSet",STATEFULSET:"StatefulSet",POD:"Pod"}),o=Object.freeze({CLUSTER_IP:1,NODE_PORT:2,LOAD_BALANCER:3,INGRESS:4}),l=Object.freeze({PREFERRED:1,MANDATORY:2}),c={CpuLimit:.1,MemoryLimit:64},d="io.portainer.kubernetes.application.stack",u="io.portainer.kubernetes.application.stackid",p="io.portainer.kubernetes.application.kind",m="io.portainer.kubernetes.application.name",g="io.portainer.kubernetes.application.owner",h="io.portainer.kubernetes.application.note"},7172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesApplicationDataAccessPolicies:()=>a.KubernetesApplicationDataAccessPolicies,KubernetesApplicationDeploymentTypes:()=>a.KubernetesApplicationDeploymentTypes,KubernetesApplicationPlacementTypes:()=>a.KubernetesApplicationPlacementTypes,KubernetesApplicationPublishingTypes:()=>a.KubernetesApplicationPublishingTypes,KubernetesApplicationQuotaDefaults:()=>a.KubernetesApplicationQuotaDefaults,KubernetesApplicationTypeStrings:()=>a.KubernetesApplicationTypeStrings,KubernetesApplicationTypes:()=>a.KubernetesApplicationTypes,KubernetesPortainerApplicationKindLabel:()=>a.KubernetesPortainerApplicationKindLabel,KubernetesPortainerApplicationNameLabel:()=>a.KubernetesPortainerApplicationNameLabel,KubernetesPortainerApplicationNote:()=>a.KubernetesPortainerApplicationNote,KubernetesPortainerApplicationOwnerLabel:()=>a.KubernetesPortainerApplicationOwnerLabel,KubernetesPortainerApplicationStackIdLabel:()=>a.KubernetesPortainerApplicationStackIdLabel,KubernetesPortainerApplicationStackNameLabel:()=>a.KubernetesPortainerApplicationStackNameLabel,KubernetesApplication:()=>i,HelmApplication:()=>r,KubernetesApplicationPersistedFolder:()=>l,KubernetesApplicationConfigurationVolume:()=>d,KubernetesApplicationPort:()=>p,KubernetesDeploymentTypes:()=>m});var a=n(20783);const s=Object.freeze({Id:"",Name:"",StackName:"",StackId:"",ApplicationKind:"",ApplicationOwner:"",ApplicationName:"",ResourcePool:"",Image:"",CreationDate:0,Pods:[],Containers:[],Metadata:{},Limits:{},ServiceType:"",ServiceId:"",ServiceName:"",HeadlessServiceName:void 0,LoadBalancerIPAddress:void 0,PublishedPorts:[],Volumes:[],Env:[],PersistedFolders:[],ConfigurationVolumes:[],DeploymentType:"Unknown",DataAccessPolicy:"Unknown",ApplicationType:"Unknown",RunningPodsCount:0,TotalPodsCount:0,Yaml:"",Note:"",Revisions:void 0,CurrentRevision:void 0,Raw:void 0,AutoScaler:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}class r{constructor(){this.Id="",this.Name="",this.KubernetesApplications=[],this.ApplicationOwner="",this.CreationDate=0,this.ApplicationType="Unknown",this.Status="",this.StackName="-",this.ResourcePool="-",this.Image="-",this.PublishedPorts=[]}}const o=Object.freeze({MountPath:"",PersistentVolumeClaimName:"",HostPath:""});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({fileMountPath:"",rootMountPath:"",configurationKey:"",configurationName:""});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({IngressRules:[],NodePort:0,TargetPort:0,Port:0,Protocol:""});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({GIT:"git",CONTENT:"content",APPLICATION_FORM:"application form",URL:"url"})},11505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesApplicationVolumeMountPayload:()=>s,KubernetesApplicationVolumePersistentPayload:()=>r,KubernetesApplicationVolumeConfigMapPayload:()=>l,KubernetesApplicationVolumeSecretPayload:()=>d,KubernetesApplicationVolumeEntryPayload:()=>p,KubernetesApplicationEnvPayload:()=>g,KubernetesApplicationEnvConfigMapPayload:()=>f,KubernetesApplicationEnvSecretPayload:()=>b});const a=Object.freeze({name:"",mountPath:"",readOnly:!1});class s{constructor(e){Object.assign(this,JSON.parse(JSON.stringify(a))),e?this.readOnly=!0:delete this.readOnly}}const i=Object.freeze({name:"",persistentVolumeClaim:{claimName:""}});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({name:"",configMap:{name:"",items:[]}});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({name:"",secret:{secretName:"",items:[]}});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({key:"",path:""});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({name:"",value:""});class g{constructor(){Object.assign(this,JSON.parse(JSON.stringify(m)))}}const h=Object.freeze({name:"",valueFrom:{configMapKeyRef:{name:"",key:""}}});class f{constructor(){Object.assign(this,JSON.parse(JSON.stringify(h)))}}const v=Object.freeze({name:"",valueFrom:{secretKeyRef:{name:"",key:""}}});class b{constructor(){Object.assign(this,JSON.parse(JSON.stringify(v)))}}},82469:(e,t,n)=>{"use strict";function a(){return{id:""}}n.r(t),n.d(t,{KubernetesCommonParams:()=>a})},27367:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesCommonMetadataPayload:()=>s});const a=Object.freeze({uid:"",name:"",namespace:"",labels:{},annotations:{}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},13978:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPortainerConfigMapNamespace:()=>a,KubernetesPortainerConfigMapConfigName:()=>s,KubernetesPortainerConfigMapAccessKey:()=>i,KubernetesPortainerAccessConfigMap:()=>r,KubernetesConfigMap:()=>l});const a="portainer",s="portainer-config",i="NamespaceAccessPolicies";function r(){return{Id:0,Name:s,Namespace:a,Data:{}}}const o=Object.freeze({Id:0,Name:"",Namespace:"",Yaml:"",ConfigurationOwner:"",Data:[]});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}},40879:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesConfigMapCreatePayload:()=>i,KubernetesConfigMapUpdatePayload:()=>o});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,data:{},binaryData:{}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,data:{},binaryData:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},30578:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesConfigurationFormValues:()=>i,KubernetesConfigurationFormValuesEntry:()=>o});var a=n(82434);const s=Object.freeze({Id:"",ResourcePool:"",Name:"",ConfigurationOwner:"",Type:a.KubernetesConfigurationTypes.CONFIGMAP,Data:[],DataYaml:"",IsSimple:!0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const r=Object.freeze({Key:"",Value:"",IsBinary:!1});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},82434:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPortainerConfigurationOwnerLabel:()=>a,KubernetesPortainerConfigurationDataAnnotation:()=>s,KubernetesConfiguration:()=>r,KubernetesConfigurationTypes:()=>o});const a="io.portainer.kubernetes.configuration.owner",s="io.portainer.kubernetes.configuration.data",i=Object.freeze({Id:0,Name:"",Type:"",Namespace:"",CreationDate:"",ConfigurationOwner:"",Used:!1,Applications:[],Data:{}});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({CONFIGMAP:1,SECRET:2})},12745:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesDaemonSet:()=>s});const a=Object.freeze({Namespace:"",Name:"",StackName:"",ImageModel:null,Env:[],CpuLimit:0,MemoryLimit:0,VoluemMounts:[],Volumes:[],Secret:void 0,ApplicationName:"",ApplicationOwner:"",Note:"",Affinity:void 0});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},82935:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesDaemonSetCreatePayload:()=>i});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:""}},updateStrategy:{type:"RollingUpdate",rollingUpdate:{maxUnavailable:1}},template:{metadata:{labels:{app:""}},spec:{containers:[{name:"",image:"",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},6253:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesDeployManifestTypes:()=>a,KubernetesDeployBuildMethods:()=>s,KubernetesDeployRequestMethods:()=>i,RepositoryMechanismTypes:()=>r});const a=Object.freeze({KUBERNETES:1,COMPOSE:2}),s=Object.freeze({GIT:1,WEB_EDITOR:2,CUSTOM_TEMPLATE:3,URL:4}),i=Object.freeze({REPOSITORY:"repository",STRING:"string",URL:"url"}),r=Object.freeze({WEBHOOK:"Webhook",INTERVAL:"Interval"})},59238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesDeployment:()=>s});const a=Object.freeze({Namespace:"",Name:"",StackName:"",ReplicaCount:0,ImageModel:null,Env:[],CpuLimit:0,MemoryLimit:0,VolumeMounts:[],Volumes:[],Secret:void 0,ApplicationName:"",ApplicationOwner:"",Note:"",Affinity:void 0});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},95008:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesDeploymentCreatePayload:()=>i});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:""}},strategy:{type:"RollingUpdate",rollingUpdate:{maxSurge:0,maxUnavailable:"100%"}},template:{metadata:{labels:{app:""}},spec:{affinity:{},containers:[{name:"",image:"",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},82239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesEvent:()=>s});const a=Object.freeze({Id:"",Date:0,Type:"",Message:"",Involved:{}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},24601:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesSystem_DefaultDeploymentUniqueLabelKey:()=>a,KubernetesSystem_RevisionAnnotation:()=>s,KubernetesSystem_RevisionHistoryAnnotation:()=>i,KubernetesSystem_ChangeCauseAnnotation:()=>r,KubernetesSystem_DesiredReplicasAnnotation:()=>o,KubernetesSystem_MaxReplicasAnnotation:()=>l,KubernetesSystem_AnnotationsToSkip:()=>c});const a="pod-template-hash",s="deployment.kubernetes.io/revision",i="deployment.kubernetes.io/revision-history",r="kubernetes.io/change-cause",o="deployment.kubernetes.io/desired-replicas",l="deployment.kubernetes.io/max-replicas",c={"kubectl.kubernetes.io/last-applied-configuration":!0,[s]:!0,[i]:!0,[o]:!0,[l]:!0,"deprecated.deployment.rollback.to":!0}},35076:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesNamespace:()=>a,KUBERNETES_DEFAULT_SYSTEM_NAMESPACES:()=>s,KUBERNETES_DEFAULT_NAMESPACE:()=>i});class a{constructor(){this.Id="",this.Name="",this.CreationDate="",this.Status="",this.Yaml="",this.ResourcePoolName="",this.ResourcePoolOwner="",this.IsSystem=!1}}const s=["kube-system","kube-public","kube-node-lease","portainer"],i="default"},63829:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesNamespaceCreatePayload:()=>i});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},74335:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesNodesLimits:()=>o});var a=n(30385),s=n.n(a),i=n(41952),r=n.n(i);class o{constructor(e){this.MaxCPU=0,this.MaxMemory=0,this.nodesLimits=this.convertCPU(e),this.calculateMaxCPUMemory()}convertCPU(e){return r()(e,(e=>{e.CPU&&(e.CPU/=1e3)})),e}calculateMaxCPUMemory(){const e=Object.values(this.nodesLimits);this.MaxCPU=s()(e,"CPU").CPU,this.MaxMemory=s()(e,"Memory").Memory}overflowForReplica(e,t,n){return r()(this.nodesLimits,(a=>{n-=Math.min(Math.floor(a.CPU/e),Math.floor(a.Memory/t))})),n>0}overflowForGlobal(e,t){let n=!1;return r()(this.nodesLimits,(a=>{(e>a.CPU||t>a.Memory)&&(n=!0)})),n}excludesPods(e,t,n){const a=this.nodesLimits;r()(e,(e=>{const s=e.Node;s&&a[s]&&(a[s].CPU+=t,a[s].Memory+=n)})),this.calculateMaxCPUMemory()}}},83270:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPortMappingPort:()=>s,KubernetesPortMapping:()=>r});const a=Object.freeze({Port:0,TargetPort:0,Protocol:"",IngressRules:[]});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const i=Object.freeze({Expanded:!1,Highlighted:!1,ResourcePool:"",ServiceType:"",ApplicationOwner:"",LoadBalancerIPAddress:"",Ports:[]});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},16496:(e,t,n)=>{"use strict";function a(e){this.Name="",this.MemoryLimit=e.MemoryLimit,this.CpuLimit=e.CpuLimit,this.LoadBalancers=e.LoadBalancers,this.UseLoadBalancersQuota=!1,this.HasQuota=!1,this.IngressClasses=[],this.StorageClasses=[],this.EndpointId=0,this.Registries=[],this.IsSystem=!1}function s(e){return{Namespace:void 0,IngressClass:e,RewriteTarget:!1,Annotations:[],Hosts:[],Selected:!1,WasSelected:!1,AdvancedConfig:!1,Paths:[]}}function i(){return{Key:"",Value:""}}function r(){return{Host:"",PreviousHost:"",NeedsDeletion:!1,IsNew:!0}}function o(e){return{Name:e,Size:0,SizeUnit:"GB",Selected:!1}}n.r(t),n.d(t,{KubernetesResourcePoolFormValues:()=>a,KubernetesResourcePoolIngressClassFormValue:()=>s,KubernetesResourcePoolIngressClassAnnotationFormValue:()=>i,KubernetesResourcePoolIngressClassHostFormValue:()=>r,KubernetesResourcePoolStorageClassFormValue:()=>o})},72210:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPortainerResourcePoolNameLabel:()=>a,KubernetesPortainerResourcePoolOwnerLabel:()=>s,KubernetesPortainerNamespaceSystemLabel:()=>i,KubernetesResourcePool:()=>r});const a="io.portainer.kubernetes.resourcepool.name",s="io.portainer.kubernetes.resourcepool.owner",i="io.portainer.kubernetes.namespace.system";function r(){return{Namespace:{},Quota:void 0,Ingresses:[],Yaml:""}}},47685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPortainerResourceQuotaPrefix:()=>s,KubernetesPortainerResourceQuotaCPULimit:()=>i,KubernetesPortainerResourceQuotaMemoryLimit:()=>r,KubernetesPortainerResourceQuotaCPURequest:()=>o,KubernetesPortainerResourceQuotaMemoryRequest:()=>l,KubernetesPortainerResourceQuotaLoadbalancers:()=>c,KubernetesPortainerResourceQuotaStorageSuffix:()=>d,KubernetesResourceQuotaDefaults:()=>u,KubernetesResourceQuota:()=>p});var a=n(21458);const s="portainer-rq-",i="limits.cpu",r="limits.memory",o="requests.cpu",l="requests.memory",c="services.loadbalancers",d=".storageclass.storage.k8s.io/requests.storage",u={CpuLimit:0,MemoryLimit:0,LoadBalancers:0};function p(e){return{Id:"",Namespace:e||"",Name:e?a.default.generateResourceQuotaName(e):"",CpuLimit:u.CpuLimit,MemoryLimit:u.MemoryLimit,CpuLimitUsed:u.CpuLimit,MemoryLimitUsed:u.MemoryLimit,LoadBalancers:u.LoadBalancers,Yaml:"",ResourcePoolName:"",ResourcePoolOwner:"",StorageRequests:[]}}},75976:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesResourceQuotaCreatePayload:()=>i});var a=n(27367),s=n(47685);function i(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{hard:{[s.KubernetesPortainerResourceQuotaCPURequest]:0,[s.KubernetesPortainerResourceQuotaMemoryRequest]:0,[s.KubernetesPortainerResourceQuotaCPULimit]:0,[s.KubernetesPortainerResourceQuotaMemoryLimit]:0}}}}},46685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesResourceReservation:()=>s});const a=Object.freeze({Memory:0,CPU:0});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},39212:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesResourceTypes:()=>a,KubernetesResourceActions:()=>s});const a=Object.freeze({NAMESPACE:"Namespace",RESOURCEQUOTA:"ResourceQuota",CONFIGMAP:"ConfigMap",SECRET:"Secret",DEPLOYMENT:"Deployment",STATEFULSET:"StatefulSet",DAEMONSET:"Daemonset",PERSISTENT_VOLUME_CLAIM:"PersistentVolumeClaim",SERVICE:"Service",INGRESS:"Ingress",HORIZONTAL_POD_AUTOSCALER:"HorizontalPodAutoscaler"}),s=Object.freeze({CREATE:"Create",UPDATE:"Update",DELETE:"Delete"})},69730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesApplicationSecret:()=>s});const a=Object.freeze({Id:0,Name:"",Namespace:"",CreationDate:"",ConfigurationOwner:"",Yaml:"",Data:[]});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},60622:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesSecretCreatePayload:()=>i,KubernetesSecretUpdatePayload:()=>o});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,type:"Opaque",data:{},stringData:{}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,type:"Opaque",data:{},stringData:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},79990:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesServiceHeadlessPrefix:()=>a,KubernetesServiceHeadlessClusterIP:()=>s,KubernetesServiceTypes:()=>i,KubernetesService:()=>o,KubernetesIngressService:()=>c,KubernetesIngressServiceRoute:()=>u,KubernetesServicePort:()=>m});const a="headless-",s="None",i=Object.freeze({LOAD_BALANCER:"LoadBalancer",NODE_PORT:"NodePort",CLUSTER_IP:"ClusterIP",INGRESS:"Ingress"}),r=Object.freeze({Headless:!1,Namespace:"",Name:"",StackName:"",Ports:[],Type:"",ClusterIP:"",ApplicationName:"",ApplicationOwner:"",Note:"",Ingress:!1,Selector:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const l=Object.freeze({Headless:!1,Namespace:"",Name:"",StackName:"",Ports:[],Type:"",ClusterIP:"",ApplicationName:"",ApplicationOwner:"",Note:"",Ingress:!0,IngressRoute:[]});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({Host:"",IngressName:"",Path:"",ServiceName:""});class u{constructor(){Object.assign(this,JSON.parse(JSON.stringify(d)))}}const p=Object.freeze({name:"",port:0,targetPort:0,protocol:"",nodePort:0,ingress:""});class m{constructor(){Object.assign(this,JSON.parse(JSON.stringify(p)))}}},31249:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesServiceCreatePayload:()=>i});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{ports:[],selector:{app:""},type:"",clusterIP:""}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},31084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesStack:()=>s});const a=Object.freeze({Name:"",ResourcePool:"",Applications:[]});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},91920:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesStatefulSet:()=>s});const a=Object.freeze({Namespace:"",Name:"",StackName:"",ReplicaCount:0,ImageModel:null,Env:[],CpuLimit:"",MemoryLimit:"",VolumeMounts:[],Volumes:[],Secret:void 0,VolumeClaims:[],ServiceName:"",ApplicationName:"",ApplicationOwner:"",Note:"",Affinity:void 0});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},13871:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesStatefulSetCreatePayload:()=>i});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,serviceName:"",selector:{matchLabels:{app:""}},volumeClaimTemplates:[],updateStrategy:{type:"RollingUpdate",rollingUpdate:{partition:0}},template:{metadata:{labels:{app:""}},spec:{containers:[{name:"",image:"",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},86871:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesStorageClassAccessPolicies:()=>s,KubernetesStorageClass:()=>r});const a=Object.freeze([{Name:"RWO",Description:"Allow read-write from a single pod only (RWO)",selected:!0},{Name:"RWX",Description:"Allow read-write access from one or more pods concurrently (RWX)",selected:!1}]);function s(){return JSON.parse(JSON.stringify(a))}const i=Object.freeze({Name:"",AccessModes:[],Provisioner:"",AllowVolumeExpansion:!1});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},79824:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesStorageClassCreatePayload:()=>i});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,provisioner:"",allowVolumeExpansion:!1});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},72913:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPersistentVolumeClaim:()=>r,KubernetesVolume:()=>l});var a=n(15964),s=n.n(a);const i=Object.freeze({Id:"",Name:"",PreviousName:"",Namespace:"",Storage:0,StorageClass:{},CreationDate:"",ApplicationOwner:"",ApplicationName:"",MountPath:"",Yaml:""});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i))),this.Name=s()()}}const o=Object.freeze({ResourcePool:{},PersistentVolumeClaim:{},Applications:[]});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}},88296:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPersistentVolumClaimCreatePayload:()=>i});var a=n(27367);const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:""}},storageClassName:""}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},76676:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesNodeConditionTypes:()=>y,default:()=>w});var a=n(55743),s=n.n(a),i=n(83432),r=n.n(i),o=n(66539),l=n.n(o),c=n(39576),d=n.n(c),u=n(51235),p=n.n(u),m=n(34901),g=n(48942),h=n(22229),f=n(2949),v=n(11801);class b{static apiToNode(e,t){t||(t=new g.KubernetesNode),t.Id=e.metadata.uid;const n=p()(e.status.addresses,{type:"Hostname"});t.Name=n?n.address:e.metadata.Name,t.Labels=e.metadata.labels,t.Role=d()(e.metadata.labels,"node-role.kubernetes.io/master")?"Master":"Worker";const a=p()(e.status.conditions,{type:y.READY}),s=p()(e.status.conditions,{type:y.MEMORY_PRESSURE}),i=p()(e.status.conditions,{type:y.PID_PRESSURE}),r=p()(e.status.conditions,{type:y.DISK_PRESSURE}),o=p()(e.status.conditions,{type:y.NETWORK_UNAVAILABLE});t.Conditions={MemoryPressure:s&&"True"===s.status,PIDPressure:i&&"True"===i.status,DiskPressure:r&&"True"===r.status,NetworkUnavailable:o&&"True"===o.status},t.Availability=g.KubernetesNodeAvailabilities.ACTIVE,!0===e.spec.unschedulable&&(t.Availability=d()(e.metadata.labels,g.KubernetesPortainerNodeDrainLabel)?g.KubernetesNodeAvailabilities.DRAIN:g.KubernetesNodeAvailabilities.PAUSE),"False"===a.status?t.Status="Unhealthy":"Unknown"===a.status||t.Conditions.MemoryPressure||t.Conditions.PIDPressure||t.Conditions.DiskPressure||t.Conditions.NetworkUnavailable?t.Status="Warning":t.Status="Ready",t.CPU=h.default.parseCPU(e.status.allocatable.cpu),t.Memory=e.status.allocatable.memory,t.Version=e.status.nodeInfo.kubeletVersion;const c=p()(e.status.addresses,{type:"InternalIP"});return t.IPAddress=c?c.address:"-",t.Taints=l()(e.spec.taints,(e=>{const t=new g.KubernetesNodeTaint;return t.Key=e.key,t.Value=e.value,t.Effect=e.effect,t})),t}static apiToNodeDetails(e,t){let n=new g.KubernetesNodeDetails;return n=b.apiToNode(e,n),n.CreationDate=e.metadata.creationTimestamp,n.OS.Architecture=e.status.nodeInfo.architecture,n.OS.Platform=e.status.nodeInfo.operatingSystem,n.OS.Image=e.status.nodeInfo.osImage,n.Yaml=t?t.data:"",n}static nodeToFormValues(e){const t=new f.KubernetesNodeFormValues;return t.Availability=e.Availability,t.Taints=l()(e.Taints,(e=>{const t=new f.KubernetesNodeTaintFormValues;return t.Key=e.Key,t.Value=e.Value,t.Effect=e.Effect,t.NeedsDeletion=!1,t.IsNew=!1,t})),t.Labels=l()(e.Labels,((e,t)=>{const n=new f.KubernetesNodeLabelFormValues;return n.Key=t,n.Value=e,n.NeedsDeletion=!1,n.IsNew=!1,n})),t}static formValuesToNode(e,t){const n=angular.copy(e);n.Availability=t.Availability;const a=r()(t.Taints,(e=>!e.NeedsDeletion));n.Taints=l()(a,(e=>{const t=new g.KubernetesNodeTaint;return t.Key=e.Key,t.Value=e.Value,t.Effect=e.Effect,t}));const i=r()(t.Labels,(e=>!e.NeedsDeletion));return n.Labels=s()(i,((e,t)=>(e[t.Key]=t.Value?t.Value:"",e)),{}),n}static createPayload(e){const t=new v.KubernetesNodeCreatePayload;t.metadata.name=e.Name;const n=l()(e.Taints,(e=>{const t=new v.KubernetesNodeTaintPayload;return t.key=e.Key,t.value=e.Value,t.effect=e.Effect,t}));return t.spec.taints=n.length?n:void 0,t.metadata.labels=e.Labels,e.Availability!==g.KubernetesNodeAvailabilities.ACTIVE&&(t.spec.unschedulable=!0,e.Availability===g.KubernetesNodeAvailabilities.DRAIN?t.metadata.labels[g.KubernetesPortainerNodeDrainLabel]="":delete t.metadata.labels[g.KubernetesPortainerNodeDrainLabel]),t}static patchPayload(e,t){const n=b.createPayload(e),a=b.createPayload(t);return m.qu(n,a)}}const y=Object.freeze({READY:"Ready",MEMORY_PRESSURE:"MemoryPressure",PID_PRESSURE:"PIDPressure",DISK_PRESSURE:"DiskPressure",NETWORK_UNAVAILABLE:"NetworkUnavailable"}),w=b},57067:(e,t,n)=>{"use strict";n.r(t);var a=n(94946),s=n.n(a);angular.module("portainer.kubernetes").filter("kubernetesNodeStatusColor",(function(){return function(e){switch(s()(e)){case"ready":return"success";case"warning":return"warning";default:return"danger"}}})).filter("kubernetesNodeConditionsMessage",(function(){return function(e){return e.MemoryPressure?"Node memory is running low":e.PIDPressure?"Too many processes running on the node":e.DiskPressure?"":e.NetworkUnavailable?"":void 0}}))},2949:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesNodeFormValues:()=>s,KubernetesNodeTaintFormValues:()=>r,KubernetesNodeLabelFormValues:()=>l});const a=Object.freeze({Taints:[],Labels:[],Availability:""});class s{constructor(){Object.assign(JSON.parse(JSON.stringify(a)))}}const i=Object.freeze({Key:"",Values:"",Effect:"",NeedsDeletion:!1,IsNew:!1,IsChanged:!1});class r{constructor(){Object.assign(JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({Key:"",Values:"",NeedsDeletion:!1,IsNew:!1,IsUsed:!1,IsChanged:!1});class l{constructor(){Object.assign(JSON.parse(JSON.stringify(o)))}}},14780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesNodeHelper:()=>x});var a=n(86103),s=n.n(a),i=n(4160),r=n.n(i),o=n(74362),l=n.n(o),c=n(51235),d=n.n(c),u=n(46006),p=n.n(u),m=n(66539),g=n.n(m),h=n(55332),f=n.n(h),v=n(40714),b=n.n(v),y=n(13507),w=n.n(y);class x{static isSystemLabel(e){return!e.IsNew&&(w()(e.Key,"beta.kubernetes.io")||w()(e.Key,"kubernetes.io")||"node-role.kubernetes.io/master"===e.Key)}static reorderLabels(e){return b()(e,(e=>!x.isSystemLabel(e)))}static computeUsedLabels(e,t){const n=f()(g()(e,"Pods")),a=p()(f()(g()(n,"NodeSelector")));return g()(t,(e=>(e.IsUsed=!!d()(a,(t=>t&&t[e.Key]===e.Value)),e)))}static generateNodeLabelsFromNodes(e){const t=l()(e,(e=>g()(r()(e.Labels),(([e,t])=>({key:e,value:t})))));return g()(s()(t,"key"),((e,t)=>({Key:t,Values:p()(g()(e,"value"))})))}}},48942:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPortainerNodeDrainLabel:()=>a,KubernetesNode:()=>i,KubernetesNodeDetails:()=>o,KubernetesNodeTaint:()=>c,KubernetesNodeAvailabilities:()=>d,KubernetesNodeTaintEffects:()=>u});const a="io.portainer/node-status-drain",s=Object.freeze({Id:"",Name:"",Labels:{},Role:"",Status:"",CPU:0,Memory:"",Version:"",IPAddress:"",Api:!1,Taints:[],Port:0,Availability:""});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const r=Object.freeze({CreationDate:"",OS:{Architecture:"",Platform:"",Image:""},Conditions:[],Yaml:""});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s))),Object.assign(this,JSON.parse(JSON.stringify(r)))}}const l=Object.freeze({Key:"",Value:"",Effect:""});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({ACTIVE:"Active",PAUSE:"Pause",DRAIN:"Drain"}),u=Object.freeze({NOSCHEDULE:"NoSchedule",PREFERNOSCHEDULE:"PreferNoSchedule",NOEXECUTE:"NoExecute"})},11801:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesNodeCreatePayload:()=>s,KubernetesNodeTaintPayload:()=>r});const a=Object.freeze({metadata:{name:"",labels:{}},spec:{taints:void 0}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const i=Object.freeze({key:"",value:"",effect:""});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},9790:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesNodes",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(){return e(t+"/:endpointId/kubernetes/api/v1/nodes/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},6795:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(76676),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesNodes=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.patchAsync=this.patchAsync.bind(this)}async getAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e;const[n,a]=await Promise.all([this.KubernetesNodes().get(t).$promise,this.KubernetesNodes().getYaml(t).$promise]);return l.default.apiToNodeDetails(n,a)}catch(e){const t=e.data;throw new o.Z("Unable to retrieve node details",t)}}async getAllAsync(){try{const e=await this.KubernetesNodes().get().$promise;return s()(e.items,(e=>l.default.apiToNode(e)))}catch(e){throw{msg:"Unable to retrieve nodes",err:e}}}get(e){return e?this.$async(this.getAsync,e):this.$async(this.getAllAsync)}async patchAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=e.Name;const a=l.default.formValuesToNode(e,t),s=l.default.patchPayload(e,a),i=await this.KubernetesNodes().patch(n,s).$promise;return l.default.apiToNodeDetails(i)}catch(e){throw{msg:"Unable to patch node",err:e}}}patch(e,t){return this.$async(this.patchAsync,e,t)}}d.$inject=["$async","KubernetesNodes"];const u=d;r().module("portainer.kubernetes").service("KubernetesNodeService",d)},22050:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var a=n(37336),s=n.n(a),i=n(25445),r=n.n(i),o=n(51235),l=n.n(o),c=n(83432),d=n.n(c),u=n(66539),p=n.n(u),m=n(34901),g=n(12925),h=n(7172),f=n(31275),v=n(61005);function b(e,t){const n=l()(e,{name:t});if(!n)return"Terminated";const a=n.state;return a.waiting?"Waiting":a.running?"Running":"Terminated"}class y{static apiToModel(e){const t=new f.KubernetesPod;var n;return t.Id=e.metadata.uid,t.Name=e.metadata.name,t.Namespace=e.metadata.namespace,t.Images=p()(e.spec.containers,"image"),t.Status=function(e){const t=p()(e,"state"),n=d()(t,(e=>e.running)).length;return d()(t,(e=>e.waiting)).length?"Waiting":n?"Running":"Terminated"}(e.status.containerStatuses),t.Restarts=s()(e.status.containerStatuses,"restartCount"),t.Node=e.spec.nodeName,t.CreationDate=e.status.startTime,t.Containers=function(e){const t=e.spec.containers,n=e.spec.initContainers;return r()(p()(t,(t=>{const n=new f.KubernetesPodContainer;return n.Type=f.KubernetesPodContainerTypes.APP,n.PodName=e.metadata.name,n.PodIP=e.status.podIP,n.Name=t.name,n.Image=t.image,n.ImagePullPolicy=t.imagePullPolicy,n.Node=e.spec.nodeName,n.CreationDate=e.status.startTime,n.Status=b(e.status.containerStatuses,t.name),n.Limits=t.resources.limits,n.Requests=t.resources.requests,n.VolumeMounts=t.volumeMounts,n.Env=t.env,n})),p()(n,(t=>{const n=new f.KubernetesPodContainer;return n.Type=f.KubernetesPodContainerTypes.INIT,n.PodName=e.metadata.name,n.Name=t.name,n.Image=t.image,n.Node=e.spec.nodeName,n.CreationDate=e.status.startTime,n.Status=b(e.status.containerStatuses,t.name),n.Limits=t.resources.limits,n.Requests=t.resources.requests,n.VolumeMounts=t.volumeMounts,n.Env=t.env,n})))}(e),t.Labels=e.metadata.labels,t.Affinity=function(e){const t=new f.KubernetesPodAffinity;return e&&(t.nodeAffinity=e.nodeAffinity||{}),t}(e.spec.affinity),t.NodeSelector=e.spec.nodeSelector,t.Tolerations=(n=e.spec.tolerations,p()(n,(e=>{const t=new f.KubernetesPodToleration;return t.Key=e.key,t.Operator=e.operator,t.Value=e.value,t.TolerationSeconds=e.tolerationSeconds,t.Effect=e.effect,t}))),t}static evictionPayload(e){const t=new f.KubernetesPodEviction;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t}static patchPayload(e,t){const n=w(e),a=w(t);return m.qu(n,a)}}function w(e){const t=(0,v.createPayloadFactory)();return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[h.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[h.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[h.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,e.Note?t.metadata.annotations[h.KubernetesPortainerApplicationNote]=e.Note:t.metadata.annotations=void 0,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[h.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,t.spec.template.spec.containers[0].image=e.Image,t.spec.template.spec.affinity=e.Affinity,g.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].env",e.Env),g.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].volumeMounts",e.VolumeMounts),g.default.assignOrDeleteIfEmpty(t,"spec.template.spec.volumes",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}},15826:(e,t,n)=>{"use strict";n.r(t);var a=n(94946),s=n.n(a);angular.module("portainer.kubernetes").filter("kubernetesPodStatusColor",(function(){return function(e){switch(s()(e)){case"running":return"success";case"waiting":return"warning";case"terminated":return"info";default:return"danger"}}})).filter("kubernetesPodConditionStatusBadge",(function(){return function(e,t){switch(t){case"Unschedulable":switch(e){case"True":return"fa-exclamation-triangle red-icon";case"False":return"fa-check green-icon";case"Unknown":return"fa-exclamation-circle orange-icon"}break;case"PodScheduled":case"Ready":case"Initialized":case"ContainersReady":switch(e){case"True":return"fa-check green-icon";case"False":return"fa-exclamation-triangle red-icon";case"Unknown":return"fa-exclamation-circle orange-icon"}break;default:return"fa-question-circle red-icon"}}})).filter("kubernetesPodConditionStatusText",(function(){return function(e,t){switch(t){case"Unschedulable":switch(e){case"True":return"Alert";case"False":return"OK";case"Unknown":return"Warning"}break;case"PodScheduled":case"Ready":case"Initialized":case"ContainersReady":switch(e){case"True":return"Ok";case"False":return"Alert";case"Unknown":return"Warning"}break;default:return"Unknown"}}}))},73689:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPodNodeAffinityNodeSelectorRequirementOperators:()=>a,KubernetesPodAffinity:()=>s});const a=Object.freeze({IN:"In",NOT_IN:"NotIn",EXISTS:"Exists",DOES_NOT_EXIST:"DoesNotExist",GREATER_THAN:"Gt",LOWER_THAN:"Lt"});function s(){return{nodeAffinity:{}}}},31275:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesPodAffinity:()=>a.KubernetesPodAffinity,KubernetesPodNodeAffinityNodeSelectorRequirementOperators:()=>a.KubernetesPodNodeAffinityNodeSelectorRequirementOperators,KubernetesPod:()=>i,KubernetesPodToleration:()=>o,KubernetesPodContainer:()=>c,KubernetesPodEviction:()=>u,KubernetesPodContainerTypes:()=>p});var a=n(73689);const s=Object.freeze({Id:"",Name:"",Namespace:"",Images:[],Status:"",Restarts:0,Node:"",CreationDate:"",Containers:[],Labels:[],Affinity:{},Tolerations:[],NodeSelector:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const r=Object.freeze({Key:"",Operator:"",Value:"",TolerationSeconds:0,Effect:""});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const l=Object.freeze({Type:0,PodName:"",Name:"",Image:"",ImagePullPolicy:"",Node:"",CreationDate:"",Status:"",Limits:{},Requests:{},VolumeMounts:{},ConfigurationVolumes:[],PersistedFolders:[],Env:[]});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({apiVersion:"policy/v1beta1",kind:"Eviction",metadata:{name:"",namespace:""}});class u{constructor(){Object.assign(this,JSON.parse(JSON.stringify(d)))}}const p={INIT:1,APP:2}},78398:(e,t,n)=>{"use strict";function a(){return{requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:[]},preferredDuringSchedulingIgnoredDuringExecution:[]}}function s(){return{weight:1,preference:{}}}function i(){return{matchExpressions:[]}}function r(){return{key:"",operator:"",values:[]}}n.r(t),n.d(t,{KubernetesPodNodeAffinityPayload:()=>a,KubernetesPreferredSchedulingTermPayload:()=>s,KubernetesNodeSelectorTermPayload:()=>i,KubernetesNodeSelectorRequirementPayload:()=>r})},61005:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createPayloadFactory:()=>s});var a=n(27367);function s(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:""}},strategy:{type:"RollingUpdate",rollingUpdate:{maxSurge:0,maxUnavailable:"100%"}},template:{metadata:{labels:{app:""}},spec:{affinity:{},containers:[{name:"",image:"",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}}}},30754:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(20023),r=n(82469),o=n(22050);class l{constructor(e,t){this.$async=e,this.KubernetesPods=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.logsAsync=this.logsAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.evictionAsync=this.evictionAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.all([this.KubernetesPods(e).get(n).$promise,this.KubernetesPods(e).getYaml(n).$promise]);return{Raw:a,Yaml:s.data}}catch(e){throw new i.Z("Unable to retrieve pod",e)}}async getAllAsync(e){try{return(await this.KubernetesPods(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve pods",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async logsAsync(e,t,n){try{const a=new r.KubernetesCommonParams;a.id=t,n&&(a.container=n);const s=await this.KubernetesPods(e).logs(a).$promise;return 0===s.logs.length?[]:s.logs.split("\n")}catch(e){throw new i.Z("Unable to retrieve pod logs",e)}}logs(e,t,n){return this.$async(this.logsAsync,e,t,n)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,s=o.default.patchPayload(e,t);if(!s.length)return;return await this.KubernetesPods(a).patch(n,s).$promise}catch(e){throw new i.Z("Unable to patch pod",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesPods(n).delete(t).$promise}catch(e){throw new i.Z("Unable to remove pod",e)}}delete(e){return this.$async(this.deleteAsync,e)}async evictionAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name,t.action="eviction";const n=e.Namespace,a=o.default.evictionPayload(e);await this.KubernetesPods(n).evict(t,a).$promise}catch(e){throw new i.Z("Unable to evict pod",e)}}eviction(e){return this.$async(this.evictionAsync,e)}}l.$inject=["$async","KubernetesPods"];const c=l;s().module("portainer.kubernetes").service("KubernetesPodService",l)},87658:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a),i=n(51482);const r=s().module("portainer.kubernetes.registries",[]).component("kubernetesRegistryAccessView",i.kubernetesRegistryAccessView).name},51482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{kubernetesRegistryAccessView:()=>s});var a=n(60124);const s={templateUrl:n(2780),controller:a.default,bindings:{endpoint:"<"}}},60124:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(7506);class s{constructor(e,t,n,a,s,i,r){this.$async=e,this.$state=t,this.Authentication=n,this.ModalService=a,this.Notifications=i,this.KubernetesResourcePoolService=r,this.EndpointService=s,this.state={actionInProgress:!1},this.selectedResourcePools=[],this.resourcePools=[],this.savedResourcePools=[],this.handleRemove=this.handleRemove.bind(this)}async submit(){return this.updateNamespaces([...this.savedResourcePools.map((({value:e})=>e)),...this.selectedResourcePools.map((e=>e.name))])}handleRemove(e){const t=e.map((({value:e})=>e)),n=this.savedResourcePools.map((({value:e})=>e)).filter((e=>!t.includes(e)));this.ModalService.confirmDeletion("<br/><br/>",(e=>{if(e)return this.updateNamespaces(n)}))}updateNamespaces(e){return this.$async((async()=>{try{await this.EndpointService.updateRegistryAccess(this.endpoint.Id,this.$state.params.id,{namespaces:e}),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Failed saving registry access")}}))}$onInit(){return this.$async((async()=>{this.Authentication.redirectIfUnauthorized(["PortainerRegistryUpdateAccess"]);try{this.registry=await this.EndpointService.registry(this.endpoint.Id,this.$state.params.id),this.registry.RegistryAccesses&&this.registry.RegistryAccesses[this.endpoint.Id]&&(this.savedResourcePools=this.registry.RegistryAccesses[this.endpoint.Id].Namespaces.map((e=>({value:e}))))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registry details")}try{const e=await this.KubernetesResourcePoolService.get();this.resourcePools=e.filter((e=>!a.default.isSystemNamespace(e.Namespace.Name)&&!this.savedResourcePools.find((({value:t})=>t===e.Namespace.Name)))).map((e=>({name:e.Namespace.Name,id:e.Namespace.Id})))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespaces")}}))}}s.$inject=["$async","$state","Authentication","ModalService","EndpointService","Notifications","KubernetesResourcePoolService"]},83972:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesConfigMaps",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/api/v1"+(s?"/namespaces/:namespace":"")+"/configmaps/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"}})}}])},20017:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesControllerRevisions",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(s?"/namespaces/:namespace":"")+"/controllerrevisions/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},38345:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesDaemonSets",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(s?"/namespaces/:namespace":"")+"/daemonsets/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/strategic-merge-patch+json"}},delete:{method:"DELETE"}})}}])},36566:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesDeployments",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(s?"/namespaces/:namespace":"")+"/deployments/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},85333:()=>{angular.module("portainer.kubernetes").factory("KubernetesEndpoints",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return function(a){return e(t+"/:endpointId/kubernetes/api/v1"+(a?"/namespaces/:namespace":"")+"/endpoints/:id",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0}})}}])},69673:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesEvents",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/api/v1"+(s?"/namespaces/:namespace":"")+"/events/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"}})}}])},71461:()=>{angular.module("portainer.kubernetes").factory("KubernetesHealth",["$resource","API_ENDPOINT_ENDPOINTS",function(e,t){"use strict";return e(t+"/:id/kubernetes/healthz",{},{ping:{method:"GET",params:{id:"id"}}})}])},66890:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t,n){return{get:async function(t){return e({method:"GET",url:`${n}/config`,params:{ids:JSON.stringify(t.map((e=>parseInt(e))))},responseType:"blob",headers:{Accept:"text/yaml"}})}}}i.$inject=["$http","EndpointProvider","API_ENDPOINT_KUBERNETES"],s().module("portainer.kubernetes").factory("KubernetesConfig",i)},82475:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesNamespaces",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(){return e(t+"/:endpointId/kubernetes/api/v1/namespaces/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"},status:{method:"GET",params:{action:"status"},ignoreLoadingBar:!0}})}}])},40912:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t,n){return e(t+"/:endpointId/nodes_limits",{endpointId:n.endpointID},{get:{method:"GET",ignoreLoadingBar:!0,transformResponse:e=>({data:JSON.parse(e)})}})}i.$inject=["$resource","API_ENDPOINT_KUBERNETES","EndpointProvider"],s().module("portainer.kubernetes").factory("KubernetesNodesLimits",i)},58732:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesPersistentVolumeClaims",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/api/v1"+(s?"/namespaces/:namespace":"")+"/persistentvolumeclaims/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},83699:(e,t,n)=>{"use strict";n.r(t);var a=n(25658),s=n(12944);angular.module("portainer.kubernetes").factory("KubernetesPods",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(i){return e(t+"/:endpointId/kubernetes/api/v1"+(i?"/namespaces/:namespace":"")+"/pods/:id/:action",{endpointId:n.endpointID,namespace:i},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},logs:{method:"GET",params:{action:"log"},transformResponse:s.logsHandler},evict:{method:"POST"}})}}])},93449:()=>{function e(e){return e("/api/kubernetes/:endpointId/namespaces/:namespaceName/:action",{},{toggleSystem:{method:"PUT",params:{action:"system"}}})}e.$inject=["$resource"],angular.module("portainer.kubernetes").factory("KubernetesPortainerNamespaces",e)},81056:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesReplicaSets",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(s?"/namespaces/:namespace":"")+"/replicasets/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},10129:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesResourceQuotas",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/api/v1"+(s?"/namespaces/:namespace":"")+"/resourcequotas/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},25658:(e,t,n)=>{"use strict";function a(e){return{data:e}}n.r(t),n.d(t,{rawResponse:()=>a})},61588:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesSecrets",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/api/v1"+(s?"/namespaces/:namespace":"")+"/secrets/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"}})}}])},68376:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesServices",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/api/v1"+(s?"/namespaces/:namespace":"")+"/services/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},55594:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesStatefulSets",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(s){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(s?"/namespaces/:namespace":"")+"/statefulsets/:id/:action",{endpointId:n.endpointID,namespace:s},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/strategic-merge-patch+json"}},delete:{method:"DELETE"}})}}])},33415:(e,t,n)=>{"use strict";n.r(t);var a=n(25658);angular.module("portainer.kubernetes").factory("KubernetesStorage",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(){return e(t+"/:endpointId/kubernetes/apis/storage.k8s.io/v1/storageclasses/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},94358:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>V});var a=n(4622),s=n.n(a),i=n(55332),r=n.n(i),o=n(41952),l=n.n(o),c=n(46545),d=n.n(c),u=n(74362),p=n.n(u),m=n(25445),g=n.n(m),h=n(51235),f=n.n(h),v=n(66539),b=n.n(v),y=n(29274),w=n.n(y),x=n(20023),S=n(7172),k=n(57947),$=n(65011),C=n(10293),A=n(59238),P=n(91920),I=n(12745),T=n(57637),N=n(1239),E=n(41247),R=n(47086),D=n(22050);class U{constructor(e,t,n,a,s,i,r,o,l,c,d,u,p){this.$async=e,this.Authentication=t,this.KubernetesDeploymentService=n,this.KubernetesDaemonSetService=a,this.KubernetesStatefulSetService=s,this.KubernetesServiceService=i,this.KubernetesSecretService=r,this.KubernetesPersistentVolumeClaimService=o,this.KubernetesNamespaceService=l,this.KubernetesPodService=c,this.KubernetesHistoryService=d,this.KubernetesHorizontalPodAutoScalerService=u,this.KubernetesIngressService=p,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.patchPartialAsync=this.patchPartialAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}_getApplicationApiService(e){let t;if(e instanceof A.KubernetesDeployment||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.DEPLOYMENT)t=this.KubernetesDeploymentService;else if(e instanceof I.KubernetesDaemonSet||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.DAEMONSET)t=this.KubernetesDaemonSetService;else if(e instanceof P.KubernetesStatefulSet||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.STATEFULSET)t=this.KubernetesStatefulSetService;else{if(!(e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.POD))throw new x.Z("Unable to determine which association to use to retrieve API Service");t=this.KubernetesPodService}return t}_generateIngressPatchPromises(e,t){return b()(t,(t=>{const n=f()(e,{Name:t.Name});return this.KubernetesIngressService.patch(n,t)}))}async getAsync(e,t){const[n,a,s,i,r,o,l]=await Promise.allSettled([this.KubernetesDeploymentService.get(e,t),this.KubernetesDaemonSetService.get(e,t),this.KubernetesStatefulSetService.get(e,t),this.KubernetesPodService.get(e,t),this.KubernetesPodService.get(e),this.KubernetesHorizontalPodAutoScalerService.get(e),this.KubernetesIngressService.get(e)]);let c,d;if("fulfilled"===n.status)c=n,d=C.default.apiDeploymentToApplication;else if("fulfilled"===a.status)c=a,d=C.default.apiDaemonSetToApplication;else if("fulfilled"===s.status)c=s,d=C.default.apiStatefulSetToapplication;else{if("fulfilled"!==i.status)throw new x.Z("Unable to determine which association to use to convert application");c=i,d=C.default.apiPodToApplication}const u=await this.KubernetesServiceService.get(e),p=T.default.findApplicationBoundService(u,c.value.Raw),m=p?await this.KubernetesServiceService.get(e,p.metadata.name):{},g=T.default.findApplicationBoundServices(u,c.value.Raw),h=d(c.value.Raw,r.value,m.Raw,l.value);h.Yaml=c.value.Yaml,h.Raw=c.value.Raw,h.Pods=b()(h.Pods,(e=>D.default.apiToModel(e))),h.Containers=k.default.associateContainersAndApplication(h),h.Services=g;const f=N.KubernetesHorizontalPodAutoScalerHelper.findApplicationBoundScaler(o.value,h),v=f?await this.KubernetesHorizontalPodAutoScalerService.get(e,f.Name):void 0;return h.AutoScaler=v,h.Ingresses=l,await this.KubernetesHistoryService.get(h),m.Yaml&&(h.Yaml+="---\n"+m.Yaml),v&&v.Yaml&&(h.Yaml+="---\n"+v.Yaml),h}async getAllAsync(e){const t=e?[e]:b()(await this.KubernetesNamespaceService.get(),"Name"),n=(e,t,n,a,s)=>{const i=T.default.findApplicationBoundService(n,e),r=T.default.findApplicationBoundServices(n,e),o=t(e,a,i,s);return o.Containers=k.default.associateContainersAndApplication(o),o.Services=r,o},a=await Promise.all(b()(t,(async e=>{const[t,a,s,i,r,o,c]=await Promise.all([this.KubernetesDeploymentService.get(e),this.KubernetesDaemonSetService.get(e),this.KubernetesStatefulSetService.get(e),this.KubernetesServiceService.get(e),this.KubernetesPodService.get(e),this.KubernetesIngressService.get(e),this.KubernetesHorizontalPodAutoScalerService.get(e)]),u=b()(t,(e=>n(e,C.default.apiDeploymentToApplication,i,r,o))),m=b()(a,(e=>n(e,C.default.apiDaemonSetToApplication,i,r,o))),h=b()(s,(e=>n(e,C.default.apiStatefulSetToapplication,i,r,o))),f=g()(p()(u,"Pods"),p()(m,"Pods"),p()(h,"Pods")),v=d()(r,...f),y=b()(v,(e=>n(e,C.default.apiPodToApplication,i,r,o))),w=g()(u,m,h,y);return l()(w,(e=>{e.Pods=b()(e.Pods,(e=>D.default.apiToModel(e)))})),await Promise.all(l()(w,(async t=>{const n=N.KubernetesHorizontalPodAutoScalerHelper.findApplicationBoundScaler(c,t),a=n?await this.KubernetesHorizontalPodAutoScalerService.get(e,n.Name):void 0;t.AutoScaler=a,t.Ingresses=await this.KubernetesIngressService.get(e)}))),w})));return r()(a)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){let[t,n,a,s,i]=C.default.applicationFormValuesToApplication(e);if(a&&a.forEach((async t=>{if(this.KubernetesServiceService.create(t),t.Ingress){const n=R.KubernetesIngressConverter.newApplicationFormValuesToIngresses(e,t.Name,t.Ports);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,n))}})),s&&(await this.KubernetesServiceService.create(s),e.PublishingType===S.KubernetesApplicationPublishingTypes.INGRESS)){const t=R.KubernetesIngressConverter.applicationFormValuesToIngresses(e,s.Name);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,t))}const r=this._getApplicationApiService(t);if(t instanceof P.KubernetesStatefulSet)t.VolumeClaims=i,n=await this.KubernetesServiceService.create(n),t.ServiceName=n.metadata.name;else{const e=b()(i,(e=>{if(!e.PreviousName&&!e.Id)return this.KubernetesPersistentVolumeClaimService.create(e)}));await Promise.all(d()(e,void 0))}if(e.AutoScaler.IsUsed&&e.DeploymentType!==S.KubernetesApplicationDeploymentTypes.GLOBAL){const n=N.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(t),a=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,n);await this.KubernetesHorizontalPodAutoScalerService.create(a)}await r.create(t)}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){const[n,a,s,i,r]=C.default.applicationFormValuesToApplication(e),[o,l,c,d,u]=C.default.applicationFormValuesToApplication(t),p=this._getApplicationApiService(n),m=this._getApplicationApiService(o);if(p!==m)return await this.delete(n),i&&await this.KubernetesServiceService.delete(i),d?"":await this.create(t);if(o instanceof P.KubernetesStatefulSet)await this.KubernetesServiceService.patch(a,l);else{const e=b()(u,(e=>{if(!e.PreviousName&&!e.Id)return this.KubernetesPersistentVolumeClaimService.create(e);if(!e.Id){const t=f()(r,{Name:e.PreviousName});return this.KubernetesPersistentVolumeClaimService.patch(t,e)}}));await Promise.all(e)}await m.patch(n,o),0===s.length&&0!==c.length&&c.forEach((async t=>{if(await this.KubernetesServiceService.create(t),t.Ingress){const n=R.KubernetesIngressConverter.newApplicationFormValuesToIngresses(e,t.Name,t.Ports);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,n))}})),0!==s.length&&0===c.length&&(s.forEach((async t=>{if(t.Ingress){const n=R.KubernetesIngressConverter.deleteIngressByServiceName(e,t);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,n))}})),await this.KubernetesServiceService.deleteAll(s)),0!==s.length&&0!==c.length&&(c.forEach((async t=>{const n=f()(s,{Name:t.Name});if(n){if(await this.KubernetesServiceService.patch(n,t),t.Ingress){const n=R.KubernetesIngressConverter.editingFormValuesToIngresses(e,t.Name,t.Ports);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,n))}}else if(await this.KubernetesServiceService.create(t),t.Ingress){const n=R.KubernetesIngressConverter.newApplicationFormValuesToIngresses(e,t.Name,t.Ports);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,n))}})),s.forEach((async t=>{if(!f()(c,{Name:t.Name})&&(await this.KubernetesServiceService.deleteSingle(t),t.Ingress)){const n=R.KubernetesIngressConverter.deleteIngressByServiceName(e,t);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,n))}})));const g=N.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(o),h=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(t,g);if(e.AutoScaler.IsUsed){const a=N.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(n),s=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,a);t.AutoScaler.IsUsed?await this.KubernetesHorizontalPodAutoScalerService.patch(s,h):await this.KubernetesHorizontalPodAutoScalerService.delete(s)}else t.AutoScaler.IsUsed&&await this.KubernetesHorizontalPodAutoScalerService.create(h)}async patchPartialAsync(e,t){const n={Name:e.Name,Namespace:e.ResourcePool,StackName:e.StackName,Note:e.Note},a={Name:t.Name,Namespace:t.ResourcePool,StackName:t.StackName,Note:t.Note},s=this._getApplicationApiService(e);await s.patch(n,a)}patch(e,t,n=!1){return n?this.$async(this.patchPartialAsync,e,t):this.$async(this.patchAsync,e,t)}async deleteAsync(e){const t={Namespace:e.ResourcePool||e.Namespace,Name:e.Name};w().copy(t).Name=e.Name;const n=this._getApplicationApiService(e);if(await n.delete(t),n===this.KubernetesStatefulSetService&&(w().copy(t).Name=e instanceof P.KubernetesStatefulSet?e.ServiceName:e.HeadlessServiceName),e.ServiceType&&(await this.KubernetesServiceService.delete(e.Services),e.Ingresses.length)){const n={OriginalIngresses:await this.KubernetesIngressService.get(t.Namespace),PublishedPorts:k.default.generatePublishedPortsFormValuesFromPublishedPorts(e.ServiceType,e.PublishedPorts)},a=R.KubernetesIngressConverter.applicationFormValuesToDeleteIngresses(n,e);await Promise.all(this._generateIngressPatchPromises(n.OriginalIngresses,a))}s()(e.AutoScaler)||await this.KubernetesHorizontalPodAutoScalerService.delete(e.AutoScaler)}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t){const n=$.default.getPatchPayload(e,t),a=this._getApplicationApiService(e);await a.rollback(e.ResourcePool,e.Name,n)}rollback(e,t){return this.$async(this.rollbackAsync,e,t)}}U.$inject=["$async","Authentication","KubernetesDeploymentService","KubernetesDaemonSetService","KubernetesStatefulSetService","KubernetesServiceService","KubernetesSecretService","KubernetesPersistentVolumeClaimService","KubernetesNamespaceService","KubernetesPodService","KubernetesHistoryService","KubernetesHorizontalPodAutoScalerService","KubernetesIngressService"];const V=U;w().module("portainer.kubernetes").service("KubernetesApplicationService",U)},45819:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(66539),s=n.n(a),i=n(6632),r=n.n(i),o=n(29274),l=n.n(o),c=n(20023),d=n(40654),u=n(82469),p=n(13978);class m{constructor(e,t){this.$async=e,this.KubernetesConfigMaps=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}getAccess(e,t){return this.$async((async()=>{try{const n=new u.KubernetesCommonParams;n.id=t;const a=await this.KubernetesConfigMaps(e).get(n).$promise;return d.default.apiToPortainerAccessConfigMap(a)}catch(e){if(404===e.status)return new p.KubernetesPortainerAccessConfigMap;throw new c.Z("Unable to retrieve Portainer accesses",e)}}))}createAccess(e){return this.$async((async()=>{try{const t=d.default.createAccessPayload(e),n={},a=t.metadata.namespace,s=await this.KubernetesConfigMaps(a).create(n,t).$promise;return d.default.apiToPortainerAccessConfigMap(s)}catch(e){throw new c.Z("Unable to create Portainer accesses",e)}}))}updateAccess(e){return this.$async((async()=>{try{if(!e.Id)return await this.createAccess(e);const t=d.default.updateAccessPayload(e),n=new u.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,s=await this.KubernetesConfigMaps(a).update(n,t).$promise;return d.default.apiToPortainerAccessConfigMap(s)}catch(e){throw new c.Z("Unable to update Portainer accesses",e)}}))}async getAsync(e,t){try{const n=new u.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.allSettled([this.KubernetesConfigMaps(e).get(n).$promise,this.KubernetesConfigMaps(e).getYaml(n).$promise]);if(404===r()(a,"reason.status")&&404===r()(s,"reason.status"))return d.default.defaultConfigMap(e,t);if(a.value)return d.default.apiToConfigMap(a.value,s.value);throw new c.Z("Unable to retrieve config map ",t)}catch(n){if(404===n.status)return d.default.defaultConfigMap(e,t);throw new c.Z("Unable to retrieve config map",n)}}async getAllAsync(e){try{const t=await this.KubernetesConfigMaps(e).get().$promise;return s()(t.items,(e=>d.default.apiToConfigMap(e)))}catch(e){throw new c.Z("Unable to retrieve config maps",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t=d.default.createPayload(e),n={},a=t.metadata.namespace,s=await this.KubernetesConfigMaps(a).create(n,t).$promise;return d.default.apiToConfigMap(s)}catch(e){throw new c.Z("Unable to create config map",e)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e){try{if(!e.Id)return await this.create(e);const t=d.default.updatePayload(e),n=new u.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,s=await this.KubernetesConfigMaps(a).update(n,t).$promise;return d.default.apiToConfigMap(s)}catch(e){throw new c.Z("Unable to update config map",e)}}update(e){return this.$async(this.updateAsync,e)}async deleteAsync(e){try{const t=new u.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesConfigMaps(n).delete(t).$promise}catch(e){throw new c.Z("Unable to delete config map",e)}}delete(e){return this.$async(this.deleteAsync,e)}}m.$inject=["$async","KubernetesConfigMaps"];const g=m;l().module("portainer.kubernetes").service("KubernetesConfigMapService",m)},81567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var a=n(55332),s=n.n(a),i=n(25445),r=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(10241),p=n(40654),m=n(52341),g=n(82434),h=n(12925);class f{constructor(e,t,n,a,s){this.$async=e,this.Authentication=t,this.KubernetesNamespaceService=n,this.KubernetesConfigMapService=a,this.KubernetesSecretService=s,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){const[n,a]=await Promise.allSettled([this.KubernetesConfigMapService.get(e,t),this.KubernetesSecretService.get(e,t)]);let s;return"fulfilled"===a.status?(s=u.default.secretToConfiguration(a.value),s):(s=u.default.configMapToConfiguration(n.value),s)}async getAllAsync(e){const t=e?[e]:l()(await this.KubernetesNamespaceService.get(),"Name"),n=await Promise.all(l()(t,(async e=>{const[t,n]=await Promise.all([this.KubernetesConfigMapService.get(e),this.KubernetesSecretService.get(e)]),a=l()(n,(e=>u.default.secretToConfiguration(e))),s=l()(t,(e=>u.default.configMapToConfiguration(e)));return r()(s,a)})));return s()(n)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){if(e.ConfigurationOwner=h.default.ownerToLabel(e.ConfigurationOwner),e.Type===g.KubernetesConfigurationTypes.CONFIGMAP){const t=p.default.configurationFormValuesToConfigMap(e);await this.KubernetesConfigMapService.create(t)}else{const t=m.default.configurationFormValuesToSecret(e);await this.KubernetesSecretService.create(t)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e,t){if(e.Type===g.KubernetesConfigurationTypes.CONFIGMAP){const n=p.default.configurationFormValuesToConfigMap(e);n.ConfigurationOwner=t.ConfigurationOwner,await this.KubernetesConfigMapService.update(n)}else{const n=m.default.configurationFormValuesToSecret(e);n.ConfigurationOwner=t.ConfigurationOwner,await this.KubernetesSecretService.update(n)}}update(e,t){return this.$async(this.updateAsync,e,t)}async deleteAsync(e){e.Type===g.KubernetesConfigurationTypes.CONFIGMAP?await this.KubernetesConfigMapService.delete(e):await this.KubernetesSecretService.delete(e)}delete(e){return this.$async(this.deleteAsync,e)}}f.$inject=["$async","Authentication","KubernetesNamespaceService","KubernetesConfigMapService","KubernetesSecretService"];const v=f;d().module("portainer.kubernetes").service("KubernetesConfigurationService",f)},40917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(20023);class r{constructor(e,t){this.$async=e,this.KubernetesControllerRevisions=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{return(await this.KubernetesControllerRevisions(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve ControllerRevisions",e)}}get(e){return this.$async(this.getAllAsync,e)}}r.$inject=["$async","KubernetesControllerRevisions"];const o=r;s().module("portainer.kubernetes").service("KubernetesControllerRevisionService",r)},42183:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(20023),r=n(82469),o=n(12512);class l{constructor(e,t){this.$async=e,this.KubernetesDaemonSets=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.all([this.KubernetesDaemonSets(e).get(n).$promise,this.KubernetesDaemonSets(e).getYaml(n).$promise]);return{Raw:a,Yaml:s.data}}catch(e){throw new i.Z("Unable to retrieve DaemonSet",e)}}async getAllAsync(e){try{return(await this.KubernetesDaemonSets(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve DaemonSets",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesDaemonSets(a).create(t,n).$promise}catch(e){throw new i.Z("Unable to create daemonset",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,s=o.default.patchPayload(e,t);if(!s.length)return;return await this.KubernetesDaemonSets(a).patch(n,s).$promise}catch(e){throw new i.Z("Unable to patch daemonSet",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesDaemonSets(n).delete(t).$promise}catch(e){throw new i.Z("Unable to remove daemonset",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new r.KubernetesCommonParams;a.id=t,await this.KubernetesDaemonSets(e).rollback(a,n).$promise}catch(e){throw new i.Z("Unable to rollback daemonset",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=["$async","KubernetesDaemonSets"];const c=l;s().module("portainer.kubernetes").service("KubernetesDaemonSetService",l)},18354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(20023),r=n(82469),o=n(95929);class l{constructor(e,t){this.$async=e,this.KubernetesDeployments=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.all([this.KubernetesDeployments(e).get(n).$promise,this.KubernetesDeployments(e).getYaml(n).$promise]);return{Raw:a,Yaml:s.data}}catch(e){throw new i.Z("Unable to retrieve Deployment",e)}}async getAllAsync(e){try{return(await this.KubernetesDeployments(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve Deployments",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesDeployments(a).create(t,n).$promise}catch(e){throw new i.Z("Unable to create deployment",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,s=o.default.patchPayload(e,t);if(!s.length)return;return await this.KubernetesDeployments(a).patch(n,s).$promise}catch(e){throw new i.Z("Unable to patch deployment",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesDeployments(n).delete(t).$promise}catch(e){throw new i.Z("Unable to remove deployment",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new r.KubernetesCommonParams;a.id=t,await this.KubernetesDeployments(e).rollback(a,n).$promise}catch(e){throw new i.Z("Unable to rollback deployment",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=["$async","KubernetesDeployments"];const c=l;s().module("portainer.kubernetes").service("KubernetesDeploymentService",l)},3855:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(43083);class c{constructor(e,t){this.$async=e,this.KubernetesEvents=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{const t=await this.KubernetesEvents(e).get().$promise;return s()(t.items,(e=>l.default.apiToEvent(e)))}catch(e){throw new o.Z("Unable to retrieve events",e)}}get(e){return this.$async(this.getAllAsync,e)}}c.$inject=["$async","KubernetesEvents"];const d=c;r().module("portainer.kubernetes").service("KubernetesEventService",c)},24717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(20023);class r{constructor(e,t){this.$async=e,this.KubernetesHealth=t,this.pingAsync=this.pingAsync.bind(this)}async pingAsync(e){try{return await this.KubernetesHealth.ping({id:e}).$promise}catch(e){throw new i.Z("Unable to retrieve environment health",e)}}ping(e){return this.$async(this.pingAsync,e)}}r.$inject=["$async","KubernetesHealth"];const o=r;s().module("portainer.kubernetes").service("KubernetesHealthService",r)},18842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(20023),r=n(70224),o=n(7172);class l{constructor(e,t,n){this.$async=e,this.KubernetesReplicaSetService=t,this.KubernetesControllerRevisionService=n,this.getAsync=this.getAsync.bind(this)}async getAsync(e){try{const t=e.ResourcePool;let n;switch(e.ApplicationType){case o.KubernetesApplicationTypes.DEPLOYMENT:n=await this.KubernetesReplicaSetService.get(t);break;case o.KubernetesApplicationTypes.DAEMONSET:case o.KubernetesApplicationTypes.STATEFULSET:n=await this.KubernetesControllerRevisionService.get(t);break;case o.KubernetesApplicationTypes.POD:n=[];break;default:throw new i.Z("Unable to determine which association to use for history")}if(n.length){const[t,a]=r.default.getRevisions(n,e);e.CurrentRevision=t,e.Revisions=a}return e}catch(e){throw new i.Z("",e)}}get(e){return this.$async(this.getAsync,e)}}l.$inject=["$async","KubernetesReplicaSetService","KubernetesControllerRevisionService"];const c=l;s().module("portainer.kubernetes").service("KubernetesHistoryService",l)},32494:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a);class i{constructor(e,t,n){this.KubernetesConfig=e,this.FileSaver=t,this.SettingsService=n}async downloadKubeconfigFile(e){const t=await this.KubernetesConfig.get(e),n=t.headers()["content-disposition"].replace("attachment;","").trim();return this.FileSaver.saveAs(t.data,n)}async expiryMessage(){const e="Kubeconfig file will ";switch((await this.SettingsService.publicSettings()).KubeconfigExpiry){case"0":return e+"not expire.";case"24h":return e+"expire in 1 day.";case"168h":return e+"expire in 7 days.";case"720h":return e+"expire in 30 days.";case"8640h":return e+"expire in 1 year."}return""}}i.$inject=["KubernetesConfig","FileSaver","SettingsService"];const r=i;s().module("portainer.kubernetes").service("KubernetesConfigService",i)},44987:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(46545),s=n.n(a),i=n(66539),r=n.n(i),o=n(29274),l=n.n(o),c=n(20023),d=n(82469),u=n(2544),p=n(22823),m=n(67808),g=n(7506);class h{constructor(e,t,n){this.$async=e,this.KubernetesNamespaces=t,this.Authentication=n,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e){try{const t=new d.KubernetesCommonParams;t.id=e,await this.KubernetesNamespaces().status(t).$promise;const[n,a]=await Promise.all([this.KubernetesNamespaces().get(t).$promise,this.KubernetesNamespaces().getYaml(t).$promise]),s=u.default.apiToNamespace(n,a);return(0,p.updateNamespaces)([s]),s}catch(e){throw new c.Z("Unable to retrieve namespace",e)}}async getAllAsync(){try{const e=await this.KubernetesNamespaces().get().$promise,t=r()(e.items,(e=>this.KubernetesNamespaces().status({id:e.metadata.name}).$promise)),n=await(0,m.default)(t),a=this.Authentication.hasAuthorizations(["K8sAccessSystemNamespaces"]),i=r()(n.fulfilled,(e=>{const t=u.default.apiToNamespace(e);return g.default.isSystemNamespace(t)?a?t:void 0:t})),o=s()(i,void 0);return(0,p.updateNamespaces)(o),o}catch(e){throw new c.Z("Unable to retrieve namespaces",e)}}get(e){return e?this.$async(this.getAsync,e):this.$async(this.getAllAsync)}async createAsync(e){try{const t=u.default.createPayload(e),n={};return await this.KubernetesNamespaces().create(n,t).$promise}catch(e){throw new c.Z("Unable to create namespace",e)}}create(e){return this.$async(this.createAsync,e)}async deleteAsync(e){try{const t=new d.KubernetesCommonParams;t.id=e.Name,await this.KubernetesNamespaces().delete(t).$promise}catch(e){throw new c.Z("Unable to delete namespace",e)}}delete(e){return this.$async(this.deleteAsync,e)}}h.$inject=["$async","KubernetesNamespaces","Authentication"];const f=h;l().module("portainer.kubernetes").service("KubernetesNamespaceService",h)},73774:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(20023),r=n(74335);class o{constructor(e){this.KubernetesNodesLimits=e}async get(){try{const e=await this.KubernetesNodesLimits.get().$promise;return new r.KubernetesNodesLimits(e.data)}catch(e){throw new i.Z("Unable to retrieve nodes limits",e)}}}o.$inject=["KubernetesNodesLimits"];const l=o;s().module("portainer.kubernetes").service("KubernetesNodesLimitsService",o)},79362:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(56636),c=n(82469);class d{constructor(e,t,n){this.$async=e,this.EndpointProvider=t,this.KubernetesPersistentVolumeClaims=n,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.all([this.KubernetesPersistentVolumeClaims(e).get(n).$promise,this.KubernetesPersistentVolumeClaims(e).getYaml(n).$promise]),i=this.EndpointProvider.currentEndpoint().Kubernetes.Configuration.StorageClasses;return l.default.apiToPersistentVolumeClaim(a,i,s)}catch(e){throw new o.Z("Unable to retrieve persistent volume claim",e)}}async getAllAsync(e){try{const t=await this.KubernetesPersistentVolumeClaims(e).get().$promise,n=this.EndpointProvider.currentEndpoint().Kubernetes.Configuration.StorageClasses;return s()(t.items,(e=>l.default.apiToPersistentVolumeClaim(e,n)))}catch(e){throw new o.Z("Unable to retrieve persistent volume claims",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=l.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesPersistentVolumeClaims(a).create(t,n).$promise}catch(e){throw new o.Z("Unable to create persistent volume claim",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,s=l.default.patchPayload(e,t);if(!s.length)return;return await this.KubernetesPersistentVolumeClaims(a).patch(n,s).$promise}catch(e){throw new o.Z("Unable to patch persistent volume claim",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesPersistentVolumeClaims(n).delete(t).$promise}catch(e){throw new o.Z("Unable to delete persistent volume claim",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=["$async","EndpointProvider","KubernetesPersistentVolumeClaims"];const u=d;r().module("portainer.kubernetes").service("KubernetesPersistentVolumeClaimService",d)},59010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(20023);class r{constructor(e,t){this.$async=e,this.KubernetesReplicaSets=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{return(await this.KubernetesReplicaSets(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve ReplicaSets",e)}}get(e){return this.$async(this.getAllAsync,e)}}r.$inject=["$async","KubernetesReplicaSets"];const o=r;s().module("portainer.kubernetes").service("KubernetesReplicaSetService",r)},22539:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesResourcePoolService:()=>$});var a=n(25445),s=n.n(a),i=n(67386),r=n.n(i),o=n(66900),l=n.n(o),c=n(55332),d=n.n(c),u=n(46545),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(66539),b=n.n(v),y=n(29274),w=n.n(y),x=n(57911),S=n(21458),k=n(12925);function $(e,t,n,a,i,o){return{get:function(t){return t?e(c,t):e(u)},create:function(s){return s.Owner=k.default.ownerToLabel(s.Owner),e((async()=>{const[e,r,o,l]=x.default.formValuesToResourcePool(s);await n.create(e),r&&await a.create(r);const c=b()(o,(e=>i.create(e)));await Promise.all(c);const d=s.EndpointId,u=b()(l,(e=>t.updateRegistryAccess(d,e.Id,e.RegistryAccesses[d])));await Promise.all(u)}))},patch:function(n,o){return e((async()=>{const[,e,c,u]=x.default.formValuesToResourcePool(n),[,m,h,v]=x.default.formValuesToResourcePool(o);e&&m?await a.patch(e,m):!e&&m?await a.create(m):e&&!m&&await a.delete(e);const y=f()(h,(e=>!g()(c,{Name:e.Name}))),S=f()(c,(e=>!g()(h,{Name:e.Name}))),k=p()(h,...y),$=b()(y,(e=>i.create(e))),C=b()(S,(e=>i.delete(e.Namespace,e.Name))),A=b()(k,(e=>{const t=g()(c,{Name:e.Name});return e.Paths=w().copy(t.Paths),e.PreviousHost=t.Host,i.patch(t,e)})),P=d()([$,C,A]);await Promise.all(P);const I=o.EndpointId,T=l()(u,v,"Id"),N=p()(u,...T),E=b()(v,(e=>t.updateRegistryAccess(I,e.Id,e.RegistryAccesses[I]))),R=b()(N,(e=>(r()(e.RegistryAccesses[I].Namespaces,o.Name),t.updateRegistryAccess(I,e.Id,e.RegistryAccesses[I]))));await Promise.all(s()(E,R))}))},delete:function(t){return e((async()=>{await n.delete(t.Namespace)}))},toggleSystem:function(e,t,n){return o.toggleSystem({namespaceName:t,endpointId:e},{system:n}).$promise}};async function c(e){const t=await n.get(e),[s]=await Promise.allSettled([a.get(e,S.default.generateResourceQuotaName(e))]),i=x.default.apiToResourcePool(t);return"fulfilled"===s.status&&(i.Quota=s.value,i.Yaml+="---\n"+s.value.Yaml),i}async function u(){const e=await n.get();return await Promise.all(b()(e,(async e=>{const t=e.Name,[n]=await Promise.allSettled([a.get(t,S.default.generateResourceQuotaName(t))]),s=x.default.apiToResourcePool(e);return"fulfilled"===n.status&&(s.Quota=n.value,s.Yaml+="---\n"+n.value.Yaml),s})))}}$.$inject=["$async","EndpointService","KubernetesNamespaceService","KubernetesResourceQuotaService","KubernetesIngressService","KubernetesPortainerNamespaces"],w().module("portainer.kubernetes").service("KubernetesResourcePoolService",$)},85927:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KubernetesResourceQuotaService:()=>d});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(82469),c=n(57456);function d(e,t){return{get:function(t,s){return s?e(n,t,s):e(a,t)},create:function(n){return e((async()=>{try{const e=c.default.createPayload(n),a=e.metadata.namespace,s={},i=await t(a).create(s,e).$promise;return c.default.apiToResourceQuota(i)}catch(e){throw new o.Z("Unable to create quota",e)}}))},patch:function(n,a){return e((async()=>{try{const e=new l.KubernetesCommonParams;e.id=a.Name;const s=a.Namespace,i=c.default.patchPayload(n,a);if(!i.length)return;return await t(s).patch(e,i).$promise}catch(e){throw new o.Z("Unable to patch quota",e)}}))},delete:function(n){return e((async()=>{try{const e=new l.KubernetesCommonParams;e.id=n.Name,await t(n.Namespace).delete(e).$promise}catch(e){throw new o.Z("Unable to delete quota",e)}}))}};async function n(e,n){try{const a=new l.KubernetesCommonParams;a.id=n;const[s,i]=await Promise.all([t(e).get(a).$promise,t(e).getYaml(a).$promise]);return c.default.apiToResourceQuota(s,i)}catch(e){throw new o.Z("Unable to retrieve resource quota",e)}}async function a(e){try{const n=await t(e).get().$promise;return s()(n.items,(e=>c.default.apiToResourceQuota(e)))}catch(e){throw new o.Z("Unable to retrieve resource quotas",e)}}}d.$inject=["$async","KubernetesResourceQuotas"],r().module("portainer.kubernetes").service("KubernetesResourceQuotaService",d)},76354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(52341),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesSecrets=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.all([this.KubernetesSecrets(e).get(n).$promise,this.KubernetesSecrets(e).getYaml(n).$promise]);return l.default.apiToSecret(a,s)}catch(e){throw new o.Z("Unable to retrieve secret",e)}}async getAllAsync(e){try{const t=await this.KubernetesSecrets(e).get().$promise;return s()(t.items,(e=>l.default.apiToSecret(e)))}catch(e){throw new o.Z("Unable to retrieve secrets",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t=l.default.createPayload(e),n=t.metadata.namespace,a={};return await this.KubernetesSecrets(n).create(a,t).$promise}catch(e){throw new o.Z("Unable to create secret",e)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e){try{const t=l.default.updatePayload(e),n=new c.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,s=await this.KubernetesSecrets(a).update(n,t).$promise;return l.default.apiToSecret(s)}catch(e){throw new o.Z("Unable to update secret",e)}}update(e){return this.$async(this.updateAsync,e)}async deleteAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesSecrets(n).delete(t).$promise}catch(e){throw new o.Z("Unable to delete secret",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=["$async","KubernetesSecrets"];const u=d;r().module("portainer.kubernetes").service("KubernetesSecretService",d)},7055:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(20023),r=n(82469),o=n(86998);class l{constructor(e,t){this.$async=e,this.KubernetesServices=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this),this.deleteSingleAsync=this.deleteSingleAsync.bind(this),this.deleteAllAsync=this.deleteAllAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.all([this.KubernetesServices(e).get(n).$promise,this.KubernetesServices(e).getYaml(n).$promise]);return{Raw:a,Yaml:s.data}}catch(e){throw new i.Z("Unable to retrieve service",e)}}async getAllAsync(e){try{return(await this.KubernetesServices(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve services",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesServices(a).create(t,n).$promise}catch(e){throw new i.Z("Unable to create service",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,s=o.default.patchPayload(e,t);if(!s.length)return;return await this.KubernetesServices(a).patch(n,s).$promise}catch(e){throw new i.Z("Unable to patch service",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){e.forEach((async e=>{try{const t=new r.KubernetesCommonParams;t.id=e.metadata.name;const n=e.metadata.namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error("unable to remove service",e)}}))}delete(e){return this.$async(this.deleteAsync,e)}async deleteAllAsync(e){e.forEach((async e=>{try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error("unable to remove service",e)}}))}deleteAll(e){return this.$async(this.deleteAllAsync,e)}async deleteSingleAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error("unable to remove service",e)}}deleteSingle(e){return this.$async(this.deleteSingleAsync,e)}}l.$inject=["$async","KubernetesServices"];const c=l;s().module("portainer.kubernetes").service("KubernetesServiceService",l)},4063:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var a=n(46545),s=n.n(a),i=n(46006),r=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c);class u{constructor(e,t){this.$async=e,this.KubernetesApplicationService=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){const t=await this.KubernetesApplicationService.get(e),n=l()(t,(e=>e.StackName));return r()(s()(n,"-",""))}get(e){return this.$async(this.getAllAsync,e)}}u.$inject=["$async","KubernetesApplicationService"];const p=u;d().module("portainer.kubernetes").service("KubernetesStackService",u)},4165:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(20023),r=n(82469),o=n(15986);class l{constructor(e,t,n){this.$async=e,this.KubernetesStatefulSets=t,this.KubernetesServiceService=n,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.all([this.KubernetesStatefulSets(e).get(n).$promise,this.KubernetesStatefulSets(e).getYaml(n).$promise]),i={Raw:a,Yaml:s.data},o=a.spec.serviceName;if(o)try{const t=await this.KubernetesServiceService.get(e,o);i.Yaml+="---\n"+t.Yaml}catch(e){}return i}catch(e){throw new i.Z("Unable to retrieve StatefulSet",e)}}async getAllAsync(e){try{return(await this.KubernetesStatefulSets(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve StatefulSets",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesStatefulSets(a).create(t,n).$promise}catch(e){throw new i.Z("Unable to create statefulSet",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,s=o.default.patchPayload(e,t);if(!s.length)return;return await this.KubernetesStatefulSets(a).patch(n,s).$promise}catch(e){throw new i.Z("Unable to patch statefulSet",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesStatefulSets(n).delete(t).$promise}catch(e){throw new i.Z("Unable to remove statefulSet",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new r.KubernetesCommonParams;a.id=t,await this.KubernetesStatefulSets(e).rollback(a,n).$promise}catch(e){throw new i.Z("Unable to rollback statefulSet",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=["$async","KubernetesStatefulSets","KubernetesServiceService"];const c=l;s().module("portainer.kubernetes").service("KubernetesStatefulSetService",l)},36552:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(66539),s=n.n(a),i=n(29274),r=n.n(i),o=n(20023),l=n(17981),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesStorage=t,this.getAsync=this.getAsync.bind(this),this.patchAsync=this.patchAsync.bind(this)}async getAsync(e){try{const t={endpointId:e},n=await this.KubernetesStorage().get(t).$promise;return s()(n.items,(e=>l.default.apiToStorageClass(e)))}catch(e){throw new o.Z("Unable to retrieve storage classes",e)}}get(e){return this.$async(this.getAsync,e)}async patchAsync(e,t,n){try{const a=new c.KubernetesCommonParams;a.id=n.Name,a.endpointId=e;const s=l.default.patchPayload(t,n);await this.KubernetesStorage().patch(a,s).$promise}catch(e){throw new o.Z("Unable to patch storage class",e)}}patch(e,t,n){return this.$async(this.patchAsync,e,t,n)}}d.$inject=["$async","KubernetesStorage"];const u=d;r().module("portainer.kubernetes").service("KubernetesStorageService",d)},78085:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(55332),s=n.n(a),i=n(66539),r=n.n(i),o=n(29274),l=n.n(o),c=n(92192);class d{constructor(e,t,n,a){this.$async=e,this.KubernetesResourcePoolService=t,this.KubernetesApplicationService=n,this.KubernetesPersistentVolumeClaimService=a,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){const[n,a]=await Promise.all([this.KubernetesPersistentVolumeClaimService.get(e,t),this.KubernetesResourcePoolService.get(e)]);return c.default.pvcToVolume(n,a)}async getAllAsync(e){const t=await this.KubernetesResourcePoolService.get(e),n=t instanceof Array?t:[t],a=await Promise.all(r()(n,(async e=>{const t=await this.KubernetesPersistentVolumeClaimService.get(e.Namespace.Name);return r()(t,(t=>c.default.pvcToVolume(t,e)))})));return s()(a)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async deleteAsync(e){await this.KubernetesPersistentVolumeClaimService.delete(e.PersistentVolumeClaim)}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=["$async","KubernetesResourcePoolService","KubernetesApplicationService","KubernetesPersistentVolumeClaimService"];const u=d;l().module("portainer.kubernetes").service("KubernetesVolumeService",d)},22823:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isSystem:()=>s,updateNamespaces:()=>i});const a={};function s(e){return a[e]&&a[e].IsSystem}function i(e){e.forEach((e=>a[e.Name]=e))}},86393:(e,t,n)=>{const a=n(79573);angular.module("portainer.kubernetes").component("kubernetesApplicationsView",{templateUrl:a,controller:"KubernetesApplicationsController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},55495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(41952),s=n.n(a),i=n(71204),r=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(41208),p=n(57947),m=n(51780),g=n(7172);class h{constructor(e,t,n,a,s,i,r,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesApplicationService=a,this.HelmService=s,this.KubernetesConfigurationService=i,this.ModalService=r,this.LocalStorage=o,this.StackService=c,this.EndpointProvider=l,this.onInit=this.onInit.bind(this),this.getApplications=this.getApplications.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.removeStacksAction=this.removeStacksAction.bind(this),this.removeStacksActionAsync=this.removeStacksActionAsync.bind(this),this.onPublishingModeClick=this.onPublishingModeClick.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("applications",e)}async removeStacksActionAsync(e){let t=e.length;for(const n of e)try{if(n.Applications.some((e=>!e.ApplicationKind))){const e=l()(n.Applications,(e=>this.KubernetesApplicationService.delete(e)));await Promise.all(e)}else{const e=n.Applications.find((e=>null!==e.StackId));e&&e.StackId&&await this.StackService.remove({Id:e.StackId},!1,this.endpoint.Id)}this.Notifications.success("Stack successfully removed",n.Name),r()(this.state.stacks,{Name:n.Name})}catch(e){this.Notifications.error("Failure",e,"Unable to remove stack")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeStacksAction(e){this.ModalService.confirmDeletion("",(t=>{if(t)return this.$async(this.removeStacksActionAsync,e)}))}async removeActionAsync(e){let t=e.length;for(const n of e)try{if(n.ApplicationType===g.KubernetesApplicationTypes.HELM)await this.HelmService.uninstall(this.endpoint.Id,n);else if(await this.KubernetesApplicationService.delete(n),n.Metadata.labels[g.KubernetesPortainerApplicationStackNameLabel]){const e=this.state.stacks.find((e=>e.Name===n.StackName)),t=e.Applications.indexOf(n);e.Applications.splice(t,1),0===e.Applications.length&&n.StackId&&await this.StackService.remove({Id:n.StackId},!1,this.endpoint.Id)}this.Notifications.success("Application successfully removed",n.Name);const e=this.state.applications.indexOf(n);this.state.applications.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove application")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion("",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}onPublishingModeClick(e){this.state.activeTab=1,s()(this.state.ports,(t=>{t.Expanded=!1,t.Highlighted=!1,t.Name===e.Name&&t.Ports.length>1&&(t.Expanded=!0,t.Highlighted=!0)}))}async getApplicationsAsync(){try{const[e,t]=await Promise.all([this.KubernetesApplicationService.get(),this.KubernetesConfigurationService.get()]),n=m.default.getApplicationConfigurations(e,t),{helmApplications:a,nonHelmApplications:s}=p.default.getNestedApplications(n);this.state.applications=[...a,...s],this.state.stacks=u.default.stacksFromApplications(e),this.state.ports=p.default.portMappingsFromApplications(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}}getApplications(){return this.$async(this.getApplicationsAsync)}async onInit(){this.state={activeTab:this.LocalStorage.getActiveTab("applications"),currentName:this.$state.$current.name,viewReady:!1,endpointType:this.endpoint.Type,applications:[],stacks:[],ports:[]},await this.getApplications(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("applications",0)}}h.$inject=["$async","$state","Notifications","KubernetesApplicationService","HelmService","KubernetesConfigurationService","ModalService","LocalStorage","EndpointProvider","StackService"];const f=h;d().module("portainer.kubernetes").controller("KubernetesApplicationsController",h)},51819:(e,t,n)=>{const a=n(65998);angular.module("portainer.kubernetes").component("kubernetesApplicationConsoleView",{templateUrl:a,controller:"KubernetesApplicationConsoleController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},33243:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(96049),r=n(50433);class o{constructor(e,t,n,a,s,i){this.$async=e,this.$state=t,this.Notifications=n,this.Authentication=a,this.KubernetesApplicationService=s,this.LocalStorage=i,this.onInit=this.onInit.bind(this)}disconnect(){this.state.socket.close(),this.state.term.dispose(),this.state.connected=!1}configureSocketAndTerminal(e,t){e.onopen=function(){const e=document.getElementById("terminal-container");t.open(e),t.setOption("cursorBlink",!0),t.focus()},t.on("data",(function(t){e.send(t)})),e.onmessage=function(e){t.write(e.data)},e.onerror=function(e){this.disconnect(),this.Notifications.error("Failure",e,"Websocket connection error")}.bind(this),this.state.socket.onclose=function(){this.disconnect()}.bind(this),this.state.connected=!0}connectConsole(){const e={token:this.LocalStorage.getJWT(),endpointId:this.endpoint.Id,namespace:this.application.ResourcePool,podName:this.podName,containerName:this.containerName,command:this.state.command};let t=window.location.origin+(0,r.baseHref)()+"api/websocket/pod?"+Object.keys(e).map((t=>t+"="+e[t])).join("&");t=t.indexOf("https")>-1?t.replace("https://","wss://"):t.replace("http://","ws://"),this.state.socket=new WebSocket(t),this.state.term=new i.o,this.configureSocketAndTerminal(this.state.socket,this.state.term)}async onInit(){this.Authentication.redirectIfUnauthorized(["K8sApplicationConsoleRW"]);const e=["/bin/bash","/bin/sh"];this.state={actionInProgress:!1,availableCommands:e,command:e[1],connected:!1,socket:null,term:null,viewReady:!1};const t=this.$transition$.params().pod,n=this.$transition$.params().name,a=this.$transition$.params().namespace,s=this.$transition$.params().container;this.podName=t,this.containerName=s;try{this.application=await this.KubernetesApplicationService.get(a,n)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application logs")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}o.$inject=["$async","$state","Notifications","Authentication","KubernetesApplicationService","LocalStorage"];const l=o;s().module("portainer.kubernetes").controller("KubernetesApplicationConsoleController",o)},58791:(e,t,n)=>{const a=n(1866);angular.module("portainer.kubernetes").component("kubernetesCreateApplicationView",{templateUrl:a,controller:"KubernetesCreateApplicationController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},8924:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z});var a=n(40714),s=n.n(a),i=n(71204),r=n.n(i),o=n(83464),l=n.n(o),c=n(17908),d=n.n(c),u=n(74362),p=n.n(u),m=n(44716),g=n.n(m),h=n(83432),f=n.n(h),v=n(98484),b=n.n(v),y=n(86103),w=n.n(y),x=n(41952),S=n.n(x),k=n(25445),$=n.n(k),C=n(46006),A=n.n(C),P=n(55743),I=n.n(P),T=n(68260),N=n.n(T),E=n(66539),R=n.n(E),D=n(51235),U=n.n(D),V=n(29274),O=n.n(V),F=n(29500),L=n.n(F),_=n(34901),M=n(56414),j=n(7172),K=n(14917),B=n(54241),z=n(10293),H=n(22229),G=n(79990),q=n(57947),W=n(11507),Y=n(7506),Q=n(14780);class J{constructor(e,t,n,a,s,i,r,o,l,c,d,u,p,m,g,h,f){this.$scope=e,this.$async=t,this.$state=n,this.Notifications=a,this.Authentication=s,this.ModalService=i,this.KubernetesResourcePoolService=r,this.KubernetesApplicationService=o,this.KubernetesStackService=l,this.KubernetesConfigurationService=c,this.KubernetesNodeService=d,this.KubernetesVolumeService=m,this.KubernetesIngressService=u,this.KubernetesPersistentVolumeClaimService=p,this.RegistryService=g,this.StackService=h,this.KubernetesNodesLimitsService=f,this.ApplicationDeploymentTypes=j.KubernetesApplicationDeploymentTypes,this.ApplicationDataAccessPolicies=j.KubernetesApplicationDataAccessPolicies,this.ApplicationPublishingTypes=j.KubernetesApplicationPublishingTypes,this.ApplicationPlacementTypes=j.KubernetesApplicationPlacementTypes,this.ApplicationTypes=j.KubernetesApplicationTypes,this.ApplicationConfigurationFormValueOverridenKeyTypes=K.KubernetesApplicationConfigurationFormValueOverridenKeyTypes,this.ServiceTypes=G.KubernetesServiceTypes,this.KubernetesDeploymentTypes=j.KubernetesDeploymentTypes,this.state={appType:this.KubernetesDeploymentTypes.APPLICATION_FORM,updateWebEditorInProgress:!1,actionInProgress:!1,useLoadBalancer:!1,useServerMetrics:!1,storages:{quotasComputed:!1,allRestricted:!1,availabilities:{},quotaExceeded:!1},sliders:{cpu:{min:0,max:0},memory:{min:0,max:0}},nodes:{memory:0,cpu:0},namespaceLimits:{memory:0,cpu:0},maxLoadBalancers:null,maxLoadBalancersQuota:null,resourcePoolHasQuota:!1,viewReady:!1,availableSizeUnits:["MB","GB","TB"],alreadyExists:!1,duplicates:{environmentVariables:new K.KubernetesFormValidationReferences,persistedFolders:new K.KubernetesFormValidationReferences,configurationPaths:new K.KubernetesFormValidationReferences,existingVolumes:new K.KubernetesFormValidationReferences,publishedPorts:{containerPorts:new K.KubernetesFormValidationReferences,nodePorts:new K.KubernetesFormValidationReferences,ingressRoutes:new K.KubernetesFormValidationReferences,loadBalancerPorts:new K.KubernetesFormValidationReferences},placements:new K.KubernetesFormValidationReferences},exceeded:{persistedFolders:new K.KubernetesFormValidationReferences},isEdit:!1,persistedFoldersUseExistingVolumes:!1,pullImageValidity:!1},this.isAdmin=!1,this.editChanges=[],this.storageClasses=[],this.state.useLoadBalancer=!1,this.state.useServerMetrics=!1,this.formValues=new K.KubernetesApplicationFormValues,this.updateApplicationAsync=this.updateApplicationAsync.bind(this),this.deployApplicationAsync=this.deployApplicationAsync.bind(this),this.setPullImageValidity=this.setPullImageValidity.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onServicePublishChange=this.onServicePublishChange.bind(this)}onChangeFileContent(e){this.stackFileContent.replace(/(\r\n|\n|\r)/gm,"")!==e.replace(/(\r\n|\n|\r)/gm,"")&&(this.state.isEditorDirty=!0,this.stackFileContent=e)}async updateApplicationViaWebEditor(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:"",message:" ",buttons:{confirm:{label:"",className:"btn-warning"}}}))return;this.state.updateWebEditorInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.endpoint.Id,Id:this.application.StackId},this.stackFileContent,null),this.state.isEditorDirty=!1,await this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Failed redeploying application")}finally{this.state.updateWebEditorInProgress=!1}}))}async uiCanExit(){if(this.stackFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}setPullImageValidity(e){this.state.pullImageValidity=e}imageValidityIsValid(){return this.state.pullImageValidity||this.formValues.ImageModel.Registry.Type!==M.RegistryTypes.DOCKERHUB}onChangeName(){const e=U()(this.applications,{Name:this.formValues.Name});this.state.alreadyExists=this.state.isEdit&&e&&this.application.Id!==e.Id||!this.state.isEdit&&e}unselectAutoScaler(){this.formValues.DeploymentType===this.ApplicationDeploymentTypes.GLOBAL&&(this.formValues.AutoScaler.IsUsed=!1)}addConfiguration(){let e=new K.KubernetesApplicationConfigurationFormValue;e.SelectedConfiguration=this.configurations[0],this.formValues.Configurations.push(e)}removeConfiguration(e){this.formValues.Configurations.splice(e,1),this.onChangeConfigurationPath()}overrideConfiguration(e){const t=this.formValues.Configurations[e];t.Overriden=!0,t.OverridenKeys=R()(N()(t.SelectedConfiguration.Data),(e=>{const t=new K.KubernetesApplicationConfigurationFormValueOverridenKey;return t.Key=e,t}))}resetConfiguration(e){const t=this.formValues.Configurations[e];t.Overriden=!1,t.OverridenKeys=[],this.onChangeConfigurationPath()}clearConfigurations(){this.formValues.Configurations=[]}onChangeConfigurationPath(){this.state.duplicates.configurationPaths.refs=[];const e=I()(this.formValues.Configurations,((e,t)=>{const n=A()(R()(t.OverridenKeys,"Path"));return $()(e,n)}),[]),t=B.default.getDuplicates(e);S()(this.formValues.Configurations,((e,n)=>{S()(e.OverridenKeys,((e,a)=>{const s=U()(t,(t=>t===e.Path));s&&(this.state.duplicates.configurationPaths.refs[n+"_"+a]=s)}))})),this.state.duplicates.configurationPaths.hasRefs=Object.keys(this.state.duplicates.configurationPaths.refs).length>0}addEnvironmentVariable(){this.formValues.EnvironmentVariables.push(new K.KubernetesApplicationEnvironmentVariableFormValue)}restoreEnvironmentVariable(e){e.NeedsDeletion=!1}removeEnvironmentVariable(e){const t=this.formValues.EnvironmentVariables.indexOf(e);if(-1!==t){const e=this.formValues.EnvironmentVariables[t];e.IsNew?this.formValues.EnvironmentVariables.splice(t,1):e.NeedsDeletion=!0}this.onChangeEnvironmentName()}onChangeEnvironmentName(){this.state.duplicates.environmentVariables.refs=B.default.getDuplicates(R()(this.formValues.EnvironmentVariables,"Name")),this.state.duplicates.environmentVariables.hasRefs=Object.keys(this.state.duplicates.environmentVariables.refs).length>0}addPersistedFolder(){let e={};this.storageClasses.length>0&&(e=this.storageClasses[0]);const t=new K.KubernetesApplicationPersistedFolderFormValue(e);this.allQuotasExhaustedAndVolumesAvailable()&&(t.UseNewVolume=!1),this.formValues.PersistedFolders.push(t),this.resetDeploymentType()}restorePersistedFolder(e){this.formValues.PersistedFolders[e].NeedsDeletion=!1,this.validatePersistedFolders()}resetPersistedFolders(){this.allQuotasExhaustedAndNoVolumesAvailable()?this.formValues.PersistedFolders=[]:(S()(this.formValues.PersistedFolders,(e=>{e.ExistingVolume=null,e.UseNewVolume=!this.allQuotasExhaustedAndVolumesAvailable()})),this.validatePersistedFolders())}removePersistedFolder(e){this.state.isEdit&&this.formValues.PersistedFolders[e].PersistentVolumeClaimName?this.formValues.PersistedFolders[e].NeedsDeletion=!0:this.formValues.PersistedFolders.splice(e,1),this.validatePersistedFolders()}useNewVolume(e){this.formValues.PersistedFolders[e].UseNewVolume=!0,this.formValues.PersistedFolders[e].ExistingVolume=null,this.state.persistedFoldersUseExistingVolumes=!I()(this.formValues.PersistedFolders,((e,t)=>e&&t.UseNewVolume),!0),this.validatePersistedFolders()}useExistingVolume(e){this.formValues.PersistedFolders[e].UseNewVolume=!1,this.state.persistedFoldersUseExistingVolumes=!!U()(this.formValues.PersistedFolders,{UseNewVolume:!1}),this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED&&(this.formValues.DataAccessPolicy=this.ApplicationDataAccessPolicies.SHARED,this.resetDeploymentType()),this.validatePersistedFolders()}validatePersistedFolders(){this.onChangePersistedFolderPath(),this.onChangeVolumeRequestedSize(),this.onChangeExistingVolumeSelection()}onChangePersistedFolderPath(){this.state.duplicates.persistedFolders.refs=B.default.getDuplicates(R()(this.formValues.PersistedFolders,(e=>{if(!e.NeedsDeletion)return e.ContainerPath}))),this.state.duplicates.persistedFolders.hasRefs=Object.keys(this.state.duplicates.persistedFolders.refs).length>0}onChangeVolumeRequestedSize(){const e=this.formValues.ResourcePool.Quota;if(this.state.storages.quotaExceeded=!1,e){const e=this.formValues.PersistedFolders,t=w()(e,"StorageClass.Name"),n={};b()(t,((t,a)=>{const s=f()(t,{PersistentVolumeClaimName:""}),i=I()(s,((e,t)=>t.UseNewVolume&&t.Size?e+L()(`${t.Size}${t.SizeUnit}`,{base:10}):e),0);this.state.storages.availabilities[a]<i&&S()(e,((e,t)=>{g()(s,e)&&e.UseNewVolume&&e.Size&&(n[t]=!0)})),this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED&&this.state.storages.availabilities[a]<i*this.formValues.ReplicaCount&&(this.state.storages.quotaExceeded=!0)})),this.state.exceeded.persistedFolders.refs=n,this.state.exceeded.persistedFolders.hasRefs=Object.keys(this.state.exceeded.persistedFolders.refs).length>0}}onChangeExistingVolumeSelection(){this.state.duplicates.existingVolumes.refs=B.default.getDuplicates(R()(this.formValues.PersistedFolders,(e=>{if(!e.NeedsDeletion)return e.ExistingVolume?e.ExistingVolume.PersistentVolumeClaim.Name:""}))),this.state.duplicates.existingVolumes.hasRefs=Object.keys(this.state.duplicates.existingVolumes.refs).length>0}addPlacement(){const e=new K.KubernetesApplicationPlacementFormValue,t=this.nodesLabels[0];e.Label=t,e.Value=t.Values[0],this.formValues.Placements.push(e),this.onChangePlacement()}restorePlacement(e){this.formValues.Placements[e].NeedsDeletion=!1,this.onChangePlacement()}removePlacement(e){this.state.isEdit&&!this.formValues.Placements[e].IsNew?this.formValues.Placements[e].NeedsDeletion=!0:this.formValues.Placements.splice(e,1),this.onChangePlacement()}onChangePlacement(){this.onChangePlacementLabelValidate()}onChangePlacementLabel(e){this.formValues.Placements[e].Value=this.formValues.Placements[e].Label.Values[0],this.onChangePlacementLabelValidate()}onChangePlacementLabelValidate(){const e=this.state.duplicates.placements,t=R()(this.formValues.Placements,(e=>e.NeedsDeletion?void 0:e.Label.Key)),n=B.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onServicePublishChange(){!this.formValues.IsPublishingService||this.formValues.PublishedPorts.length?this.formValues.IsPublishingService?this.formValues.PublishedPorts.forEach((e=>e.NeedsDeletion=!1)):this.formValues.PublishedPorts=this.formValues.PublishedPorts.filter((e=>!e.IsNew)).map((e=>({...e,NeedsDeletion:!0}))):this.addPublishedPort()}addPublishedPort(){const e=new K.KubernetesApplicationPublishedPortFormValue,t=this.ingresses;this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.INGRESS&&(e.IngressName=t&&t.length?t[0].Name:void 0,e.IngressHost=t&&t.length?t[0].Hosts[0]:void 0,e.IngressHosts=t&&t.length?t[0].Hosts:void 0),this.formValues.PublishedPorts.length&&(e.Protocol=this.formValues.PublishedPorts[0].Protocol),this.formValues.PublishedPorts.push(e)}resetPublishedPorts(){const e=this.ingresses;S()(this.formValues.PublishedPorts,(t=>{t.IngressName=e&&e.length?e[0].Name:void 0,t.IngressHost=e&&e.length?e[0].Hosts[0]:void 0}))}restorePublishedPort(e){this.formValues.PublishedPorts[e].NeedsDeletion=!1,this.onChangePublishedPorts()}removePublishedPort(e){this.state.isEdit&&!this.formValues.PublishedPorts[e].IsNew?this.formValues.PublishedPorts[e].NeedsDeletion=!0:this.formValues.PublishedPorts.splice(e,1),this.onChangePublishedPorts()}onChangePublishedPorts(){this.onChangePortMappingContainerPort(),this.onChangePortMappingNodePort(),this.onChangePortMappingIngressRoute(),this.onChangePortMappingLoadBalancer(),this.onChangePortProtocol()}onChangePortMappingContainerPort(){const e=this.state.duplicates.publishedPorts.containerPorts;if(this.formValues.PublishingType!==j.KubernetesApplicationPublishingTypes.INGRESS){const t=R()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.ContainerPort+e.Protocol)),n=B.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingNodePort(){const e=this.state.duplicates.publishedPorts.nodePorts;if(this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.NODE_PORT){const t=R()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.NodePort)),n=B.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingIngress(e){const t=this.formValues.PublishedPorts[e],n=U()(this.ingresses,{Name:t.IngressName});t.IngressHosts=n.Hosts,this.ingressHostnames=n.Hosts,t.IngressHost=this.ingressHostnames.length?this.ingressHostnames[0]:[],this.onChangePublishedPorts()}onChangePortMappingIngressRoute(){const e=this.state.duplicates.publishedPorts.ingressRoutes;if(this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.INGRESS){const t=R()(this.formValues.PublishedPorts,(e=>e.IsNew&&e.IngressRoute?`${e.IngressHost||e.IngressName}${e.IngressRoute}`:void 0)),n=R()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion&&e.IngressRoute?`${e.IngressHost||e.IngressName}${e.IngressRoute}`:void 0)),a=p()(this.ingresses,(e=>R()(e.Paths,(t=>`${t.Host||e.Name}${t.Path}`)))),s=B.default.getDuplicates(t);S()(t,((e,t)=>{g()(a,e)&&!g()(n,e)&&(s[t]=e)})),e.refs=s,e.hasRefs=Object.keys(s).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingLoadBalancer(){const e=this.state.duplicates.publishedPorts.loadBalancerPorts;if(this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.LOAD_BALANCER){const t=R()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.LoadBalancerPort)),n=B.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortProtocol(e){if(this.onChangePortMappingContainerPort(),this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.LOAD_BALANCER){const t=f()(this.formValues.PublishedPorts,{IsNew:!0});S()(t,(n=>{n.Protocol=e?this.formValues.PublishedPorts[e].Protocol:t[0].Protocol}))}}isValid(){return!(this.state.alreadyExists||this.state.duplicates.environmentVariables.hasRefs||this.state.duplicates.persistedFolders.hasRefs||this.state.duplicates.configurationPaths.hasRefs||this.state.duplicates.existingVolumes.hasRefs||this.state.duplicates.publishedPorts.containerPorts.hasRefs||this.state.duplicates.publishedPorts.nodePorts.hasRefs||this.state.duplicates.publishedPorts.ingressRoutes.hasRefs||this.state.duplicates.publishedPorts.loadBalancerPorts.hasRefs||this.state.exceeded.persistedFolders.hasRefs)}storageClassAvailable(){return this.storageClasses&&this.storageClasses.length>0&&this.state.storages.quotasComputed&&(!this.state.storages.allRestricted||this.state.storages.allRestricted&&0!==this.formValues.PersistedFolders.length)}hasMultipleStorageClassesAvailable(){return this.storageClasses&&this.storageClasses.length>1}resetDeploymentType(){this.formValues.DeploymentType=this.ApplicationDeploymentTypes.REPLICATED,this.onChangeVolumeRequestedSize()}showDataAccessPolicySection(){return 0!==this.formValues.PersistedFolders.length}supportGlobalDeployment(){const e=0!==this.formValues.PersistedFolders.length,t=q.default.hasRWOOnly(this.formValues),n=this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED;return!e||!t&&!n}isEditAndStatefulSet(){return this.state.isEdit&&this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED}supportScalableReplicaDeployment(){const e=0!==this.formValues.PersistedFolders.length,t=q.default.hasRWOOnly(this.formValues),n=this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED;return!(e&&!n&&(!e||t))}getNonScalableStorage(){let e=[];for(let t=0;t<this.formValues.PersistedFolders.length;t++){const n=this.formValues.PersistedFolders[t];n.StorageClass?d()(n.StorageClass.AccessModes,["RWO"])&&e.push(n.StorageClass.Name):e.push("<no storage option available>")}return A()(e).join(", ")}enforceReplicaCountMinimum(){null===this.formValues.ReplicaCount&&(this.formValues.ReplicaCount=1)}resourceQuotaCapacityExceeded(){return!this.state.sliders.memory.max||!this.state.sliders.cpu.max}nodeLimitsOverflow(){const e=this.formValues.CpuLimit,t=H.default.bytesValue(this.formValues.MemoryLimit);return this.nodesLimits.overflowForReplica(e,t,1)}effectiveInstances(){return this.formValues.DeploymentType===this.ApplicationDeploymentTypes.GLOBAL?this.nodeNumber:this.formValues.ReplicaCount}resourceReservationsOverflow(){const e=this.effectiveInstances(),t=this.formValues.CpuLimit,n=this.state.namespaceLimits.cpu,a=H.default.bytesValue(this.formValues.MemoryLimit),s=this.state.namespaceLimits.memory;return 1e3*t*e>1e3*n||a*e>s||(this.formValues.DeploymentType===this.ApplicationDeploymentTypes.REPLICATED?this.nodesLimits.overflowForReplica(t,a,e):this.nodesLimits.overflowForGlobal(t,a))}autoScalerOverflow(){const e=this.formValues.AutoScaler.MaxReplicas,t=this.formValues.CpuLimit,n=this.state.namespaceLimits.cpu,a=H.default.bytesValue(this.formValues.MemoryLimit),s=this.state.namespaceLimits.memory;return 1e3*t*e>1e3*n||a*e>s||this.nodesLimits.overflowForReplica(t,a,e)}publishViaLoadBalancerEnabled(){return this.state.useLoadBalancer&&0!==this.state.maxLoadBalancersQuota}publishViaIngressEnabled(){return this.ingresses.length}isEditAndNoChangesMade(){if(!this.state.isEdit)return!1;const e=_.qu(this.savedFormValues,this.formValues);return this.editChanges=f()(e,(e=>!g()(e.path,"$$hashKey")&&"/ApplicationType"!==e.path)),!this.editChanges.length}isAddPersistentFolderButtonShowed(){return!this.isEditAndStatefulSet()&&this.formValues.Containers.length<=1}isNewVolumeButtonDisabled(e){return this.isEditAndExistingPersistedFolder(e)||this.allQuotasExhaustedAndVolumesAvailable()}isExistingVolumeButtonDisabled(){return!this.hasAvailableVolumes()||this.isEdit&&this.application.ApplicationType===this.ApplicationTypes.STATEFULSET}allQuotasExhausted(){if(!this.storageClassAvailable()||!this.state.storages.quotasComputed)return!0;const e=I()(R()(this.storageClasses,"Name"),((e,t)=>{const n=this.state.storages.availabilities[t];return n?e+n:e}),0);return this.storageClasses.length===N()(this.state.storages.availabilities).length&&e<=0}allQuotasExhaustedAndNoVolumesAvailable(){return this.allQuotasExhausted()&&!this.hasAvailableVolumes()}allQuotasExhaustedAndVolumesAvailable(){return this.allQuotasExhausted()&&this.hasAvailableVolumes()}hasAvailableVolumes(){return this.availableVolumes.length>0}isEditAndExistingPersistedFolder(e){return this.state.isEdit&&this.formValues.PersistedFolders[e].PersistentVolumeClaimName}isEditAndNotNewPublishedPort(e){return this.state.isEdit&&!this.formValues.PublishedPorts[e].IsNew}hasNoPublishedPorts(){return 0===this.formValues.PublishedPorts.filter((e=>!e.NeedsDeletion)).length}isEditAndNotNewPlacement(e){return this.state.isEdit&&!this.formValues.Placements[e].IsNew}isNewAndNotFirst(e){return!this.state.isEdit&&0!==e}showPlacementPolicySection(){return 0!==f()(this.formValues.Placements,{NeedsDeletion:!1}).length}isNonScalable(){const e=this.supportScalableReplicaDeployment(),t=this.supportGlobalDeployment(),n=this.formValues.ReplicaCount>1,a=this.formValues.DeploymentType===this.ApplicationDeploymentTypes.REPLICATED;return a&&!e&&n||!a&&!t}isMaxLoadBalancerOverflow(){return!(!this.state.useLoadBalancer||this.formValues.PublishingType!==this.ApplicationPublishingTypes.LOAD_BALANCER)&&this.state.maxLoadBalancers<=0&&null!==this.state.maxLoadBalancers}isDeployUpdateButtonDisabled(){const e=this.resourceReservationsOverflow(),t=this.autoScalerOverflow(),n=this.state.actionInProgress,a=!this.isValid(),s=this.isEditAndNoChangesMade(),i=this.isNonScalable(),r=this.formValues.IsPublishingService&&this.hasNoPublishedPorts(),o=!this.formValues.ResourcePool,l=this.isMaxLoadBalancerOverflow();return e||t||n||a||s||i||r||o||l}isExternalApplication(){return!!this.application&&q.default.isExternalApplication(this.application)}disableLoadBalancerEdit(){return this.state.isEdit&&this.application.ServiceType===this.ServiceTypes.LOAD_BALANCER&&!this.application.LoadBalancerIPAddress&&this.formValues.PublishingType===this.ApplicationPublishingTypes.LOAD_BALANCER}isPublishingTypeEditDisabled(){const e=f()(this.formValues.PublishedPorts,{IsNew:!1,NeedsDeletion:!1});return this.state.isEdit&&this.formValues.PublishedPorts.length>0&&e.length>0}isEditLBWithPorts(){return this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.LOAD_BALANCER&&0===f()(this.formValues.PublishedPorts,{IsNew:!1}).length}isProtocolOptionDisabled(e,t){return this.disableLoadBalancerEdit()||this.isEditAndNotNewPublishedPort(e)&&this.formValues.PublishedPorts[e].Protocol!==t||this.isEditLBWithPorts()&&this.formValues.PublishedPorts[e].Protocol!==t&&this.isNewAndNotFirst(e)}updateSliders(){const e=this.formValues.ResourcePool.Quota;let t=0,n=0,a=this.state.namespaceLimits.cpu,s=this.state.namespaceLimits.memory;e&&(e.CpuLimit&&(t=j.KubernetesApplicationQuotaDefaults.CpuLimit),e.MemoryLimit&&(n=H.default.bytesValue(j.KubernetesApplicationQuotaDefaults.MemoryLimit))),a=Math.min(a,this.nodesLimits.MaxCPU),s=Math.min(s,this.nodesLimits.MaxMemory),s<n&&(n=0,s=0),this.state.sliders.memory.min=H.default.megaBytesValue(n),this.state.sliders.memory.max=H.default.megaBytesValue(s),this.state.sliders.cpu.min=t,this.state.sliders.cpu.max=l()(a,2),this.state.isEdit||(this.formValues.CpuLimit=t,this.formValues.MemoryLimit=H.default.megaBytesValue(n))}updateNamespaceLimits(){let e=this.state.nodes.cpu,t=this.state.nodes.memory;const n=this.formValues.ResourcePool.Quota;this.state.resourcePoolHasQuota=!1,n&&(n.CpuLimit&&(this.state.resourcePoolHasQuota=!0,e=n.CpuLimit-n.CpuLimitUsed,this.state.isEdit&&this.savedFormValues.CpuLimit&&(e+=this.savedFormValues.CpuLimit*this.effectiveInstances())),n.MemoryLimit&&(this.state.resourcePoolHasQuota=!0,t=n.MemoryLimit-n.MemoryLimitUsed,this.state.isEdit&&this.savedFormValues.MemoryLimit&&(t+=H.default.bytesValue(this.savedFormValues.MemoryLimit)*this.effectiveInstances()))),this.state.namespaceLimits.cpu=e,this.state.namespaceLimits.memory=t}refreshStacks(e){return this.$async((async()=>{try{this.stacks=await this.KubernetesStackService.get(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve stacks")}}))}refreshConfigurations(e){return this.$async((async()=>{try{this.configurations=await this.KubernetesConfigurationService.get(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configurations")}}))}refreshApplications(e){return this.$async((async()=>{try{if(this.applications=await this.KubernetesApplicationService.get(e),this.state.maxLoadBalancers=null,this.state.maxLoadBalancersQuota=null,this.formValues.ResourcePool.Quota&&(this.state.maxLoadBalancersQuota=this.formValues.ResourcePool.Quota.LoadBalancers,null!==this.state.maxLoadBalancersQuota)){let e=f()(this.applications,{ServiceType:"LoadBalancer"});this.state.isEdit&&(e=f()(e,(e=>e.Name!==this.formValues.Name)));const t=e.length;this.state.maxLoadBalancers=this.state.maxLoadBalancersQuota-t}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}}))}refreshVolumes(e){return this.$async((async()=>{try{const t=await this.KubernetesVolumeService.get(e);S()(t,(e=>{e.Applications=W.default.getUsingApplications(e,this.applications)})),this.volumes=t;const n=f()(this.volumes,(e=>{const t=!W.default.isUsed(e),n=e.PersistentVolumeClaim.StorageClass&&g()(e.PersistentVolumeClaim.StorageClass.AccessModes,"RWX");return t||n}));this.availableVolumes=n}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve volumes")}}))}refreshStorageAvailabilities(){const e=this.formValues.ResourcePool.Quota;if(this.state.storages.availabilities={},this.state.storages.quotasComputed=!1,this.state.storages.allRestricted=!1,e&&e.StorageRequests.length){const t={};S()(e.StorageRequests,(e=>{e.Selected&&(t[e.Name]=L()(`${e.Size}${e.SizeUnit}`,{base:10}))}));const n=w()(this.volumes,"PersistentVolumeClaim.StorageClass.Name");b()(n,((e,n)=>{if(t[n]){const a=I()(e,((e,t)=>e+L()(t.PersistentVolumeClaim.Storage,{base:10})),0),s=t[n]-a;t[n]=s<0?0:s}})),this.state.storages.availabilities=t;const a=f()(e.StorageRequests,{Selected:!0,Size:0});this.state.storages.allRestricted=a.length===e.StorageRequests.length}this.state.storages.quotasComputed=!0}refreshIngresses(e){return this.$async((async()=>{try{this.ingresses=await this.KubernetesIngressService.get(e),this.ingressHostnames=this.ingresses.length?this.ingresses[0].Hosts:[],this.publishViaIngressEnabled()||(this.savedFormValues?this.formValues.PublishingType=this.savedFormValues.PublishingType:this.formValues.PublishingType=this.ApplicationPublishingTypes.CLUSTER_IP),this.formValues.OriginalIngresses=this.ingresses}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve ingresses")}}))}refreshNamespaceData(e){return this.$async((async()=>{await Promise.all([this.refreshStacks(e),this.refreshConfigurations(e),this.refreshApplications(e),this.refreshIngresses(e),this.refreshVolumes(e)]),this.onChangeName()}))}resetFormValues(){this.clearConfigurations(),this.resetPersistedFolders(),this.resetPublishedPorts()}onResourcePoolSelectionChange(){return this.$async((async()=>{const e=this.formValues.ResourcePool.Namespace.Name;this.updateNamespaceLimits(),this.updateSliders(),await this.refreshNamespaceData(e),this.refreshStorageAvailabilities(),this.resetFormValues()}))}async deployApplicationAsync(){this.state.actionInProgress=!0;try{this.formValues.ApplicationOwner=this.Authentication.getUserDetails().username,r()(this.formValues.Configurations,(e=>void 0===e.SelectedConfiguration)),await this.KubernetesApplicationService.create(this.formValues),this.Notifications.success("Application successfully deployed",this.formValues.Name),this.$state.go("kubernetes.applications")}catch(e){this.Notifications.error("Failure",e,"Unable to create application")}finally{this.state.actionInProgress=!1}}async updateApplicationAsync(){try{this.state.actionInProgress=!0,await this.KubernetesApplicationService.patch(this.savedFormValues,this.formValues),this.Notifications.success("Application successfully updated"),this.$state.go("kubernetes.applications.application",{name:this.application.Name,namespace:this.application.ResourcePool})}catch(e){this.Notifications.error("Failure",e,"Unable to update application")}finally{this.state.actionInProgress=!1}}deployApplication(){if(!this.state.isEdit)return this.$async(this.deployApplicationAsync);this.ModalService.confirmUpdate("Updating the application may cause a service interruption. Do you wish to continue?",(e=>{if(e)return this.$async(this.updateApplicationAsync)}))}getApplication(){return this.$async((async()=>{try{const e=this.$state.params.namespace;[this.application,this.persistentVolumeClaims]=await Promise.all([this.KubernetesApplicationService.get(e,this.$state.params.name),this.KubernetesPersistentVolumeClaimService.get(e)])}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application details")}}))}async parseImageConfiguration(e){return this.$async((async()=>{try{return await this.RegistryService.retrievePorRegistryModelFromRepository(e.Image,this.endpoint.Id,e.Registry.Id,this.$state.params.namespace)}catch(t){return this.Notifications.error("Failure",t,"Unable to retrieve registry"),e}}))}$onInit(){return this.$async((async()=>{try{this.Authentication.redirectIfUnauthorized(["K8sApplicationDetailsW"]),this.isAdmin=this.Authentication.isAdmin(),this.state.isEdit=this.$state.params.namespace&&this.$state.params.name,this.storageClasses=this.endpoint.Kubernetes.Configuration.StorageClasses,this.state.useLoadBalancer=this.endpoint.Kubernetes.Configuration.UseLoadBalancer,this.state.useServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics;const[e,t,n]=await Promise.all([this.KubernetesResourcePoolService.get(),this.KubernetesNodeService.get(),this.KubernetesNodesLimitsService.get()]);this.nodesLimits=n;const a=f()(e,(e=>!Y.default.isSystemNamespace(e.Namespace.Name)));if(this.resourcePools=s()(a,(({Namespace:e})=>"default"===e.Name?0:1)),this.formValues.ResourcePool=this.resourcePools[0],!this.formValues.ResourcePool)return;S()(t,(e=>{this.state.nodes.memory+=L()(e.Memory),this.state.nodes.cpu+=e.CPU})),this.nodesLabels=Q.KubernetesNodeHelper.generateNodeLabelsFromNodes(t),this.nodeNumber=t.length;const i=this.state.isEdit?this.$state.params.namespace:this.formValues.ResourcePool.Namespace.Name;await this.refreshNamespaceData(i),this.state.isEdit?(await this.getApplication(),this.formValues=z.default.applicationToFormValues(this.application,this.resourcePools,this.configurations,this.persistentVolumeClaims,this.nodesLabels,this.ingresses),this.application.ApplicationKind&&(this.state.appType=j.KubernetesDeploymentTypes[this.application.ApplicationKind.toUpperCase()],this.application.ApplicationKind===j.KubernetesDeploymentTypes.URL&&(this.state.appType=j.KubernetesDeploymentTypes.CONTENT),this.application.StackId&&(this.stack=await this.StackService.stack(this.application.StackId),this.state.appType===j.KubernetesDeploymentTypes.CONTENT&&(this.stackFileContent=await this.StackService.getStackFile(this.application.StackId)))),this.formValues.OriginalIngresses=this.ingresses,this.formValues.ImageModel=await this.parseImageConfiguration(this.formValues.ImageModel),this.savedFormValues=O().copy(this.formValues),delete this.formValues.ApplicationType,this.application.ApplicationType!==j.KubernetesApplicationTypes.STATEFULSET&&S()(this.formValues.PersistedFolders,(e=>{const t=U()(this.availableVolumes,["PersistentVolumeClaim.Name",e.PersistentVolumeClaimName]);t&&(e.UseNewVolume=!1,e.ExistingVolume=t)})),await this.refreshNamespaceData(i)):this.formValues.AutoScaler=q.default.generateAutoScalerFormValueFromHorizontalPodAutoScaler(null,this.formValues.ReplicaCount),this.state.isEdit&&this.nodesLimits.excludesPods(this.application.Pods,this.formValues.CpuLimit,H.default.bytesValue(this.formValues.MemoryLimit)),this.formValues.IsPublishingService=this.formValues.PublishedPorts.length>0,this.updateNamespaceLimits(),this.updateSliders(),this.refreshStorageAvailabilities()}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}}))}}J.$inject=["$scope","$async","$state","Notifications","Authentication","ModalService","KubernetesResourcePoolService","KubernetesApplicationService","KubernetesStackService","KubernetesConfigurationService","KubernetesNodeService","KubernetesIngressService","KubernetesPersistentVolumeClaimService","KubernetesVolumeService","RegistryService","StackService","KubernetesNodesLimitsService"];const Z=J;O().module("portainer.kubernetes").controller("KubernetesCreateApplicationController",J)},56378:(e,t,n)=>{const a=n(45758);angular.module("portainer.kubernetes").component("kubernetesApplicationView",{templateUrl:a,controller:"KubernetesApplicationController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},66485:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var a=n(83432),s=n.n(a),i=n(92375),r=n.n(i),o=n(46545),l=n.n(o),c=n(44716),d=n.n(c),u=n(19980),p=n.n(u),m=n(66539),g=n.n(m),h=n(71204),f=n.n(h),v=n(51235),b=n.n(v),y=n(41952),w=n.n(y),x=n(29274),S=n.n(x),k=n(34901),$=n(7172),C=n(52929),A=n(57947),P=n(79990),I=n(31275),T=n(7506),N=n(52474);class E{constructor(e,t,n,a,s,i,r,o,l,c,d,u,p){this.$async=e,this.$state=t,this.clipboard=n,this.Notifications=a,this.LocalStorage=s,this.ModalService=i,this.Authentication=r,this.StackService=p,this.KubernetesApplicationService=o,this.KubernetesEventService=l,this.KubernetesStackService=c,this.KubernetesPodService=d,this.KubernetesNodeService=u,this.KubernetesApplicationDeploymentTypes=$.KubernetesApplicationDeploymentTypes,this.KubernetesApplicationTypes=$.KubernetesApplicationTypes,this.KubernetesDeploymentTypes=$.KubernetesDeploymentTypes,this.ApplicationDataAccessPolicies=$.KubernetesApplicationDataAccessPolicies,this.KubernetesServiceTypes=P.KubernetesServiceTypes,this.KubernetesPodContainerTypes=I.KubernetesPodContainerTypes,this.KubernetesDeploymentTypes=$.KubernetesDeploymentTypes,this.onInit=this.onInit.bind(this),this.getApplication=this.getApplication.bind(this),this.getApplicationAsync=this.getApplicationAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.updateApplicationKindText=this.updateApplicationKindText.bind(this),this.updateApplicationAsync=this.updateApplicationAsync.bind(this),this.redeployApplicationAsync=this.redeployApplicationAsync.bind(this),this.rollbackApplicationAsync=this.rollbackApplicationAsync.bind(this),this.copyLoadBalancerIP=this.copyLoadBalancerIP.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("application",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(3)}isSystemNamespace(){return T.default.isSystemNamespace(this.application.ResourcePool)}isExternalApplication(){return A.default.isExternalApplication(this.application)}copyLoadBalancerIP(){this.clipboard.copyText(this.application.LoadBalancerIPAddress),N("#copyNotificationLB").show().fadeOut(2500)}copyApplicationName(){this.clipboard.copyText(this.application.Name),N("#copyNotificationApplicationName").show().fadeOut(2500)}hasPersistedFolders(){return this.application&&this.application.PersistedFolders.length}hasVolumeConfiguration(){return this.application&&this.application.ConfigurationVolumes.length}hasEventWarnings(){return this.state.eventWarningCount}buildIngressRuleURL(e){return"http://"+(e.Host?e.Host:e.IP)+e.Path}portHasIngressRules(e){return e.IngressRules.length>0}ruleCanBeDisplayed(e){return!(!e.Host&&!e.IP)}isStack(){return this.application.StackId}async rollbackApplicationAsync(){try{const e=r()(this.application.Revisions,-2);await this.KubernetesApplicationService.rollback(this.application,e),this.Notifications.success("Application successfully rolled back"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to rollback the application")}}rollbackApplication(){this.ModalService.confirmUpdate("Rolling back the application to a previous configuration may cause a service interruption. Do you wish to continue?",(e=>{if(e)return this.$async(this.rollbackApplicationAsync)}))}async redeployApplicationAsync(){try{const e=g()(this.application.Pods,(e=>this.KubernetesPodService.delete(e)));await Promise.all(e),this.Notifications.success("Application successfully redeployed"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to redeploy the application")}}redeployApplication(){this.ModalService.confirmUpdate("Redeploying the application may cause a service interruption. Do you wish to continue?",(e=>{if(e)return this.$async(this.redeployApplicationAsync)}))}async updateApplicationAsync(){try{const e=S().copy(this.application);e.Note=this.formValues.Note,await this.KubernetesApplicationService.patch(this.application,e,!0),this.Notifications.success("Application successfully updated"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to update application")}}updateApplication(){return this.$async(this.updateApplicationAsync)}updateApplicationKindText(){this.application.ApplicationKind===this.KubernetesDeploymentTypes.GIT?this.state.appType="git repository":(this.application.ApplicationKind===this.KubernetesDeploymentTypes.CONTENT||this.application.ApplicationKind===this.KubernetesDeploymentTypes.URL)&&(this.state.appType="manifest")}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get(this.state.params.namespace);this.events=s()(e,(e=>e.Involved.uid===this.application.Id||e.Involved.uid===this.application.ServiceId||void 0!==b()(this.application.Pods,(t=>t.Id===e.Involved.uid)))),this.state.eventWarningCount=C.default.warningCount(this.events)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application related events")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}async getApplicationAsync(){try{this.state.dataLoading=!0;const[e,t]=await Promise.all([this.KubernetesApplicationService.get(this.state.params.namespace,this.state.params.name),this.KubernetesNodeService.get()]);if(this.application=e,this.allContainers=A.default.associateAllContainersAndApplication(e),this.formValues.Note=this.application.Note,this.formValues.Services=this.application.Services,this.application.Note&&(this.state.expandedNote=!0),this.application.CurrentRevision&&(this.formValues.SelectedRevision=b()(this.application.Revisions,{revision:this.application.CurrentRevision.revision})),this.state.useIngress=b()(e.PublishedPorts,(e=>this.portHasIngressRules(e))),this.placements=function(e,t){return e=function(e,t){const n=t.Pods[0];return w()(e,(e=>{e.AcceptsApplication=!0,e.Expanded=!1,n&&(e.UnmetTaints=[],w()(e.Taints,(t=>{const a=b()(n.Tolerations,{Key:t.Key,Operator:"Equal",Value:t.Value,Effect:t.Effect}),s=b()(n.Tolerations,{Key:t.Key,Operator:"Exists",Effect:t.Effect}),i=b()(n.Tolerations,{Key:t.Key,Operator:"Equal",Value:t.Value,Effect:""}),r=b()(n.Tolerations,{Key:t.Key,Operator:"Exists",Effect:""}),o=b()(n.Tolerations,{Key:"",Operator:"Exists",Effect:""});a||s||i||r||o?e.AcceptsApplication=!0:(e.AcceptsApplication=!1,e.UnmetTaints.push(t))})))})),e}(e,t),e=function(e,t){if(!t.Pods||0===t.Pods.length)return e;const n=t.Pods[0];return w()(e,(e=>{if(n.NodeSelector){const t=k.qu(e.Labels,n.NodeSelector);f()(t,{op:"remove"}),e.UnmatchedNodeSelectorLabels=g()(t,(e=>({key:p()(e.path,"/"),value:e.value}))),e.UnmatchedNodeSelectorLabels.length&&(e.AcceptsApplication=!1)}if(n.Affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution){const t=g()(n.Affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms,(t=>{const n=g()(t.matchExpressions,(t=>{const n={}.hasOwnProperty.call(e.Labels,t.key),a=n&&d()(t.values,e.Labels[t.key]);if(!(t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS&&n||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.DOES_NOT_EXIST&&!n||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN&&a||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.NOT_IN&&!a||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.GREATER_THAN&&n&&parseInt(e.Labels[t.key],10)>parseInt(t.values[0],10)||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.LOWER_THAN&&n&&parseInt(e.Labels[t.key],10)<parseInt(t.values[0],10)))return t}));return l()(n,void 0)}));f()(t,(e=>0===e.length)),e.UnmatchedNodeAffinities=t,e.UnmatchedNodeAffinities.length&&(e.AcceptsApplication=!1)}})),e}(e,t),e}(t,this.application),this.state.placementWarning=!b()(this.placements,{AcceptsApplication:!0}),e.StackId){const t=await this.StackService.getStackFile(e.StackId);this.stackFileContent=t}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application details")}finally{this.state.dataLoading=!1}}getApplication(){return this.$async(this.getApplicationAsync)}async onInit(){const e=this.LocalStorage.getEndpointID(),t=this.LocalStorage.getEndpoints(),n=b()(t,(function(t){return t.Id===e}));this.state={activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,DisplayedPanel:"pods",eventsLoading:!0,dataLoading:!0,viewReady:!1,params:{namespace:this.$transition$.params().namespace,name:this.$transition$.params().name},appType:this.KubernetesDeploymentTypes.APPLICATION_FORM,eventWarningCount:0,placementWarning:!1,expandedNote:!1,useIngress:!1,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics,isAuthorized:this.Authentication.hasAuthorizations(["K8sApplicationDetailsW"]),canAccessNode:this.Authentication.hasAuthorizations(["K8sClusterNodeR"]),canShowConsole:this.Authentication.hasAuthorizations(["K8sApplicationConsoleRW"]),publicUrl:n.PublicURL},this.state.activeTab=this.LocalStorage.getActiveTab("application"),this.formValues={Note:"",SelectedRevision:void 0},await this.getApplication(),await this.getEvents(),this.updateApplicationKindText(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("application",0)}}E.$inject=["$async","$state","clipboard","Notifications","LocalStorage","ModalService","Authentication","KubernetesApplicationService","KubernetesEventService","KubernetesStackService","KubernetesPodService","KubernetesNodeService","StackService"];const R=E;S().module("portainer.kubernetes").controller("KubernetesApplicationController",E)},20630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(41952),s=n.n(a);class i{constructor(e,t){this.$async=e,this.KubernetesIngressService=t}$onInit(){return this.$async((async()=>{this.hasIngress,this.applicationIngress=[];const e=await this.KubernetesIngressService.get(this.application.ResourcePool),t=this.application.Services;s()(t,(t=>{s()(e,(e=>{s()(e.Paths,(e=>{e.ServiceName===t.metadata.name&&(this.applicationIngress.push(e),this.hasIngress=!0)}))}))}))}))}}i.$inject=["$async","KubernetesIngressService"]},63060:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(20630);const r=n(70881);s().module("portainer.kubernetes").component("kubernetesApplicationIngressTable",{templateUrl:r,controller:i.default,bindings:{application:"<",publicUrl:"<"}})},29272:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(83432),r=n.n(i);angular.module("portainer.docker").controller("KubernetesApplicationPlacementsDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,a){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return!e.AcceptsApplication},this.hasExpandableItems=function(){return r()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,s()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.isAdmin=a.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var s=n.getDataTableFilters(this.tableKey);null!==s&&(this.filters=s),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},50156:(e,t,n)=>{const a=n(83260);angular.module("portainer.kubernetes").component("kubernetesApplicationPlacementsDatatable",{templateUrl:a,controller:"KubernetesApplicationPlacementsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<",loading:"<",removeAction:"<"}})},18137:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(29262);s().module("portainer.kubernetes").component("kubernetesApplicationServicesTable",{templateUrl:i,bindings:{services:"<",application:"<",publicUrl:"<"}})},85392:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(20023);class s{constructor(e,t,n,a,s){this.$async=e,this.$state=t,this.Authentication=n,this.Notifications=a,this.HelmService=s}async getHelmApplication(){try{this.state.dataLoading=!0;const e=await this.HelmService.listReleases(this.endpoint.Id,{selector:`name=${this.state.params.name}`,namespace:this.state.params.namespace});if(!(e.length>0))throw new a.Z(`Release ${this.state.params.name} not found`);this.state.release=e[0]}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm application details")}finally{this.state.dataLoading=!1}}$onInit(){return this.$async((async()=>{this.state={dataLoading:!0,viewReady:!1,params:{name:this.$state.params.name,namespace:this.$state.params.namespace},release:{name:void 0,chart:void 0,app_version:void 0}},await this.getHelmApplication(),this.state.viewReady=!0}))}}s.$inject=["$async","$state","Authentication","Notifications","HelmService"]},8180:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(85392);const r=n(21152);s().module("portainer.kubernetes").component("kubernetesHelmApplicationView",{templateUrl:r,controller:i.default,bindings:{endpoint:"<"}})},81297:(e,t,n)=>{const a=n(28068);angular.module("portainer.kubernetes").component("kubernetesApplicationLogsView",{templateUrl:a,controller:"KubernetesApplicationLogsController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},94649:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(55743),s=n.n(a),i=n(29274),r=n.n(i);class o{constructor(e,t,n,a,s,i,r,o){this.$async=e,this.$state=t,this.$interval=n,this.Notifications=a,this.KubernetesApplicationService=s,this.KubernetesPodService=i,this.Blob=r,this.FileSaver=o,this.onInit=this.onInit.bind(this),this.stopRepeater=this.stopRepeater.bind(this),this.getApplicationLogsAsync=this.getApplicationLogsAsync.bind(this)}updateAutoRefresh(){this.state.autoRefresh?this.setUpdateRepeater():this.stopRepeater()}stopRepeater(){r().isDefined(this.repeater)&&(this.$interval.cancel(this.repeater),this.repeater=null)}setUpdateRepeater(){this.repeater=this.$interval(this.getApplicationLogsAsync,this.state.refreshRate)}downloadLogs(){const e=new this.Blob([s()(this.applicationLogs,((e,t)=>e+"\n"+t),"")]);this.FileSaver.saveAs(e,this.podName+"_logs.txt")}async getApplicationLogsAsync(){try{this.applicationLogs=await this.KubernetesPodService.logs(this.application.ResourcePool,this.podName,this.containerName)}catch(e){this.stopRepeater(),this.Notifications.error("Failure",e,"Unable to retrieve application logs")}}async onInit(){this.state={autoRefresh:!1,refreshRate:5e3,search:"",viewReady:!1};const e=this.$transition$.params().pod,t=this.$transition$.params().name,n=this.$transition$.params().namespace,a=this.$transition$.params().container;this.applicationLogs=[],this.podName=e,this.containerName=a;try{const[s,i]=await Promise.all([this.KubernetesApplicationService.get(n,t),this.KubernetesPodService.logs(n,e,a)]);this.application=s,this.applicationLogs=i}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application logs")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.stopRepeater()}}o.$inject=["$async","$state","$interval","Notifications","KubernetesApplicationService","KubernetesPodService","Blob","FileSaver"];const l=o;r().module("portainer.kubernetes").controller("KubernetesApplicationLogsController",o)},61260:(e,t,n)=>{const a=n(96144);angular.module("portainer.kubernetes").component("kubernetesApplicationStatsView",{templateUrl:a,controller:"KubernetesApplicationStatsController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},13754:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(51235),s=n.n(a),i=n(29274),r=n.n(i),o=n(4396),l=n.n(o),c=n(29500),d=n.n(c),u=n(22229),p=n(22050),m=n(52474);class g{constructor(e,t,n,a,s,i,r,o,l){this.$async=e,this.$state=t,this.$interval=n,this.$document=a,this.Notifications=s,this.KubernetesPodService=i,this.KubernetesNodeService=r,this.KubernetesMetricsService=o,this.ChartService=l,this.onInit=this.onInit.bind(this)}changeUpdateRepeater(){var e=this.cpuChart,t=this.memoryChart;this.stopRepeater(),this.setUpdateRepeater(e,t),m("#refreshRateChange").show(),m("#refreshRateChange").fadeOut(1500)}updateCPUChart(){const e=l()(this.stats.read).format("HH:mm:ss");this.ChartService.UpdateCPUChart(e,this.stats.CPUUsage,this.cpuChart)}updateMemoryChart(){const e=l()(this.stats.read).format("HH:mm:ss");this.ChartService.UpdateMemoryChart(e,this.stats.MemoryUsage,this.stats.MemoryCache,this.memoryChart)}stopRepeater(){var e=this.repeater;r().isDefined(e)&&(this.$interval.cancel(e),e=void 0)}setUpdateRepeater(){const e=this.state.refreshRate;this.repeater=this.$interval((async()=>{try{await this.getStats(),this.updateCPUChart(),this.updateMemoryChart()}catch(e){this.stopRepeater(),this.Notifications.error("Failure",e)}}),1e3*e)}initCharts(){const e=m("#cpuChart"),t=this.ChartService.CreateCPUChart(e);this.cpuChart=t;const n=m("#memoryChart"),a=this.ChartService.CreateMemoryChart(n);this.memoryChart=a,this.updateCPUChart(),this.updateMemoryChart(),this.setUpdateRepeater()}getStats(){return this.$async((async()=>{try{const e=await this.KubernetesMetricsService.getPod(this.state.transition.namespace,this.state.transition.podName),t=s()(e.containers,{name:this.state.transition.containerName});if(t){const n=d()(t.usage.memory),a=u.default.parseCPU(t.usage.cpu);this.stats={read:e.timestamp,preread:"",MemoryCache:0,MemoryUsage:n,NumProcs:"",isWindows:!1,PreviousCPUTotalUsage:0,CPUUsage:a/this.nodeCPU*100,CPUCores:0}}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application stats")}}))}$onDestroy(){this.stopRepeater()}async onInit(){this.state={autoRefresh:!1,refreshRate:"30",viewReady:!1,transition:{podName:this.$transition$.params().pod,containerName:this.$transition$.params().container,namespace:this.$transition$.params().namespace,applicationName:this.$transition$.params().name},getMetrics:!1};try{await this.KubernetesMetricsService.getPod(this.state.transition.namespace,this.state.transition.podName)}catch(e){return this.state.getMetrics=!1,this.state.viewReady=!0,void this.Notifications.error("Failure",e,"Unable to retrieve pod stats")}try{const e=await this.KubernetesPodService.get(this.state.transition.namespace,this.state.transition.podName),t=p.default.apiToModel(e.Raw);if(!t)throw new Error("Unable to find pod");{const e=await this.KubernetesNodeService.get(t.Node);this.nodeCPU=e.CPU}await this.getStats(),this.state.getMetrics=!0,this.$document.ready((()=>{this.initCharts()}))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application stats")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}g.$inject=["$async","$state","$interval","$document","Notifications","KubernetesPodService","KubernetesNodeService","KubernetesMetricsService","ChartService"];const h=g;r().module("portainer.kubernetes").controller("KubernetesApplicationStatsController",g)},24924:(e,t,n)=>{const a=n(21284);angular.module("portainer.kubernetes").component("kubernetesClusterView",{templateUrl:a,controller:"KubernetesClusterController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},99641:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var a=n(55743),s=n.n(a),i=n(44716),r=n.n(i),o=n(41952),l=n.n(o),c=n(66539),d=n.n(c),u=n(55332),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(29274),b=n.n(v),y=n(29500),w=n.n(y),x=n(22229),S=n(46685);class k{constructor(e,t,n,a,s,i,r,o,l){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=a,this.Authentication=s,this.KubernetesNodeService=i,this.KubernetesMetricsService=r,this.KubernetesApplicationService=o,this.KubernetesEndpointService=l,this.onInit=this.onInit.bind(this),this.getNodes=this.getNodes.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.hasResourceUsageAccess=this.hasResourceUsageAccess.bind(this)}async getEndpointsAsync(){try{const e=await this.KubernetesEndpointService.get(),t=f()(e,{Namespace:"kube-system"});this.systemEndpoints=f()(t,(e=>e.HolderIdentity));const n=g()(e,{Name:"kubernetes"});if(n&&n.Subsets){const e=p()(d()(n.Subsets,"Ips"));l()(this.nodes,(t=>{t.Api=r()(e,t.IPAddress)}))}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environments")}}getEndpoints(){return this.$async(this.getEndpointsAsync)}async getNodesAsync(){try{const e=await this.KubernetesNodeService.get();l()(e,(e=>e.Memory=w()(e.Memory))),this.nodes=e,this.CPULimit=Math.trunc(10*s()(this.nodes,((e,t)=>t.CPU+e),0))/10,this.CPULimit=Math.round(1e4*this.CPULimit)/1e4,this.MemoryLimit=s()(this.nodes,((e,t)=>x.default.megaBytesValue(t.Memory)+e),0)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve nodes")}}getNodes(){return this.$async(this.getNodesAsync)}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get();const e=d()(this.nodes,(e=>e.Name));this.resourceReservation=s()(this.applications,((t,n)=>{n.Pods=f()(n.Pods,(t=>e.includes(t.Node)));const a=x.default.computeResourceReservation(n.Pods);return t.CPU+=a.CPU,t.Memory+=a.Memory,t}),new S.KubernetesResourceReservation),this.resourceReservation.Memory=x.default.megaBytesValue(this.resourceReservation.Memory),this.hasResourceUsageAccess()&&await this.getResourceUsage(this.endpoint.Id)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async getResourceUsage(e){try{const t=(await this.KubernetesMetricsService.getNodes(e)).items.map((e=>e.usage)).reduce(((e,t)=>(e.CPU+=x.default.parseCPU(t.cpu),e.Memory+=x.default.megaBytesValue(t.memory),e)),new S.KubernetesResourceReservation);this.resourceUsage=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve cluster resource usage")}}hasResourceUsageAccess(){return this.state.useServerMetrics&&this.state.hasK8sClusterNodeR}async onInit(){const e=this.Authentication.hasAuthorizations(["K8sClusterNodeR"])||!1;this.state={applicationsLoading:!0,viewReady:!1,hasK8sClusterNodeR:e,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics},await this.getNodes(),e&&await this.getEndpoints(),await this.getApplications(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}k.$inject=["$async","$state","Notifications","LocalStorage","Authentication","KubernetesNodeService","KubernetesMetricsService","KubernetesApplicationService","KubernetesEndpointService"];const $=k;b().module("portainer.kubernetes").controller("KubernetesClusterController",k)},64696:(e,t,n)=>{const a=n(78928);angular.module("portainer.kubernetes").component("kubernetesNodeView",{templateUrl:a,controller:"KubernetesNodeController",controllerAs:"ctrl",bindings:{endpoint:"<",$transition$:"<"}})},79308:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var a=n(68582),s=n.n(a),i=n(41952),r=n.n(i),o=n(51235),l=n.n(o),c=n(55332),d=n.n(c),u=n(83432),p=n.n(u),m=n(66539),g=n.n(m),h=n(29274),f=n.n(h),v=n(22229),b=n(46685),y=n(52929),w=n(76676),x=n(2949),S=n(48942),k=n(54241),$=n(14780);class C{constructor(e,t,n,a,s,i,r,o,l,c,d,u){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=a,this.ModalService=s,this.Authentication=i,this.getNodesAsync=this.getNodesAsync.bind(this),this.KubernetesEventService=o,this.KubernetesPodService=l,this.KubernetesApplicationService=c,this.KubernetesEndpointService=d,this.KubernetesNodeService=r,this.KubernetesMetricsService=u,this.onInit=this.onInit.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.updateNodeAsync=this.updateNodeAsync.bind(this),this.drainNodeAsync=this.drainNodeAsync.bind(this),this.hasResourceUsageAccess=this.hasResourceUsageAccess.bind(this),this.getNodeUsageAsync=this.getNodeUsageAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("node",e)}onChangeTaintKey(e){this.state.duplicateTaintKeys=k.default.getDuplicates(g()(this.formValues.Taints,(e=>{if(!e.NeedsDeletion)return e.Key}))),this.state.hasDuplicateTaintKeys=Object.keys(this.state.duplicateTaintKeys).length>0,this.onChangeTaint(e)}onChangeTaint(e){this.formValues.Taints[e]&&(this.formValues.Taints[e].IsChanged=!0)}addTaint(){const e=new x.KubernetesNodeTaintFormValues;e.IsNew=!0,e.Effect=S.KubernetesNodeTaintEffects.NOSCHEDULE,this.formValues.Taints.push(e)}removeTaint(e){const t=this.formValues.Taints[e];t.IsNew?this.formValues.Taints.splice(e,1):t.NeedsDeletion=!0,this.onChangeTaintKey()}restoreTaint(e){this.formValues.Taints[e].NeedsDeletion=!1,this.onChangeTaintKey()}computeTaintsWarning(){return p()(this.formValues.Taints,(e=>e.Effect===S.KubernetesNodeTaintEffects.NOEXECUTE&&(e.IsNew||e.IsChanged))).length}onChangeLabelKey(e){this.state.duplicateLabelKeys=k.default.getDuplicates(g()(this.formValues.Labels,(e=>{if(!e.NeedsDeletion)return e.Key}))),this.state.hasDuplicateLabelKeys=Object.keys(this.state.duplicateLabelKeys).length>0,this.onChangeLabel(e)}onChangeLabel(e){this.formValues.Labels[e]&&(this.formValues.Labels[e].IsChanged=!0)}addLabel(){const e=new x.KubernetesNodeLabelFormValues;e.IsNew=!0,this.formValues.Labels.push(e)}removeLabel(e){const t=this.formValues.Labels[e];t.IsNew?this.formValues.Labels.splice(e,1):t.NeedsDeletion=!0,this.onChangeLabelKey()}restoreLabel(e){this.formValues.Labels[e].NeedsDeletion=!1,this.onChangeLabelKey()}isSystemLabel(e){return $.KubernetesNodeHelper.isSystemLabel(this.formValues.Labels[e])}computeLabelsWarning(){return p()(this.formValues.Labels,(e=>e.IsUsed&&(e.NeedsDeletion||e.IsChanged))).length}computeCordonWarning(){return this.formValues.Availability===this.availabilities.PAUSE}computeDrainWarning(){return this.formValues.Availability===this.availabilities.DRAIN}async drainNodeAsync(){const e=d()(g()(this.applications,(e=>e.Pods)));let t=e.length;for(const n of e)try{await this.KubernetesPodService.eviction(n),this.Notifications.success("Pod successfully evicted",n.Name)}catch(e){this.Notifications.error("Failure",e,"Unable to evict pod"),this.formValues.Availability=this.availabilities.PAUSE,await this.KubernetesNodeService.patch(this.node,this.formValues)}finally{--t,0===t&&(this.formValues.Availability=this.availabilities.PAUSE,await this.KubernetesNodeService.patch(this.node,this.formValues))}}drainNode(){return this.$async(this.drainNodeAsync)}isNoChangesMade(){const e=w.default.formValuesToNode(this.node,this.formValues);return!w.default.patchPayload(this.node,e).length}isDrainError(){return(this.state.isDrainOperation||this.state.isContainPortainer)&&this.formValues.Availability===this.availabilities.DRAIN}isFormValid(){return!(this.state.hasDuplicateTaintKeys||this.state.hasDuplicateLabelKeys||this.isNoChangesMade()||this.isDrainError())}resetFormValues(){this.formValues=w.default.nodeToFormValues(this.node)}async getEndpointsAsync(){try{const e=await this.KubernetesEndpointService.get();this.endpoint=l()(e,{Name:"kubernetes"}),this.endpoint&&this.endpoint.Subsets&&r()(this.endpoint.Subsets,(e=>r()(e.Ips,(t=>{if(t===this.node.IPAddress)return this.node.Api=!0,this.node.Port=e.Port,!1}))))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environments")}}getEndpoints(){return this.$async(this.getEndpointsAsync)}async updateNodeAsync(){try{this.node=await this.KubernetesNodeService.patch(this.node,this.formValues),this.formValues.Availability===this.availabilities.DRAIN&&await this.drainNode(),this.Notifications.success("Node updated successfully"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to update node")}}updateNode(){const e=this.computeTaintsWarning(),t=this.computeLabelsWarning(),n=this.computeCordonWarning(),a=this.computeDrainWarning();if(e&&!t)this.ModalService.confirmUpdate("Changes to taints will immediately deschedule applications running on this node without the corresponding tolerations. Do you wish to continue?",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(!e&&t)this.ModalService.confirmUpdate("Removing or changing a label that is used might prevent applications from being scheduled on this node in the future. Do you wish to continue?",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(e&&t)this.ModalService.confirmUpdate("Changes to taints will immediately deschedule applications running on this node without the corresponding tolerations.<br/></br/>Removing or changing a label that is used might prevent applications from scheduling on this node in the future.\n\nDo you wish to continue?",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(n)this.ModalService.confirmUpdate("Marking this node as unschedulable will effectively cordon the node and prevent any new workload from being scheduled on that node. ",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else{if(!a)return this.$async(this.updateNodeAsync);this.ModalService.confirmUpdate("Draining this node will cause all workloads to be evicted from that node. This might lead to some service interruption. ",(e=>{if(e)return this.$async(this.updateNodeAsync)}))}}async getNodesAsync(){try{this.state.dataLoading=!0;const e=this.$transition$.params().name;this.nodes=await this.KubernetesNodeService.get(),this.node=l()(this.nodes,{Name:e}),this.state.isDrainOperation=l()(this.nodes,{Availability:this.availabilities.DRAIN})}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve node")}finally{this.state.dataLoading=!1}}hasResourceUsageAccess(){return this.state.useServerMetrics&&this.Authentication.hasAuthorizations(["K8sClusterNodeR"])}async getNodeUsageAsync(){try{const e=this.$transition$.params().name,t=await this.KubernetesMetricsService.getNode(e);this.resourceUsage=new b.KubernetesResourceReservation,this.resourceUsage.CPU=v.default.parseCPU(t.usage.cpu),this.resourceUsage.Memory=v.default.megaBytesValue(t.usage.memory)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve node resource usage")}}getNodeUsage(){return this.$async(this.getNodeUsageAsync)}getNodes(){return this.$async(this.getNodesAsync)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get();this.events=e.filter((e=>"Node"===e.Involved.kind)),this.state.eventWarningCount=y.default.warningCount(this.events)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve node events")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get(),this.resourceReservation=new b.KubernetesResourceReservation,this.applications=g()(this.applications,(e=>(e.Pods=p()(e.Pods,(e=>e.Node===this.node.Name)),e))),this.applications=p()(this.applications,(e=>0!==e.Pods.length)),this.applications=g()(this.applications,(e=>{const t=v.default.computeResourceReservation(e.Pods);return e.CPU=t.CPU,e.Memory=t.Memory,this.resourceReservation.CPU+=t.CPU,this.resourceReservation.Memory+=t.Memory,e})),this.resourceReservation.Memory=v.default.megaBytesValue(this.resourceReservation.Memory),this.memoryLimit=v.default.megaBytesValue(this.node.Memory),this.state.isContainPortainer=l()(this.applications,{ApplicationName:"portainer"}),this.node.CPU=Math.trunc(10*this.node.CPU)/10,this.hasResourceUsageAccess()&&await this.getNodeUsage()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async onInit(){this.state={activeTab:0,currentName:this.$state.$current.name,dataLoading:!0,eventsLoading:!0,applicationsLoading:!0,showEditorTab:!1,viewReady:!1,eventWarningCount:0,duplicateTaintKeys:[],hasDuplicateTaintKeys:!1,duplicateLabelKeys:[],hasDuplicateLabelKeys:!1,isDrainOperation:!1,isContainPortainer:!1,isAuthorized:this.Authentication.hasAuthorizations(["K8sClusterNodeW"]),useServerMetrics:!1},this.availabilities=S.KubernetesNodeAvailabilities,this.state.useServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics,this.state.activeTab=this.LocalStorage.getActiveTab("node"),await this.getNodes(),await this.getEvents(),await this.getApplications(),await this.getEndpoints(),this.availableEffects=s()(S.KubernetesNodeTaintEffects),this.formValues=w.default.nodeToFormValues(this.node),this.formValues.Labels=$.KubernetesNodeHelper.computeUsedLabels(this.applications,this.formValues.Labels),this.formValues.Labels=$.KubernetesNodeHelper.reorderLabels(this.formValues.Labels),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("node",0)}}C.$inject=["$async","$state","Notifications","LocalStorage","ModalService","Authentication","KubernetesNodeService","KubernetesEventService","KubernetesPodService","KubernetesApplicationService","KubernetesEndpointService","KubernetesMetricsService"];const A=C;f().module("portainer.kubernetes").controller("KubernetesNodeController",C)},83490:(e,t,n)=>{const a=n(49709);angular.module("portainer.kubernetes").component("kubernetesNodeStatsView",{templateUrl:a,controller:"KubernetesNodeStatsController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},2997:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var a=n(29274),s=n.n(a),i=n(4396),r=n.n(i),o=n(29500),l=n.n(o),c=n(22229),d=n(71541),u=n(52474);class p{constructor(e,t,n,a,s,i,r,o){this.$async=e,this.$state=t,this.$interval=n,this.$document=a,this.Notifications=s,this.KubernetesNodeService=i,this.KubernetesMetricsService=r,this.ChartService=o,this.onInit=this.onInit.bind(this)}changeUpdateRepeater(){var e=this.cpuChart,t=this.memoryChart;this.stopRepeater(),this.setUpdateRepeater(e,t),u("#refreshRateChange").show(),u("#refreshRateChange").fadeOut(d.PORTAINER_FADEOUT)}updateCPUChart(){const e=r()(this.stats.read).format("HH:mm:ss");this.ChartService.UpdateCPUChart(e,this.stats.CPUUsage,this.cpuChart)}updateMemoryChart(){const e=r()(this.stats.read).format("HH:mm:ss");this.ChartService.UpdateMemoryChart(e,this.stats.MemoryUsage,0,this.memoryChart)}stopRepeater(){var e=this.repeater;s().isDefined(e)&&(this.$interval.cancel(e),this.repeater=void 0)}setUpdateRepeater(){const e=this.state.refreshRate;this.repeater=this.$interval((async()=>{try{await this.getStats(),this.updateCPUChart(),this.updateMemoryChart()}catch(e){this.stopRepeater(),this.Notifications.error("Failure",e)}}),1e3*e)}initCharts(){const e=u("#cpuChart"),t=this.ChartService.CreateCPUChart(e);this.cpuChart=t;const n=u("#memoryChart"),a=this.ChartService.CreateMemoryChart(n);this.memoryChart=a,this.updateCPUChart(),this.updateMemoryChart(),this.setUpdateRepeater()}getStats(){return this.$async((async()=>{try{const e=await this.KubernetesMetricsService.getNode(this.state.transition.nodeName);if(e){const t=l()(e.usage.memory),n=c.default.parseCPU(e.usage.cpu);this.stats={read:e.creationTimestamp,MemoryUsage:t,CPUUsage:n/this.nodeCPU*100}}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve node stats")}}))}$onDestroy(){this.stopRepeater()}async onInit(){this.state={autoRefresh:!1,refreshRate:"30",viewReady:!1,transition:{nodeName:this.$transition$.params().name},getMetrics:!0};try{if(await this.KubernetesMetricsService.getNode(this.state.transition.nodeName)){const e=await this.KubernetesNodeService.get(this.state.transition.nodeName);this.nodeCPU=e.CPU||1,await this.getStats(),this.state.getMetrics&&this.$document.ready((()=>{this.initCharts()}))}else this.state.getMetrics=!1}catch(e){this.state.getMetrics=!1,this.Notifications.error("Failure",e,"Unable to retrieve node stats")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}p.$inject=["$async","$state","$interval","$document","Notifications","KubernetesNodeService","KubernetesMetricsService","ChartService"];const m=p;s().module("portainer.kubernetes").controller("KubernetesNodeStatsController",p)},56286:(e,t,n)=>{const a=n(79773);angular.module("portainer.kubernetes").component("kubernetesConfigurationsView",{templateUrl:a,controller:"KubernetesConfigurationsController",controllerAs:"ctrl"})},35752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(51780);class r{constructor(e,t,n,a,s,i){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesConfigurationService=a,this.KubernetesApplicationService=s,this.ModalService=i,this.onInit=this.onInit.bind(this),this.getConfigurations=this.getConfigurations.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.refreshCallback=this.refreshCallback.bind(this),this.refreshCallbackAsync=this.refreshCallbackAsync.bind(this)}async getConfigurationsAsync(){try{this.state.configurationsLoading=!0,this.configurations=await this.KubernetesConfigurationService.get(),i.default.setConfigurationsUsed(this.configurations,this.applications)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configurations")}finally{this.state.configurationsLoading=!1}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesConfigurationService.delete(n),this.Notifications.success("Configurations successfully removed",n.Name);const e=this.configurations.indexOf(n);this.configurations.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove configuration")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion("",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async refreshCallbackAsync(){await this.getConfigurations(),await this.getApplications()}refreshCallback(){return this.$async(this.refreshCallbackAsync)}async onInit(){this.state={configurationsLoading:!0,applicationsLoading:!0,viewReady:!1},await this.getApplications(),await this.getConfigurations(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}r.$inject=["$async","$state","Notifications","KubernetesConfigurationService","KubernetesApplicationService","ModalService"];const o=r;s().module("portainer.kubernetes").controller("KubernetesConfigurationsController",r)},9022:(e,t,n)=>{const a=n(5502);angular.module("portainer.kubernetes").component("kubernetesCreateConfigurationView",{templateUrl:a,controller:"KubernetesCreateConfigurationController",controllerAs:"ctrl"})},38646:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(51235),s=n.n(a),i=n(83432),r=n.n(i),o=n(29274),l=n.n(o),c=n(30578),d=n(82434),u=n(51780),p=n(7506);class m{constructor(e,t,n,a,s,i,r,o){this.$async=e,this.$state=t,this.$window=n,this.ModalService=a,this.Notifications=s,this.Authentication=i,this.KubernetesConfigurationService=r,this.KubernetesResourcePoolService=o,this.KubernetesConfigurationTypes=d.KubernetesConfigurationTypes,this.onInit=this.onInit.bind(this),this.createConfigurationAsync=this.createConfigurationAsync.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this)}onChangeName(){const e=r()(this.configurations,(e=>e.Namespace===this.formValues.ResourcePool.Namespace.Name));this.state.alreadyExist=void 0!==s()(e,(e=>e.Name===this.formValues.Name))}onResourcePoolSelectionChange(){this.onChangeName()}isFormValid(){const e=!this.state.alreadyExist&&this.state.isDataValid;return this.formValues.IsSimple?this.formValues.Data.length>0&&e&&this.formValues.ResourcePool:e&&this.formValues.ResourcePool}async createConfigurationAsync(){try{this.state.actionInProgress=!0,this.formValues.ConfigurationOwner=this.Authentication.getUserDetails().username,this.formValues.IsSimple||(this.formValues.Data=u.default.parseYaml(this.formValues)),await this.KubernetesConfigurationService.create(this.formValues),this.Notifications.success("Configuration succesfully created"),this.state.isEditorDirty=!1,this.$state.go("kubernetes.configurations")}catch(e){this.Notifications.error("Failure",e,"Unable to create configuration")}finally{this.state.actionInProgress=!1}}createConfiguration(){return this.$async(this.createConfigurationAsync)}async getConfigurationsAsync(){try{this.configurations=await this.KubernetesConfigurationService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configurations")}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}async uiCanExit(){if(!this.formValues.IsSimple&&this.formValues.DataYaml&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async onInit(){this.Authentication.redirectIfUnauthorized(["K8sConfigurationsDetailsW"]),this.state={actionInProgress:!1,viewReady:!1,alreadyExist:!1,isDataValid:!0,isEditorDirty:!1},this.formValues=new c.KubernetesConfigurationFormValues,this.formValues.Data.push(new c.KubernetesConfigurationFormValuesEntry);try{const e=await this.KubernetesResourcePoolService.get();if(this.resourcePools=r()(e,(e=>!p.default.isSystemNamespace(e.Namespace.Name))),this.formValues.ResourcePool=this.resourcePools[0],!this.formValues.ResourcePool)return;await this.getConfigurations()}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}this.$window.onbeforeunload=()=>{if(!this.formValues.IsSimple&&this.formValues.DataYaml&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}$onInit(){return this.$async(this.onInit)}}m.$inject=["$async","$state","$window","ModalService","Notifications","Authentication","KubernetesConfigurationService","KubernetesResourcePoolService"];const g=m;l().module("portainer.kubernetes").controller("KubernetesCreateConfigurationController",m)},78025:(e,t,n)=>{const a=n(61330);angular.module("portainer.kubernetes").component("kubernetesConfigurationView",{templateUrl:a,controller:"KubernetesConfigurationController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},55682:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var a=n(46006),s=n.n(a),i=n(83432),r=n.n(i),o=n(51235),l=n.n(o),c=n(29274),d=n.n(c),u=n(30578),p=n(82434),m=n(51780),g=n(10241),h=n(52929),f=n(7506),v=n(52474);class b{constructor(e,t,n,a,s,i,r,o,l,c,d,u,m,g){this.$async=e,this.$state=t,this.$window=n,this.clipboard=a,this.Notifications=s,this.LocalStorage=i,this.ModalService=u,this.Authentication=r,this.KubernetesConfigurationService=o,this.KubernetesConfigMapService=l,this.KubernetesSecretService=c,this.KubernetesResourcePoolService=d,this.KubernetesApplicationService=m,this.KubernetesEventService=g,this.KubernetesConfigurationTypes=p.KubernetesConfigurationTypes,this.onInit=this.onInit.bind(this),this.getConfigurationAsync=this.getConfigurationAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.getApplications=this.getApplications.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.updateConfiguration=this.updateConfiguration.bind(this),this.updateConfigurationAsync=this.updateConfigurationAsync.bind(this)}isSystemNamespace(){return f.default.isSystemNamespace(this.configuration.Namespace)}isSystemConfig(){return this.isSystemNamespace()||this.configuration.IsRegistrySecret}selectTab(e){this.LocalStorage.storeActiveTab("configuration",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}copyConfigurationValue(e){this.clipboard.copyText(this.formValues.Data[e].Value),v("#copyValueNotification_"+e).show().fadeOut(2500)}isFormValid(){return this.formValues.IsSimple?this.formValues.Data.length>0&&this.state.isDataValid:this.state.isDataValid}async updateConfigurationAsync(){try{this.state.actionInProgress=!0,this.formValues.Type!==this.configuration.Type||this.formValues.ResourcePool.Namespace.Name!==this.configuration.Namespace||this.formValues.Name!==this.configuration.Name?(await this.KubernetesConfigurationService.create(this.formValues),await this.KubernetesConfigurationService.delete(this.configuration),this.Notifications.success("Configuration succesfully updated"),this.$state.go("kubernetes.configurations.configuration",{namespace:this.formValues.ResourcePool.Namespace.Name,name:this.formValues.Name},{reload:!0})):(await this.KubernetesConfigurationService.update(this.formValues,this.configuration),this.Notifications.success("Configuration succesfully updated"),this.$state.reload(this.$state.current))}catch(e){this.Notifications.error("Failure",e,"Unable to update configuration")}finally{this.state.actionInProgress=!1}}updateConfiguration(){if(!this.configuration.Used)return this.$async(this.updateConfigurationAsync);{const e=this.configuration.Applications.length>1?"s":"";this.ModalService.confirmUpdate(`The changes will be propagated to ${this.configuration.Applications.length} running application${e}. Are you sure you want to update this configuration?`,(e=>{if(e)return this.$async(this.updateConfigurationAsync)}))}}async getConfigurationAsync(){try{this.state.configurationLoading=!0;const e=this.$transition$.params().name,t=this.$transition$.params().namespace,[n,a]=await Promise.allSettled([this.KubernetesConfigMapService.get(t,e),this.KubernetesSecretService.get(t,e)]);if("rejected"===a.status&&403===a.reason.err.status)throw this.$state.go("kubernetes.configurations"),new Error("");return"fulfilled"===a.status?(this.configuration=g.default.secretToConfiguration(a.value),this.formValues.Data=a.value.Data):(this.configuration=g.default.configMapToConfiguration(n.value),this.formValues.Data=n.value.Data),this.formValues.ResourcePool=l()(this.resourcePools,(e=>e.Namespace.Name===this.configuration.Namespace)),this.formValues.Id=this.configuration.Id,this.formValues.Name=this.configuration.Name,this.formValues.Type=this.configuration.Type,this.oldDataYaml=this.formValues.DataYaml,this.configuration}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configuration")}finally{this.state.configurationLoading=!1}}getConfiguration(){return this.$async(this.getConfigurationAsync)}async getApplicationsAsync(e){try{this.state.applicationsLoading=!0;const t=await this.KubernetesApplicationService.get(e);this.configuration.Applications=m.default.getUsingApplications(this.configuration,t),m.default.setConfigurationUsed(this.configuration)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}finally{this.state.applicationsLoading=!1}}getApplications(e){return this.$async(this.getApplicationsAsync,e)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(e){try{this.state.eventsLoading=!0,this.events=await this.KubernetesEventService.get(e),this.events=r()(this.events,(e=>e.Involved.uid===this.configuration.Id)),this.state.eventWarningCount=h.default.warningCount(this.events)}catch(e){this.Notifications("Failure",e,"Unable to retrieve events")}finally{this.state.eventsLoading=!1}}getEvents(e){return this.$async(this.getEventsAsync,e)}async getConfigurationsAsync(){try{this.configurations=await this.KubernetesConfigurationService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configurations")}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}tagUsedDataKeys(){const e=this.$transition$.params().name,t=s()(this.configuration.Applications.flatMap((t=>t.Env.filter((t=>t.valueFrom&&t.valueFrom.configMapKeyRef&&t.valueFrom.configMapKeyRef.name===e)).map((e=>e.name)))));this.formValues.Data=this.formValues.Data.map((e=>t.includes(e.Key)?{...e,Used:!0}:e))}async uiCanExit(){if(!this.formValues.IsSimple&&this.formValues.DataYaml!==this.oldDataYaml&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async onInit(){try{this.state={actionInProgress:!1,configurationLoading:!0,applicationsLoading:!0,eventsLoading:!0,showEditorTab:!1,viewReady:!1,eventWarningCount:0,activeTab:0,currentName:this.$state.$current.name,isDataValid:!0,isAuthorized:this.Authentication.hasAuthorizations(["K8sConfigurationsDetailsW"]),isEditorDirty:!1},this.state.activeTab=this.LocalStorage.getActiveTab("configuration"),this.formValues=new u.KubernetesConfigurationFormValues,this.resourcePools=await this.KubernetesResourcePoolService.get(),await this.getConfiguration()&&(await this.getApplications(this.configuration.Namespace),await this.getEvents(this.configuration.Namespace),await this.getConfigurations()),this.tagUsedDataKeys()}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}this.$window.onbeforeunload=()=>{if(!this.formValues.IsSimple&&this.formValues.DataYaml!==this.oldDataYaml&&this.state.isEditorDirty)return""}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("configuration",0),this.state.isEditorDirty=!1}}b.$inject=["$async","$state","$window","clipboard","Notifications","LocalStorage","Authentication","KubernetesConfigurationService","KubernetesConfigMapService","KubernetesSecretService","KubernetesResourcePoolService","ModalService","KubernetesApplicationService","KubernetesEventService"];const y=b;d().module("portainer.kubernetes").controller("KubernetesConfigurationController",b)},71244:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var a=n(83432),s=n.n(a),i=n(46545),r=n.n(i),o=n(67386),l=n.n(o),c=n(51235),d=n.n(c),u=n(44716),p=n.n(u),m=n(66539),g=n.n(m),h=n(41952),f=n.n(h),v=n(29274),b=n.n(v),y=n(86871),w=n(14917),x=n(27155),S=n(54241),k=n(62072),$=n(7506),C=n(26196);class A{constructor(e,t,n,a,s,i,r,o,l,c,d,u){this.$analytics=e,this.$async=t,this.$state=n,this.$scope=a,this.Notifications=s,this.KubernetesStorageService=i,this.EndpointService=r,this.EndpointProvider=o,this.ModalService=l,this.KubernetesResourcePoolService=c,this.KubernetesIngressService=d,this.KubernetesMetricsService=u,this.IngressClassTypes=k.KubernetesIngressClassTypes,this.onInit=this.onInit.bind(this),this.configureAsync=this.configureAsync.bind(this),this.limitedFeature=C.tE.K8S_SETUP_DEFAULT,this.limitedFeatureAutoWindow=C.tE.HIDE_AUTO_UPDATE_WINDOW,this.onToggleAutoUpdate=this.onToggleAutoUpdate.bind(this),this.onChangeEnableResourceOverCommit=this.onChangeEnableResourceOverCommit.bind(this)}storageClassAvailable(){return this.StorageClasses&&this.StorageClasses.length>0}hasValidStorageConfiguration(){let e=!0;return f()(this.StorageClasses,(t=>{t.selected&&0===t.AccessModes.length&&(e=!1)})),e}addIngressClass(){this.formValues.IngressClasses.push(new x.KubernetesIngressClass),this.onChangeIngressClass()}restoreIngressClass(e){this.formValues.IngressClasses[e].NeedsDeletion=!1,this.onChangeIngressClass()}removeIngressClass(e){this.formValues.IngressClasses[e].IsNew?this.formValues.IngressClasses.splice(e,1):this.formValues.IngressClasses[e].NeedsDeletion=!0,this.onChangeIngressClass()}onChangeIngressClass(){const e=this.state.duplicates.ingressClasses,t=g()(this.formValues.IngressClasses,(e=>e.NeedsDeletion?void 0:e.Name)),n=S.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onChangeIngressClassName(e){const t=this.formValues.IngressClasses[e];p()(t.Name,k.KubernetesIngressClassTypes.NGINX)?t.Type=k.KubernetesIngressClassTypes.NGINX:p()(t.Name,k.KubernetesIngressClassTypes.TRAEFIK)&&(t.Type=k.KubernetesIngressClassTypes.TRAEFIK),this.onChangeIngressClass()}hasTraefikIngress(){return d()(this.formValues.IngressClasses,{Type:this.IngressClassTypes.TRAEFIK})}onChangeEnableResourceOverCommit(e){this.$scope.$evalAsync((()=>{this.formValues.EnableResourceOverCommit=e,e&&(this.formValues.ResourceOverCommitPercentage=20)}))}assignFormValuesToEndpoint(e,t,n){e.Kubernetes.Configuration.StorageClasses=t,e.Kubernetes.Configuration.UseLoadBalancer=this.formValues.UseLoadBalancer,e.Kubernetes.Configuration.UseServerMetrics=this.formValues.UseServerMetrics,e.Kubernetes.Configuration.EnableResourceOverCommit=this.formValues.EnableResourceOverCommit,e.Kubernetes.Configuration.ResourceOverCommitPercentage=this.formValues.ResourceOverCommitPercentage,e.Kubernetes.Configuration.IngressClasses=n,e.Kubernetes.Configuration.RestrictDefaultNamespace=this.formValues.RestrictDefaultNamespace,e.ChangeWindow=this.state.autoUpdateSettings}transformFormValues(){const e=g()(this.StorageClasses,(e=>{if(e.selected){const t=new y.KubernetesStorageClass;return t.Name=e.Name,t.AccessModes=g()(e.AccessModes,"Name"),t.Provisioner=e.Provisioner,t.AllowVolumeExpansion=e.AllowVolumeExpansion,t}}));l()(e,void 0);const t=r()(g()(this.formValues.IngressClasses,(e=>e.NeedsDeletion?void 0:e)),void 0);return l()(t,void 0),[e,t]}async removeIngressesAcrossNamespaces(){const e=s()(this.formValues.IngressClasses,{NeedsDeletion:!0});if(!e.length)return;const t=[],n=this.EndpointProvider.endpointID();this.EndpointProvider.setEndpointID(this.endpoint.Id);try{const a=await this.KubernetesResourcePoolService.get(),i=s()(a,(e=>!$.default.isSystemNamespace(e.Namespace.Name)&&!$.default.isDefaultNamespace(e.Namespace.Name)));e.forEach((e=>{i.forEach((n=>{t.push(this.KubernetesIngressService.delete(n.Namespace.Name,e.Name))}))}))}finally{this.EndpointProvider.setEndpointID(n)}(await Promise.allSettled(t)).forEach((e=>{if("rejected"==e.status&&404!=e.reason.err.status)throw e.reason}))}enableMetricsServer(){this.formValues.UseServerMetrics?(this.state.metrics.userClick=!0,this.state.metrics.pending=!0,this.KubernetesMetricsService.capabilities(this.endpoint.Id).then((()=>{this.state.metrics.isServerRunning=!0,this.state.metrics.pending=!1,this.formValues.UseServerMetrics=!0})).catch((()=>{this.state.metrics.isServerRunning=!1,this.state.metrics.pending=!1,this.formValues.UseServerMetrics=!1}))):(this.state.metrics.userClick=!1,this.formValues.UseServerMetrics=!1)}async configureAsync(){try{this.state.actionInProgress=!0;const[e,t]=this.transformFormValues();await this.removeIngressesAcrossNamespaces(),this.assignFormValuesToEndpoint(this.endpoint,e,t),await this.EndpointService.updateEndpoint(this.endpoint.Id,this.endpoint);const n=g()(e,(e=>{const t=d()(this.oldStorageClasses,{Name:e.Name});if(t)return this.KubernetesStorageService.patch(this.state.endpointId,t,e)}));await Promise.all(n);const a=this.EndpointProvider.endpoints(),s=d()(a,(e=>e.Id===this.endpoint.Id));s&&(this.assignFormValuesToEndpoint(s,e,t),this.EndpointProvider.setEndpoints(a)),this.Notifications.success("Configuration successfully applied"),this.$state.go("portainer.home")}catch(e){this.Notifications.error("Failure",e,"Unable to apply configuration")}finally{this.state.actionInProgress=!1,this.$analytics.eventTrack("time-window-create",{category:"kubernetes",metadata:{"Start-time":this.state.autoUpdateSettings.StartTime,"End-time":this.state.autoUpdateSettings.EndTime,"Time-zone":this.state.timeZone}})}}configure(){if(!s()(this.formValues.IngressClasses,{NeedsDeletion:!0}).length)return this.$async(this.configureAsync);this.ModalService.confirmUpdate("Removing ingress controllers may cause applications to be unaccessible. All ingress configurations from affected applications will be removed.<br/><br/>Do you wish to continue?",(e=>{if(e)return this.$async(this.configureAsync)}))}restrictDefaultToggledOn(){return this.formValues.RestrictDefaultNamespace&&!this.oldFormValues.RestrictDefaultNamespace}onToggleAutoUpdate(e){return this.$scope.$evalAsync((()=>{this.state.autoUpdateSettings.Enabled=e}))}async onInit(){this.state={actionInProgress:!1,displayConfigureClassPanel:{},viewReady:!1,endpointId:this.$state.params.id,duplicates:{ingressClasses:new w.KubernetesFormValidationReferences},metrics:{pending:!1,isServerRunning:!1,userClick:!1},timeZone:""},this.formValues={UseLoadBalancer:!1,UseServerMetrics:!1,EnableResourceOverCommit:!0,ResourceOverCommitPercentage:20,IngressClasses:[],RestrictDefaultNamespace:!1,enableAutoUpdateTimeWindow:!1};try{[this.StorageClasses,this.endpoint]=await Promise.all([this.KubernetesStorageService.get(this.state.endpointId),this.EndpointService.endpoint(this.state.endpointId)]),this.state.autoUpdateSettings=this.endpoint.ChangeWindow,f()(this.StorageClasses,(e=>{e.availableAccessModes=new y.KubernetesStorageClassAccessPolicies;const t=d()(this.endpoint.Kubernetes.Configuration.StorageClasses,(t=>t.Name===e.Name));t&&(e.selected=!0,f()(t.AccessModes,(t=>{const n=d()(e.availableAccessModes,{Name:t});n&&(n.selected=!0)})))})),this.oldStorageClasses=b().copy(this.StorageClasses),this.formValues.UseLoadBalancer=this.endpoint.Kubernetes.Configuration.UseLoadBalancer,this.formValues.UseServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics,this.formValues.EnableResourceOverCommit=this.endpoint.Kubernetes.Configuration.EnableResourceOverCommit,this.formValues.ResourceOverCommitPercentage=this.endpoint.Kubernetes.Configuration.ResourceOverCommitPercentage,this.formValues.RestrictDefaultNamespace=this.endpoint.Kubernetes.Configuration.RestrictDefaultNamespace,this.formValues.IngressClasses=g()(this.endpoint.Kubernetes.Configuration.IngressClasses,(e=>(e.IsNew=!1,e.NeedsDeletion=!1,e))),this.oldFormValues=Object.assign({},this.formValues)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment configuration")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}A.$inject=["$analytics","$async","$state","$scope","Notifications","KubernetesStorageService","EndpointService","EndpointProvider","ModalService","KubernetesResourcePoolService","KubernetesIngressService","KubernetesMetricsService"];const P=A;b().module("portainer.kubernetes").controller("KubernetesConfigureController",A)},15219:(e,t,n)=>{const a=n(38947);angular.module("portainer.kubernetes").component("kubernetesDashboardView",{templateUrl:a,controller:"KubernetesDashboardController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},79581:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(66539),s=n.n(a),i=n(83432),r=n.n(i),o=n(89858),l=n.n(o),c=n(29274),d=n.n(c),u=n(51780),p=n(7506);class m{constructor(e,t,n,a,s,i,r,o,l){this.$async=e,this.Notifications=t,this.EndpointService=n,this.KubernetesResourcePoolService=a,this.KubernetesApplicationService=s,this.KubernetesConfigurationService=i,this.KubernetesVolumeService=r,this.Authentication=o,this.TagService=l,this.onInit=this.onInit.bind(this),this.getAll=this.getAll.bind(this),this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(){const e=this.Authentication.isAdmin();try{const[t,n,a,i,o]=await Promise.all([this.KubernetesResourcePoolService.get(),this.KubernetesApplicationService.get(),this.KubernetesConfigurationService.get(),this.KubernetesVolumeService.get(),this.TagService.tags()]);this.applications=n,this.volumes=i,this.endpointTags=this.endpoint.TagIds.length?l()(r()(s()(this.endpoint.TagIds,(e=>{const t=o.find((t=>t.Id===e));return t?t.Name:""})),Boolean),", "):"-",e?(this.pools=t,this.configurations=a):(this.pools=r()(t,(e=>!p.default.isSystemNamespace(e.Namespace.Name))),this.configurations=r()(a,(e=>!u.default.isSystemToken(e))))}catch(e){this.Notifications.error("Failure",e,"Unable to load dashboard data")}}getAll(){return this.$async(this.getAllAsync)}async onInit(){this.state={viewReady:!1},await this.getAll(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}m.$inject=["$async","Notifications","EndpointService","KubernetesResourcePoolService","KubernetesApplicationService","KubernetesConfigurationService","KubernetesVolumeService","Authentication","TagService"];const g=m;d().module("portainer.kubernetes").controller("KubernetesDashboardController",m)},36661:(e,t,n)=>{const a=n(32635);angular.module("portainer.kubernetes").component("kubernetesDeployView",{templateUrl:a,controller:"KubernetesDeployController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},23322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var a=n(66539),s=n.n(a),i=n(4622),r=n.n(i),o=n(29274),l=n.n(o),c=n(15964),d=n.n(c),u=n(65808),p=n.n(u),m=n(20023),g=n(6253),h=n(56619);class f{constructor(e,t,n,a,s,i,r,o,l,c){this.$async=e,this.$state=t,this.$window=n,this.Authentication=a,this.CustomTemplateService=s,this.ModalService=i,this.Notifications=r,this.KubernetesResourcePoolService=o,this.StackService=l,this.WebhookHelper=c,this.DeployMethod="manifest",this.deployOptions=[(0,h.es)("method_kubernetes","fa fa-cubes","Kubernetes","Kubernetes manifest format",g.KubernetesDeployManifestTypes.KUBERNETES),(0,h.es)("method_compose","fab fa-docker","Compose","docker-compose format",g.KubernetesDeployManifestTypes.COMPOSE)],this.methodOptions=[(0,h.es)("method_repo","fab fa-github","Git Repository","Use a git repository",g.KubernetesDeployBuildMethods.GIT),(0,h.es)("method_editor","fa fa-edit","Web editor","Use our Web editor",g.KubernetesDeployBuildMethods.WEB_EDITOR),(0,h.es)("method_url","fa fa-globe","URL","Specify a URL to a file",g.KubernetesDeployBuildMethods.URL),(0,h.es)("method_template","fa fa-rocket","Custom Template","Use a custom template",g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE)],this.state={DeployType:g.KubernetesDeployManifestTypes.KUBERNETES,BuildMethod:g.KubernetesDeployBuildMethods.GIT,tabLogsDisabled:!0,activeTab:0,viewReady:!1,isEditorDirty:!1,templateId:null},this.formValues={StackName:"",RepositoryURL:"",RepositoryReferenceName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",AdditionalFiles:[],ComposeFilePathInRepository:"",RepositoryAutomaticUpdates:!1,RepositoryAutomaticUpdatesForce:!1,RepositoryMechanism:g.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:"5m",RepositoryWebhookURL:c.returnStackWebhookUrl(d()())},this.ManifestDeployTypes=g.KubernetesDeployManifestTypes,this.BuildMethods=g.KubernetesDeployBuildMethods,this.onChangeTemplateId=this.onChangeTemplateId.bind(this),this.deployAsync=this.deployAsync.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.getNamespacesAsync=this.getNamespacesAsync.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.buildAnalyticsProperties=this.buildAnalyticsProperties.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeDeployType=this.onChangeDeployType.bind(this)}buildAnalyticsProperties(){const e={type:function(e){switch(e){case g.KubernetesDeployBuildMethods.GIT:return"git";case g.KubernetesDeployBuildMethods.WEB_EDITOR:return"web-editor"}}(this.state.BuildMethod),format:function(e){switch(e){case g.KubernetesDeployManifestTypes.COMPOSE:return"compose";case g.KubernetesDeployManifestTypes.KUBERNETES:return"manifest"}}(this.state.DeployType),role:(t=this.Authentication.isAdmin(),n=this.Authentication.hasAuthorizations(["EndpointResourcesAccess"]),t?"admin":n?"endpoint-admin":"standard"),"automatic-updates":function(e,t){switch(e&&t){case g.RepositoryMechanismTypes.INTERVAL:return"polling";case g.RepositoryMechanismTypes.WEBHOOK:return"webhook";default:return"off"}}(this.formValues.RepositoryAutomaticUpdates,this.formValues.RepositoryMechanism)};var t,n;return this.state.BuildMethod===g.KubernetesDeployBuildMethods.GIT&&(e.auth=this.formValues.RepositoryAuthentication),{metadata:e}}onChangeMethod(e){this.state.BuildMethod=e}onChangeDeployType(e){this.state.DeployType=e,e==this.ManifestDeployTypes.COMPOSE?this.DeployMethod="compose":this.DeployMethod="manifest"}disableDeploy(){const e=this.state.BuildMethod===g.KubernetesDeployBuildMethods.GIT&&(!this.formValues.RepositoryURL||!this.formValues.FilePathInRepository||this.formValues.RepositoryAuthentication&&!this.formValues.RepositoryPassword)&&r()(this.formValues.Namespace),t=this.state.BuildMethod===g.KubernetesDeployBuildMethods.WEB_EDITOR&&r()(this.formValues.EditorContent)&&r()(this.formValues.Namespace),n=this.state.BuildMethod==g.KubernetesDeployBuildMethods.WEB_EDITOR.URL&&r()(this.formValues.ManifestURL),a=r()(this.formValues.Namespace);return!this.formValues.StackName||e||t||n||this.state.actionInProgress||a}onChangeFormValues(e){this.formValues={...this.formValues,...e}}onChangeTemplateId(e){return this.$async((async()=>{if(this.state.templateId!==e){this.state.templateId=e;try{const t=await this.CustomTemplateService.customTemplateFile(e);this.onChangeFileContent(t)}catch(e){this.Notifications.error("Failure",e,"Unable to load template file")}}}))}onChangeFileContent(e){this.formValues.EditorContent=e,this.state.isEditorDirty=!0}displayErrorLog(e){this.errorLog=p()(e),this.state.tabLogsDisabled=!1,this.state.activeTab=1}async deployAsync(){this.errorLog="",this.state.actionInProgress=!0;try{let e,t=this.state.DeployType===this.ManifestDeployTypes.COMPOSE;switch(this.state.BuildMethod){case this.BuildMethods.GIT:e=g.KubernetesDeployRequestMethods.REPOSITORY;break;case this.BuildMethods.WEB_EDITOR:e=g.KubernetesDeployRequestMethods.STRING;break;case g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE:e=g.KubernetesDeployRequestMethods.STRING,t=!1;break;case this.BuildMethods.URL:e=g.KubernetesDeployRequestMethods.URL;break;default:throw new m.Z("Unable to determine build method")}let n="";"default"!==this.formValues.Namespace&&(n=this.formValues.Namespace);const a={ComposeFormat:t,Namespace:n,StackName:this.formValues.StackName};e===g.KubernetesDeployRequestMethods.REPOSITORY?(a.RepositoryURL=this.formValues.RepositoryURL,a.RepositoryReferenceName=this.formValues.RepositoryReferenceName,a.RepositoryAuthentication=!!this.formValues.RepositoryAuthentication,a.RepositoryAuthentication&&(a.RepositoryUsername=this.formValues.RepositoryUsername,a.RepositoryPassword=this.formValues.RepositoryPassword),a.ManifestFile=this.formValues.ComposeFilePathInRepository,a.AdditionalFiles=this.formValues.AdditionalFiles,this.formValues.RepositoryAutomaticUpdates&&(a.AutoUpdate={ForceUpdate:this.formValues.RepositoryAutomaticUpdatesForce},this.formValues.RepositoryMechanism===g.RepositoryMechanismTypes.INTERVAL?a.AutoUpdate.Interval=this.formValues.RepositoryFetchInterval:this.formValues.RepositoryMechanism===g.RepositoryMechanismTypes.WEBHOOK&&(a.AutoUpdate.Webhook=this.formValues.RepositoryWebhookURL.split("/").reverse()[0]))):e===g.KubernetesDeployRequestMethods.STRING?a.StackFileContent=this.formValues.EditorContent:a.ManifestURL=this.formValues.ManifestURL,await this.StackService.kubernetesDeploy(this.endpoint.Id,e,a),this.Notifications.success("Manifest successfully deployed"),this.state.isEditorDirty=!1,this.$state.go("kubernetes.applications")}catch(e){this.Notifications.error("Unable to deploy manifest",e,"Unable to deploy resources"),this.displayErrorLog(e.err.data.details)}finally{this.state.actionInProgress=!1}}deploy(){return this.$async(this.deployAsync)}async getNamespacesAsync(){try{const e=await this.KubernetesResourcePoolService.get(),t=s()(e,"Namespace").sort(((e,t)=>"default"===e.Name?-1:"default"===t.Name?1:0));this.namespaces=t,this.namespaces.length>0&&(this.formValues.Namespace=this.namespaces[0].Name)}catch(e){this.Notifications.error("Failure",e,"Unable to load namespaces data")}}getNamespaces(){return this.$async(this.getNamespacesAsync)}async uiCanExit(){if(this.formValues.EditorContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}$onInit(){return this.$async((async()=>{if(await this.getNamespaces(),this.$state.params.templateId){const e=parseInt(this.$state.params.templateId,10);e&&!Number.isNaN(e)&&(this.state.BuildMethod=g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE,this.onChangeTemplateId(e))}this.state.viewReady=!0,this.$window.onbeforeunload=()=>{if(this.formValues.EditorContent&&this.state.isEditorDirty)return""}}))}$onDestroy(){this.state.isEditorDirty=!1}}f.$inject=["$async","$state","$window","Authentication","CustomTemplateService","ModalService","Notifications","KubernetesResourcePoolService","StackService","WebhookHelper"];const v=f;l().module("portainer.kubernetes").controller("KubernetesDeployController",f)},28311:(e,t,n)=>{const a=n(9273);angular.module("portainer.kubernetes").component("kubernetesResourcePoolAccessView",{templateUrl:a,controller:"KubernetesResourcePoolAccessController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},38513:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(25445),s=n.n(a),i=n(46545),r=n.n(i),o=n(83432),l=n.n(o),c=n(29274),d=n.n(c),u=n(13978),p=n(93133),m=n(58007),g=n(61969);class h{constructor(e,t,n,a,s,i,r,o,l){this.$async=e,this.$state=t,this.Notifications=n,this.EndpointService=a,this.KubernetesResourcePoolService=s,this.KubernetesConfigMapService=i,this.GroupService=r,this.AccessService=o,this.RoleService=l,this.onInit=this.onInit.bind(this),this.authorizeAccessAsync=this.authorizeAccessAsync.bind(this),this.unauthorizeAccessAsync=this.unauthorizeAccessAsync.bind(this),this.unauthorizeAccess=this.unauthorizeAccess.bind(this)}initAccessConfigMap(e){return e.Name=u.KubernetesPortainerConfigMapConfigName,e.Namespace=u.KubernetesPortainerConfigMapNamespace,e.Data[u.KubernetesPortainerConfigMapAccessKey]={},e}async onInit(){const e=this.endpoint;this.state={actionInProgress:!1,viewReady:!1},this.formValues={multiselectOutput:[]};try{const t=this.$transition$.params().id;let[n,a]=await Promise.all([this.KubernetesResourcePoolService.get(t),this.KubernetesConfigMapService.getAccess(u.KubernetesPortainerConfigMapNamespace,u.KubernetesPortainerConfigMapConfigName)]);const s=await this.GroupService.group(e.GroupId),i=await this.RoleService.roles(),o=await this.AccessService.accesses(e,s,i);this.pool=n,0===a.Id&&(a=this.initAccessConfigMap(a)),a=m.default.parseJSONData(a),this.authorizedUsersAndTeams=[],this.accessConfigMap=a;const c=a.Data[u.KubernetesPortainerConfigMapAccessKey][t];c&&(this.authorizedUsersAndTeams=l()(o.authorizedUsersAndTeams,(e=>e instanceof p.UserAccessViewModel&&c.UserAccessPolicies?void 0!==c.UserAccessPolicies[e.Id]:!!(e instanceof p.TeamAccessViewModel&&c.TeamAccessPolicies)&&void 0!==c.TeamAccessPolicies[e.Id]))),this.availableUsersAndTeams=r()(o.authorizedUsersAndTeams,...this.authorizedUsersAndTeams),this.availableUsersAndTeams=l()(this.availableUsersAndTeams,(e=>[g.RoleTypes.STANDARD,g.RoleTypes.READ_ONLY].includes(e.Role.Id)))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespace information")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}async authorizeAccessAsync(){try{this.state.actionInProgress=!0;const e=s()(this.authorizedUsersAndTeams,this.formValues.multiselectOutput),t=m.default.modifiyNamespaceAccesses(d().copy(this.accessConfigMap),this.pool.Namespace.Name,e),n=[],a=[];for(const e of this.formValues.multiselectOutput||[])"user"===e.Type?n.push(e.Id):"team"===e.Type&&a.push(e.Id);await this.KubernetesConfigMapService.updateAccess(t),await this.EndpointService.updatePoolAccess(this.endpoint.Id,this.pool.Namespace.Name,n,a,[],[]),this.Notifications.success("Access successfully created"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to create accesses")}}authorizeAccess(){return this.$async(this.authorizeAccessAsync)}async unauthorizeAccessAsync(e){try{this.state.actionInProgress=!0;const t=r()(this.authorizedUsersAndTeams,...e),n=m.default.modifiyNamespaceAccesses(d().copy(this.accessConfigMap),this.pool.Namespace.Name,t),a=[],s=[];for(const t of e||[])"user"===t.Type?a.push(t.Id):"team"===t.Type&&s.push(t.Id);await this.KubernetesConfigMapService.updateAccess(n),await this.EndpointService.updatePoolAccess(this.endpoint.Id,this.pool.Namespace.Name,[],[],a,s),this.Notifications.success("Access successfully removed"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to remove accesses")}finally{this.state.actionInProgress=!1}}unauthorizeAccess(e){return this.$async(this.unauthorizeAccessAsync,e)}}h.$inject=["$async","$state","Notifications","EndpointService","KubernetesResourcePoolService","KubernetesConfigMapService","GroupService","AccessService","RoleService"];const f=h;d().module("portainer.kubernetes").controller("KubernetesResourcePoolAccessController",h)},74474:(e,t,n)=>{"use strict";n.r(t),n.d(t,{storageClassSwitch:()=>r});var a=n(29274),s=n.n(a),i=n(10405);const r={templateUrl:n(87925),controller:i.default,bindings:{value:"<",onChange:"<",name:"<"}};s().module("portainer.kubernetes").component("storageClassSwitch",r)},10405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(26196);class s{constructor(){this.featureId=a.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,this.handleChange=this.handleChange.bind(this)}handleChange(e){this.onChange(this.name,e)}}s.$inject=[];const i=s},19777:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(83908);const r=n(28134);s().module("portainer.kubernetes").component("kubernetesCreateResourcePoolView",{templateUrl:r,controller:i.default,bindings:{endpoint:"<"}})},83908:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var a=n(51235),s=n.n(a),i=n(5777),r=n.n(i),o=n(44716),l=n.n(o),c=n(41952),d=n.n(c),u=n(83432),p=n.n(u),m=n(20810),g=n.n(m),h=n(74362),f=n.n(h),v=n(47685),b=n(22229),y=n(16496),w=n(47086),x=n(54241),S=n(14917),k=n(62072),$=n(17981),C=n(26196);class A{constructor(e,t,n,a,s,i,r,o,l){Object.assign(this,{$async:e,$state:t,$scope:n,Notifications:a,KubernetesNodeService:s,KubernetesResourcePoolService:i,KubernetesIngressService:r,Authentication:o,EndpointService:l}),this.IngressClassTypes=k.KubernetesIngressClassTypes,this.LBQuotaFeatureId=C.tE.K8S_RESOURCE_POOL_LB_QUOTA,this.onToggleStorageQuota=this.onToggleStorageQuota.bind(this),this.onToggleLoadBalancerQuota=this.onToggleLoadBalancerQuota.bind(this)}onToggleStorageQuota(e,t){this.$scope.$evalAsync((()=>{this.formValues.StorageClasses=this.formValues.StorageClasses.map((n=>n.Name!==e?n:{...n,Selected:t}))}))}onToggleLoadBalancerQuota(e){this.$scope.$evalAsync((()=>{this.formValues.UseLoadBalancersQuota=e}))}onChangeIngressHostname(){const e=this.state.duplicates.ingressHosts,t=f()(this.formValues.IngressClasses,"Hosts"),n=g()(t.map((e=>e.Host))),a=p()(n,(e=>!e.NeedsDeletion)),s=f()(this.allIngresses,"Hosts"),i=x.default.getDuplicates(a);d()(n,((e,t)=>{void 0!==e&&l()(s,e)&&(i[t]=e)}));const o={};let c=0;d()(this.formValues.IngressClasses,(e=>{o[e.IngressClass.Name]={},d()(e.Hosts,((t,n)=>{t.Host===i[c]&&(o[e.IngressClass.Name][n]=t.Host),c++}))})),e.refs=o,e.hasRefs=!1,r()(o,(t=>{Object.keys(t).length>0&&(e.hasRefs=!0)}))}addHostname(e){e.Hosts.push(new y.KubernetesResourcePoolIngressClassHostFormValue)}removeHostname(e,t){e.Hosts.splice(t,1),this.onChangeIngressHostname()}addAnnotation(e){e.Annotations.push(new y.KubernetesResourcePoolIngressClassAnnotationFormValue)}removeAnnotation(e,t){e.Annotations.splice(t,1)}isCreateButtonDisabled(){return this.state.actionInProgress||this.formValues.HasQuota&&!this.isQuotaValid()||this.state.isAlreadyExist||this.state.hasPrefixKube||this.state.duplicates.ingressHosts.hasRefs}onChangeName(){this.state.isAlreadyExist=void 0!==s()(this.resourcePools,(e=>e.Namespace.Name===this.formValues.Name)),this.state.hasPrefixKube=/^kube-/.test(this.formValues.Name)}isQuotaValid(){return!(this.state.sliderMaxCpu<this.formValues.CpuLimit||this.state.sliderMaxMemory<this.formValues.MemoryLimit||0===this.formValues.CpuLimit&&0===this.formValues.MemoryLimit)}checkDefaults(){this.formValues.CpuLimit<this.defaults.CpuLimit&&(this.formValues.CpuLimit=this.defaults.CpuLimit),this.formValues.MemoryLimit<b.default.megaBytesValue(this.defaults.MemoryLimit)&&(this.formValues.MemoryLimit=b.default.megaBytesValue(this.defaults.MemoryLimit))}createResourcePool(){return this.$async((async()=>{this.state.actionInProgress=!0;try{this.checkDefaults();const e=this.Authentication.getUserDetails().username;this.formValues.Owner=e,await this.KubernetesResourcePoolService.create(this.formValues),this.Notifications.success("Namespace successfully created",this.formValues.Name),this.$state.go("kubernetes.resourcePools")}catch(e){this.Notifications.error("Failure",e,"Unable to create namespace")}finally{this.state.actionInProgress=!1}}))}getIngresses(){return this.$async((async()=>{try{this.allIngresses=await this.KubernetesIngressService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve ingresses.")}}))}getResourcePools(){return this.$async((async()=>{try{this.resourcePools=await this.KubernetesResourcePoolService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespaces")}}))}getRegistries(){return this.$async((async()=>{try{this.registries=await this.EndpointService.registries(this.endpoint.Id)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}}))}$onInit(){return this.$async((async()=>{try{this.Authentication.redirectIfUnauthorized(["K8sResourcePoolDetailsW"]);const e=this.endpoint;this.defaults=v.KubernetesResourceQuotaDefaults,this.formValues=new y.KubernetesResourcePoolFormValues(this.defaults),this.formValues.EndpointId=this.endpoint.Id,this.formValues.HasQuota=!0,this.formValues.StorageClasses=$.default.storageClassesToResourcePoolFormValues(this.endpoint.Kubernetes.Configuration.StorageClasses),this.state={actionInProgress:!1,sliderMaxMemory:0,sliderMaxCpu:0,availableSizeUnits:["MB","GB","TB"],viewReady:!1,isAlreadyExist:!1,hasPrefixKube:!1,canUseIngress:e.Kubernetes.Configuration.IngressClasses.length,resourceOverCommitEnabled:e.Kubernetes.Configuration.EnableResourceOverCommit,resourceOverCommitPercentage:e.Kubernetes.Configuration.ResourceOverCommitPercentage,useLoadBalancer:e.Kubernetes.Configuration.UseLoadBalancer,duplicates:{ingressHosts:new S.KubernetesFormValidationReferences},isAdmin:this.Authentication.isAdmin()};const t=await this.KubernetesNodeService.get();await this.getResourcePools();const n=b.default.computeSliderMaxResources(t,this.resourcePools,"",this.state.resourceOverCommitEnabled,this.state.resourceOverCommitPercentage);if(this.state.sliderMaxCpu=n.CPU,this.state.sliderMaxMemory=n.Memory,this.state.resourceOverCommitEnabled&&(this.formValues.HasQuota=!0),this.state.canUseIngress){await this.getIngresses();const t=e.Kubernetes.Configuration.IngressClasses;this.formValues.IngressClasses=w.KubernetesIngressConverter.ingressClassesToFormValues(t)}d()(this.formValues.IngressClasses,(e=>{0===e.Hosts.length&&e.Hosts.push(new y.KubernetesResourcePoolIngressClassHostFormValue)})),await this.getRegistries()}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}}))}}A.$inject=["$async","$state","$scope","Notifications","KubernetesNodeService","KubernetesResourcePoolService","KubernetesIngressService","Authentication","EndpointService"];const P=A},63009:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(83432),r=n.n(i);angular.module("portainer.kubernetes").controller("KubernetesResourcePoolIngressesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.onSettingsRepeaterChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Paths.length>0},this.hasExpandableItems=function(){return r()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,s()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},88952:(e,t,n)=>{const a=n(23932);angular.module("portainer.kubernetes").component("kubernetesResourcePoolIngressesDatatable",{templateUrl:a,controller:"KubernetesResourcePoolIngressesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},85146:(e,t,n)=>{const a=n(50856);angular.module("portainer.kubernetes").component("kubernetesResourcePoolView",{templateUrl:a,controller:"KubernetesResourcePoolController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},42310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var a=n(55743),s=n.n(a),i=n(25445),r=n.n(i),o=n(71204),l=n.n(o),c=n(51235),d=n.n(c),u=n(44716),p=n.n(u),m=n(41952),g=n.n(m),h=n(66539),f=n.n(h),v=n(83432),b=n.n(v),y=n(74362),w=n.n(y),x=n(46545),S=n.n(x),k=n(29274),$=n.n(k),C=n(29500),A=n.n(C),P=n(47685),I=n(22229),T=n(46685),N=n(52929),E=n(16496),R=n(47086),D=n(14917),U=n(54241),V=n(62072),O=n(57456),F=n(17981),L=n(21458),_=n(7506),M=n(26196);class j{constructor(e,t,n,a,s,i,r,o,l,c,d,u,p,m,g,h,f){Object.assign(this,{$async:e,$state:t,$scope:n,Authentication:a,Notifications:s,LocalStorage:i,ModalService:r,EndpointService:o,KubernetesNodeService:l,KubernetesMetricsService:c,KubernetesResourceQuotaService:d,KubernetesResourcePoolService:u,KubernetesEventService:p,KubernetesPodService:m,KubernetesApplicationService:g,KubernetesIngressService:h,KubernetesVolumeService:f}),this.IngressClassTypes=V.KubernetesIngressClassTypes,this.ResourceQuotaDefaults=P.KubernetesResourceQuotaDefaults,this.LBQuotaFeatureId=M.tE.K8S_RESOURCE_POOL_LB_QUOTA,this.StorageQuotaFeatureId=M.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,this.updateResourcePoolAsync=this.updateResourcePoolAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.onToggleLoadBalancersQuota=this.onToggleLoadBalancersQuota.bind(this),this.onToggleStorageQuota=this.onToggleStorageQuota.bind(this)}onToggleLoadBalancersQuota(e){return this.$scope.$evalAsync((()=>{this.formValues.UseLoadBalancersQuota=e}))}onToggleStorageQuota(e,t){this.$scope.$evalAsync((()=>{this.formValues.StorageClasses=this.formValues.StorageClasses.map((n=>n.Name!==e?n:{...n,Selected:t}))}))}onChangeIngressHostname(){const e=this.state.duplicates.ingressHosts,t=S()(this.allIngresses,...this.ingresses),n=w()(t,"Hosts"),a=w()(this.formValues.IngressClasses,"Hosts"),s=b()(a,{NeedsDeletion:!1}),i=f()(s,"Host"),r=U.default.getDuplicates(i);g()(i,((e,t)=>{void 0!==e&&p()(n,e)&&(r[t]=e)}));const o=Object.values(r);e.hasRefs=!1,g()(this.formValues.IngressClasses,(t=>{g()(t.Hosts,(t=>{p()(o,t.Host)&&!1===t.NeedsDeletion?(t.Duplicate=!0,e.hasRefs=!0):t.Duplicate=!1}))}))}addHostname(e){e.Hosts.push(new E.KubernetesResourcePoolIngressClassHostFormValue)}removeHostname(e,t){e.Hosts[t].IsNew?e.Hosts.splice(t,1):e.Hosts[t].NeedsDeletion=!0,this.onChangeIngressHostname()}restoreHostname(e){e.IsNew||(e.NeedsDeletion=!1)}addAnnotation(e){e.Annotations.push(new E.KubernetesResourcePoolIngressClassAnnotationFormValue)}removeAnnotation(e,t){e.Annotations.splice(t,1)}selectTab(e){this.LocalStorage.storeActiveTab("resourcePool",e)}isUpdateButtonDisabled(){return this.state.actionInProgress||this.formValues.HasQuota&&!this.isQuotaValid()||this.state.duplicates.ingressHosts.hasRefs||this.state.loadBalancersUsed>this.formValues.LoadBalancers}isQuotaValid(){return!(this.state.sliderMaxCpu<this.formValues.CpuLimit||this.state.sliderMaxMemory<this.formValues.MemoryLimit||0===this.formValues.CpuLimit&&0===this.formValues.MemoryLimit)}checkDefaults(){this.formValues.CpuLimit<P.KubernetesResourceQuotaDefaults.CpuLimit&&(this.formValues.CpuLimit=P.KubernetesResourceQuotaDefaults.CpuLimit),this.formValues.MemoryLimit<I.default.megaBytesValue(P.KubernetesResourceQuotaDefaults.MemoryLimit)&&(this.formValues.MemoryLimit=I.default.megaBytesValue(P.KubernetesResourceQuotaDefaults.MemoryLimit))}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}hasResourceQuotaBeenReduced(){if(this.formValues.HasQuota&&this.oldQuota){const e=this.formValues.CpuLimit,t=I.default.bytesValue(this.formValues.MemoryLimit);if(e<this.oldQuota.CpuLimit||t<this.oldQuota.MemoryLimit)return!0}return!1}async updateResourcePoolAsync(e,t){this.state.actionInProgress=!0;try{this.checkDefaults(),await this.KubernetesResourcePoolService.patch(e,t),this.Notifications.success("Namespace successfully updated",this.pool.Namespace.Name),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to create namespace")}finally{this.state.actionInProgress=!1}}updateResourcePool(){const e=b()(this.formValues.IngressClasses,{WasSelected:!0,Selected:!1}),t=b()(this.registries,{WasChecked:!0,Checked:!1}),n=this.hasResourceQuotaBeenReduced(),a=0!==e.length,s=0!==t.length;if(!(n||a||s))return this.$async(this.updateResourcePoolAsync,this.savedFormValues,this.formValues);{const e={quota:'Reducing the quota assigned to an "in-use" namespace may have unintended consequences, including preventing running applications from functioning correctly and potentially even blocking them from running at all.',ingress:"Deactivating ingresses may cause applications to be unaccessible. All ingress configurations from affected applications will be removed.",registries:"Some registries you removed might be used by one or more applications inside this environment. Removing the registries access could lead to a service interruption for these applications."},t=`${n?e.quota+"<br/><br/>":""}\n      ${a?e.ingress+"<br/><br/>":""}\n      ${s?e.registries+"<br/><br/>":""}\n      Do you wish to continue?`;this.ModalService.confirmUpdate(t,(e=>{if(e)return this.$async(this.updateResourcePoolAsync,this.savedFormValues,this.formValues)}))}}async confirmMarkUnmarkAsSystem(){const e=this.isSystem?"Unmarking this namespace as system will allow non administrator users to manage it and the resources in contains depending on the access control settings. ":"Marking this namespace as a system namespace will prevent non administrator users from managing it and the resources it contains. ";return new Promise((t=>{this.ModalService.confirmUpdate(e,t)}))}markUnmarkAsSystem(){return this.$async((async()=>{try{const e=this.$state.params.id;if(this.state.actionInProgress=!0,!await this.confirmMarkUnmarkAsSystem())return;await this.KubernetesResourcePoolService.toggleSystem(this.endpoint.Id,e,!this.isSystem),this.Notifications.success("Namespace successfully updated",e),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to create namespace")}finally{this.state.actionInProgress=!1}}))}hasEventWarnings(){return this.state.eventWarningCount}getEvents(){return this.$async((async()=>{try{this.state.eventsLoading=!0,this.events=await this.KubernetesEventService.get(this.pool.Namespace.Name),this.state.eventWarningCount=N.default.warningCount(this.events)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespace related events")}finally{this.state.eventsLoading=!1}}))}getApplications(){return this.$async((async()=>{try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get(this.pool.Namespace.Name),this.applications=f()(this.applications,(e=>{const t=I.default.computeResourceReservation(e.Pods);return e.CPU=t.CPU,e.Memory=t.Memory,this.formValues.LoadBalancers>0&&"LoadBalancer"===e.ServiceType&&this.state.loadBalancersUsed++,e})),this.formValues.LoadBalancers>0&&(this.state.loadBalancersUsage=this.state.loadBalancersUsed/this.formValues.LoadBalancers*100),this.state.useServerMetrics&&await this.getResourceUsage(this.pool.Namespace.Name)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications.")}finally{this.state.applicationsLoading=!1}}))}getIngresses(){return this.$async((async()=>{this.state.ingressesLoading=!0;try{const e=this.pool.Namespace.Name;this.allIngresses=await this.KubernetesIngressService.get(this.state.hasWriteAuthorization?"":e),this.ingresses=b()(this.allIngresses,{Namespace:e}),g()(this.ingresses,(t=>{t.Namespace=e,g()(t.Paths,(e=>{const t=d()(this.applications,{ServiceName:e.ServiceName});e.ApplicationName=t&&t.Name?t.Name:"-"}))}))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve ingresses.")}finally{this.state.ingressesLoading=!1}}))}getVolumes(){return this.$async((async()=>{try{const e=this.pool.Namespace.Name;this.volumes=await this.KubernetesVolumeService.get(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve volumes.")}}))}getRegistries(){return this.$async((async()=>{try{const e=this.$state.params.id;if(this.canEdit)return this.registries=await this.EndpointService.registries(this.endpoint.Id),this.registries.forEach((t=>{t.RegistryAccesses&&t.RegistryAccesses[this.endpoint.Id]&&t.RegistryAccesses[this.endpoint.Id].Namespaces.includes(e)&&(t.Checked=!0,t.WasChecked=!0,this.formValues.Registries.push(t))})),void(this.selectedRegistries=this.formValues.Registries.map((e=>e.Name)).join(", "));const t=await this.EndpointService.registries(this.endpoint.Id,e);this.selectedRegistries=t.map((e=>e.Name)).join(", ")}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}}))}computeStorageQuotaUsage(e){if(!e.Size)return void(e.Usage=100);const t=A()(`${e.Used.Size}${e.Used.SizeUnit}`,{base:10}),n=A()(`${e.Size}${e.SizeUnit}`,{base:10});e.Usage=Math.round(t/n*100)}async getResourceUsage(e){try{const t=(await this.KubernetesMetricsService.getPods(e)).items.flatMap((e=>e.containers.map((e=>e.usage)))).reduce(((e,t)=>(e.CPU+=I.default.parseCPU(t.cpu),e.Memory+=I.default.megaBytesValue(t.memory),e)),new T.KubernetesResourceReservation);this.state.resourceUsage=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespace resource usage")}}$onInit(){return this.$async((async()=>{try{this.canEdit=this.Authentication.hasAuthorizations(["K8sResourcePoolDetailsW"]),this.state={actionInProgress:!1,sliderMaxMemory:0,sliderMaxCpu:0,cpuUsage:0,memoryUsage:0,resourceReservation:{CPU:0,Memory:0},activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,eventsLoading:!0,applicationsLoading:!0,ingressesLoading:!0,viewReady:!1,eventWarningCount:0,canUseIngress:this.endpoint.Kubernetes.Configuration.IngressClasses.length,resourceOverCommitEnabled:this.endpoint.Kubernetes.Configuration.EnableResourceOverCommit,resourceOverCommitPercentage:this.endpoint.Kubernetes.Configuration.ResourceOverCommitPercentage,useLoadBalancer:this.endpoint.Kubernetes.Configuration.UseLoadBalancer,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics,hasWriteAuthorization:this.Authentication.hasAuthorizations(["K8sResourcePoolDetailsW"]),loadBalancersUsed:0,loadBalancersUsage:0,availableSizeUnits:["MB","GB","TB"],duplicates:{ingressHosts:new D.KubernetesFormValidationReferences}},this.state.activeTab=this.LocalStorage.getActiveTab("resourcePool");const e=this.$state.params.id,[t,n,a]=await Promise.all([this.KubernetesNodeService.get(),this.KubernetesResourcePoolService.get(),this.KubernetesResourcePoolService.get(e)]);this.pool=a,this.formValues=new E.KubernetesResourcePoolFormValues(P.KubernetesResourceQuotaDefaults),this.formValues.Name=this.pool.Namespace.Name,this.formValues.EndpointId=this.endpoint.Id,this.formValues.IsSystem=this.pool.Namespace.IsSystem;const i=I.default.computeSliderMaxResources(t,n,e,this.state.resourceOverCommitEnabled,this.state.resourceOverCommitPercentage);this.state.sliderMaxCpu=i.CPU,this.state.sliderMaxMemory=i.Memory;const o=this.pool.Quota;if(o&&(this.oldQuota=$().copy(o),this.formValues=O.default.quotaToResourcePoolFormValues(o),this.formValues.EndpointId=this.endpoint.Id,this.state.resourceReservation.CPU=o.CpuLimitUsed,this.state.resourceReservation.Memory=I.default.megaBytesValue(o.MemoryLimitUsed)),this.isSystem=_.default.isSystemNamespace(this.pool.Namespace.Name),this.isDefaultNamespace=_.default.isDefaultNamespace(this.pool.Namespace.Name),this.isEditable=!this.isSystem&&!this.isDefaultNamespace,this.isEditable&&!this.state.resourceOverCommitEnabled&&(this.formValues.HasQuota=!0),await this.getEvents(),await this.getApplications(),this.state.canUseIngress){await this.getIngresses();const e=this.endpoint.Kubernetes.Configuration.IngressClasses;this.formValues.IngressClasses=R.KubernetesIngressConverter.ingressClassesToFormValues(e,this.ingresses),g()(this.formValues.IngressClasses,(e=>{0===e.Hosts.length&&e.Hosts.push(new E.KubernetesResourcePoolIngressClassHostFormValue)}))}await this.getVolumes();const c=F.default.storageClassesToResourcePoolFormValues(this.endpoint.Kubernetes.Configuration.StorageClasses);l()(c,(e=>d()(this.formValues.StorageClasses,{Name:e.Name}))),this.formValues.StorageClasses=r()(this.formValues.StorageClasses,c),g()(this.formValues.StorageClasses,(e=>{const t=b()(this.volumes,["ResourcePool.Namespace.Name",this.pool.Namespace.Name]),n=s()(t,((e,t)=>e+A()(t.PersistentVolumeClaim.Storage,{base:10})),0);e.Used=L.default.formatBytes(n),this.computeStorageQuotaUsage(e)})),await this.getRegistries(),this.savedFormValues=$().copy(this.formValues)}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}}))}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("resourcePool",0)}}j.$inject=["$async","$state","$scope","Authentication","Notifications","LocalStorage","ModalService","EndpointService","KubernetesNodeService","KubernetesMetricsService","KubernetesResourceQuotaService","KubernetesResourcePoolService","KubernetesEventService","KubernetesPodService","KubernetesApplicationService","KubernetesIngressService","KubernetesVolumeService"];const K=j;$().module("portainer.kubernetes").controller("KubernetesResourcePoolController",j)},7134:(e,t,n)=>{const a=n(78268);angular.module("portainer.kubernetes").component("kubernetesResourcePoolsView",{templateUrl:a,controller:"KubernetesResourcePoolsController",controllerAs:"ctrl"})},39502:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a);class i{constructor(e,t,n,a,s){this.$async=e,this.$state=t,this.Notifications=n,this.ModalService=a,this.KubernetesResourcePoolService=s,this.onInit=this.onInit.bind(this),this.getResourcePools=this.getResourcePools.bind(this),this.getResourcePoolsAsync=this.getResourcePoolsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesResourcePoolService.delete(n),this.Notifications.success("Namespace successfully removed",n.Namespace.Name);const e=this.resourcePools.indexOf(n);this.resourcePools.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove namespace")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion("",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getResourcePoolsAsync(){try{this.resourcePools=await this.KubernetesResourcePoolService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespaces")}}getResourcePools(){return this.$async(this.getResourcePoolsAsync)}async onInit(){this.state={viewReady:!1},await this.getResourcePools(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}i.$inject=["$async","$state","Notifications","ModalService","KubernetesResourcePoolService"];const r=i;s().module("portainer.kubernetes").controller("KubernetesResourcePoolsController",i)},9981:(e,t,n)=>{const a=n(88336);angular.module("portainer.kubernetes").component("kubernetesStackLogsView",{templateUrl:a,controller:"KubernetesStackLogsController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},39554:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(55743),s=n.n(a),i=n(83432),r=n.n(i),o=n(66539),l=n.n(o),c=n(74362),d=n.n(c),u=n(29274),p=n.n(u),m=n(67808);const g=["red","orange","lime","green","darkgreen","cyan","turquoise","teal","deepskyblue","blue","darkblue","slateblue","magenta","darkviolet"];class h{constructor(e,t,n,a,s,i,r,o){this.$async=e,this.$state=t,this.$interval=n,this.Notifications=a,this.KubernetesApplicationService=s,this.KubernetesPodService=i,this.Blob=o,this.FileSaver=r,this.onInit=this.onInit.bind(this),this.stopRepeater=this.stopRepeater.bind(this),this.generateLogsPromise=this.generateLogsPromise.bind(this),this.generateAppPromise=this.generateAppPromise.bind(this),this.getStackLogsAsync=this.getStackLogsAsync.bind(this)}updateAutoRefresh(){this.state.autoRefresh?this.setUpdateRepeater():this.stopRepeater()}stopRepeater(){p().isDefined(this.repeater)&&(this.$interval.cancel(this.repeater),this.repeater=null)}setUpdateRepeater(){this.repeater=this.$interval(this.getStackLogsAsync,this.state.refreshRate)}async generateLogsPromise(e,t){const n={Pod:e,Logs:[]};return n.Logs=await this.KubernetesPodService.logs(e.Namespace,e.Name,t.Name),n}async generateAppPromise(e){const t={Application:e,Pods:[]},n=d()(l()(e.Pods,(e=>l()(e.Containers,(t=>this.generateLogsPromise(e,t)))))),a=await(0,m.default)(n);return t.Pods=a.fulfilled,t}async getStackLogsAsync(){try{const e=await this.KubernetesApplicationService.get(this.state.transition.namespace),t=r()(e,(e=>e.StackName===this.state.transition.name)),n=l()(t,this.generateAppPromise),a=await Promise.all(n),s=d()(a,((e,t)=>d()(e.Pods,(e=>l()(e.Logs,(n=>({Color:g[t%g.length],Line:n,AppName:e.Pod.Name})))))));this.stackLogs=s}catch(e){this.stopRepeater(),this.Notifications.error("Failure",e,"Unable to retrieve application logs")}}downloadLogs(){const e=new this.Blob([this.dataLogs=s()(this.stackLogs,((e,t)=>e+"\n"+t.AppName+" "+t.Line),"")]);this.FileSaver.saveAs(e,this.state.transition.name+"_logs.txt")}async onInit(){this.state={autoRefresh:!1,refreshRate:3e4,search:"",viewReady:!1,transition:{namespace:this.$transition$.params().namespace,name:this.$transition$.params().name}},this.stackLogs=[];try{await this.getStackLogsAsync()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve stack logs")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.stopRepeater()}}h.$inject=["$async","$state","$interval","Notifications","KubernetesApplicationService","KubernetesPodService","FileSaver","Blob"];const f=h;p().module("portainer.kubernetes").controller("KubernetesStackLogsController",h)},45233:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var a=n(51235),s=n.n(a),i=n(39212),r=n(14917),o=n(59238),l=n(91920),c=n(12745),d=n(79990),u=n(7172),p=n(1239),m=n(41247),g=n(10293),h=n(86998),f=n(47086),v=n(56636);const{CREATE:b,UPDATE:y,DELETE:w}=i.KubernetesResourceActions;function x(e,t={}){if(t instanceof r.KubernetesApplicationFormValues){const n=function(e,t){const n=[],[a,r,o,c,h]=g.default.applicationFormValuesToApplication(e),[x,A,P,I,T]=g.default.applicationFormValuesToApplication(t),N=k(a);if(N!==k(x)){n.push({action:w,kind:N,name:a.Name}),c&&o&&n.push({action:w,kind:i.KubernetesResourceTypes.SERVICE,name:c.Name,type:c.Type||d.KubernetesServiceTypes.CLUSTER_IP});const e=S(t);return n.push(...e),n}if(x instanceof l.KubernetesStatefulSet){const e=C(r,A);e&&n.push(e)}else{const e=T.map((e=>{return e.PreviousName||e.Id?e.Id?void 0:(t=s()(h,{Name:e.PreviousName}),n=e,v.default.patchPayload(t,n).length?{action:y,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:t.Name}:null):{action:b,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name};var t,n})).filter((e=>e));n.push(...e)}if(n.push({action:y,kind:N,name:a.Name}),o&&P){const a=C(o,P);if(null!==a&&a.forEach((e=>{n.push(e)})),t.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS||e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS){const a=f.KubernetesIngressConverter.applicationFormValuesToIngresses(e,c.Name),s=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,I.Name);n.push(...$(a,s))}}else if(!c&&I){if(n.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:I.Name,type:I.Type||d.KubernetesServiceTypes.CLUSTER_IP}),t.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS){const e=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,I.Name);n.push(...$(t.OriginalIngresses,e))}}else if(c&&!I&&(n.push({action:w,kind:i.KubernetesResourceTypes.SERVICE,name:c.Name,type:c.Type||d.KubernetesServiceTypes.CLUSTER_IP}),e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS)){const a=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,c.Name);n.push(...$(e.OriginalIngresses,a))}const E=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(x),R=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(t,E);if(e.AutoScaler.IsUsed){const s=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(a),r=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,s);if(t.AutoScaler.IsUsed){const e=(D=r,U=R,m.KubernetesHorizontalPodAutoScalerConverter.patchPayload(D,U).length?{action:y,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:D.Name}:null);e&&n.push(e)}else n.push({action:w,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:r.Name})}else t.AutoScaler.IsUsed&&n.push({action:b,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:R.Name});var D,U;return n}(t,e);return n}return S(e)}function S(e){const t=[];let[n,a,s,r,o]=g.default.applicationFormValuesToApplication(e);if(s&&s.forEach((n=>{if(t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:n.Name,type:n.Type||d.KubernetesServiceTypes.CLUSTER_IP}),0!==e.OriginalIngresses.length){const a=f.KubernetesIngressConverter.newApplicationFormValuesToIngresses(e,n.Name,n.Ports);t.push(...$(e.OriginalIngresses,a))}})),r&&(t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:r.Name,type:r.Type||d.KubernetesServiceTypes.CLUSTER_IP}),e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS)){const n=f.KubernetesIngressConverter.applicationFormValuesToIngresses(e,r.Name);t.push(...$(e.OriginalIngresses,n))}if(n instanceof l.KubernetesStatefulSet)t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:a.Name,type:a.Type||d.KubernetesServiceTypes.CLUSTER_IP});else{const e=o.filter((e=>!e.PreviousName&&!e.Id)).map((e=>({action:b,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name})));t.push(...e)}if(e.AutoScaler.IsUsed&&e.DeploymentType!==u.KubernetesApplicationDeploymentTypes.GLOBAL){const a=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(n),s=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,a);t.push({action:b,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:s.Name})}const c=k(n);return null!==c&&t.push({action:b,kind:c,name:n.Name}),t}function k(e){return e instanceof o.KubernetesDeployment||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.DEPLOYMENT?i.KubernetesResourceTypes.DEPLOYMENT:e instanceof c.KubernetesDaemonSet||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.DAEMONSET?i.KubernetesResourceTypes.DAEMONSET:e instanceof l.KubernetesStatefulSet||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.STATEFULSET?i.KubernetesResourceTypes.STATEFULSET:null}function $(e,t){return t.map((t=>{return n=s()(e,{Name:t.Name}),a=t,f.KubernetesIngressConverter.patchPayload(n,a).length?{action:y,kind:i.KubernetesResourceTypes.INGRESS,name:n.Name}:null;var n,a})).filter((e=>e))}function C(e,t){let n=[];return e.Headless||(t.forEach((t=>{const a=s()(e,{Name:t.Name});if(a){if(h.default.patchPayload(a,t).length){const e={action:y,kind:i.KubernetesResourceTypes.SERVICE,name:a.Name,type:a.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(e)}}else{const e=new d.KubernetesService;if(h.default.patchPayload(e,t).length){const e={action:b,kind:i.KubernetesResourceTypes.SERVICE,name:t.Name,type:t.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(e)}}})),e.forEach((e=>{if(!s()(t,{Name:e.Name})){const t={action:w,kind:i.KubernetesResourceTypes.SERVICE,name:e.Name,type:e.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(t)}}))),0!==n.length?n:null}},3310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(39212),s=n(82434);const{CREATE:i,UPDATE:r}=a.KubernetesResourceActions;function o(e){const t=e.Id?r:i;return e.Type===s.KubernetesConfigurationTypes.CONFIGMAP?[{action:t,kind:a.KubernetesResourceTypes.CONFIGMAP,name:e.Name}]:e.Type===s.KubernetesConfigurationTypes.SECRET?[{action:t,kind:a.KubernetesResourceTypes.SECRET,name:e.Name}]:void 0}},60953:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getResourcesSummary:()=>v});var a=n(44716),s=n.n(a),i=n(83432),r=n.n(i),o=n(32461),l=n.n(o),c=n(61977),d=n.n(c),u=n(34901),p=n(39212);function m(e,t){return d()(e,t,"Name")}function g(e,t){return d()(t,e,"Name")}function h(e,t){return l()(e,t,((e,t)=>e.Name==t.Name&&!function(e,t){let n=u.qu(e,t);return n=r()(n,(e=>!s()(e.path,"$$hashKey")&&!s()(e.path,"Duplicate"))),!n.length}(e,t)))}function f(e,t,n,a,s){return s(e,t).map((e=>({name:e.Name,action:a,kind:n})))}function v(e,t,n){return Array.isArray(e)||(e=e?[e]:[],t=t?[t]:[]),[...f(e,t,n,p.KubernetesResourceActions.CREATE,m),...f(e,t,n,p.KubernetesResourceActions.UPDATE,h),...f(e,t,n,p.KubernetesResourceActions.DELETE,g)]}},49113:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(57911),s=n(16496),i=n(47685),r=n(39212),o=n(60953);function l(e,t){const[n,l,c]=a.default.formValuesToResourcePool(e);t instanceof s.KubernetesResourcePoolFormValues||(t=new s.KubernetesResourcePoolFormValues(i.KubernetesResourceQuotaDefaults));const[d,u,p]=a.default.formValuesToResourcePool(t);return[...(0,o.getResourcesSummary)(n,d,r.KubernetesResourceTypes.NAMESPACE),...(0,o.getResourcesSummary)(l,u,r.KubernetesResourceTypes.RESOURCEQUOTA),...(0,o.getResourcesSummary)(c,p,r.KubernetesResourceTypes.INGRESS)]}},21099:(e,t,n)=>{const a=n(17648);angular.module("portainer.kubernetes").component("kubernetesSummaryView",{templateUrl:a,controller:"KubernetesSummaryController",controllerAs:"$ctrl",bindings:{formValues:"<",oldFormValues:"<"}})},69861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var a=n(29274),s=n.n(a),i=n(30578),r=n(16496),o=n(14917),l=n(39212),c=n(45233),d=n(49113),u=n(3310);class p{constructor(e,t,n){this.LocalStorage=t,this.KubernetesResourcePoolService=n,this.toggleSummary=this.toggleSummary.bind(this),this.generateResourceSummaryList=this.generateResourceSummaryList.bind(this),e.$watch("$ctrl.formValues",(e=>{this.state.resources=this.generateResourceSummaryList(s().copy(e))}),!0)}getArticle(e,t){let n="a";return t===l.KubernetesResourceActions.CREATE?e===l.KubernetesResourceTypes.INGRESS&&(n="an"):n="the",n}toggleSummary(){this.state.expandedTemplate=!this.state.expandedTemplate,this.LocalStorage.storeKubernetesSummaryToggle(this.state.expandedTemplate)}generateResourceSummaryList(e){const t=this.oldFormValues;return e instanceof i.KubernetesConfigurationFormValues?(0,u.default)(e):e instanceof r.KubernetesResourcePoolFormValues?(0,d.default)(e,t):e instanceof o.KubernetesApplicationFormValues?(this.state.limits={cpu:e.CpuLimit,memory:e.MemoryLimit},(0,c.default)(e,t)):[]}$onInit(){const e=this.LocalStorage.getKubernetesSummaryToggle(),t="boolean"!=typeof e||e;this.state={expandedTemplate:t,resources:[],limits:{cpu:null,memory:null}}}}p.$inject=["$scope","LocalStorage","KubernetesResourcePoolService"];const m=p;s().module("portainer.kubernetes").controller("KubernetesSummaryController",p)},70302:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(83432),r=n.n(i);angular.module("portainer.kubernetes").controller("KubernetesVolumesStoragesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.onSettingsRepeaterChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Volumes.length>0},this.hasExpandableItems=function(){return r()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,s()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},1502:(e,t,n)=>{const a=n(71894);angular.module("portainer.kubernetes").component("kubernetesVolumesStoragesDatatable",{templateUrl:a,controller:"KubernetesVolumesStoragesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},61158:(e,t,n)=>{const a=n(86604);angular.module("portainer.kubernetes").component("kubernetesVolumeView",{templateUrl:a,controller:"KubernetesVolumeController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},52962:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var a=n(55743),s=n.n(a),i=n(83432),r=n.n(i),o=n(51235),l=n.n(o),c=n(66539),d=n.n(c),u=n(55332),p=n.n(u),m=n(29274),g=n.n(m),h=n(29500),f=n.n(h),v=n(11507),b=n(52929),y=n(86871),w=n(7506);class x{constructor(e,t,n,a,s,i,r,o,l,c,d){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=a,this.KubernetesVolumeService=s,this.KubernetesEventService=i,this.KubernetesApplicationService=r,this.KubernetesPersistentVolumeClaimService=o,this.KubernetesResourcePoolService=l,this.ModalService=c,this.KubernetesPodService=d,this.onInit=this.onInit.bind(this),this.getVolume=this.getVolume.bind(this),this.getVolumeAsync=this.getVolumeAsync.bind(this),this.updateVolumeAsync=this.updateVolumeAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("volume",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}isExternalVolume(){return v.default.isExternalVolume(this.volume)}isSystemNamespace(){return w.default.isSystemNamespace(this.volume.ResourcePool.Namespace.Name)}isUsed(){return v.default.isUsed(this.volume)}onChangeSize(){if(this.state.volumeSize){const e=f()(this.state.volumeSize+this.state.volumeSizeUnit,{base:10});this.state.oldVolumeSize>e?(this.state.errors.volumeSize=!0,this.state.errors.quotaExceeded=!1):this.state.quota.hasQuota&&e-this.state.oldVolumeSize>this.state.quota.availableSize?(this.state.errors.volumeSize=!1,this.state.errors.quotaExceeded=!0):(this.state.errors.volumeSize=!1,this.state.errors.quotaExceeded=!1)}else this.state.errors.volumeSize=!1,this.state.errors.quotaExceeded=!1}sizeIsValid(){return!this.state.errors.quotaExceeded&&!this.state.errors.volumeSize&&this.state.volumeSize&&this.state.oldVolumeSize!==f()(this.state.volumeSize+this.state.volumeSizeUnit,{base:10})}async updateVolumeAsync(e){try{if(this.volume.PersistentVolumeClaim.Storage=this.state.volumeSize+this.state.volumeSizeUnit.charAt(0),await this.KubernetesPersistentVolumeClaimService.patch(this.oldVolume.PersistentVolumeClaim,this.volume.PersistentVolumeClaim),this.Notifications.success("Volume successfully updated"),e){const e=p()(d()(this.volume.Applications,(e=>d()(e.Pods,(e=>this.KubernetesPodService.delete(e))))));await Promise.all(e),this.Notifications.success("Applications successfully redeployed")}this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to update volume.")}}updateVolume(){if(!v.default.isUsed(this.volume))return this.$async(this.updateVolumeAsync,!1);this.ModalService.confirmRedeploy("One or multiple applications are currently using this volume.</br> For the change to be taken into account these applications will need to be redeployed. Do you want us to reschedule it now?",(e=>this.$async(this.updateVolumeAsync,e)))}async getVolumeAsync(){try{const[e,t,n,a]=await Promise.all([this.KubernetesVolumeService.get(this.state.namespace,this.state.name),this.KubernetesApplicationService.get(this.state.namespace),this.KubernetesResourcePoolService.get(this.state.namespace),this.KubernetesVolumeService.get(this.state.namespace)]);e.Applications=v.default.getUsingApplications(e,t);const i=n.Quota;if(this.state.quota={availableSize:0,hasQuota:!1,maxSize:0},i&&e.PersistentVolumeClaim.StorageClass){const t=l()(i.StorageRequests,{Name:e.PersistentVolumeClaim.StorageClass.Name});if(t){this.state.quota.hasQuota=!0;const n=r()(a,["PersistentVolumeClaim.StorageClass.Name",e.PersistentVolumeClaim.StorageClass.Name]),i=s()(n,((e,t)=>e+f()(t.PersistentVolumeClaim.Storage,{base:10})),0),o=f()(`${t.Size}${t.SizeUnit}`,{base:10});this.state.quota.availableSize=o-i}}this.volume=e,this.oldVolume=g().copy(e),this.state.volumeSize=parseInt(e.PersistentVolumeClaim.Storage.slice(0,-2),10),this.state.volumeSizeUnit=e.PersistentVolumeClaim.Storage.slice(-2),this.state.oldVolumeSize=f()(e.PersistentVolumeClaim.Storage,{base:10}),this.state.quota.maxSize=this.state.quota.availableSize+this.state.oldVolumeSize}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve volume")}}getVolume(){return this.$async(this.getVolumeAsync)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get(this.state.namespace);this.events=r()(e,(e=>e.Involved.uid===this.volume.PersistentVolumeClaim.Id)),this.state.eventWarningCount=b.default.warningCount(this.events)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application related events")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}async onInit(){this.state={activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,eventsLoading:!0,viewReady:!1,namespace:this.$transition$.params().namespace,name:this.$transition$.params().name,eventWarningCount:0,availableSizeUnits:["MB","GB","TB"],increaseSize:!1,volumeSize:0,volumeSizeUnit:"GB",volumeSharedAccessPolicy:"",volumeSharedAccessPolicyTooltip:"",errors:{volumeSize:!1,quotaExceeded:!1}},this.state.activeTab=this.LocalStorage.getActiveTab("volume");try{await this.getVolume(),await this.getEvents(),void 0!==this.volume.PersistentVolumeClaim.StorageClass&&(this.state.volumeSharedAccessPolicy=this.volume.PersistentVolumeClaim.StorageClass.AccessModes[this.volume.PersistentVolumeClaim.StorageClass.AccessModes.length-1],(0,y.KubernetesStorageClassAccessPolicies)().forEach((e=>{e.Name==this.state.volumeSharedAccessPolicy&&(this.state.volumeSharedAccessPolicyTooltip=e.Description)})))}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("volume",0)}}x.$inject=["$async","$state","Notifications","LocalStorage","KubernetesVolumeService","KubernetesEventService","KubernetesApplicationService","KubernetesPersistentVolumeClaimService","KubernetesResourcePoolService","ModalService","KubernetesPodService"];const S=x;g().module("portainer.kubernetes").controller("KubernetesVolumeController",x)},49633:(e,t,n)=>{const a=n(44e3);angular.module("portainer.kubernetes").component("kubernetesVolumesView",{templateUrl:a,controller:"KubernetesVolumesController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},64539:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var a=n(51235),s=n.n(a),i=n(66539),r=n.n(i),o=n(37336),l=n.n(o),c=n(83432),d=n.n(c),u=n(41952),p=n.n(u),m=n(29500),g=n.n(m),h=n(29274),f=n.n(h),v=n(11507),b=n(21458);class y{constructor(e,t,n,a,s,i,r,o,l){this.$async=e,this.$state=t,this.Notifications=n,this.ModalService=a,this.LocalStorage=s,this.Authentication=i,this.KubernetesStorageService=r,this.KubernetesVolumeService=o,this.KubernetesApplicationService=l,this.onInit=this.onInit.bind(this),this.getVolumes=this.getVolumes.bind(this),this.getVolumesAsync=this.getVolumesAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("volumes",e)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesVolumeService.delete(n),this.Notifications.success("Volume successfully removed",n.PersistentVolumeClaim.Name);const e=this.volumes.indexOf(n);this.volumes.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove volume")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion("",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getVolumesAsync(){try{const[e,t,n]=await Promise.all([this.KubernetesVolumeService.get(),this.KubernetesApplicationService.get(),this.KubernetesStorageService.get(this.endpoint.Id)]);this.volumes=r()(e,(e=>(e.Applications=v.default.getUsingApplications(e,t),e)));const a=function(e,t){return p()(e,(e=>{const n=d()(t,["PersistentVolumeClaim.StorageClass.Name",e.Name,"PersistentVolumeClaim.StorageClass.Provisioner",e.Provisioner]);e.Volumes=n,e.Size=function(e){const t=l()(e,(e=>g()(e.PersistentVolumeClaim.Storage,{base:10}))),n=b.default.formatBytes(t);return`${n.Size}${n.SizeUnit}`}(n)})),e}(n,e),i=this.endpoint.Kubernetes.Configuration.StorageClasses;this.storages=d()(a,(e=>{if(s()(i,(t=>t.Name===e.Name))||this.Authentication.hasAuthorizations(["K8sStorageClassDisabledR"]))return e}))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespaces")}}getVolumes(){return this.$async(this.getVolumesAsync)}async onInit(){this.state={viewReady:!1,currentName:this.$state.$current.name,activeTab:this.LocalStorage.getActiveTab("volumes")},await this.getVolumes(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("volumes",0)}}y.$inject=["$async","$state","Notifications","ModalService","LocalStorage","Authentication","KubernetesStorageService","KubernetesVolumeService","KubernetesApplicationService"];const w=y;f().module("portainer.kubernetes").controller("KubernetesVolumesController",y)},63924:()=>{const e=window._paq=window._paq||[];e.push(["enableLinkTracking"]),e.push(["setTrackerUrl","https://portainer-ce.matomo.cloud/matomo.php"]),e.push(["setSiteId","2"]);var t=document,n=t.createElement("script"),a=t.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.src="//cdn.matomo.cloud/portainer-ce.matomo.cloud/matomo.js",a.parentNode.insertBefore(n,a)},86929:(e,t,n)=>{"use strict";n.r(t);var a=n(44716),s=n.n(a),i=(n(35552),n(69890),n(5628)),r=n(25356),o=n(45347),l=n(59020),c=(n(20493),n(29274)),d=n.n(c),u=(n(94834),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(83161)),p=n.n(u),m=(n(92429),n(66549),n(65562),n(50033),n(23405),n(77072),n(59886),n(48913),n(98191),n(24378),n(78433),n(26196)),g=n(20037);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var f="limitedFeature";const v=d().module("portainer.feature-flags",[]).directive("limitedFeatureDir",(function(){return{restrict:"A",link:function(e,t,n){var a=n.limitedFeatureDir;if(a){var s=Object.keys(n).filter((function(e){return e.startsWith(f)&&e!=="".concat(f,"Dir")})).map((function(e){return[p()(e.replace(f,"")),n[e]]})),i=(0,g.RU)(a);i!==m.CQ.HIDDEN?i!==m.CQ.VISIBLE&&s.forEach((function(e){var n,a,s=(a=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(n,a)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(n,a)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),i=s[0],r=s[1],o=void 0===r?i:r,l=t.attr(i)||"";t.attr(i,"".concat(l," ").concat(o).trim())})):t.hide()}}}})).name;var b=n(37494),y=d().module("portainer.app.services.api",[]).factory("UserService",b.UserService).name,w=n(46021),x=n(43695),S=n.n(x),k=n(53062),$=n.n(k),C=n(46980),A=n(77918);function P(e){var t=S()(e);$().dialog({message:'<img src="'.concat(t,'" style="width:100%" />'),className:"image-zoom-modal",onEscape:!0})}var I=n(50477);const T=d().module("portainer.app.services",[y]).factory("Notifications",w.Tx).factory("ModalService",(function(){return{enlargeImage:P,confirmWebEditorDiscard:C.ir,confirmAsync:C.l9,confirm:C.iG,confirmAccessControlUpdate:C.oA,confirmImageForceRemoval:C.sv,cancelRegistryRepositoryAction:C.no,confirmDeletion:C.DP,confirmDetachment:C.pM,confirmDeassociate:C.g,confirmUpdate:C.HW,confirmRedeploy:C.Do,confirmDeletionAsync:C.Id,confirmContainerRecreation:A.N8,confirmEndpointSnapshot:C.cE,confirmChangePassword:C.Q8,confirmImageExport:C.ZX,confirmServiceForceUpdate:A.Kf,confirmStackUpdate:A.o$,selectRegistry:A.G0,confirmContainerDeletion:A.A7,confirmKubeconfigSelection:A.l2}})).factory("HttpRequestHelper",I.$r).name;var N=n(66960),E=n(26256),R=n(18480),D=n(90635),U=n(76426),V=n(54866),O=n(56268),F=(n(1464),n(88606)),L=n(2629),_=(0,N.A)((function(e){var t=e.users,n=e.teams,a=e.onSubmit;return(0,L.jsx)("div",{className:"row",children:(0,L.jsx)("div",{className:"col-lg-12 col-md-12 col-xs-12",children:(0,L.jsxs)(D.$L,{children:[(0,L.jsx)(D.PI,{icon:"fa-plus",title:""}),(0,L.jsx)(D.kh,{children:(0,L.jsx)(E.J9,{initialValues:{name:"",leaders:[]},validationSchema:function(){return function(e){return(0,F.Ry)().shape({name:(0,F.Z_)().required("").test("is-unique","This team already exists.",(function(t){return!!t&&e.every((function(e){return e.Name!==t}))})),leaders:(0,F.IX)().of((0,F.Rx)())})}(n)},onSubmit:a,validateOnMount:!0,children:function(e){var n=e.values,a=e.errors,s=e.handleSubmit,i=e.setFieldValue,r=e.isSubmitting,o=e.isValid;return(0,L.jsxs)(E.l0,{className:"form-horizontal",onSubmit:s,noValidate:!0,children:[(0,L.jsx)(R.N,{inputId:"team_name",label:"",errors:a.name,children:(0,L.jsx)(E.gN,{as:U.I,name:"name",id:"team_name",required:!0,placeholder:" development","data-cy":"team-teamNameInput"})}),t.length>0&&(0,L.jsx)(R.N,{inputId:"users-input",label:"",tooltip:"",errors:a.leaders,children:(0,L.jsx)(V.f,{value:n.leaders,onChange:function(e){return i("leaders",e)},users:t,dataCy:"team-teamLeaderSelect",inputId:"users-input",placeholder:""})}),(0,L.jsx)("div",{className:"form-group",children:(0,L.jsx)("div",{className:"col-sm-12",children:(0,L.jsxs)(O.f,{disabled:!o,dataCy:"team-createTeamButton",isLoading:r,loadingText:"Creating team...",children:[(0,L.jsx)("i",{className:"fa fa-plus space-right","aria-hidden":"true"}),"Create team"]})})})]})}})})]})})})}),["users","actionInProgress","onSubmit","teams"]);const M=d().module("portainer.app.teams",[]).component("createTeamForm",_).name;be.$inject=["$transitions","UserService","Authentication","LicenseService","EndpointService","Notifications","$timeout"];const j=n(2080),K=n(27452),B=n(6167),z=n(81882),H=n(94818),G=n(77697),q=n(32072),W=n(45315),Y=n(81541),Q=n(81541),J=n(62833),Z=n(11813),X=n(54658),ee=n(9391),te=n(55150),ne=n(48508),ae=n(83178),se=n(29066),ie=n(45564),re=n(86573),oe=n(68970),le=n(2800),ce=n(12811),de=n(61233),ue=n(57642),pe=n(3799),me=n(98864),ge=n(93772),he=n(2538);angular.module("portainer.app",["portainer.oauth","portainer.rbac","portainer.registrymanagement",i.default,l.default,r.default,o.default,v,M,"portainer.shared.datatable",T]).config(["$stateRegistryProvider",function(e){var t={name:"root",abstract:!0,onEnter:["$async","StateManager","Authentication","Notifications","authManager","$rootScope","$state",function(e,t,n,a,i,r,o){return e((async()=>{if(t.getState().loading)try{const e=await async function(e,t,n,a){return e.checkAuthOnRefresh(),n.$on("unauthenticated",(function(e,t){s()(t.config.url,"/v2/")||s()(t.config.url,"/api/v4/")||!ve(a.transition)||a.go("portainer.logout",{error:""})})),await t.init()}(i,n,r,o);if(await t.initialize(),!e&&ve(o.transition))return o.go("portainer.logout"),Promise.reject("Unauthenticated")}catch(e){throw a.error("Failure",e,"Unable to retrieve application settings"),e}}))}],views:{"sidebar@":{templateUrl:j,controller:"SidebarController"}}},n={name:"portainer.account",url:"/account",views:{"content@":{templateUrl:K,controller:"AccountController"}}},a={name:"portainer.auth",url:"/auth",params:{reload:!1},views:{"content@":{templateUrl:B,controller:"AuthenticationController",controllerAs:"ctrl"},"sidebar@":{}}},i={name:"portainer.internal-auth",url:"/internal-auth",params:{reload:!1},views:{"content@":{templateUrl:z,controller:"InternalAuthenticationController",controllerAs:"ctrl"},"sidebar@":{}}};const r={name:"portainer.logout",url:"/logout",params:{error:"",performApiLogout:!1},views:{"content@":{templateUrl:H,controller:"LogoutController",controllerAs:"ctrl"},"sidebar@":{}}};var o={name:"portainer.endpoints",url:"/endpoints",views:{"content@":{templateUrl:G,controller:"EndpointsController"}}},l={name:"portainer.endpoints.endpoint",url:"/:id",views:{"content@":{templateUrl:q,controller:"EndpointController"}}};const c={name:"portainer.k8sendpoint.kubernetesConfig",url:"/configure",views:{"content@":{templateUrl:W,controller:"KubernetesConfigureController",controllerAs:"ctrl"}}};var d={name:"portainer.endpoints.new",url:"/new",views:{"content@":{templateUrl:Y,controller:"CreateEndpointController"}}},u={name:"portainer.endpoints.newEdgeDevice",url:"/newEdgeDevice",params:{isEdgeDevice:!0},views:{"content@":{templateUrl:Q,controller:"CreateEndpointController"}}},p={name:"portainer.endpoints.importDevice",url:"/device",views:{"content@":{templateUrl:J,controller:"ImportDeviceController"}}},m={name:"portainer.endpoints.endpoint.access",url:"/access",views:{"content@":{templateUrl:Z,controller:"EndpointAccessController",controllerAs:"ctrl"}}},g={name:"portainer.endpoints.endpoint.kvm",url:"/kvm?deviceId&deviceName",views:{"content@":{templateUrl:X,controller:"EndpointKVMController"}}},h={name:"portainer.groups",url:"/groups",views:{"content@":{templateUrl:ee,controller:"GroupsController"}}},f={name:"portainer.groups.group",url:"/:id",views:{"content@":{templateUrl:te,controller:"GroupController"}}},v={name:"portainer.groups.new",url:"/new",views:{"content@":{templateUrl:ne,controller:"CreateGroupController"}}},b={name:"portainer.groups.group.access",url:"/access",views:{"content@":{templateUrl:ae,controller:"GroupAccessController"}}},y={name:"portainer.home",url:"/home",views:{"content@":{templateUrl:se,controller:"HomeController"}}},w={name:"portainer.init.admin",url:"/admin",views:{"content@":{templateUrl:ie,controller:"InitAdminController"}}},x={name:"portainer.init.endpoint",url:"/endpoint",views:{"content@":{templateUrl:re,controller:"InitEndpointController",controllerAs:"ctrl"}}},S={name:"portainer.registries",url:"/registries",views:{"content@":{templateUrl:oe,controller:"RegistriesController"}}},k={name:"portainer.registries.registry",url:"/:id",views:{"content@":{templateUrl:le,controller:"RegistryController"}}},$={name:"portainer.settings",url:"/settings",views:{"content@":{templateUrl:ce,controller:"SettingsController"}}},C={name:"portainer.settings.authentication",url:"/auth",views:{"content@":{templateUrl:de,controller:"SettingsAuthenticationController"}}},A={name:"portainer.tags",url:"/tags",views:{"content@":{templateUrl:ue,controller:"TagsController"}}},P={name:"portainer.users",url:"/users",views:{"content@":{templateUrl:pe,controller:"UsersController"}}},I={name:"portainer.users.user",url:"/:id",views:{"content@":{templateUrl:me,controller:"UserController"}}},T={name:"portainer.teams",url:"/teams",views:{"content@":{templateUrl:ge,controller:"TeamsController"}}},N={name:"portainer.teams.team",url:"/:id",views:{"content@":{templateUrl:he,controller:"TeamController"}}};e.register(t),e.register({name:"endpoint",url:"/:endpointId",parent:"root",abstract:!0,resolve:{endpoint:["$async","$state","$transition$","EndpointService","Notifications",function(e,t,n,a,s){return e((async()=>{try{const e=+n.params().endpointId,s=await a.endpoint(e);return 4!==s.Type&&7!==s.Type||s.EdgeID?s:void t.go("portainer.endpoints.endpoint",{id:s.Id})}catch(e){return s.error("Failed loading environment",e),void t.go("portainer.home",{},{reload:!0})}}))}]}}),e.register({name:"portainer",parent:"root",abstract:!0}),e.register(n),e.register({name:"portainer.account.new-access-token",url:"/tokens/new",views:{"content@":{component:"createUserAccessToken"}}}),e.register(a),e.register(i),e.register(r),e.register(o),e.register(l),e.register({name:"portainer.k8sendpoint",url:"/:id"}),e.register(m),e.register(g),e.register(u),e.register(d),e.register(p),e.register({name:"portainer.endpoints.profile",url:"/profile",views:{"content@":{component:"addProfileView"}}}),e.register({name:"portainer.endpoints.profile.edit",url:"/:id",views:{"content@":{component:"editProfileView"}}}),e.register(c),e.register(h),e.register(f),e.register(b),e.register(v),e.register(y),e.register({name:"portainer.init",abstract:!0,url:"/init",views:{"sidebar@":{}}}),e.register(x),e.register(w),e.register({name:"portainer.wizard",url:"/wizard",views:{"content@":{component:"wizardView"}}}),e.register({name:"portainer.wizard.endpoints",url:"/endpoints",views:{"content@":{component:"wizardEndpoints"}}}),e.register({name:"portainer.init.license",url:"/license",views:{"content@":{component:"initLicenseView"}}}),e.register(S),e.register(k),e.register({name:"portainer.registries.new",url:"/new",views:{"content@":{component:"createRegistry"}}}),e.register($),e.register(C),e.register({name:"portainer.settings.edgeCompute",url:"/edge",views:{"content@":{component:"settingsEdgeComputeView"}}}),e.register(A),e.register(P),e.register(I),e.register(T),e.register(N)}]).run(be);const fe=["portainer.logout","portainer.internal-auth","portainer.auth","portainer.init.admin"];function ve(e){if(!e)return!0;const t=e&&e.to(),n=t?t.name:"";return!fe.some((e=>n.startsWith(e)))}function be(e,t,n,a,s,i,r){e.onBefore({to:"portainer.init.*"},(async function(e){const r=e.to(),o=e.router.stateService;try{if(!await t.administratorExists())return"portainer.init.admin"===r.name||o.target("portainer.init.admin")}catch(e){throw i.error("Failure",e,"Unable to retrieve admin"),e}if(!n.isAuthenticated())return o.target("portainer.auth");try{if(!(await a.info()).valid)return"portainer.init.license"===r.name||o.target("portainer.init.license")}catch(e){throw i.error("Failure",e,"Unable to retrieve license info"),e}try{return 0===(await s.endpoints(0,1)).value.length?"portainer.init.endpoint"===r.name||o.target("portainer.init.endpoint"):o.target("portainer.home")}catch(e){throw i.error("Failure",e,"Unable to retrieve environment info"),e}})),e.onBefore({to:e=>!e.name.startsWith("portainer.init")&&!fe.includes(e.name)},(function(e){const t=e.router.stateService;!async function(){try{(await a.info()).valid||r((()=>{t.go("portainer.init.license")}),100)}catch(e){throw i.error("Failure",e,"Unable to retrieve license info"),e}}()}))}},7255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e){this.Authentication=e,this.username=null}$onInit(){const e=this.Authentication.getUserDetails();e&&(this.username=e.username)}}a.$inject=["Authentication"]},21578:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e){this.Authentication=e,this.username=null}$onInit(){const e=this.Authentication.getUserDetails();e&&(this.username=e.username)}}a.$inject=["Authentication"]},21366:(e,t,n)=>{const a=n(54296);angular.module("portainer.app").component("accessDatatable",{templateUrl:a,controller:"AccessDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",roles:"<",tableKey:"@",orderBy:"@",removeAction:"<",updateAction:"<",reverseOrder:"<",showWarning:"<",isUpdateEnabled:"<",showRoles:"<",inheritFrom:"<"}})},92681:()=>{angular.module("portainer.app").controller("AccessDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.disableRemove=function(e){return e.Inherited&&this.inheritFrom},this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},56609:(e,t,n)=>{const a=n(9420);angular.module("portainer.app").component("accessTable",{templateUrl:a,controller:function(){this.state={orderBy:"Name",reverseOrder:!1,paginatedItemLimit:"10",textFilter:""},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e}},bindings:{dataset:"<",entryClick:"<",emptyDatasetMessage:"@"}})},3735:(e,t,n)=>{const a=n(62495);angular.module("portainer.app").component("porAccessControlForm",{templateUrl:a,controller:"porAccessControlFormController",bindings:{formData:"=",resourceControl:"<",hideTitle:"<"}})},86656:(e,t,n)=>{"use strict";n.r(t);var a=n(16222),s=n.n(a),i=n(51235),r=n.n(i),o=n(86700);angular.module("portainer.app").controller("porAccessControlFormController",["$q","UserService","TeamService","Notifications","Authentication","ResourceControlService",function(e,t,n,a,i,l){var c=this;c.RCO=o.X,c.availableTeams=[],c.availableUsers=[],this.$onInit=function(){var d=i.isAdmin();c.isAdmin=d,d&&(c.formData.Ownership=c.RCO.ADMINISTRATORS),e.all({availableTeams:n.teams(),availableUsers:d?t.users(!1):[]}).then((function(t){c.availableUsers=s()(t.availableUsers,"Username","asc");var n=s()(t.availableTeams,"Name","asc");return c.availableTeams=n,d||1!==n.length||(c.formData.AuthorizedTeams=n),e.when(c.resourceControl&&l.retrieveOwnershipDetails(c.resourceControl))})).then((function(e){if(e){var t=e.authorizedUsers,n=e.authorizedTeams;!function(e,t){t&&e.Ownership===o.X.PRIVATE?c.formData.Ownership=o.X.RESTRICTED:c.formData.Ownership=e.Ownership,c.formData.Ownership===o.X.PUBLIC&&(c.formData.AccessControlEnabled=!1)}(c.resourceControl,d),function(e,t){angular.forEach(c.availableUsers,(function(t){r()(e,{Id:t.Id})&&(t.selected=!0)})),angular.forEach(c.availableTeams,(function(e){r()(t,{Id:e.Id})&&(e.selected=!0)}))}(t,n)}})).catch((function(e){a.error("Failure",e,"Unable to retrieve access control information")}))}}])},19898:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessControlFormData:()=>s});var a=n(86700);function s(){this.AccessControlEnabled=!0,this.Ownership=a.X.PRIVATE,this.AuthorizedUsers=[],this.AuthorizedTeams=[]}},31421:(e,t,n)=>{const a=n(12130);angular.module("portainer.app").component("porAccessControlPanel",{templateUrl:a,controller:"porAccessControlPanelController",bindings:{resourceId:"<",resourceControl:"=",resourceType:"<",disableOwnershipChange:"<"}})},23550:(e,t,n)=>{"use strict";n.r(t);var a=n(51235),s=n.n(a),i=n(16222),r=n.n(i),o=n(86700),l=n(45263),c=n(70993);angular.module("portainer.app").controller("porAccessControlPanelController",["$q","$state","UserService","TeamService","ResourceControlHelper","ResourceControlService","Notifications","Authentication","ModalService","FormValidator",function(e,t,n,a,i,d,u,p,m,g){var h=this;h.RCO=o.X,h.RCTS=l.ResourceControlTypeString,h.RCTI=l.ResourceControlTypeInt,h.state={displayAccessControlPanel:!1,canEditOwnership:!1,editOwnership:!1,formValidationError:""},h.formValues=new c.AccessControlPanelData,h.authorizedUsers=[],h.availableUsers=[],h.authorizedTeams=[],h.availableTeams=[],h.canEditOwnership=function(){const e=h.resourceControl,t=e&&h.resourceControl.Type===l.ResourceControlTypeInt.CONTAINER&&h.resourceType===l.ResourceControlTypeString.VOLUME,n=e&&h.resourceControl.Type===l.ResourceControlTypeInt.SERVICE&&h.resourceType===l.ResourceControlTypeString.CONTAINER,a=e&&h.resourceControl.Type===l.ResourceControlTypeInt.STACK&&h.resourceType!==l.ResourceControlTypeString.STACK,s=h.disableOwnershipChange;return!t&&!n&&!a&&!s&&!h.state.editOwnership&&(h.isAdmin||h.state.canEditOwnership)},h.confirmUpdateOwnership=function(){(function(){h.state.formValidationError="";var e,t={AccessControlEnabled:h.formValues.Ownership!==o.X.PUBLIC,Ownership:h.formValues.Ownership,AuthorizedUsers:h.formValues.Ownership_Users,AuthorizedTeams:h.formValues.Ownership_Teams},n=h.isAdmin;return!(e=g.validateAccessControl(t,n))||(h.state.formValidationError=e,!1)})()&&m.confirmAccessControlUpdate((function(e){e&&d.applyResourceControlChange(h.resourceType,h.resourceId,h.resourceControl,h.formValues).then((function(){u.success("Access control successfully updated"),t.reload()})).catch((function(e){u.error("Failure",e,"Unable to update access control")}))}))},this.$onInit=function(){var t=p.getUserDetails(),i=p.isAdmin(),l=t.ID;h.isAdmin=i;var c=h.resourceControl;h.formValues.Ownership=i&&c?c.Ownership===o.X.PRIVATE?o.X.RESTRICTED:c.Ownership:o.X.ADMINISTRATORS,d.retrieveOwnershipDetails(c).then((function(e){return h.authorizedUsers=e.authorizedUsers,h.authorizedTeams=e.authorizedTeams,d.retrieveUserPermissionsOnResource(l,i,c)})).then((function(t){return h.state.canEditOwnership=t.isPartOfRestrictedUsers||t.isLeaderOfAnyRestrictedTeams,h.state.canChangeOwnershipToTeam=t.isPartOfRestrictedUsers,e.all({availableUsers:i?n.users(!1):[],availableTeams:i||t.isPartOfRestrictedUsers?a.teams():[]})})).then((function(e){h.availableUsers=r()(e.availableUsers,"Username","asc"),angular.forEach(h.availableUsers,(function(e){s()(h.authorizedUsers,{Id:e.Id})&&(e.selected=!0)})),h.availableTeams=r()(e.availableTeams,"Name","asc"),angular.forEach(e.availableTeams,(function(e){s()(h.authorizedTeams,{Id:e.Id})&&(e.selected=!0)})),1===e.availableTeams.length&&h.formValues.Ownership_Teams.push(e.availableTeams[0]),h.state.displayAccessControlPanel=!0})).catch((function(e){u.error("Failure",e,"Unable to retrieve access control information")}))}}])},70993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessControlPanelData:()=>s});var a=n(86700);function s(){this.Ownership=a.X.ADMINISTRATORS,this.Ownership_Users=[],this.Ownership_Teams=[]}},39372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(26001),r=n(76744);const o=s().module("portainer.app.component.access-management",[]).component("porAccessManagement",i.porAccessManagement).component("porAccessManagementUsersSelector",r.porAccessManagementUsersSelector).name},76744:(e,t,n)=>{"use strict";n.r(t),n.d(t,{porAccessManagementUsersSelector:()=>a});const a={templateUrl:n(78049),bindings:{options:"<",value:"="}}},26001:(e,t,n)=>{"use strict";n.r(t),n.d(t,{porAccessManagement:()=>a});const a={templateUrl:n(63185),controller:"porAccessManagementController",controllerAs:"ctrl",bindings:{accessControlledEntity:"<",inheritFrom:"<",entityType:"@",updateAccess:"<",actionInProgress:"<",filterUsers:"<",limitedFeature:"<"}}},22421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(16222),s=n.n(a),i=n(41952),r=n.n(i),o=n(83432),l=n.n(o),c=n(29274),d=n.n(c),u=n(61969),p=n(20037);class m{constructor(e,t,n){Object.assign(this,{Notifications:e,AccessService:t,RoleService:n}),this.limitedToBE=!1,this.unauthorizeAccess=this.unauthorizeAccess.bind(this),this.updateAction=this.updateAction.bind(this)}updateAction(){const e=this.accessControlledEntity,t=e.UserAccessPolicies,n=e.TeamAccessPolicies,a=l()(this.authorizedUsersAndTeams,{Updated:!0,Type:"user",Inherited:!1}),s=l()(this.authorizedUsersAndTeams,{Updated:!0,Type:"team",Inherited:!1}),i=this.AccessService.generateAccessPolicies(t,n,a,s);this.accessControlledEntity.UserAccessPolicies=i.userAccessPolicies,this.accessControlledEntity.TeamAccessPolicies=i.teamAccessPolicies,this.updateAccess()}authorizeAccess(){const e=this.accessControlledEntity,t=e.UserAccessPolicies,n=e.TeamAccessPolicies,a=this.formValues.selectedRole.Id,s=l()(this.formValues.multiselectOutput,(e=>"user"===e.Type)),i=l()(this.formValues.multiselectOutput,(e=>"team"===e.Type)),r=this.AccessService.generateAccessPolicies(t,n,s,i,a);this.accessControlledEntity.UserAccessPolicies=r.userAccessPolicies,this.accessControlledEntity.TeamAccessPolicies=r.teamAccessPolicies,this.updateAccess()}unauthorizeAccess(e){const t=this.accessControlledEntity,n=t.UserAccessPolicies,a=t.TeamAccessPolicies,s=l()(e,(e=>"user"===e.Type)),i=l()(e,(e=>"team"===e.Type));r()(s,(e=>delete n[e.Id])),r()(i,(e=>delete a[e.Id])),this.updateAccess()}isRoleLimitedToBE(e){return!!this.limitedToBE&&e.ID!==u.RoleTypes.STANDARD}roleLabel(e){return this.limitedToBE?this.isRoleLimitedToBE(e)?`${e.Name} ()`:`${e.Name} (Default)`:e.Name}async $onInit(){try{this.limitedFeature&&(this.limitedToBE=(0,p.vx)(this.limitedFeature));const e=this.accessControlledEntity,t=this.inheritFrom,n=await this.RoleService.roles();this.roles=s()(n,"Priority","asc"),this.formValues={selectedRole:this.roles.find((e=>!this.isRoleLimitedToBE(e)))};const a=await this.AccessService.accesses(e,t,this.roles);this.filterUsers&&(a.availableUsersAndTeams=this.filterUsers(a.availableUsersAndTeams)),this.availableUsersAndTeams=s()(a.availableUsersAndTeams,"Name","asc"),this.authorizedUsersAndTeams=a.authorizedUsersAndTeams}catch(e){this.availableUsersAndTeams=[],this.authorizedUsersAndTeams=[],this.Notifications.error("Failure",e,"Unable to retrieve accesses")}}}m.$inject=["Notifications","AccessService","RoleService"];const g=m;d().module("portainer.app").controller("porAccessManagementController",m)},439:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(98293);const r=n(3401);s().module("portainer.app").component("associatedEndpointsSelector",{templateUrl:r,controller:i.default,bindings:{endpointIds:"<",tags:"<",groups:"<",hasBackendPagination:"<",onAssociate:"<",onDissociate:"<"}})},98293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(44716),s=n.n(a),i=n(83432),r=n.n(i),o=n(29274),l=n.n(o);class c{constructor(e,t){this.$async=e,this.EndpointService=t,this.state={available:{limit:"10",filter:"",pageNumber:1,totalCount:0},associated:{limit:"10",filter:"",pageNumber:1,totalCount:0}},this.endpoints={associated:[],available:null},this.getEndpoints=this.getEndpoints.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.getAssociatedEndpoints=this.getAssociatedEndpoints.bind(this),this.getAssociatedEndpointsAsync=this.getAssociatedEndpointsAsync.bind(this),this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this)}$onInit(){this.loadData()}$onChanges({endpointIds:e}){e&&e.currentValue&&this.loadData()}loadData(){this.getAssociatedEndpoints(),this.getEndpoints()}getEndpoints(){return this.$async(this.getEndpointsAsync)}async getEndpointsAsync(){const{start:e,search:t,limit:n}=this.getPaginationData("available"),a={search:t,types:[4,7]},i=await this.EndpointService.endpoints(e,n,a),o=r()(i.value,(e=>!s()(this.endpointIds,e.Id)));this.setTableData("available",o,i.totalCount),this.noEndpoints=0===this.state.available.totalCount}getAssociatedEndpoints(){return this.$async(this.getAssociatedEndpointsAsync)}async getAssociatedEndpointsAsync(){let e={value:[],totalCount:0};if(this.endpointIds.length>0){const{start:t,search:n,limit:a}=this.getPaginationData("associated"),s={search:n,types:[4,7],endpointIds:this.endpointIds};e=await this.EndpointService.endpoints(t,a,s)}this.setTableData("associated",e.value,e.totalCount)}associateEndpoint(e){this.onAssociate(e)}dissociateEndpoint(e){this.onDissociate(e)}getPaginationData(e){const{pageNumber:t,limit:n,search:a}=this.state[e];return{start:(t-1)*n+1,search:a,limit:n}}setTableData(e,t,n){this.endpoints[e]=t,this.state[e].totalCount=parseInt(n,10)}}c.$inject=["$async","EndpointService"],l().module("portainer.app").controller("AssoicatedEndpointsSelectorController",c);const d=c},64054:()=>{angular.module("portainer.app").directive("autoFocus",["$timeout",function(e){return{restrict:"A",link:function(t,n){e((function(){n[0].focus()}))}}}])},28428:(e,t,n)=>{const a=n(78254);angular.module("portainer.app").component("betaPanel",{templateUrl:a})},66864:()=>{angular.module("portainer.app").directive("buttonSpinner",(function(){return{restrict:"A",scope:{spinning:"=buttonSpinner"},transclude:!0,template:'<ng-transclude></ng-transclude><span ng-show="spinning"><i class="fa fa-circle-notch fa-spin" style="margin-left: 2px;"></i>&nbsp;</span>'}}))},58945:(e,t,n)=>{const a=n(98778);angular.module("portainer.app").component("codeEditor",{templateUrl:a,controller:"CodeEditorController",bindings:{identifier:"@",placeholder:"@",yml:"<",readOnly:"<",onChange:"<",value:"<"}})},85150:()=>{angular.module("portainer.app").controller("CodeEditorController",["$document","CodeMirrorService","$scope",function(e,t,n){var a=this;this.$onChanges=function({value:e}){e&&e.currentValue&&a.editor&&a.editor.getValue()!==e.currentValue&&a.editor.setValue(e.currentValue)},this.$onInit=function(){e.ready((function(){var s=e[0].getElementById(a.identifier);a.editor=t.applyCodeMirrorOnElement(s,a.yml,a.readOnly),a.onChange&&a.editor.on("change",((...e)=>n.$evalAsync((()=>a.onChange(...e))))),a.value&&a.editor.setValue(a.value)}))}}])},28944:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e){this.clipboard=e,this.state={isFading:!1}}copyValueText(){this.clipboard.copyText(this.value),this.state.isFading=!0,setTimeout((()=>this.state.isFading=!1),1e3)}}a.$inject=["clipboard"]},27816:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(28944);const r=n(18164);s().module("portainer.app").component("copyButton",{templateUrl:r,controller:i.default,bindings:{value:"<"}})},88401:(e,t,n)=>{"use strict";n.r(t);var a=n(35784);angular.module("portainer.app").directive("cronrule",(function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,s){s.$validators.invalidCron=function(e){try{return(0,a.se)(e),!0}catch(e){return!1}}}}}))},99614:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(){this.platformTypes=[{label:"Linux",value:1},{label:"Windows",value:2}],this.templateTypes=[{label:"Swarm",value:1},{label:"Standalone",value:2}]}}a.$inject=[];const s=a},26453:(e,t,n)=>{"use strict";n.r(t);var a=n(99614);const s=n(48794);angular.module("portainer.app").component("customTemplateCommonFields",{templateUrl:s,controller:a.default,bindings:{formValues:"=",showPlatformField:"<",showTypeField:"<",nameRegex:"<"}})},45165:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(e,t,n){Object.assign(this,{$async:e,CustomTemplateService:t,Notifications:n}),this.selectedTemplate=null,this.templates=null}async handleChangeTemplate(e){this.selectedTemplate=this.templates.find((t=>t.Id===e)),this.onChange(e,this.selectedTemplate)}$onChanges({value:e}){e&&e.currentValue&&this.templates&&this.handleChangeTemplate(e.currentValue)}$onInit(){return this.$async((async()=>{try{const e=await this.CustomTemplateService.customTemplates(this.stackType);this.templates=e.map((e=>({...e,label:`${e.Title} - ${e.Description}`}))),this.value&&this.handleChangeTemplate(this.value)}catch(e){this.Notifications.error("Failure",e,"")}}))}}a.$inject=["$async","CustomTemplateService","Notifications"];const s=a},16970:(e,t,n)=>{"use strict";n.r(t),n.d(t,{customTemplateSelector:()=>r});var a=n(29274),s=n.n(a),i=n(45165);const r={templateUrl:n(43921),controller:i.default,bindings:{newTemplatePath:"@",stackType:"<",value:"<",onChange:"<"}};s().module("portainer.app").component("customTemplateSelector",r)},85452:()=>{angular.module("portainer.docker").controller("CustomTemplatesListController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.typeLabel=function(e){switch(e){case 1:return"swarm";case 3:return"manifest";default:return"standalone"}},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},9578:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(81704);s().module("portainer.app").component("customTemplatesList",{templateUrl:i,controller:"CustomTemplatesListController",bindings:{titleText:"@",titleIcon:"@",templates:"<",tableKey:"@",onSelectClick:"<",showSwarmStacks:"<",onDeleteClick:"<",isEditAllowed:"<",createPath:"@",editPath:"@"}})},43926:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.onSettingsRepeaterChange()}}}a.$inject=["$scope","$controller","DatatableService"]},64142:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(43926);const r=n(24122);s().module("portainer.app").component("accessTokensDatatable",{templateUrl:r,controller:i.default,bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",removeAction:"<"}})},76752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(){this.state={isOpen:!1}}}},13877:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(76752);const r=n(58430);s().module("portainer.app").component("datatableColumnsVisibility",{templateUrl:r,controller:i.default,bindings:{columns:"<",onChange:"<"}})},56210:(e,t,n)=>{const a=n(75970);angular.module("portainer.app").component("endpointsDatatable",{templateUrl:a,controller:"EndpointsDatatableController",bindings:{titleText:"@",titleIcon:"@",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",retrievePage:"<"}})},805:()=>{angular.module("portainer.app").controller("EndpointsDatatableController",["$scope","$controller","DatatableService","PaginationService","Notifications",function(e,t,n,a){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.paginationChanged=function(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter).then((e=>{this.state.filteredDataSet=e.endpoints,this.state.totalFilteredDataSet=e.totalCount})).finally((()=>{this.state.loading=!1}))},this.onPageChange=function(e){this.state.pageNumber=e,this.paginationChanged()},this.onTextFilterChange=function(){var e=this.state.textFilter;n.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()},this.changePaginationLimit=function(){a.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset();var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}}])},38058:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{isEnabled(){return 0<this.state.length&&this.state.length<this.labels.length}onChangeItem(e){return this.isChecked(e)?this.onChange(this.filterKey,this.state.filter((t=>t!==e))):this.onChange(this.filterKey,[...this.state,e])}isChecked(e){return this.state.includes(e)}}},59001:(e,t,n)=>{"use strict";n.r(t),n.d(t,{datatableFilter:()=>i});var a=n(38058);const s=n(29656),i={bindings:{labels:"<",state:"<",filterKey:"@",onChange:"<"},controller:a.default,templateUrl:s,transclude:!0}},11471:(e,t,n)=>{"use strict";n.r(t);var a=n(25445),s=n.n(a),i=n(46006),r=n.n(i),o=n(41952),l=n.n(o),c=n(83432),d=n.n(c),u=n(66539),p=n.n(u),m=n(86700),g=n(52474);angular.module("portainer.app").controller("GenericDatatableController",["$interval","PaginationService","DatatableService","PAGINATION_MAX_ITEMS",function(e,t,n,a){this.RCO=m.X,this.state={selectAll:!1,orderBy:this.orderBy,paginatedItemLimit:a,displayTextFilter:!1,get selectedItemCount(){return this.selectedItems.length||0},selectedItems:[]},this.settings={open:!1,repeater:{autoRefresh:!1,refreshRate:"30"}},this.resetSelectionState=function(){this.state.selectAll=!1,this.state.selectedItems=[],p()(this.state.filteredDataSet,(e=>e.Checked=!1))},this.onTextFilterChange=function(){n.setDataTableTextFilters(this.tableKey,this.state.textFilter)},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e,n.setDataTableOrder(this.tableKey,e,this.state.reverseOrder)},this.selectItem=function(e,t){if(t&&t.originalEvent.shiftKey&&this.state.firstClickedItem){const t=this.state.filteredDataSet.indexOf(this.state.firstClickedItem),n=this.state.filteredDataSet.indexOf(e),a=d()(this.state.filteredDataSet,((e,a)=>function(e,t,n){return e>=t&&e<=n||e>=n&&e<=t}(a,t,n))),s=this.state.firstClickedItem.Checked;l()(a,(e=>{this.allowSelection(e)&&(e.Checked=s)})),this.state.firstClickedItem=e}else t&&(e.Checked=!e.Checked,this.state.firstClickedItem=e);this.state.selectedItems=r()(s()(this.state.selectedItems,this.state.filteredDataSet)).filter((e=>e.Checked)),t&&this.state.selectAll&&this.state.selectedItems.length!==this.state.filteredDataSet.length&&(this.state.selectAll=!1),this.onSelectionChanged()},this.selectAll=function(){this.state.firstClickedItem=null;for(var e=0;e<this.state.filteredDataSet.length;e++){var t=this.state.filteredDataSet[e];this.allowSelection(t)&&t.Checked!==this.state.selectAll&&(t.Checked=this.state.selectAll,this.selectItem(t))}this.onSelectionChanged()},this.allowSelection=function(){return!0},this.prepareTableFromDataset=function(){},this.onSelectionChanged=function(){},this.changePaginationLimit=function(){t.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit)},this.setDefaults=function(){this.showTextFilter=!!this.showTextFilter&&this.showTextFilter,this.state.reverseOrder=!!this.reverseOrder&&this.reverseOrder,this.state.paginatedItemLimit=t.getPaginationLimit(this.tableKey)},this.$onInit=function(){this.$onInitGeneric()},this.$onInitGeneric=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange();var i=n.getColumnVisibilitySettings(this.tableKey);null!==i&&(this.columnVisibility=i)},this.repeater=void 0,this.$onDestroy=function(){this.stopRepeater()},this.stopRepeater=function(){angular.isDefined(this.repeater)&&(e.cancel(this.repeater),this.repeater=void 0)},this.startRepeater=function(){this.repeater=e((async()=>{await this.refreshCallback(),this.onDataRefresh()}),1e3*this.settings.repeater.refreshRate)},this.onSettingsRepeaterChange=function(){this.stopRepeater(),angular.isDefined(this.refreshCallback)&&this.settings.repeater.autoRefresh&&(this.startRepeater(),g("#refreshRateChange").show(),g("#refreshRateChange").fadeOut(1500)),n.setDataTableSettings(this.tableKey,this.settings)},this.onDataRefresh=function(){}}])},36864:(e,t,n)=>{const a=n(34095);angular.module("portainer.app").component("groupsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<"}})},41101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(29274),s=n.n(a),i=(n(22479),n(58973)),r=n(76224),o=n(62040),l=n(21757),c=n(59001);const d=s().module("portainer.shared.datatable",["angularUtils.directives.dirPagination"]).component("datatableTitlebar",i.datatableTitlebar).component("datatableSearchbar",r.datatableSearchbar).component("datatableSortIcon",o.datatableSortIcon).component("datatablePagination",l.datatablePagination).component("datatableFilter",c.datatableFilter).name},21757:(e,t,n)=>{"use strict";n.r(t),n.d(t,{datatablePagination:()=>a});const a={bindings:{onChangeLimit:"<",limit:"<",enableNoLimit:"<",onChangePage:"<"},templateUrl:n(5050)}},44145:(e,t,n)=>{const a=n(81853);angular.module("portainer.app").component("registriesDatatable",{templateUrl:a,controller:"RegistriesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",canBrowse:"<",endpointType:"<",canManageAccess:"<"}})},63188:(e,t,n)=>{"use strict";n.r(t);var a=n(74808);function s(e,t,n,s,i){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.allowSelection=function(e){return e.Id},this.enableGoToLink=e=>this.isAdmin&&e.Id&&!this.endpointType,this.goToRegistry=function(e){this.endpointType===a.PortainerEndpointTypes.KubernetesLocalEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnKubernetesEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment?n.go("kubernetes.registries.registry",{id:e.Id}):this.endpointType===a.PortainerEndpointTypes.DockerEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnDockerEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment?n.go("docker.registries.registry",{id:e.Id}):n.go("portainer.registries.registry",{id:e.Id})},this.redirectToManageAccess=function(e){this.endpointType===a.PortainerEndpointTypes.KubernetesLocalEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnKubernetesEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment?n.go("kubernetes.registries.access",{id:e.Id}):n.go("docker.registries.access",{id:e.Id})},this.$onInit=function(){this.isAdmin=s.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=i.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=i.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=i.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=i.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange();var r=i.getColumnVisibilitySettings(this.tableKey);null!==r&&(this.columnVisibility=r)}}s.$inject=["$scope","$controller","$state","Authentication","DatatableService"],angular.module("portainer.docker").controller("RegistriesDatatableController",s)},76224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{datatableSearchbar:()=>a});const a={bindings:{onChange:"<",ngModel:"<"},templateUrl:n(15369)}},81749:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{isCurrentSortOrder(){return this.selectedSortKey===this.key}}},62040:(e,t,n)=>{"use strict";n.r(t),n.d(t,{datatableSortIcon:()=>i});var a=n(81749);const s=n(39477),i={bindings:{key:"@",selectedSortKey:"@",reverseOrder:"<"},controller:a.default,templateUrl:s}},97203:(e,t,n)=>{const a=n(68861);angular.module("portainer.app").component("stacksDatatable",{templateUrl:a,controller:"StacksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",offlineMode:"<",refreshCallback:"<",createEnabled:"<"}})},97433:()=>{angular.module("portainer.app").controller("StacksDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,a){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.filters={state:{open:!1,enabled:!1,showActiveStacks:!0,showUnactiveStacks:!0}},this.columnVisibility={state:{open:!1},columns:{updated:{label:"Updated",display:!1}}},this.onColumnVisibilityChange=function(e){this.columnVisibility.columns=e,n.setColumnVisibilitySettings(this.tableKey,this.columnVisibility)}.bind(this),this.allowSelection=function(e){return!(e.External&&2===e.Type||e.Orphaned&&!this.isAdmin||e.External&&!this.isAdmin&&!this.isEndpointAdmin)},this.applyFilters=function(e){const{showActiveStacks:t,showUnactiveStacks:n}=this.filters.state;return e.Orphaned?e.OrphanedRunning||this.settings.allOrphanedStacks:1===e.Status&&t||2===e.Status&&n||e.External||!e.Status}.bind(this),this.onFilterChange=function(){const{showActiveStacks:e,showUnactiveStacks:t}=this.filters.state;this.filters.state.enabled=!e||!t,n.setDataTableFilters(this.tableKey,this.filters)}.bind(this),this.onSettingsAllOrphanedStacksChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.$onInit=function(){this.isAdmin=a.isAdmin(),this.hasAccessToOrphanedStack=a.hasAuthorizations(["EndpointResourcesAccess"]),this.isEndpointAdmin=a.hasAuthorizations(["PortainerStackCreate","PortainerStackDelete"])&&this.hasAccessToOrphanedStack,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var s=n.getDataTableFilters(this.tableKey);null!==s&&(this.filters=s),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1,this.settings.allOrphanedStacks=this.settings.allOrphanedStacks&&this.isAdmin),this.onSettingsRepeaterChange();var r=n.getColumnVisibilitySettings(this.tableKey);null!==r&&(this.columnVisibility=r)}}])},59198:(e,t,n)=>{"use strict";n.r(t),n.d(t,{stringsDatatable:()=>i});var a=n(29274),s=n.n(a);const i={templateUrl:n(83287),controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",emptyDatasetMessage:"@",columnHeader:"@",tableKey:"@",onRemove:"<"}};s().module("portainer.app").component("stringsDatatable",i)},96447:(e,t,n)=>{const a=n(30908);angular.module("portainer.app").component("tagsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<"}})},85514:(e,t,n)=>{const a=n(80155);angular.module("portainer.app").component("teamsDatatable",{templateUrl:a,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<"}})},58973:(e,t,n)=>{"use strict";n.r(t),n.d(t,{datatableTitlebar:()=>a});const a={bindings:{icon:"@",title:"@",feature:"@"},templateUrl:n(10049)}},59322:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(92040);const r=n(63978);s().module("portainer.app").component("usersDatatable",{templateUrl:r,controller:i.default,bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",authenticationMethod:"<"}})},92040:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t){const n=this.allowSelection;angular.extend(this,e("GenericDatatableController",{$scope:t})),this.allowSelection=n.bind(this)}allowSelection(e){return 1!==e.Id}}a.$inject=["$controller","$scope"]},58042:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DateRangePickerApi:()=>c});var a=n(4396),s=n.n(a),i=n(52474);const r="apply.daterangepicker",o="cancel.daterangepicker",l="hide.daterangepicker";class c{constructor(e,t,n){this.el=e,this.$scope=t,this.options=n,this.startDate=null,this.endDate=null,this.maxDate=null,this.minDate=null}build(){const{el:e,$scope:t}=this;return{setMinDate:n=>{if("object"==typeof n)return;const a=e.data("daterangepicker");a.minDate=n,a.updateView(),a.updateCalendars(),this.minDate=s().unix(n),this.startDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate,t.startDate=n),this.endDate&&this.endDate.isBefore(this.minDate)&&(this.endDate=this.minDate,t.endDate=n)},setMaxDate:n=>{if("object"==typeof n)return;const a=e.data("daterangepicker");a.maxDate=n,a.updateView(),a.updateCalendars(),this.maxDate=s().unix(n),this.startDate&&this.startDate.isAfter(this.maxDate)&&(t.startDate=0,this.startDate=null),this.endDate&&this.endDate.isAfter(this.maxDate)&&(t.endDate=0,this.endDate=null),this.clearInput()},setStartDate:t=>{"object"!=typeof t&&(e.data("daterangepicker").setStartDate(t),this.startDate=s().unix(t))},setEndDate:t=>{"object"!=typeof t&&(e.data("daterangepicker").setEndDate(t),this.endDate=s().unix(t))},isSingle:()=>{e.data("daterangepicker").singleDatePicker},show:()=>{e.data("daterangepicker").show()},hide:()=>{e.data("daterangepicker").hide()}}}onApply(e,t){this.startDate=t.startDate,this.endDate=this.isSingle()?t.startDate:t.endDate,this.$scope.formCtrl&&this.$scope.ngRequired&&(this.$scope.startDate&&this.$scope.endDate?this.$scope.formCtrl.$setValidity(this.$scope.dateRangePickerId,!0):this.$scope.formCtrl.$setValidity(this.$scope.dateRangePickerId,!1)),this.$scope.onChange&&this.$scope.$apply((()=>{this.$scope.onChange({startDate:t.startDate.unix(),endDate:t.endDate.unix()})}))}onCancel(){this.$scope.clearOnCancel||this.$scope.$apply((()=>{this.$scope.formCtrl&&this.$scope.ngRequired&&this.$scope.formCtrl.$setValidity(this.$scope.dateRangePickerId,!1),this.clearInput(),this.$scope.onChange&&this.$scope.onChange({startDate:0,endDate:0})}))}onHide(){setInterval((()=>{(this.isSingle()&&!this.$scope.startDate||!this.$scope.startDate&&!this.$scope.endDate)&&this.clearInput()}))}clearInput(){i(this.el).val("")}isSingle(){return this.options.singleDatePicker}init(){this.el.on(r,((e,t)=>{this.onApply(e,t)})),this.el.on(o,((e,t)=>{this.onCancel(e,t)})),this.el.on(l,((e,t)=>{this.onHide(e,t)}))}destroy(){this.el.off(r),this.el.off(o),this.el.off(l)}}},53834:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dateRangePicker:()=>c});var a=n(91941),s=n.n(a),i=n(58042),r=n(52474);const o=n(67333),l=["minDate","maxDate","dateLimit","showDropdowns","showWeekNumbers","showISOWeekNumbers","timePicker","timePickerIncrement","timePicker24Hour","timePickerSeconds","ranges","showCustomRangeLabel","alwaysShowCalendars","opens","drops","buttonClasses","applyClass","cancelClass","locale","singleDatePicker","autoApply","linkedCalendars","isInvalidDate","isCustomDate","autoUpdateInput","parentEl"];function c(){return{restrict:"E",scope:{dateRangePickerOptions:"=",startDate:"<",endDate:"<?",ngRequired:"<",minDate:"<?",maxDate:"<?",clearOnCancel:"@",className:"@",id:"@",onChange:"<"},templateUrl:o,require:"?^^form",compile:function(){return function(e,t,n,a){const o={locale:{format:"YYYY-MM-DD"}},c=t.find("input"),d=o.singleDatePicker&&e.startDate||e.startDate&&e.endDate;let u,p,m,g;if(e.formCtrl=a,e.dateRangePickerId=`daterange-picker-${s()()}`,e.formCtrl&&e.ngRequired&&!e.startDate&&!e.endDate&&e.formCtrl.$setValidity(e.dateRangePickerId,!1),e.dateRangePickerOptions)for(const t in e.dateRangePickerOptions)l.indexOf(t)>=0&&(o[t]=e.dateRangePickerOptions[t]);e.$on("$destroy",(function(){m.remove(),p.destroy(),g&&g()})),function(){const t=angular.copy(o);t.startDate=e.startDate,t.endDate=e.endDate,m=r(c).daterangepicker(t),d||r(m).val("")}(),p=new i.DateRangePickerApi(m,e,o),p.init(),u=p.build(),g=e.$watchGroup(["startDate","endDate","minDate","maxDate"],(function(e){if(!e||!e.length)return;const[t,n,a,s]=e;a&&u.setMinDate(a),s&&u.setMaxDate(s),t&&u.setStartDate(t),n&&u.setEndDate(n)}))}}}}},40345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s}),n(50711);var a=n(53834);const s=angular.module("portainer.components.datarangepicker",[]).directive("dateRangePicker",a.dateRangePicker).name},96155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(89858),s=n.n(a),i=n(29274),r=n.n(i),o=n(91619);class l{constructor(){this.editEndpoint=this.editEndpoint.bind(this)}editEndpoint(e){e.stopPropagation(),this.onEdit(this.model.Id)}joinTags(){if(!this.tags)return"Loading tags...";if(!this.model.TagIds||!this.model.TagIds.length)return"";const e=o.default.idsToTagNames(this.tags,this.model.TagIds);return s()(e,",")}isEdgeEndpoint(){return 4===this.model.Type||7===this.model.Type}calcIsCheckInValid(){if(!this.isEdgeEndpoint())return!1;const e=this.model.EdgeCheckinInterval;return this.endpointInitTime-this.model.LastCheckInDate<=2*e+20}$onInit(){this.endpointTags=this.joinTags(),this.isCheckInValid=this.calcIsCheckInValid()}$onChanges({tags:e,model:t}){(e||t)&&(e.currentValue||t.currentValue)&&(this.endpointTags=this.joinTags(),t&&(this.isCheckInValid=this.calcIsCheckInValid()))}}l.$inject=[],r().module("portainer.app").controller("EndpointItemController",l);const c=l},88736:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(96155);const r=n(24294);s().module("portainer.app").component("endpointItem",{templateUrl:r,bindings:{model:"<",onSelect:"<",onEdit:"<",isAdmin:"<",tags:"<",endpointInitTime:"<"},controller:i.default})},51452:(e,t,n)=>{"use strict";n.r(t);var a=n(99432),s=n.n(a),i=n(44716),r=n.n(i),o=n(67097),l=n.n(o),c=n(83432),d=n.n(c),u=n(74808);angular.module("portainer.app").controller("EndpointListController",["DatatableService","PaginationService","ModalService","KubernetesConfigService","Notifications",function(e,t,n,a,i){function o(e){return[u.PortainerEndpointTypes.KubernetesLocalEnvironment,u.PortainerEndpointTypes.AgentOnKubernetesEnvironment,u.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}this.state={totalFilteredEndpoints:null,textFilter:"",filteredEndpoints:[],paginatedItemLimit:"10",pageNumber:1,loading:!0,pollingTimeout:null},this.onTextFilterChange=function(t=!1){this.state.loading=!0;var n=this.state.textFilter;e.setDataTableTextFilters(this.tableKey,n),!t&&this.hasBackendPagination()?this.paginationChangedAction():(this.state.filteredEndpoints=function(e,t,n){if(!e||!e.length||!n)return e;var a=n.split(" ");return d()(e,(function(e){var n=1===e.Status?"up":"down";return l()(a,(function(a){var i=a.toLowerCase();return r()(e.Name.toLowerCase(),i)||r()(e.GroupName.toLowerCase(),i)||r()(e.URL.toLowerCase(),i)||s()(e.TagIds,(e=>{const n=t.find((t=>t.Id===e));return!!n&&r()(n.Name.toLowerCase(),i)}))||r()(n,a)}))}))}(this.endpoints,this.tags,n),this.state.loading=!1,this.state.totalFilteredEndpoints=n?this.state.filteredEndpoints.length:this.endpoints.length)},this.hasBackendPagination=function(){return this.totalCount&&this.totalCount>100},this.clearPollTimeout=function(){this.state.pollingTimeout&&(clearTimeout(this.state.pollingTimeout),this.state.pollingTimeout=0)},this.$onDestory=function(){this.clearPollTimeout()},this.getCurrentPage=async function(e,t,n,a=!1){try{const{totalCount:s,endpoints:i}=await this.retrievePage(e,t,n);a?(this.totalCount=s,this.endpoints=i,this.onTextFilterChange(a)):(this.state.filteredEndpoints=i,this.state.totalFilteredEndpoints=s),this.state.loading=!1,i.some((e=>1!==e.Status))&&(this.state.pollingTimeout=setTimeout((()=>this.getCurrentPage(e,t,n)),3e4))}catch(e){i.error("Failed loading page data",e)}},this.paginationChangedAction=async function(e=!1){if(this.clearPollTimeout(),e||this.hasBackendPagination()){this.state.loading=!0,this.state.filteredEndpoints=[];const t=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;e?await this.getCurrentPage(t,100,null,e):await this.getCurrentPage(t,this.state.paginatedItemLimit,this.state.textFilter)}},this.pageChangeHandler=function(e){this.state.pageNumber=e,this.paginationChangedAction()},this.changePaginationLimit=function(){t.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChangedAction()},this.showKubeconfigButton=function(){return"https:"===window.location.protocol&&s()(this.endpoints,(e=>o(e)))},this.showKubeconfigModal=async function(){const e=d()(this.endpoints,(e=>o(e))).map((function(e){return{text:`${e.Name} (${e.URL})`,value:e.Id}}));let t="";try{t=await a.expiryMessage()}catch(e){i.error("Failed fetching kubeconfig expiry time",e)}n.confirmKubeconfigSelection(e,t,(async function(e){if(0!==e.length)try{await a.downloadKubeconfigFile(e)}catch(e){i.error("Failed downloading kubeconfig file",e)}else i.warning("No environment was selected")}))},this.$onInit=function(){var n=e.getDataTableTextFilters(this.tableKey);this.state.paginatedItemLimit=t.getPaginationLimit(this.tableKey),n&&(this.state.textFilter=n),this.paginationChangedAction(!0)}}])},63917:(e,t,n)=>{const a=n(63779);angular.module("portainer.app").component("endpointList",{templateUrl:a,controller:"EndpointListController",bindings:{titleText:"@",titleIcon:"@",tags:"<",tableKey:"@",dashboardAction:"<",snapshotAction:"<",showSnapshotAction:"<",editAction:"<",isAdmin:"<",retrievePage:"<",endpointInitTime:"<"}})},32005:(e,t,n)=>{const a=n(2241);angular.module("portainer.app").component("endpointSelector",{templateUrl:a,controller:"EndpointSelectorController",bindings:{model:"=",endpoints:"<",groups:"<"}})},84330:(e,t,n)=>{"use strict";n.r(t);var a=n(40714),s=n.n(a);angular.module("portainer.app").controller("EndpointSelectorController",(function(){var e=this;this.sortGroups=function(e){return s()(e,["name"])},this.groupEndpoints=function(t){for(var n=0;n<e.availableGroups.length;n++){var a=e.availableGroups[n];if(t.GroupId===a.Id)return a.Name}},this.$onInit=function(){var e,t;this.availableGroups=(e=this.groups,t=this.endpoints,e.filter((function(e){for(var n=0;n<t.length;n++)if(t[n].GroupId===e.Id)return!0;return!1})))}}))},39590:(e,t,n)=>{const a=n(9062);angular.module("portainer.app").component("porEndpointSecurity",{templateUrl:a,controller:"porEndpointSecurityController",bindings:{formData:"=",endpoint:"<"}})},59810:()=>{angular.module("portainer.app").controller("porEndpointSecurityController",[function(){var e=this;this.$onInit=function(){if(e.endpoint){var t=e.endpoint,n=t.TLSConfig.TLS;e.formData.TLS=n;var a=t.TLSConfig.TLSCACert;e.formData.TLSCACert=a;var s=t.TLSConfig.TLSCert;e.formData.TLSCert=s;var i=t.TLSConfig.TLSKey;e.formData.TLSKey=i,n&&(e.formData.TLSMode=a&&s&&i?"tls_client_ca":s&&i?"tls_client_noca":a?"tls_ca":"tls_only")}}}])},25229:(e,t,n)=>{"use strict";function a(){this.TLS=!1,this.TLSMode="tls_client_ca",this.TLSCACert=null,this.TLSCert=null,this.TLSKey=null}n.r(t),n.d(t,{EndpointSecurityFormData:()=>a})},72532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(93994);class s{constructor(){this.mode="simple",this.editorText="",this.switchEnvMode=this.switchEnvMode.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.handleSimpleChange=this.handleSimpleChange.bind(this)}switchEnvMode(){if("simple"===this.mode){const e=(0,a.convertToArrayOfStrings)(this.ngModel).join("\n");this.editorText=e,this.mode="advanced"}else this.mode="simple"}handleSimpleChange(e){this.onChange(e)}editorUpdate(e){this.editorText=e.getValue(),this.onChange((0,a.parseDotEnvFile)(this.editorText))}}s.$inject=[]},19695:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=class{onChangeName(e){void 0===e||this.onChange(this.index,{...this.variable,name:e})}onChangeValue(e){void 0===e||this.onChange(this.index,{...this.variable,value:e})}hasValue(){return void 0!==this.variable.value}removeValue(){this.onChange(this.index,{name:this.variable.name})}$onInit(){this.formName=`variableForm${this.index}`}}},47254:(e,t,n)=>{"use strict";n.r(t),n.d(t,{environmentVariablesSimpleModeItem:()=>r});var a=n(29274),s=n.n(a),i=n(19695);const r={templateUrl:n(52927),controller:i.default,bindings:{variable:"<",index:"<",onChange:"<",onRemove:"<"}};s().module("portainer.app").component("environmentVariablesSimpleModeItem",r)},17272:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(93994);class s{constructor(e){this.$async=e,this.onChangeVariable=this.onChangeVariable.bind(this),this.remove=this.remove.bind(this)}add(){this.onChange([...this.ngModel,{name:"",value:""}])}remove(e){this.onChange(this.ngModel.filter(((t,n)=>n!==e)))}addFromFile(e){return this.$async((async()=>{if(!e)return;const t=await this.getTextFromFile(e),n=(0,a.parseDotEnvFile)(t);this.onChange(this.ngModel.concat(n))}))}getTextFromFile(e){return new Promise(((t,n)=>{const a=new FileReader;a.readAsText(e),a.onload=e=>t(e.target.result),a.onerror=e=>n(e)}))}onChangeVariable(e,t){this.onChange(this.ngModel.map(((n,a)=>a!==e?n:t)))}}s.$inject=["$async"]},61311:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(17272);const r=n(9277);s().module("portainer.app").component("environmentVariablesSimpleMode",{templateUrl:r,controller:i.default,bindings:{ngModel:"<",onSwitchModeClick:"<",onChange:"<"}})},5633:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(72532);const r=n(94176);s().module("portainer.app").component("environmentVariablesPanel",{templateUrl:r,controller:i.default,bindings:{ngModel:"<",explanation:"@",onChange:"<"}})},87508:(e,t,n)=>{"use strict";n.r(t);var a=n(29274);n.n(a)().module("portainer.app").directive("focusIf",["$timeout",function(e){return{restrict:"A",link:function(t,n,a){var s=n[0];function i(n){n&&e((function(){s.focus()}),t.$eval(a.focusDelay)||0)}a.focusIf?t.$watch(a.focusIf,i):i(!0)}}}])},74075:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fileUploadForm:()=>a});const a={templateUrl:n(49424),bindings:{file:"<",ngRequired:"<",onChange:"<"},transclude:{description:"?fileUploadDescription"}}},39068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(67653),r=n(74075),o=n(16413),l=n(42629);const c=s().module("portainer.app.components.form",[]).component("webEditorForm",i.webEditorForm).component("fileUploadForm",r.fileUploadForm).component("fileUploadField",l.Ar).component("porSwitchField",o.m).name},67653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{webEditorForm:()=>s});var a=n(32340);const s={templateUrl:n(57582),controller:a.default,bindings:{identifier:"@",placeholder:"@",yml:"<",value:"<",onChange:"<"},transclude:{description:"?editorDescription"}}},32340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(){this.editorUpdate=this.editorUpdate.bind(this)}editorUpdate(e){this.onChange(e.getValue())}}a.$inject=[];const s=a},27190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=class{onChangePath(e){void 0===e||this.onChange(this.index,{value:e})}removeValue(){this.onChange(this.index)}$onInit(){this.formName=`variableForm${this.index}`}}},83208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitFormAdditionalFileItem:()=>s});var a=n(27190);const s={templateUrl:n(10852),controller:a.default,bindings:{variable:"<",index:"<",onChange:"<",onRemove:"<"}}},17968:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(){this.add=this.add.bind(this),this.onChangeVariable=this.onChangeVariable.bind(this)}add(){this.model.AdditionalFiles.push("")}onChangeVariable(e,t){t?this.model.AdditionalFiles[e]=t.value:this.model.AdditionalFiles.splice(e,1),this.onChange({...this.model,AdditionalFiles:this.model.AdditionalFiles})}}a.$inject=[];const s=a},7274:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitFormAdditionalFilesPanel:()=>s});var a=n(17968);const s={templateUrl:n(65568),controller:a.default,bindings:{model:"<",onChange:"<"}}},10789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(e){Object.assign(this,{$scope:e}),this.authValues={username:"",password:""},this.handleChange=this.handleChange.bind(this),this.onChangeField=this.onChangeField.bind(this),this.onChangeAuth=this.onChangeAuth.bind(this),this.onChangeUsername=this.onChangeField("RepositoryUsername"),this.onChangePassword=this.onChangeField("RepositoryPassword")}handleChange(...e){this.$scope.$evalAsync((()=>{this.onChange(...e)}))}onChangeField(e){return t=>{this.handleChange({...this.model,[e]:t})}}onChangeAuth(e){e||(this.authValues.username=this.model.RepositoryUsername,this.authValues.password=this.model.RepositoryPassword),this.handleChange({...this.model,RepositoryAuthentication:e,RepositoryUsername:e?this.authValues.username:"",RepositoryPassword:e?this.authValues.password:""})}$onInit(){this.model.RepositoryAuthentication&&(this.authValues.username=this.model.RepositoryUsername,this.authValues.password=this.model.RepositoryPassword)}}a.$inject=["$scope"];const s=a},48980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitFormAuthFieldset:()=>s});var a=n(10789);const s={templateUrl:n(98173),controller:a.default,bindings:{model:"<",onChange:"<",showAuthExplanation:"<",isEdit:"<"}}},12847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(26196),s=n(52474);class i{constructor(e,t){Object.assign(this,{$scope:e,clipboard:t}),this.onChangeAutoUpdate=this.onChangeField("RepositoryAutomaticUpdates"),this.onChangeAutoUpdateForce=this.onChangeField("RepositoryAutomaticUpdatesForce"),this.onChangeMechanism=this.onChangeField("RepositoryMechanism"),this.onChangeInterval=this.onChangeField("RepositoryFetchInterval"),this.onChangeForcePullImage=this.onChangeField("ForcePullImage"),this.limitedFeature=a.tE.FORCE_REDEPLOYMENT,this.limitedFeaturePullImage=a.tE.STACK_PULL_IMAGE}copyWebhook(){this.clipboard.copyText(this.model.RepositoryWebhookURL),s("#copyNotification").show(),s("#copyNotification").fadeOut(2e3)}onChangeField(e){return t=>{this.$scope.$evalAsync((()=>{this.onChange({...this.model,[e]:t})}))}}}i.$inject=["$scope","clipboard"];const r=i},34385:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitFormAutoUpdateFieldset:()=>s});var a=n(12847);const s={templateUrl:n(17560),controller:a.default,bindings:{model:"<",onChange:"<"}}},39926:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitFormComposePathField:()=>a});const a={templateUrl:n(6942),bindings:{deployMethod:"@",value:"<",onChange:"<"}}},78356:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitFormInfoPanel:()=>a});const a={templateUrl:n(48037),bindings:{url:"<",configFilePath:"<",additionalFiles:"<",className:"@",type:"@"}}},65830:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitFormRefField:()=>a});const a={templateUrl:n(6605),bindings:{value:"<",onChange:"<"}}},4680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitFormUrlField:()=>a});const a={templateUrl:n(53754),bindings:{value:"<",onChange:"<"}}},93632:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(){this.onChangeField=this.onChangeField.bind(this),this.onChangeURL=this.onChangeField("RepositoryURL"),this.onChangeRefName=this.onChangeField("RepositoryReferenceName"),this.onChangeComposePath=this.onChangeField("ComposeFilePathInRepository")}onChangeField(e){return t=>{this.onChange({...this.model,[e]:t})}}$onInit(){this.deployMethod=this.deployMethod||"compose"}}a.$inject=[]},97525:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gitForm:()=>s});var a=n(93632);const s={templateUrl:n(23283),controller:a.default,bindings:{deployMethod:"@",model:"<",onChange:"<",additionalFile:"<",autoUpdate:"<",showAuthExplanation:"<"}}},8540:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(29274),s=n.n(a),i=n(97525),r=n(48980),o=n(7274),l=n(83208),c=n(34385),d=n(39926),u=n(65830),p=n(4680),m=n(78356);const g=s().module("portainer.app.components.forms.git",[]).component("gitFormComposePathField",d.gitFormComposePathField).component("gitFormRefField",u.gitFormRefField).component("gitForm",i.gitForm).component("gitFormUrlField",p.gitFormUrlField).component("gitFormInfoPanel",m.gitFormInfoPanel).component("gitFormAdditionalFilesPanel",o.gitFormAdditionalFilesPanel).component("gitFormAdditionalFileItem",l.gitFormAdditionalFileItem).component("gitFormAutoUpdateFieldset",c.gitFormAutoUpdateFieldset).component("gitFormAuthFieldset",r.gitFormAuthFieldset).name},95189:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(37134);const r=n(69688);s().module("portainer.app").component("groupForm",{templateUrl:r,controller:i.default,bindings:{loaded:"<",pageType:"@",model:"=",availableEndpoints:"=",availableTags:"<",associatedEndpoints:"=",addLabelAction:"<",removeLabelAction:"<",formAction:"<",formActionLabel:"@",actionInProgress:"<",onCreateTag:"<"}})},37134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(71204),s=n.n(a),i=n(44716),r=n.n(i),o=n(29274),l=n.n(o);class c{constructor(e,t,n,a,s){this.$q=e,this.EndpointService=t,this.GroupService=n,this.Notifications=a,this.Authentication=s,this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.getPaginatedEndpointsByGroup=this.getPaginatedEndpointsByGroup.bind(this)}$onInit(){this.state={available:{limit:"10",filter:"",pageNumber:1,totalCount:0},associated:{limit:"10",filter:"",pageNumber:1,totalCount:0},allowCreateTag:this.Authentication.isAdmin()}}associateEndpoint(e){"create"!==this.pageType||r()(this.associatedEndpoints,e)?"edit"===this.pageType&&this.GroupService.addEndpoint(this.model.Id,e).then((()=>{this.Notifications.success("Success","Environment successfully added to group"),this.reloadTablesContent()})).catch((e=>this.Notifications.error("Error",e,"Unable to add environment to group"))):this.associatedEndpoints.push(e)}dissociateEndpoint(e){"create"===this.pageType?s()(this.associatedEndpoints,(t=>t.Id===e.Id)):"edit"===this.pageType&&this.GroupService.removeEndpoint(this.model.Id,e.Id).then((()=>{this.Notifications.success("Success","Environment successfully removed from group"),this.reloadTablesContent()})).catch((e=>this.Notifications.error("Error",e,"Unable to remove environment from group")))}reloadTablesContent(){this.getPaginatedEndpointsByGroup(this.pageType,"available"),this.getPaginatedEndpointsByGroup(this.pageType,"associated"),this.GroupService.group(this.model.Id).then((e=>{this.model=e}))}getPaginatedEndpointsByGroup(e,t){if("available"===t){const e=this.state.available,t=(e.pageNumber-1)*e.limit+1;this.EndpointService.endpointsByGroup(t,e.limit,e.filter,1).then((e=>{this.availableEndpoints=e.value,this.state.available.totalCount=e.totalCount}))}else if("associated"===t&&"edit"===e){const e=this.model.Id?this.model.Id:1,t=this.state.associated,n=(t.pageNumber-1)*t.limit+1;this.EndpointService.endpointsByGroup(n,t.limit,t.filter,e).then((e=>{this.associatedEndpoints=e.value,this.state.associated.totalCount=e.totalCount}))}}}c.$inject=["$q","EndpointService","GroupService","Notifications","Authentication"],l().module("portainer.app").controller("GroupFormController",c);const d=c},29037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(e,t,n,a,s){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=a,this.Notifications=s,this.state={saveGitSettingsInProgress:!1,redeployInProgress:!1,showConfig:!0,isEdit:!1},this.formValues={RefName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:""},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this)}onChangeRef(e){this.onChange({RefName:e})}onChange(e){this.formValues={...this.formValues,...e}}async pullAndRedeployApplication(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:"",message:" git  ",buttons:{confirm:{label:"",className:"btn-warning"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateKubeGit(this.stack.Id,this.stack.EndpointId,this.namespace,this.formValues),this.Notifications.success("Pulled and redeployed stack successfully"),await this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Failed redeploying application")}finally{this.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.saveGitSettingsInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.stack.EndpointId,Id:this.stack.Id},null,this.formValues),this.Notifications.success("Save stack settings successfully")}catch(e){this.Notifications.error("Failure",e,"Unable to save application settings")}finally{this.state.saveGitSettingsInProgress=!1}}))}isSubmitButtonDisabled(){return this.state.saveGitSettingsInProgress||this.state.redeployInProgress}$onInit(){this.formValues.RefName=this.stack.GitConfig.ReferenceName,this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0)}}a.$inject=["$async","$state","StackService","ModalService","Notifications"];const s=a},34323:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(29037);const r={templateUrl:n(5032),controller:i.default,bindings:{stack:"<",namespace:"<"}};s().module("portainer.app").component("kubernetesAppGitForm",r)},55658:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(15964),s=n.n(a),i=n(6253);class r{constructor(e,t,n,a,s,r,o){this.$async=e,this.$state=t,this.$analytics=n,this.StackService=a,this.ModalService=s,this.Notifications=r,this.WebhookHelper=o,this.state={saveGitSettingsInProgress:!1,redeployInProgress:!1,showConfig:!1,isEdit:!1,hasUnsavedChanges:!1},this.formValues={RefName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",AutoUpdate:{RepositoryAutomaticUpdates:!1,RepositoryAutomaticUpdatesForce:!1,RepositoryMechanism:i.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:"5m",RepositoryWebhookURL:""}},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this),this.onChangeAutoUpdate=this.onChangeAutoUpdate.bind(this)}onChangeRef(e){this.onChange({RefName:e})}onChange(e){this.formValues={...this.formValues,...e},this.state.hasUnsavedChanges=angular.toJson(this.savedFormValues)!==angular.toJson(this.formValues)}onChangeAutoUpdate(e){this.onChange({AutoUpdate:{...this.formValues.AutoUpdate,...e}})}buildAnalyticsProperties(){return{metadata:{"automatic-updates":function(e,t){switch(e&&t){case i.RepositoryMechanismTypes.INTERVAL:return"polling";case i.RepositoryMechanismTypes.WEBHOOK:return"webhook";default:return"off"}}(this.formValues.AutoUpdate.RepositoryAutomaticUpdates,this.formValues.AutoUpdate.RepositoryMechanism)}}}async pullAndRedeployApplication(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:"",message:" git  ",buttons:{confirm:{label:"",className:"btn-warning"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateKubeGit(this.stack.Id,this.stack.EndpointId,this.namespace,this.formValues),this.Notifications.success("Pulled and redeployed stack successfully"),await this.$state.reload()}catch(e){this.Notifications.error("Failure",e,"Failed redeploying application")}finally{this.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.saveGitSettingsInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.stack.EndpointId,Id:this.stack.Id},null,this.formValues),this.savedFormValues=angular.copy(this.formValues),this.state.hasUnsavedChanges=!1,this.Notifications.success("Save stack settings successfully")}catch(e){this.Notifications.error("Failure",e,"Unable to save application settings")}finally{this.state.saveGitSettingsInProgress=!1}}))}isSubmitButtonDisabled(){return this.state.saveGitSettingsInProgress||this.state.redeployInProgress}$onInit(){this.formValues.RefName=this.stack.GitConfig.ReferenceName,this.stack.AutoUpdate&&(this.stack.AutoUpdate.Interval||this.stack.AutoUpdate.Webhook)&&(this.formValues.AutoUpdate.RepositoryAutomaticUpdates=!0,this.formValues.AutoUpdate.RepositoryAutomaticUpdatesForce=this.stack.AutoUpdate.ForceUpdate,this.stack.AutoUpdate.Interval?(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.INTERVAL,this.formValues.AutoUpdate.RepositoryFetchInterval=this.stack.AutoUpdate.Interval):this.stack.AutoUpdate.Webhook&&(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.WEBHOOK,this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(this.stack.AutoUpdate.Webhook))),this.formValues.AutoUpdate.RepositoryWebhookURL||(this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(s()())),this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0),this.savedFormValues=angular.copy(this.formValues)}}r.$inject=["$async","$state","$analytics","StackService","ModalService","Notifications","WebhookHelper"];const o=r},9509:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(55658);const r={templateUrl:n(96927),controller:i.default,bindings:{stack:"<",namespace:"<"}};s().module("portainer.app").component("kubernetesRedeployAppGitForm",r)},48637:(e,t,n)=>{const a=n(6693);angular.module("portainer.app").component("registryFormEcr",{templateUrl:a,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<"}})},90018:(e,t,n)=>{const a=n(56440);angular.module("portainer.app").component("registryFormAzure",{templateUrl:a,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<"}})},8746:(e,t,n)=>{const a=n(35778);angular.module("portainer.app").component("registryFormCustom",{templateUrl:a,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<"}})},7744:(e,t,n)=>{const a=n(85683);angular.module("portainer.app").component("registryFormDockerhub",{templateUrl:a,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<"}})},84375:(e,t,n)=>{const a=n(51338);angular.module("portainer.app").component("gitlabProjectsDatatable",{templateUrl:a,controller:"GitlabProjectsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",state:"="}})},56110:()=>{angular.module("portainer.app").controller("GitlabProjectsDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.disableSelection=function(e){return!this.allowSelection(e)},this.allowSelection=function(e){return e.RegistryEnabled},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},54470:(e,t,n)=>{const a=n(62796);angular.module("portainer.app").component("registryFormGitlab",{templateUrl:a,bindings:{model:"=",retrieveRegistries:"<",createRegistries:"<",actionInProgress:"<",projects:"=",state:"=",resetDefaults:"<"}})},25318:(e,t,n)=>{const a=n(64837);angular.module("portainer.app").component("registryFormProget",{templateUrl:a,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<"}})},18218:(e,t,n)=>{const a=n(26548);angular.module("portainer.app").component("registryFormQuay",{templateUrl:a,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<"}})},12281:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(11361);s().module("portainer.app").component("stackFromTemplateForm",{templateUrl:i,bindings:{template:"=",formValues:"=",state:"=",createTemplate:"<",unselectTemplate:"<",nameRegex:"<"},transclude:{advanced:"?advancedForm"}})},7008:(e,t,n)=>{"use strict";n.r(t),n.d(t,{stackRedeployGitForm:()=>r});var a=n(29274),s=n.n(a),i=n(20472);const r={templateUrl:n(8849),controller:i.default,bindings:{model:"<",stack:"<"}};s().module("portainer.app").component("stackRedeployGitForm",r)},20472:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(15964),s=n.n(a),i=n(6253);class r{constructor(e,t,n,a,s,r,o){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=a,this.Notifications=s,this.WebhookHelper=r,this.FormHelper=o,this.state={inProgress:!1,redeployInProgress:!1,showConfig:!1,isEdit:!1,hasUnsavedChanges:!1},this.formValues={RefName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",Env:[],PullImage:!1,AutoUpdate:{RepositoryAutomaticUpdates:!1,RepositoryAutomaticUpdatesForce:!1,RepositoryMechanism:i.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:"5m",RepositoryWebhookURL:"",ForcePullImage:!1,ShowForcePullImage:!1}},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this),this.onChangeAutoUpdate=this.onChangeAutoUpdate.bind(this),this.onChangeEnvVar=this.onChangeEnvVar.bind(this)}buildAnalyticsProperties(){const e={};return this.formValues.RepositoryAutomaticUpdates&&(e.automaticUpdates=function(e){switch(e){case i.RepositoryMechanismTypes.INTERVAL:return"polling";case i.RepositoryMechanismTypes.WEBHOOK:return"webhook"}return"off"}(this.formValues.RepositoryMechanism)),{metadata:e}}onChange(e){this.formValues={...this.formValues,...e},this.state.hasUnsavedChanges=angular.toJson(this.savedFormValues)!==angular.toJson(this.formValues)}onChangeRef(e){this.onChange({RefName:e})}onChangeAutoUpdate(e){this.onChange({AutoUpdate:{...this.formValues.AutoUpdate,...e}})}onChangeEnvVar(e){this.onChange({Env:e})}async submit(){const e=1===this.stack.Type,t=this;this.ModalService.confirmStackUpdate("Any changes to this stack or application made locally in Portainer will be overridden, which may cause service interruption. Do you wish to continue",e,"btn-warning",(async function(e){if(e)try{t.state.redeployInProgress=!0,await t.StackService.updateGit(t.stack.Id,t.stack.EndpointId,t.FormHelper.removeInvalidEnvVars(t.formValues.Env),!1,t.formValues,!!e[0]),t.Notifications.success("Pulled and redeployed stack successfully"),t.$state.reload()}catch(e){t.Notifications.error("Failure",e,"Failed redeploying stack")}finally{t.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.inProgress=!0;const e=await this.StackService.updateGitStackSettings(this.stack.Id,this.stack.EndpointId,this.FormHelper.removeInvalidEnvVars(this.formValues.Env),this.formValues);this.savedFormValues=angular.copy(this.formValues),this.state.hasUnsavedChanges=!1,this.Notifications.success("Save stack settings successfully"),this.stack=e}catch(e){this.Notifications.error("Failure",e,"Unable to save stack settings")}finally{this.state.inProgress=!1}}))}isSubmitButtonDisabled(){return this.state.inProgress||this.state.redeployInProgress}isAutoUpdateChanged(){const e=!(!this.stack.AutoUpdate||!this.stack.AutoUpdate.Interval&&!this.stack.AutoUpdate.Webhook);return this.formValues.AutoUpdate.RepositoryAutomaticUpdates!==e}$onInit(){this.formValues.RefName=this.model.ReferenceName,this.formValues.Env=this.stack.Env,this.stack.AutoUpdate&&(this.stack.AutoUpdate.Interval||this.stack.AutoUpdate.Webhook)&&(this.formValues.AutoUpdate.RepositoryAutomaticUpdates=!0,this.formValues.AutoUpdate.RepositoryAutomaticUpdatesForce=this.stack.AutoUpdate.ForceUpdate,this.formValues.AutoUpdate.ForcePullImage=this.stack.AutoUpdate.ForcePullImage,this.formValues.AutoUpdate.ShowForcePullImage=3!==this.stack.Type,this.stack.AutoUpdate.Interval?(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.INTERVAL,this.formValues.AutoUpdate.RepositoryFetchInterval=this.stack.AutoUpdate.Interval):this.stack.AutoUpdate.Webhook&&(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.WEBHOOK,this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(this.stack.AutoUpdate.Webhook))),this.formValues.AutoUpdate.RepositoryWebhookURL||(this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(s()())),this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0),this.savedFormValues=angular.copy(this.formValues)}}r.$inject=["$async","$state","StackService","ModalService","Notifications","WebhookHelper","FormHelper"];const o=r},87637:(e,t,n)=>{"use strict";n.r(t);var a=n(51235),s=n.n(a),i=n(91619);const r=n(17775);angular.module("portainer.app").component("groupAssociationTable",{templateUrl:r,controller:function(){this.state={orderBy:"Name",reverseOrder:!1,paginatedItemLimit:"10",textFilter:"",loading:!0,pageNumber:1},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e},this.onTextFilterChange=function(){this.paginationChangedAction()},this.onPageChanged=function(e){this.paginationState.pageNumber=e,this.paginationChangedAction()},this.onPaginationLimitChanged=function(){this.paginationChangedAction()},this.paginationChangedAction=function(){this.retrievePage(this.pageType,this.tableType)},this.$onChanges=function(e){e.loaded&&e.loaded.currentValue&&this.paginationChangedAction()},this.tagIdsToTagNames=function(e){return i.default.idsToTagNames(this.tags,e).join(", ")||"-"},this.groupIdToGroupName=function(e){const t=s()(this.groups,{Id:e});return t?t.Name:""}},bindings:{paginationState:"=",loaded:"<",pageType:"<",tableType:"@",retrievePage:"<",dataset:"<",entryClick:"<",emptyDatasetMessage:"@",tags:"<",showTags:"<",groups:"<",showGroups:"<",hasBackendPagination:"<",cyValue:"@"}})},59020:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var a=n(29274),s=n.n(a),i=n(66960),r=(n(94834),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50527),n(40958),n(95004)),o=n(89023),l=n(26459),c=n(18223),d=n(90635),u=n(18480),p=n(75698),m=n(71718),g=n(95168);var h=n(2629);function f(e){var t=e.children;return(0,h.jsx)("code",{className:"app-portainer-components-Code-Code-module__code",children:t})}n(79161);var v=n(39532),b=n(60770);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function w(e){var t,n,a=e.copyText,s=e.fadeDelay,i=void 0===s?1e3:s,o=e.displayText,l=void 0===o?"copied":o,c=e.className,d=e.children,u=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),p=u[0],m=u[1];return(0,r.useEffect)((function(){var e=setTimeout((function(){return m(!1)}),i);return function(){clearTimeout(e)}}),[p,i]),(0,h.jsxs)("div",{className:"app-portainer-components-Button-CopyButton-CopyButton-module__container",children:[(0,h.jsxs)(b.z,{className:c,size:"small",onClick:function(){if(navigator.clipboard)navigator.clipboard.writeText(a);else{var e=document.createElement("input");e.value=a,e.type="text",document.body.appendChild(e),e.select(),document.execCommand("copy"),e.type="hidden",document.body.removeChild(e)}m(!0)},title:"Copy Value",type:"button",children:[(0,h.jsx)("i",{className:"fa fa-copy space-right","aria-hidden":"true"})," ",d]}),(0,h.jsxs)("span",{className:(0,v.Z)(p&&"app-portainer-components-Button-CopyButton-CopyButton-module__fadeout","app-portainer-components-Button-CopyButton-CopyButton-module__display-text"),children:[(0,h.jsx)("i",{className:"fa fa-check","aria-hidden":"true"})," ",l]})]})}var x=n(76426);function S(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){S(i,a,s,r,o,"next",e)}function o(e){S(i,a,s,r,o,"throw",e)}r(void 0)}))}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var A=(0,i.F)((function(e){var t=e.onSubmit,n=e.onError,a=(0,l.$)().t,s=(0,o.useRouter)(),i=$((0,r.useState)(""),2),v=i[0],b=i[1],y=$((0,r.useState)(""),2),S=y[0],C=y[1],A=$((0,r.useState)(!1),2),P=A[0],I=A[1],T=$((0,r.useState)(""),2),N=T[0],E=T[1];function R(){return(R=k(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:return I(!0),e.prev=3,e.next=6,t(v);case 6:a=e.sent,E(a.rawAPIKey),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n("Failure",e.t0,"Failed to generate access token");case 13:return e.prev=13,I(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))).apply(this,arguments)}return(0,r.useEffect)((function(){0===v.length?C(a("users.access-tokens.create.form.description-field.error.required","")):C("")}),[v,a]),(0,h.jsx)(d.$L,{children:(0,h.jsxs)(d.kh,{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)(u.N,{inputId:"input",label:a("users.access-tokens.create.form.description-field.label","Description"),errors:S,children:(0,h.jsx)(x.I,{id:"input",onChange:function(e){return b(e.target.value)},value:v})}),(0,h.jsx)(p.zx,{disabled:!!S||!!N,onClick:function(){return function(){return R.apply(this,arguments)}()},className:"app-portainer-views-account-CreateAccessToken-CreateAccessToken-module__add-button",children:a("users.access-tokens.create.add-button","")})]}),N&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.i,{children:(0,h.jsx)(c.c,{i18nKey:"users.access-tokens.create.new-access-token.title",children:"New access token"})}),(0,h.jsx)(g.a,{children:(0,h.jsx)(c.c,{i18nKey:"users.access-tokens.create.new-access-token.explanation",children:"Please copy the new access token. You won't be able to view the token again."})}),(0,h.jsx)(f,{children:N}),(0,h.jsx)(w,{copyText:N,className:"app-portainer-views-account-CreateAccessToken-CreateAccessToken-module__copy-button",children:(0,h.jsx)(c.c,{i18nKey:"users.access-tokens.create.new-access-token.copy-button",children:"Copy access token"})}),(0,h.jsx)("hr",{}),(0,h.jsx)(p.zx,{type:"button",onClick:function(){return s.stateService.go("portainer.account")},children:(0,h.jsx)(c.c,{i18nKey:"users.access-tokens.create.done-button",children:"Done"})})]})]})})}),["userId","onSubmit","onSuccess","onError"]),P=n(7883),I=n(8540),T=n(39372),N=n(39068),E=n(56619),R=n(40345),D=n(39078),U=(n(92429),n(40443),n(34125)),V=n(64062);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var F={en:{nativeName:"English"},de:{nativeName:"Deutsch"},he:{nativeName:"Hebrew"}},L=(0,i.F)((function(e){var t=e.text,n="portainer.registries",a=(0,o.useSref)(n),s=a.onClick,i=a.href,r=(0,l.$)().t;return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"app-portainer-components-ReactExample-module__red-bg",children:t}),(0,h.jsx)("div",{children:(0,h.jsx)("a",{href:i,onClick:s,children:r("reactExample.registries.useSref","Registries useSref")})}),(0,h.jsx)("div",{children:(0,h.jsx)(V.r,{to:n,children:(0,h.jsxs)(c.c,{i18nKey:"reactExample.registries.link",children:["Registries ",(0,h.jsx)("strong",{children:"Link"})]})})}),Object.entries(F).map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),s=a[0],i=a[1];return(0,h.jsx)("button",{style:{fontWeight:U.Z.resolvedLanguage===s?"bold":"normal"},type:"submit",onClick:function(){return U.Z.changeLanguage(s)},children:i.nativeName},s)}))]})}),["text"]),_=n(25128),M=n(68112);const j=s().module("portainer.app.components",[D.ZP,E.ZP,d.ZP,P.default,R.default,I.default,T.default,N.default]).component("portainerTooltip",_.P).component("reactExample",L).component("beFeatureIndicator",M.j).component("createAccessToken",A).name},64654:(e,t,n)=>{const a=n(94081);angular.module("portainer.app").component("informationPanelOffline",{templateUrl:a,controller:"InformationPanelOfflineController"})},2454:()=>{angular.module("portainer.app").controller("InformationPanelOfflineController",["$state","EndpointProvider","EndpointService","Authentication","Notifications",function(e,t,n,a,s){var i=this;this.$onInit=function(){var e=t.endpointID();i.showRefreshButton=a.isAdmin(),n.endpoint(e).then((function(e){i.snapshotTime=e.Snapshots[0].Time})).catch((function(e){s.error("Failure",e,"Unable to retrieve environment information")}))},this.triggerSnapshot=function(){var a=t.endpointID();n.snapshotEndpoint(a).then((function(){e.reload()})).catch((function(e){s.error("Failure",e,"An error occured during environment snapshot")}))}}])},76602:(e,t,n)=>{const a=n(86960);angular.module("portainer.app").component("informationPanel",{templateUrl:a,bindings:{titleText:"@",dismissAction:"&?"},transclude:!0})},44516:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(92816);s().module("portainer.app").directive("intervalFormat",(function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){a.$validators.invalidIntervalFormat=function(e){try{return e&&null!==e.toUpperCase().match(/^P?(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T?(?=\d+[HMS])(\d+H)?(\d+M)?(\d+S)?)?$/gm)}catch(e){return!1}},a.$validators.minimumInterval=function(e){try{return e&&(0,i.Z)(e,"minute")>=1}catch(e){return!1}}}}}))},45668:(e,t,n)=>{const a=n(83297);angular.module("portainer.app").component("motdPanel",{templateUrl:a,bindings:{motd:"<",dismissAction:"&?"},transclude:!0})},45679:()=>{angular.module("portainer.app").directive("onEnterKey",[function(){return{restrict:"A",link:function(e,t,n){t.bind("keydown keypress",(function(t){13===t.which&&(t.preventDefault(),e.$apply((function(){e.$eval(n.onEnterKey)})))}))}}}])},46621:(e,t,n)=>{const a=n(52273);angular.module("portainer.app").component("productItem",{templateUrl:a,bindings:{model:"<",goTo:"<"}})},38222:(e,t,n)=>{const a=n(2050);angular.module("portainer.app").component("productList",{templateUrl:a,bindings:{titleText:"@",products:"<",goTo:"<"}})},97554:(e,t,n)=>{"use strict";n.r(t),n.d(t,{registryDetails:()=>i});var a=n(29274),s=n.n(a);const i={templateUrl:n(22746),bindings:{registry:"<"}};s().module("portainer.app").component("registryDetails",i)},90434:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(63010);s().module("portainer.app").component("sensitiveDetails",{templateUrl:i,bindings:{key:"@",value:"@"}})},53712:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(39773);s().module("portainer.app").component("showHide",{templateUrl:i,bindings:{value:"<",useAsterisk:"<"}})},7883:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(86853),r=n(82736),o=n(38832);const l=s().module("portainer.app.components.sidebar",[]).component("sidebarMenu",i.sidebarMenu).component("sidebarMenuItem",o.sidebarMenuItem).component("sidebarSection",r.sidebarSection).name},38832:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sidebarMenuItem:()=>a});const a={templateUrl:n(77728),bindings:{path:"@",pathParams:"<",iconClass:"@",className:"@"},transclude:!0}},86853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sidebarMenu:()=>s});var a=n(93340);const s={templateUrl:n(81740),controller:a.default,bindings:{iconClass:"@",path:"@",pathParams:"<",childrenPaths:"<",label:"@",isSidebarOpen:"<",currentState:"@"},transclude:!0}},93340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(e){this.$state=e,this.state={forceOpen:!1}}isOpen(){return!!this.isSidebarOpen&&(!!this.state.forceOpen||this.isOpenByPathState())}isOpenByPathState(){const e=this.$state.current.name;return e.startsWith(this.path)||this.childrenPaths.includes(e)}onClickArrow(e){e.stopPropagation(),e.preventDefault(),this.isOpenByPathState()||(this.state.forceOpen=!this.state.forceOpen)}$onInit(){this.childrenPaths=this.childrenPaths||[]}}a.$inject=["$state"];const s=a},82736:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sidebarSection:()=>a});const a={templateUrl:n(39835),transclude:!0,bindings:{title:"@"}}},77337:(e,t,n)=>{const a=n(55419);angular.module("portainer.app").component("slider",{templateUrl:a,controller:"SliderController",bindings:{model:"=",onChange:"<",floor:"<",ceil:"<",step:"<",precision:"<"}})},58944:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a);class i{constructor(e){this.$scope=e,this.buildOptions=this.buildOptions.bind(this),this.translate=this.translate.bind(this)}$onChanges(){this.buildOptions()}translate(e,t,n){return"floor"===n&&0===this.floor||0===e?"":e}buildOptions(){this.options={floor:this.floor,ceil:this.ceil,step:this.step,precision:this.precision,showSelectionBar:!0,enforceStep:!1,translate:this.translate,onChange:()=>this.onChange()}}$onInit(){this.buildOptions()}}i.$inject=["$scope"];const r=i;s().module("portainer.app").controller("SliderController",i)},10018:(e,t,n)=>{"use strict";n.r(t);var a=n(71541);angular.module("portainer.app").controller("StackDuplicationFormController",["Notifications",function(e){var t=this;function n(){return t.formValues.endpoint&&t.formValues.endpoint.Id}t.state={duplicationInProgress:!1,migrationInProgress:!1},t.formValues={endpoint:null,newName:""},t.STACK_NAME_VALIDATION_REGEX=a.STACK_NAME_VALIDATION_REGEX,t.isFormValidForDuplication=function(){return n()&&t.formValues.newName&&!t.yamlError},t.isFormValidForMigration=n,t.duplicateStack=function(){t.formValues.newName?(t.state.duplicationInProgress=!0,t.onDuplicate({endpointId:t.formValues.endpoint.Id,name:t.formValues.newName?t.formValues.newName:void 0}).finally((function(){t.state.duplicationInProgress=!1}))):e.error("Failure",null,"Stack name is required for duplication")},t.migrateStack=function(){t.state.migrationInProgress=!0,t.onMigrate({endpointId:t.formValues.endpoint.Id,name:t.formValues.newName?t.formValues.newName:void 0}).finally((function(){t.state.migrationInProgress=!1}))},t.isMigrationButtonDisabled=function(){return!t.isFormValidForMigration()||t.state.duplicationInProgress||t.state.migrationInProgress||t.formValues.endpoint&&t.formValues.endpoint.Id===t.currentEndpointId},t.isEndpointSelected=function(){return t.formValues.endpoint&&t.formValues.endpoint.Id}}])},37848:(e,t,n)=>{const a=n(78196);angular.module("portainer.app").component("stackDuplicationForm",{templateUrl:a,controller:"StackDuplicationFormController",bindings:{onDuplicate:"&",onMigrate:"&",endpoints:"<",groups:"<",currentEndpointId:"<",yamlError:"<"}})},91709:(e,t,n)=>{"use strict";n.r(t),n.d(t,{statusIndicator:()=>i});var a=n(29274),s=n.n(a);const i={templateUrl:n(80240),bindings:{ok:"<"}};s().module("portainer.app").component("statusIndicator",i)},68449:(e,t,n)=>{const a=n(17565);angular.module("portainer.app").component("tagSelector",{templateUrl:a,controller:"TagSelectorController",bindings:{tags:"<",model:"=",onCreate:"<",allowCreate:"<"}})},85065:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(66539),s=n.n(a),i=n(51235),r=n.n(i),o=n(44716),l=n.n(o),c=n(83432),d=n.n(c),u=n(71204),p=n.n(u),m=n(29274),g=n.n(m);class h{constructor(){this.state={selectedValue:"",selectedTags:[],noResult:!1}}removeTag(e){p()(this.model,(t=>e.Id===t)),p()(this.state.selectedTags,{Id:e.Id})}selectTag(e){this.state.selectedValue="",e.create&&this.allowCreate?this.onCreate(e.value):(this.state.selectedTags.push(e),this.model.push(e.Id))}filterTags(e){let t=d()(this.tags,(e=>!l()(this.model,e.Id)));if(!e)return t.slice(0,7);const n=r()(this.tags,(t=>t.Name===e));return t=d()(t,(t=>l()(t.Name.toLowerCase(),e.toLowerCase()))),n||!this.allowCreate?t.slice(0,7):t.slice(0,6).concat({Name:`Create "${e}"`,create:!0,value:e})}generateSelectedTags(e,t){this.state.selectedTags=s()(e,(e=>r()(t,(t=>t.Id===e))))}$onInit(){this.generateSelectedTags(this.model,this.tags)}$onChanges({tags:e,model:t}){const n=e&&e.currentValue?e.currentValue:this.tags,a=t&&t.currentValue?t.currentValue:this.model;a&&n&&this.generateSelectedTags(a,n)}}h.$inject=[];const f=h;g().module("portainer.app").controller("TagSelectorController",h)},44677:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(76339);s().module("portainer.app").component("templateItem",{templateUrl:i,bindings:{model:"<",typeLabel:"@",onSelect:"<"},transclude:{actions:"?templateItemActions"}})},70296:(e,t,n)=>{"use strict";n.r(t);var a=n(44716),s=n.n(a),i=n(46006),r=n.n(i),o=n(40714),l=n.n(o);function c(e,t,n,a,i){var o=this;this.state={textFilter:"",selectedCategory:"",categories:[],showContainerTemplates:!0},this.onTextFilterChange=function(){n.setDataTableTextFilters(this.tableKey,this.state.textFilter)},this.filterByTemplateType=function(e){switch(e.Type){case 1:return o.state.showContainerTemplates;case 2:return o.showSwarmStacks;case 3:return!o.showSwarmStacks||o.showSwarmStacks&&o.state.showContainerTemplates;case 4:return!1}return!1},this.updateCategories=function(){for(var e=[],t=0;t<o.templates.length;t++){var n=o.templates[t];this.filterByTemplateType(n)&&(e=e.concat(n.Categories))}this.state.categories=l()(r()(e))},this.filterByCategory=function(e){return!o.state.selectedCategory||s()(e.Categories,o.state.selectedCategory)},this.duplicateTemplate=function(t){return e(this.duplicateTemplateAsync,t)}.bind(this),this.duplicateTemplateAsync=async function(e){try{const{FileContent:n}=await i.templateFile(e.Repository.url,e.Repository.stackfile);let a=0;2===e.Type&&(a=1),3===e.Type&&(a=2),t.go("docker.templates.custom.new",{fileContent:n,type:a})}catch(e){a.error("Failure",e,"Failed to duplicate template")}}.bind(this),this.$onInit=function(){this.showSwarmStacks&&(this.state.showContainerTemplates=!1),this.updateCategories();var e=n.getDataTableTextFilters(this.tableKey);null!==e&&(this.state.textFilter=e)}}c.$inject=["$async","$state","DatatableService","Notifications","TemplateService"],angular.module("portainer.app").controller("TemplateListController",c)},47177:(e,t,n)=>{const a=n(14309);angular.module("portainer.app").component("templateList",{templateUrl:a,controller:"TemplateListController",bindings:{titleText:"@",titleIcon:"@",templates:"<",tableKey:"@",selectAction:"<",showSwarmStacks:"<"}})},38119:()=>{angular.module("portainer.app").directive("rdTemplateWidget",(function(){return{scope:{ngModel:"="},transclude:!0,template:'<div class="widget template-widget" id="template-widget" ng-transclude></div>',restrict:"EA"}}))},30839:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(56619);class s{constructor(e,t,n,a,s,i){this.$async=e,this.Authentication=t,this.ThemeManager=n,this.StateManager=a,this.UserService=s,this.Notifications=i,this.setTheme=this.setTheme.bind(this)}async updateTheme(){try{await this.UserService.updateUserTheme(this.state.userId,this.state.userTheme),this.state.themeInProgress=!1,this.Notifications.success("Success","User theme successfully updated")}catch(e){this.Notifications.error("Failure",e,"Unable to update user theme")}}setTheme(e){"auto"!==e&&e?this.ThemeManager.setTheme(e):this.ThemeManager.autoTheme(),this.state.themeInProgress=!0,this.state.userTheme=e}$onInit(){return this.$async((async()=>{this.state={userId:null,userTheme:"",initTheme:"",defaultTheme:"auto",themeInProgress:!1},this.state.availableThemes=[(0,a.es)("light","fas fa-sun","","","light"),(0,a.es)("dark","fas fa-moon","","","dark"),(0,a.es)("highcontrast","fas fa-adjust","","","highcontrast"),(0,a.es)("auto","fas fa-sync-alt","","","auto")];try{this.state.userId=await this.Authentication.getUserDetails().ID;const e=await this.UserService.user(this.state.userId);this.state.userTheme=e.UserTheme||this.state.defaultTheme,this.state.initTheme=this.state.userTheme}catch(e){this.Notifications.error("Failure",e,"Unable to get user details")}}))}$onDestroy(){this.state.themeInProgress&&this.ThemeManager.setTheme(this.state.initTheme)}}s.$inject=["$async","Authentication","ThemeManager","StateManager","UserService","Notifications"]},30749:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(30839);const r=n(42662);s().module("portainer.app").component("themeSettings",{templateUrl:r,controller:i.default})},60334:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(12307);const r=n(5468);s().module("portainer.app").component("timeWindowDisplay",{templateUrl:r,controller:i.default})},12307:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(54540);class s{constructor(e,t,n){this.$async=e,this.EndpointProvider=t,this.EndpointService=n}utcToTime(e){const t=a.tz(e.StartTime,"HH:mm","GMT").tz(this.state.timezone).format("HH:mm"),n=a.tz(e.EndTime,"HH:mm","GMT").tz(this.state.timezone).format("HH:mm"),[s,i]=t.split(":"),[r,o]=n.split(":"),l=new Date,c=new Date;return l.setHours(s),l.setMinutes(i),c.setHours(r),c.setMinutes(o),{startTime:l,endTime:c}}customToTimeObject(){const e=this.state.timeWindow.StartTime,t=this.state.timeWindow.EndTime,[n,a]=e.split(":"),[s,i]=t.split(":"),r=new Date,o=new Date;r.setHours(n),r.setMinutes(a),o.setHours(s),o.setMinutes(i),this.state.startTimeUtc=r,this.state.endTimeUtc=o}loadUserTime(e){const{startTime:t,endTime:n}=this.utcToTime(e);this.state.startTimeUser=t,this.state.endTimeUser=n}$onInit(){const e=a.tz.guess();return this.$async((async()=>{const t=this.EndpointProvider.endpointID(),n=await this.EndpointService.endpoint(t);this.state={timeWindow:n.ChangeWindow,startTimeUser:"",endTimeUser:"",startTimeUtc:"",endTimeUtc:"",timezone:e,dst:a().isDST()},this.loadUserTime(this.state.timeWindow),this.customToTimeObject()}))}}s.$inject=["$async","EndpointProvider","EndpointService"]},93824:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(8537);const r=n(31856);s().module("portainer.app").component("timeWindowPicker",{templateUrl:r,controller:i.default,bindings:{timeWindow:"=",timeZone:"="}})},8537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(54540);class s{constructor(e){this.$async=e}timeToUtc(e,t,n){const s=a(e).format("YYYY-MM-DD HH:mm"),i=a(t).format("YYYY-MM-DD HH:mm");return{startTimeUtc:a.tz(s,n).utc().format("HH:mm"),endTimeUtc:a.tz(i,n).utc().format("HH:mm")}}utcToTime(e){const t=a.tz(e.StartTime,"HH:mm","GMT").tz(this.state.timeZoneSelected).format("HH:mm"),n=a.tz(e.EndTime,"HH:mm","GMT").tz(this.state.timeZoneSelected).format("HH:mm"),[s,i]=t.split(":"),[r,o]=n.split(":"),l=new Date,c=new Date;return l.setHours(s),l.setMinutes(i),c.setHours(r),c.setMinutes(o),{startTime:l,endTime:c}}loadUtcTime(){const e=this.timeWindow.StartTime,t=this.timeWindow.EndTime,{startTimeObject:n,endTimeObject:a}=this.customToTimeObject(e,t);this.state.utcStartTime=n,this.state.utcEndTime=a}loadTimeWindow(){const e=this.timeWindow,{startTime:t,endTime:n}=this.utcToTime(e);this.state.setStartTime=t,this.state.setEndTime=n}timeWindowUpdate(){const{startTimeUtc:e,endTimeUtc:t}=this.timeToUtc(this.state.setStartTime,this.state.setEndTime,this.state.timeZoneSelected);this.state.setStartTime.getTime()===this.state.setEndTime.getTime()?this.state.timeError=!0:this.state.timeError=!1,this.timeWindow={Enabled:this.timeWindow.Enabled,StartTime:e,EndTime:t},this.timeZone=this.state.timeZoneSelected;const{startTimeObject:n,endTimeObject:a}=this.customToTimeObject(e,t);this.state.utcStartTime=n,this.state.utcEndTime=a}customToTimeObject(e,t){const[n,a]=e.split(":"),[s,i]=t.split(":"),r=new Date,o=new Date;return r.setHours(n),r.setMinutes(a),o.setHours(s),o.setMinutes(i),{startTimeObject:r,endTimeObject:o}}defaultTimeWindow(){this.state.setStartTime.setHours(0,0,0,0),this.state.setEndTime.setHours(0,0,0,0),this.timeWindow={Enabled:this.timeWindow.Enabled,StartTime:"00:00",EndTime:"00:00"}}toggleChangeWindow(){if(this.state.changeWindow=!this.state.changeWindow,!this.state.changeWindow){const{startTime:e,endTime:t}=this.utcToTime(this.state.initTime);this.state.setStartTime=e,this.state.setEndTime=t,this.state.timeError=!1}}$onInit(){const e=a.tz.guess(),t=a.tz.countries(),n=new Set;for(const e of t)a.tz.zonesForCountry(e).reduce(((e,t)=>e.add(t)),n);this.timeZones=[...n].sort(),this.timeZones.push("UTC"),this.state={hstep:1,mstep:5,ismeridian:!0,utcStartTime:"",utcEndTime:"",setStartTime:new Date,setEndTime:new Date,initTime:this.timeWindow,dst:a().isDST(),changeWindow:!1,timeSet:!1,options:{timezones:this.timeZones},timeError:!1,timeZoneSelected:e},this.timeWindow.StartTime&&this.timeWindow.EndTime?"00:00"!==this.timeWindow.StartTime||"00:00"!==this.timeWindow.EndTime?(this.loadUtcTime(),this.loadTimeWindow(),this.state.timeSet=!0):(this.defaultTimeWindow(),this.state.timeSet=!1):this.defaultTimeWindow()}}s.$inject=["$async"]},41066:(e,t,n)=>{"use strict";n.r(t),n.d(t,{truncateLeftRight:()=>d,stripProtocol:()=>u,humanize:()=>p,isoDateFromTimestamp:()=>m,isoDate:()=>g,getPairKey:()=>h,getPairValue:()=>f,ipAddress:()=>v,arrayToStr:()=>b,labelsToStr:()=>y,endpointTypeName:()=>w,endpointTypeIcon:()=>x,ownershipIcon:()=>S,truncate:()=>k,endpointStatusBadge:()=>$});var a=n(89858),s=n.n(a),i=n(4396),r=n.n(i),o=n(7084),l=n.n(o),c=n(86700);function d(e,t,n,a){return t=isNaN(t)?50:t,n=isNaN(n)?25:n,a=isNaN(a)?25:a,e.length<=t?e:e.substring(0,n)+"[...]"+e.substring(e.length-a,e.length)}function u(e){return e.replace(/.*?:\/\//g,"")}function p(e,t,n){if(t||(t=1),n||(n=10),e||0===e)return l()(e,{base:n,round:t})}function m(e){return r().unix(e).format("YYYY-MM-DD HH:mm:ss")}function g(e){return r()(e).format("YYYY-MM-DD HH:mm:ss")}function h(e,t){return e.includes(t)?e.slice(0,e.indexOf(t)):e}function f(e,t){return e.includes(t)?e.slice(e.indexOf(t)+1):""}function v(e){return e.slice(0,e.indexOf("/"))}function b(e,t){return e?s()(e,t):""}function y(e,t){return e?s()(e.map((e=>e.key+":"+e.value)),t):""}function w(e){return 1===e?"Docker":2===e||6===e?"Agent":3===e?"Azure ACI":5===e?"Kubernetes":4===e||7===e?"Edge Agent":""}function x(e){return 3===e?"fab fa-microsoft":4===e?"fa fa-cloud":5===e||6===e||7===e?"fas fa-dharmachakra":"fab fa-docker"}function S(e){switch(e){case c.X.PRIVATE:case c.X.ADMINISTRATORS:return"fa fa-eye-slash";case c.X.RESTRICTED:return"fa fa-users";default:return"fa fa-eye"}}function k(e,t,n){return isNaN(t)&&(t=10),void 0===n&&(n="..."),e.length<=t||e.length-n.length<=t?e:String(e).substring(0,t-n.length)+n}function $(e){return 2===e?"danger":"success"}},1740:(e,t,n)=>{"use strict";n.r(t);var a=n(4622),s=n.n(a),i=n(35057),r=n.n(i),o=n(29274),l=n.n(o),c=n(41066);l().module("portainer.app").filter("truncate",(()=>c.truncate)).filter("truncatelr",(()=>c.truncateLeftRight)).filter("capitalize",(()=>r())).filter("stripprotocol",(()=>c.stripProtocol)).filter("humansize",(()=>c.humanize)).filter("getisodatefromtimestamp",(()=>c.isoDateFromTimestamp)).filter("getisodate",(()=>c.isoDate)).filter("key",(()=>c.getPairKey)).filter("value",(()=>c.getPairValue)).filter("emptyobject",(()=>s())).filter("ipaddress",(()=>c.ipAddress)).filter("arraytostr",(()=>c.arrayToStr)).filter("labelsToStr",(()=>c.labelsToStr)).filter("endpointtypename",(()=>c.endpointTypeName)).filter("endpointtypeicon",(()=>c.endpointTypeIcon)).filter("ownershipicon",(()=>c.ownershipIcon)).filter("endpointstatusbadge",(()=>c.endpointStatusBadge))},70589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,isOfflineEndpoint:()=>l});var a=n(51235),s=n.n(a),i=n(74808);function r(e,t){return s()(t,(function(t){return t.Id===e.GroupId}))}class o{static isLocalEndpoint(e){return e.URL.includes("unix://")||e.URL.includes("npipe://")||e.Type===i.PortainerEndpointTypes.KubernetesLocalEnvironment}static isDockerEndpoint(e){return[i.PortainerEndpointTypes.DockerEnvironment,i.PortainerEndpointTypes.AgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment].includes(e.Type)}static isAgentEndpoint(e){return[i.PortainerEndpointTypes.AgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment,i.PortainerEndpointTypes.AgentOnKubernetesEnvironment,i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}static isEdgeEndpoint(e){return[i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}static mapGroupNameToEndpoint(e,t){for(var n=0;n<e.length;n++){var a=e[n],s=r(a,t);s&&(a.GroupName=s.Name)}}}function l(e){return 1!==e.Status}},93994:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KEY_REGEX:()=>i,VALUE_REGEX:()=>r,parseDotEnvFile:()=>c,parseArrayOfStrings:()=>d,convertToArrayOfStrings:()=>u});var a=n(20810),s=n.n(a);const i=/(.+?)/.source,r=/(.*)?/.source,o=new RegExp(`^(${i})\\s*=(${r})$`),l=/\n|\r|\r\n/;function c(e){return d(s()(e.split(l)).map((e=>e.trim())).filter((e=>!e.startsWith("#")&&""!==e)))}function d(e){return e?s()(e.map((e=>{if(!e.includes("="))return{name:e};const t=e.trim().match(o);return null!=t&&t.length>4?{name:t[1].trim(),value:t[3].trim()||""}:void 0}))):[]}function u(e){return e?e.filter((e=>e.name)).map((({name:e,value:t})=>t||""===t?`${e}=${t}`:e)):[]}},30398:()=>{angular.module("portainer.app").factory("FormHelper",[function(){"use strict";return{removeInvalidEnvVars:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];n.value&&n.name||e.splice(t,1)}return e}}}])},24003:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(41952),s=n.n(a);class i{static findDeepAll(e,t,n=[]){return"object"==typeof e&&s()(e,((e,a)=>{a===t&&n.push(e),"object"==typeof e&&i.findDeepAll(e,t,n)})),n}}const r=i},30556:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(44716),s=n.n(a),i=n(29274),r=n.n(i);class o{constructor(e){this.PREDEFINED_NETWORKS=e}isSystemNetwork(e){return s()(this.PREDEFINED_NETWORKS,e.Name)}}o.$inject=["PREDEFINED_NETWORKS"];const l=o;r().module("portainer.app").service("NetworkHelper",o)},50433:(e,t,n)=>{"use strict";function a(){const e=document.getElementById("base");return e?e.getAttribute("href"):"/"}n.r(t),n.d(t,{baseHref:()=>a})},43622:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(51235),s=n.n(a),i=n(41952),r=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(86700),p=n(1870);class m{RCViewModelToOwnershipParameters(e,t){if(!t)return new p.ResourceControlOwnershipParameters(!0);let n=!1,a=!1,s=[],i=[];switch(t.Ownership){case u.X.PUBLIC:a=!0;break;case u.X.PRIVATE:s=[e];break;case u.X.RESTRICTED:s=l()(t.UserAccesses,(e=>e.UserId)),i=l()(t.TeamAccesses,(e=>e.TeamId));break;default:n=!0}return new p.ResourceControlOwnershipParameters(n,a,s,i)}RCFormDataToOwnershipParameters(e,t,n=[]){t.AccessControlEnabled||(t.Ownership=u.X.PUBLIC);let a=!1,s=!1,i=[],r=[];switch(t.Ownership){case u.X.PUBLIC:s=!0;break;case u.X.PRIVATE:i.push(e);break;case u.X.RESTRICTED:i=l()(t.AuthorizedUsers,(e=>e.Id)),r=l()(t.AuthorizedTeams,(e=>e.Id));break;default:a=!0}return new p.ResourceControlOwnershipParameters(a,s,i,r,n)}RCPanelDataToOwnershipParameters(e){const t=e.Ownership===u.X.ADMINISTRATORS,n=e.Ownership===u.X.PUBLIC,a=n||t?[]:l()(e.Ownership_Users,(e=>e.Id)),s=n||t?[]:l()(e.Ownership_Teams,(e=>e.Id));return new p.ResourceControlOwnershipParameters(t,n,a,s)}retrieveAuthorizedUsers(e,t){const n=[];return r()(e.UserAccesses,(e=>{const a=s()(t,{Id:e.UserId});a&&n.push(a)})),n}retrieveAuthorizedTeams(e,t){const n=[];return r()(e.TeamAccesses,(e=>{const a=s()(t,{Id:e.TeamId});a&&n.push(a)})),n}isLeaderOfAnyRestrictedTeams(e,t){let n=!1;return r()(e,(e=>{if(s()(t.TeamAccesses,{TeamId:e.TeamId})&&1===e.Role)return n=!0,!1})),n}}const g=m;d().module("portainer.app").service("ResourceControlHelper",m)},13118:(e,t,n)=>{"use strict";n.r(t);var a=n(89858),s=n.n(a),i=n(63209),r=n.n(i),o=n(46006),l=n.n(o),c=n(93715),d=n.n(c),u=n(2419),p=n.n(u),m=n(24003),g=n(49036);angular.module("portainer.app").factory("StackHelper",[function(){var e={};function t(e,t,n){return d()(e.filter((e=>e.Labels&&e.Labels[t])).map((e=>new g.ExternalStackViewModel(e.Labels[t],n,e.Created))),"Name")}return e.getExternalStacksFromContainers=function(e){return t(e,"com.docker.compose.project",2)},e.getExternalStacksFromServices=function(e){return t(e,"com.docker.stack.namespace",1)},e.validateYAML=function(e,t){let n;try{n=p().parse(e)}catch(e){return"There is an error in the yaml syntax: "+e}const a=l()(m.default.findDeepAll(n,"container_name")),i=r()(t,a);if(0!==i.length)return(1===i.length?"":"")+" : "+s()(i,", ")+"."},e}])},91619:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(66539),s=n.n(a),i=n(44716),r=n.n(i),o=n(83432),l=n.n(o);class c{static idsToTagNames(e,t){const n=l()(e,(e=>r()(t,e.Id)));return s()(n,"Name")}}},69424:(e,t,n)=>{"use strict";n.r(t);var a=n(46006),s=n.n(a);angular.module("portainer.app").factory("TemplateHelper",[function(){return{getDefaultContainerConfiguration:function(){return{Env:[],OpenStdin:!1,Tty:!1,ExposedPorts:{},HostConfig:{RestartPolicy:{Name:"no"},PortBindings:{},Binds:[],Privileged:!1,ExtraHosts:[]},Volumes:{},Labels:{}}},portArrayToPortConfiguration:function(e){var t={bindings:{},exposedPorts:{}};return e.forEach((function(e){if(e.containerPort){var n=e.containerPort+"/"+e.protocol,a={};if(e.hostPort&&(a.HostPort=e.hostPort,e.hostPort.indexOf(":")>-1)){var s=e.hostPort.split(":");a.HostIp=s[0],a.HostPort=s[1]}t.bindings[n]=[a],t.exposedPorts[n]={}}})),t},updateContainerConfigurationWithLabels:function(e){var t={};return e.forEach((function(e){e.name&&(e.value?t[e.name]=e.value:t[e.name]="")})),t},EnvToStringArray:function(e){var t=[];return e.forEach((function(e){if(e.value||e.set){var n=e.set?e.set:e.value;t.push(e.name+"="+n)}})),t},getConsoleConfiguration:function(e){var t={openStdin:!1,tty:!1};return!0===e&&(t.openStdin=!0,t.tty=!0),t},createVolumeBindings:function(e,t){e.forEach((function(e){var n;e.container&&("auto"===e.type?n=t.pop().Id+":"+e.container:"auto"!==e.type&&e.bind&&(n=e.bind+":"+e.container),e.readonly&&(n+=":ro"),e.binding=n)}))},determineRequiredGeneratedVolumeCount:function(e){var t=0;return e.forEach((function(e){"auto"===e.type&&++t})),t},getUniqueCategories:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];t=t.concat(a.Categories)}return s()(t)}}}])},79190:()=>{angular.module("portainer.app").factory("URLHelper",["$window",function(e){"use strict";var t={getParameter:function(t){return e.location.search.replace(/.*?\?/,"").split("&").reduce((function(e,t){var n=t.split("="),a=n[0],s=n[1];return e[a]=s,e}),{})[t]},cleanParameters:function(){e.location.replace(e.location.origin+e.location.pathname+e.location.hash)}};return t}])},7341:(e,t,n)=>{"use strict";n.r(t);var a=n(50433);angular.module("portainer.app").factory("WebhookHelper",["$location","API_ENDPOINT_WEBHOOKS","API_ENDPOINT_STACKS",function(e,t,n){var s={};const i=e.protocol().toLowerCase(),r=e.port(),o="http"===i&&80===r||"https"===i&&443===r?"":":"+r;return s.returnWebhookUrl=function(n){return`${i}://${e.host()}${o}${(0,a.baseHref)()}${t}/${n}`},s.returnStackWebhookUrl=function(t){return`${i}://${e.host()}${o}${(0,a.baseHref)()}${n}/webhooks/${t}`},s}])},89940:(e,t,n)=>{"use strict";n.r(t);var a=n(44716),s=n.n(a),i=n(13507),r=n.n(i);angular.module("portainer.app").factory("EndpointStatusInterceptor",["$q","EndpointProvider",function(e,t){var n={};function a(e){return r()(e,"api/")&&(s()(e,"/containers")||s()(e,"/images")||s()(e,"/volumes")||s()(e,"/networks")||s()(e,"/info")||s()(e,"/version"))}return n.response=function(n){var s=n.config.url;return 200===n.status&&a(s)&&t.offlineMode()&&t.setOfflineMode(!1),n||e.when(n)},n.responseError=function(n){var s=n.config.url;return 502!==n.status&&503!==n.status&&-1!==n.status||!a(s)||t.offlineMode()||t.setOfflineMode(!0),e.reject(n)},n}])},10011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n,a){this.$async=e,this.$state=t,this.LicenseService=n,this.Notifications=a,this.licenses=[""],this.keyValidations={},this.onSubmitSuccess=this.onSubmitSuccess.bind(this)}onSubmitSuccess(){this.$state.go("portainer.licenses")}}a.$inject=["$async","$state","LicenseService","Notifications"]},74467:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addLicenseView:()=>s});var a=n(10011);const s={templateUrl:n(38491),controller:a.default}},73970:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(74467),r=n(38067),o=n(31153);const l=s().module("portainer.app.license-management.add-license-view",[]).component("addLicenseView",i.addLicenseView).component("licensesForm",r.licensesForm).component("licenseFormItem",o.licenseFormItem).name},38067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{licensesForm:()=>s});var a=n(5950);const s={templateUrl:n(15507),controller:a.default,bindings:{licenses:"<",onSubmitSuccess:"<"}}},31153:(e,t,n)=>{"use strict";n.r(t),n.d(t,{licenseFormItem:()=>i});var a=n(45041);const s=n(12979),i={bindings:{keyValidation:"<",value:"<",index:"<",onChange:"&",onRemoveClick:"&"},controller:a.default,templateUrl:s}},45041:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{isInvalid(){return this.form.licenseInput.$invalid||this.keyValidation&&!this.keyValidation.status}}},5950:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(20810),s=n.n(a);class i{constructor(e,t,n){this.$async=e,this.LicenseService=t,this.Notifications=n,this.state={actionInProgress:!1,formError:""},this.keyValidations={},this.addLicense=this.addLicense.bind(this),this.removeLicense=this.removeLicense.bind(this),this.onLicenseChange=this.onLicenseChange.bind(this),this.submit=this.submit.bind(this)}addLicense(){this.licenses.push("")}removeLicense(e){this.licenses.splice(e,1)}onLicenseChange(e,t){this.licenses[t]=e}isFormValid(){return this.form.$valid&&this.licenses.every((e=>!this.keyValidations[e]||this.keyValidations[e].status))}async submit(){return this.$async((async()=>{if(!this.isFormValid())return void(this.state.formError="Form is invalid");let e=s()(this.licenses);if(e.length)if(e=e.filter((e=>!this.keyValidations[e]||!this.keyValidations[e].status)),e.length)try{const{failedKeys:t}=await this.LicenseService.attach(e);if(t&&Object.keys(t).length)return void(this.keyValidations=Object.fromEntries(e.map((e=>[e,{status:!t[e],message:t[e]}]))));this.onSubmitSuccess()}catch(e){this.Notifications.error("Failure",e,"Failed validating licenses")}else this.onSubmitSuccess();else this.state.formError="At least one license should be provided"}))}}i.$inject=["$async","LicenseService","Notifications"]},5628:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(38676),r=n(60914),o=n(73970),l=n(13888);d.$inject=["$stateRegistryProvider"];const c=s().module("portainer.app.license-management",[r.default,o.default]).config(d).service("LicenseService",i.ER).component("licenseNodePanel",l.licenseNodePanel).name;function d(e){e.register({name:"portainer.licenses",url:"/licenses",views:{"content@":{component:"licensesView"}},onEnter:["$async","$state","Authentication",function(e,t,n){return e((async()=>{if(!n.isAdmin())return t.go("portainer.home")}))}]}),e.register({name:"portainer.licenses.new",url:"/licenses/new",views:{"content@":{component:"addLicenseView"}}})}},13888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{licenseNodePanel:()=>s});var a=n(83600);const s={templateUrl:n(25852),controller:a.default}},83600:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n,a){this.$async=e,this.LicenseService=t,this.Notifications=a,this.StatusService=n,this.numberOfNodesExceeded=!1}$onInit(){return this.$async((async()=>{let e,t;try{e=await this.StatusService.nodesCount()}catch(e){this.Notifications.error("Failure",e,"Failed to get nodes count")}try{t=await this.LicenseService.info()}catch(e){this.Notifications.error("Failure",e,"Failed to get license info")}t&&1!==t.type&&(this.numberOfNodesExceeded=e>t.nodes)}))}}a.$inject=["$async","LicenseService","StatusService","Notifications"]},60914:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(62747),r=n(34998),o=n(95029);const l=s().module("portainer.app.license-management.licenses-view",[]).component("licensesDatatable",r.licensesDatatable).component("licenseInfo",o.licenseInfo).component("licensesView",i.licensesView).name},95029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{licenseInfo:()=>s});var a=n(96274);const s={templateUrl:n(84497),controller:a.default,bindings:{info:"<"}}},96274:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(4396),s=n.n(a);class i{constructor(e,t,n){this.$async=e,this.StatusService=t,this.Notifications=n}productEdition(){switch(this.info.productEdition){case 1:return"";case 2:return"";default:return""}}expiresAt(){return s().unix(this.info.expiresAt).format("YYYY-MM-DD")}overUsage(){return this.usedNodes>this.info.nodes}$onInit(){return this.$async((async()=>{try{this.usedNodes=await this.StatusService.nodesCount()}catch(e){this.Notifications.error("Failure",e,"Failed to get nodes count")}}))}}i.$inject=["$async","StatusService","Notifications"]},34998:(e,t,n)=>{"use strict";n.r(t),n.d(t,{licensesDatatable:()=>a});const a={templateUrl:n(92856),controller:"GenericDatatableController",bindings:{dataset:"<",titleIcon:"@",tableKey:"@",orderBy:"@",removeAction:"<",updateAction:"<",reverseOrder:"<",copyLicenseKey:"<"}}},78730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(4396),s=n.n(a);class i{constructor(e,t,n,a,s,i){this.$async=e,this.$state=t,this.LicenseService=n,this.ModalService=a,this.Notifications=s,this.clipboard=i,this.info=null,this.licenses=null,this.removeAction=this.removeAction.bind(this),this.copyLicenseKey=this.copyLicenseKey.bind(this)}copyLicenseKey(e){this.clipboard.copyText(e.licenseKey)}removeAction(e){return this.$async((async()=>{try{const t=e.filter((e=>e.valid));if(t.length&&this.licenses.filter((e=>e.valid)).length===t.length)return void this.Notifications.warning("At least one valid license is required");if(!await this.ModalService.confirmDeletionAsync(""))return;const n=await this.LicenseService.remove(e.map((e=>e.licenseKey)));if(n.failedKeys&&Object.keys(n.failedKeys).length)throw new Error("")}catch(e){this.Notifications.error("Failure",e,"")}this.$state.reload()}))}async $onInit(){return this.$async((async()=>{try{const e=await this.LicenseService.licenses();this.licenses=e.map((e=>{const t=s().unix(e.expiresAt),n=!e.revoked&&s()().isBefore(t);return{...e,showExpiresAt:t.format("YYYY-MM-DD HH:mm"),valid:n}}))}catch(e){this.Notifications.error("Failure",e,"")}try{this.info=await this.LicenseService.info(),this.LicenseService.subscribe((e=>{this.info=e}))}catch(e){this.Notifications.error("Failure",e,"")}}))}}i.$inject=["$async","$state","LicenseService","ModalService","Notifications","clipboard"]},62747:(e,t,n)=>{"use strict";n.r(t),n.d(t,{licensesView:()=>s});var a=n(78730);const s={templateUrl:n(94845),controller:a.default}},93133:(e,t,n)=>{"use strict";function a(e){this.Id=e.Id,this.Name=e.Username,this.Type="user",this.Inherited=!1,this.Override=!1,this.Role={Id:0,Name:"-"},this.icon='<i class="fa fa-user" aria-hidden="true"></i>'}function s(e){this.Id=e.Id,this.Name=e.Name,this.Type="team",this.Inherited=!1,this.Override=!1,this.Role={Id:0,Name:"-"},this.icon='<i class="fa fa-users" aria-hidden="true"></i>'}n.r(t),n.d(t,{UserAccessViewModel:()=>a,TeamAccessViewModel:()=>s})},74962:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DockerHubViewModel:()=>s});var a=n(56414);function s(){this.Id=0,this.Type=a.RegistryTypes.ANONYMOUS,this.Name="DockerHub ()",this.URL="docker.io"}},690:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PortainerEndpointInitFormValues:()=>s,PortainerEndpointInitFormValueEndpointSections:()=>r});var a=n(74808);class s{constructor(){this.ConnectionType=a.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL,this.Name="",this.URL="",this.TLS=!1,this.TLSSkipVerify=!1,this.TLSSKipClientVerify=!1,this.TLSCACert=null,this.TLSCert=null,this.TLSKey=null,this.AzureApplicationId="",this.AzureTenantId="",this.AzureAuthenticationKey=""}}class i{constructor(e,t,n,a){this.Id=e,this.Value=e,this.Title=t,this.Classes=n,this.Description=a}}const r=Object.freeze([new i(a.PortainerEndpointConnectionTypes.DOCKER_LOCAL,"Docker","fab fa-docker","Manage the local Docker environment"),new i(a.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL,"Kubernetes","fas fa-dharmachakra","Manage the local Kubernetes environment"),new i(a.PortainerEndpointConnectionTypes.AGENT,"Agent","fa fa-bolt","Connect to a Portainer agent")])},74808:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PortainerEndpointTypes:()=>a,PortainerEndpointCreationTypes:()=>s,PortainerEndpointConnectionTypes:()=>i});const a=Object.freeze({DockerEnvironment:1,AgentOnDockerEnvironment:2,AzureEnvironment:3,EdgeAgentOnDockerEnvironment:4,KubernetesLocalEnvironment:5,AgentOnKubernetesEnvironment:6,EdgeAgentOnKubernetesEnvironment:7}),s=Object.freeze({LocalDockerEnvironment:1,AgentEnvironment:2,AzureEnvironment:3,EdgeAgentEnvironment:4,LocalKubernetesEnvironment:5}),i=Object.freeze({DOCKER_LOCAL:1,KUBERNETES_LOCAL:2,REMOTE:3,AZURE:4,AGENT:5,EDGE:6})},62365:(e,t,n)=>{"use strict";function a(e){this.Id=e.id,this.Description=e.description,this.Name=e.name,this.Namespace=e.namespace?e.namespace.name:"",this.PathWithNamespace=e.path_with_namespace,this.RegistryEnabled=e.container_registry_enabled}n.r(t),n.d(t,{RegistryGitlabProject:()=>a})},79607:(e,t,n)=>{"use strict";function a(){this.Name="",this.Description="",this.TagIds=[]}function s(e){this.Id=e.Id,this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AuthorizedUsers=e.AuthorizedUsers,this.AuthorizedTeams=e.AuthorizedTeams,this.UserAccessPolicies=e.UserAccessPolicies,this.TeamAccessPolicies=e.TeamAccessPolicies}function i(e,t){this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AssociatedEndpoints=t}function r(e,t){this.id=e.Id,this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AssociatedEndpoints=t,this.UserAccessPolicies=e.UserAccessPolicies,this.TeamAccessPolicies=e.TeamAccessPolicies}n.r(t),n.d(t,{EndpointGroupDefaultModel:()=>a,EndpointGroupModel:()=>s,EndpointGroupCreateRequest:()=>i,EndpointGroupUpdateRequest:()=>r})},15263:(e,t,n)=>{"use strict";function a(e){this.Title=e.Title,this.Message=e.Message,this.Hash=e.Hash,this.Style=e.Style,this.ContentLayout=e.ContentLayout}n.r(t),n.d(t,{MotdViewModel:()=>a})},33180:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegistryViewModel:()=>r,RegistryManagementConfigurationDefaultModel:()=>o,RegistryCreateFormValues:()=>l,RegistryCreateRequest:()=>c});var a=n(30465),s=n.n(a),i=n(56414);function r(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.URL=e.URL,this.BaseURL=e.BaseURL,this.Authentication=e.Authentication,this.Username=e.Username,this.Password=e.Password,this.RegistryAccesses=e.RegistryAccesses,this.Checked=!1,this.Gitlab=e.Gitlab,this.Quay=e.Quay,this.Ecr=e.Ecr}function o(e){this.Authentication=!1,this.Password="",this.TLS=!1,this.TLSSkipVerify=!1,this.TLSCACertFile=null,this.TLSCertFile=null,this.TLSKeyFile=null,e.Type===i.RegistryTypes.ECR&&(this.Region=e.Ecr.Region,this.TLSSkipVerify=!0),e.Type!==i.RegistryTypes.QUAY&&e.Type!==i.RegistryTypes.AZURE&&e.Type!==i.RegistryTypes.ECR||(this.Authentication=!0,this.Username=e.Username,this.TLS=!0),e.Type!==i.RegistryTypes.CUSTOM&&e.Type!==i.RegistryTypes.PROGET||!e.Authentication||(this.Authentication=!0,this.Username=e.Username)}function l(){this.Type=i.RegistryTypes.CUSTOM,this.URL="",this.Name="",this.Authentication=!1,this.Username="",this.Password=""}function c(e){this.Name=e.Name,this.Type=e.Type,this.URL=s()(e.URL,/^https?\:\/\//i,""),this.URL=s()(this.URL,/\/$/,""),this.Authentication=e.Authentication,e.Authentication&&(this.Username=e.Username,this.Password=e.Password),e.Type===i.RegistryTypes.GITLAB&&(this.Gitlab={ProjectId:e.Gitlab.ProjectId,InstanceURL:e.Gitlab.InstanceURL,ProjectPath:e.Gitlab.ProjectPath}),e.Type===i.RegistryTypes.ECR&&(this.Ecr=e.Ecr),e.Type===i.RegistryTypes.QUAY&&(this.Quay={useOrganisation:e.Quay.useOrganisation,organisationName:e.Quay.organisationName}),e.Type===i.RegistryTypes.PROGET&&(this.BaseURL=s()(e.BaseURL,/^https?\:\/\//i,""),this.BaseURL=s()(this.BaseURL,/\/$/,""))}},64088:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegistryRepositoryViewModel:()=>i,RegistryRepositoryGitlabViewModel:()=>r});var a=n(46545),s=n.n(a);function i(e){e.name&&e.tags?(this.Name=e.name,this.TagsCount=s()(e.tags,null).length):(this.Name=e,this.TagsCount=0)}function r(e){this.Name=e.path,this.TagsCount=e.tags.length}},56414:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegistryTypes:()=>a});const a=Object.freeze({ANONYMOUS:0,QUAY:1,AZURE:2,CUSTOM:3,GITLAB:4,PROGET:5,DOCKERHUB:6,ECR:7})},74392:(e,t,n)=>{"use strict";function a(e,t,n){this.ResourceID=e,this.Type=t,this.Public=n.Public,this.AdministratorsOnly=n.AdministratorsOnly,this.Users=n.Users,this.Teams=n.Teams,this.SubResourceIDs=n.SubResourceIDs}n.r(t),n.d(t,{ResourceControlCreatePayload:()=>a})},1870:(e,t,n)=>{"use strict";function a(e=!1,t=!1,n=[],a=[],s=[]){this.AdministratorsOnly=e,this.Public=t,this.Users=n,this.Teams=a,this.SubResourceIDs=s}n.r(t),n.d(t,{ResourceControlOwnershipParameters:()=>a})},45263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ResourceControlTypeString:()=>a,ResourceControlTypeInt:()=>s});const a=Object.freeze({CONFIG:"config",CONTAINER:"container",NETWORK:"network",SECRET:"secret",SERVICE:"service",STACK:"stack",VOLUME:"volume",CUSTOM_TEMPLATE:"custom-template",CONTAINER_GROUP:"container-group"}),s=Object.freeze({CONTAINER:1,SERVICE:2,VOLUME:3,NETWORK:4,SECRET:5,STACK:6,CONFIG:7,CUSTOM_TEMPLATE:8,CONTAINER_GROUP:9})},15905:(e,t,n)=>{"use strict";function a(e){this.Public=e.Public,this.AdministratorsOnly=e.AdministratorsOnly,this.Users=e.Users,this.Teams=e.Teams}n.r(t),n.d(t,{ResourceControlUpdatePayload:()=>a})},82653:(e,t,n)=>{"use strict";function a(e){this.Name=e.Name,this.Recurring=e.Recurring,this.CronExpression=e.CronExpression,this.Endpoints=e.Endpoints,this.FileContent=e.FileContent,this.File=e.File}function s(e){this.id=e.Id,this.Name=e.Name,this.Recurring=e.Recurring,this.CronExpression=e.CronExpression,this.Endpoints=e.Endpoints,this.FileContent=e.FileContent}n.r(t),n.d(t,{ScheduleCreateRequest:()=>a,ScheduleUpdateRequest:()=>s})},55287:(e,t,n)=>{"use strict";function a(e){this.LogoURL=e.LogoURL,this.BlackListedLabels=e.BlackListedLabels,this.AuthenticationMethod=e.AuthenticationMethod,this.LDAPSettings=e.LDAPSettings,this.OAuthSettings=new l(e.OAuthSettings),this.openAMTConfiguration=e.openAMTConfiguration,this.fdoConfiguration=e.fdoConfiguration,this.SnapshotInterval=e.SnapshotInterval,this.TemplatesURL=e.TemplatesURL,this.EdgeAgentCheckinInterval=e.EdgeAgentCheckinInterval,this.EnableEdgeComputeFeatures=e.EnableEdgeComputeFeatures,this.FeatureFlagSettings=e.FeatureFlagSettings,this.UserSessionTimeout=e.UserSessionTimeout,this.EnableTelemetry=e.EnableTelemetry,this.KubeconfigExpiry=e.KubeconfigExpiry,this.HelmRepositoryURL=e.HelmRepositoryURL,this.DisableTrustOnFirstConnect=e.DisableTrustOnFirstConnect,this.EnforceEdgeID=e.EnforceEdgeID}function s(e){this.AuthenticationMethod=e.AuthenticationMethod,this.EnableEdgeComputeFeatures=e.EnableEdgeComputeFeatures,this.DisableTrustOnFirstConnect=e.DisableTrustOnFirstConnect,this.EnforceEdgeID=e.EnforceEdgeID,this.FeatureFlagSettings=e.FeatureFlagSettings,this.LogoURL=e.LogoURL,this.OAuthLoginURI=e.OAuthLoginURI,this.EnableTelemetry=e.EnableTelemetry,this.OAuthHideInternalAuth=e.OAuthHideInternalAuth,this.OAuthLogoutURI=e.OAuthLogoutURI,this.KubeconfigExpiry=e.KubeconfigExpiry}function i(e){this.ReaderDN=e.ReaderDN,this.Password=e.Password,this.URL=e.URL,this.SearchSettings=e.SearchSettings,this.GroupSearchSettings=e.GroupSearchSettings,this.AdminGroupSearchSettings=e.AdminGroupSearchSettings,this.AutoCreateUsers=e.AutoCreateUsers}function r(e,t,n){this.BaseDN=e,this.UsernameAttribute=t,this.Filter=n}function o(e,t,n){this.GroupBaseDN=e,this.GroupAttribute=t,this.GroupFilter=n}function l(e){this.ClientID=e.ClientID,this.ClientSecret=e.ClientSecret,this.AccessTokenURI=e.AccessTokenURI,this.AuthorizationURI=e.AuthorizationURI,this.ResourceURI=e.ResourceURI,this.RedirectURI=e.RedirectURI,this.UserIdentifier=e.UserIdentifier,this.Scopes=e.Scopes,this.OAuthAutoCreateUsers=e.OAuthAutoCreateUsers,this.OAuthAutoMapTeamMemberships=e.OAuthAutoMapTeamMemberships,this.TeamMemberships=e.TeamMemberships,this.DefaultTeamID=e.DefaultTeamID,this.SSO=e.SSO,this.HideInternalAuth=e.HideInternalAuth,this.LogoutURI=e.LogoutURI}n.r(t),n.d(t,{SettingsViewModel:()=>a,PublicSettingsViewModel:()=>s,LDAPSettingsViewModel:()=>i,LDAPSearchSettings:()=>r,LDAPGroupSearchSettings:()=>o,OAuthSettingsViewModel:()=>l})},49036:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StackViewModel:()=>s,ExternalStackViewModel:()=>i,OrphanedStackViewModel:()=>r});var a=n(45429);function s(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.EndpointId=e.EndpointId,this.SwarmId=e.SwarmId,this.Env=e.Env?e.Env:[],this.IsComposeFormat=e.IsComposeFormat,e.ResourceControl&&0!==e.ResourceControl.Id&&(this.ResourceControl=new a.w(e.ResourceControl)),this.Status=e.Status,this.CreationDate=e.CreationDate,this.CreatedBy=e.CreatedBy,this.UpdateDate=e.UpdateDate,this.UpdatedBy=e.UpdatedBy,this.Regular=!0,this.External=!1,this.Orphaned=!1,this.Checked=!1,this.GitConfig=e.GitConfig,this.FromAppTemplate=e.FromAppTemplate,this.AdditionalFiles=e.AdditionalFiles,this.AutoUpdate=e.AutoUpdate,this.Webhook=e.Webhook}function i(e,t,n){this.Name=e,this.Type=t,this.CreationDate=n,this.Regular=!1,this.External=!0,this.Orphaned=!1,this.Checked=!1}function r(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.EndpointId=e.EndpointId,this.SwarmId=e.SwarmId,this.Env=e.Env?e.Env:[],e.ResourceControl&&0!==e.ResourceControl.Id&&(this.ResourceControl=new a.w(e.ResourceControl)),this.Status=e.Status,this.CreationDate=e.CreationDate,this.CreatedBy=e.CreatedBy,this.UpdateDate=e.UpdateDate,this.UpdatedBy=e.UpdatedBy,this.Regular=!1,this.External=!1,this.Orphaned=!0,this.OrphanedRunning=!1,this.Checked=!1}},95154:(e,t,n)=>{"use strict";function a(e){this.Authentication=e.Authentication,this.Snapshot=e.Snapshot,this.Version=e.Version,this.Edition=e.Edition,this.InstanceID=e.InstanceID}function s(e){this.UpdateAvailable=e.UpdateAvailable,this.LatestVersion=e.LatestVersion}n.r(t),n.d(t,{StatusViewModel:()=>a,StatusVersionViewModel:()=>s})},26410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TagViewModel:()=>i});var a=n(3520),s=n.n(a);function i(e){this.Id=e.ID,this.Name=s()(e.Name)}},58552:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TeamViewModel:()=>i});var a=n(3520),s=n.n(a);function i(e){this.Id=e.Id,this.Name=s()(e.Name),this.Checked=!1}},3010:(e,t,n)=>{"use strict";function a(e){this.Id=e.Id,this.UserId=e.UserID,this.TeamId=e.TeamID,this.Role=e.Role}n.r(t),n.d(t,{TeamMembershipModel:()=>a})},76185:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TemplateViewModel:()=>r});var a=n(17465),s=n.n(a),i=n(76939);class r{constructor(e,t){if("2"!==t)throw new Error("Unsupported template version");this.setTemplatesV2(e)}setTemplatesV2(e){this.Id=e.Id,this.Title=e.title,this.Type=e.type,this.Description=e.description,this.AdministratorOnly=e.AdministratorOnly,this.Name=e.name,this.Note=e.note,this.Categories=e.categories?e.categories:[],this.Platform=e.platform?e.platform:"",this.Logo=e.logo,this.Repository=e.repository,this.Hostname=e.hostname,this.RegistryModel=new i.PorImageRegistryModel,this.RegistryModel.Image=e.image,this.RegistryModel.Registry.URL=e.registry||"",this.Command=e.command?e.command:"",this.Network=e.network?e.network:"",this.Privileged=!!e.privileged&&e.privileged,this.Interactive=!!e.interactive&&e.interactive,this.RestartPolicy=e.restart_policy?e.restart_policy:"always",this.Labels=e.labels?e.labels:[],this.Hosts=e.hosts?e.hosts:[],this.Env=function(e){var t=[];return e.env&&(t=e.env.map((function(e){if(e.type=2,e.value=e.default?e.default:"",e.preset&&(e.type=1),e.select){e.type=3;for(var t=0;t<e.select.length;t++){var n=e.select[t];if(n.default){e.value=n.value;break}}}return e}))),t}(e),this.Volumes=function(e){var t=[];return e.volumes&&(t=e.volumes.map((function(e){return{container:e.container,readonly:e.readonly||!1,type:e.bind?"bind":"auto",bind:e.bind?e.bind:null}}))),t}(e),this.Ports=function(e){var t=[];return e.ports&&(t=e.ports.map((function(e){var t=s()(e,"/"),n=s()(t[0],":");return{hostPort:n.length>1?n[0]:void 0,containerPort:n.length>1?n[1]:n[0],protocol:t[1]}}))),t}(e)}}},90327:(e,t,n)=>{"use strict";function a(e){this.Id=e.Id,this.Username=e.Username,this.Role=e.Role,this.UserTheme=e.UserTheme,this.EndpointAuthorizations=e.EndpointAuthorizations,this.PortainerAuthorizations=e.PortainerAuthorizations,1===e.Role?this.RoleName="administrator":this.RoleName="user",this.AuthenticationMethod=e.AuthenticationMethod,this.Checked=!1,this.EndpointAuthorizations=e.EndpointAuthorizations}function s(e){this.id=e.id,this.userId=e.userId,this.description=e.description,this.prefix=e.prefix,this.dateCreated=e.dateCreated,this.lastUsed=e.lastUsed}n.r(t),n.d(t,{UserViewModel:()=>a,UserTokenModel:()=>s})},74708:(e,t,n)=>{"use strict";function a(e){this.Id=e.Id,this.Token=e.Token,this.ResourceId=e.ResourceID,this.EndpointId=e.EndpointID,this.WebhookType=e.WebhookType}n.r(t),n.d(t,{WebhookViewModel:()=>a})},77274:()=>{angular.module("portainer.oauth",["ngResource"]).constant("API_ENDPOINT_OAUTH","api/auth/oauth")},21869:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(14537);const r=n(59154);s().module("portainer.oauth").component("oauthProvidersSelector",{templateUrl:r,bindings:{onChange:"<",value:"<"},controller:i.default})},14537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(56619),s=n(26196);class i{constructor(){this.options=[(0,a.es)("microsoft","fab fa-microsoft","Microsoft","Microsoft OAuth provider","microsoft",s.tE.HIDE_INTERNAL_AUTH),(0,a.es)("google","fab fa-google","Google","Google OAuth provider","google",s.tE.HIDE_INTERNAL_AUTH),(0,a.es)("github","fab fa-github","Github","Github OAuth provider","github",s.tE.HIDE_INTERNAL_AUTH),(0,a.es)("custom","fa fa-user-check","Custom","Custom OAuth provider","custom")]}}},10453:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(30152);const r=n(11318);s().module("portainer.oauth").component("oauthSettings",{templateUrl:r,bindings:{settings:"=",teams:"<",onSaveSettings:"<",saveButtonState:"<"},controller:i.default})},30152:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(50433),s=n(26196),i=n(20037),r=n(67879);const o="TENANT_ID";class l{constructor(e){Object.assign(this,{$scope:e}),this.limitedFeature=s.tE.HIDE_INTERNAL_AUTH,this.limitedFeatureClass="limited-be",this.state={provider:"custom",overrideConfiguration:!1,microsoftTenantID:""},this.$onInit=this.$onInit.bind(this),this.onSelectProvider=this.onSelectProvider.bind(this),this.onMicrosoftTenantIDChange=this.onMicrosoftTenantIDChange.bind(this),this.useDefaultProviderConfiguration=this.useDefaultProviderConfiguration.bind(this),this.updateSSO=this.updateSSO.bind(this),this.addTeamMembershipMapping=this.addTeamMembershipMapping.bind(this),this.removeTeamMembership=this.removeTeamMembership.bind(this),this.addAdminClaimRegex=this.addAdminClaimRegex.bind(this),this.removeAdminClaimRegex=this.removeAdminClaimRegex.bind(this),this.onChangeHideInternalAuth=this.onChangeHideInternalAuth.bind(this),this.onToggleAutoTeamMembership=this.onToggleAutoTeamMembership.bind(this)}onMicrosoftTenantIDChange(){const e=this.state.microsoftTenantID||o;this.settings.AuthorizationURI=`https://login.microsoftonline.com/${e}/oauth2/authorize`,this.settings.AccessTokenURI=`https://login.microsoftonline.com/${e}/oauth2/token`,this.settings.ResourceURI=`https://graph.windows.net/${e}/me?api-version=2013-11-08`,this.settings.LogoutURI=`https://login.microsoftonline.com/${e}/oauth2/logout`}useDefaultProviderConfiguration(e){const t=r.default[e];this.state.overrideConfiguration=!1,this.isLimitedToBE&&"custom"!==e?(this.settings.ClientID="",this.settings.ClientSecret=""):(this.settings.AuthorizationURI=t.authUrl,this.settings.AccessTokenURI=t.accessTokenUrl,this.settings.ResourceURI=t.resourceUrl,this.settings.LogoutURI=t.logoutUrl,this.settings.UserIdentifier=t.userIdentifier,this.settings.Scopes=t.scopes,"microsoft"===e&&""!==this.state.microsoftTenantID&&this.onMicrosoftTenantIDChange())}onSelectProvider(e){this.state.provider=e,this.useDefaultProviderConfiguration(e)}updateSSO(e){this.$scope.$evalAsync((()=>{this.settings.SSO=e,this.onChangeHideInternalAuth(e)}))}onChangeHideInternalAuth(e){this.$scope.$evalAsync((()=>{this.isLimitedToBE||(this.settings.HideInternalAuth=e)}))}onToggleAutoTeamMembership(e){this.$scope.$evalAsync((()=>{this.settings.OAuthAutoMapTeamMemberships=e}))}addTeamMembershipMapping(){this.settings.TeamMemberships.OAuthClaimMappings.push({ClaimValRegex:"",Team:this.settings.DefaultTeamID})}removeTeamMembership(e){this.settings.TeamMemberships.OAuthClaimMappings.splice(e,1)}addAdminClaimRegex(){this.settings.TeamMemberships.AdminGroupClaimsRegexList.push("")}removeAdminClaimRegex(e){this.settings.TeamMemberships.AdminGroupClaimsRegexList.splice(e,1)}isOAuthTeamMembershipFormValid(){if(this.settings.OAuthAutoMapTeamMemberships&&this.settings.TeamMemberships){if(!this.settings.TeamMemberships.OAuthClaimName)return!1;if(this.settings.TeamMemberships.OAuthClaimMappings.some((e=>!(e.ClaimValRegex&&e.Team))))return!1}return!0}isOAuthAdminMappingFormValid(){return!this.settings.AdminAutoPopulate||!this.settings.AdminGroupClaimsRegexList||0!==this.settings.AdminGroupClaimsRegexList.length&&!this.settings.AdminGroupClaimsRegexList.some((e=>""===e))}$onInit(){if(this.isLimitedToBE=(0,i.vx)(this.limitedFeature),!this.isLimitedToBE){if(""===this.settings.RedirectURI&&(this.settings.RedirectURI=window.location.origin+(0,a.baseHref)()),this.settings.AuthorizationURI){const e=this.settings.AuthorizationURI;if(this.state.provider=(0,r.getProviderByUrl)(e),"microsoft"===this.state.provider){const t=e.match(/login.microsoftonline.com\/(.*?)\//)[1];t!==o&&(this.state.microsoftTenantID=t,this.onMicrosoftTenantIDChange())}}0===this.settings.DefaultTeamID&&(this.settings.DefaultTeamID=null),null==this.settings.TeamMemberships&&(this.settings.TeamMemberships={}),null===this.settings.TeamMemberships.OAuthClaimMappings&&(this.settings.TeamMemberships.OAuthClaimMappings=[]),null===this.settings.TeamMemberships.AdminGroupClaimsRegexList&&(this.settings.TeamMemberships.AdminGroupClaimsRegexList=[])}}}l.$inject=["$scope"]},67879:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,getProviderByUrl:()=>i});var a=n(50433);const s={microsoft:{authUrl:"https://login.microsoftonline.com/TENANT_ID/oauth2/authorize",accessTokenUrl:"https://login.microsoftonline.com/TENANT_ID/oauth2/token",resourceUrl:"https://graph.windows.net/TENANT_ID/me?api-version=2013-11-08",logoutUrl:"https://login.microsoftonline.com/TENANT_ID/oauth2/logout",userIdentifier:"userPrincipalName",scopes:"id,email,name"},google:{authUrl:"https://accounts.google.com/o/oauth2/auth",accessTokenUrl:"https://accounts.google.com/o/oauth2/token",resourceUrl:"https://www.googleapis.com/oauth2/v1/userinfo?alt=json",logoutUrl:`https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.origin}${(0,a.baseHref)()}#!/auth`,userIdentifier:"email",scopes:"profile email"},github:{authUrl:"https://github.com/login/oauth/authorize",accessTokenUrl:"https://github.com/login/oauth/access_token",resourceUrl:"https://api.github.com/user",logoutUrl:"https://github.com/logout",userIdentifier:"login",scopes:"id email name"},custom:{authUrl:"",accessTokenUrl:"",resourceUrl:"",logoutUrl:"",userIdentifier:"",scopes:""}};function i(e=""){return e.includes("login.microsoftonline.com")?"microsoft":e.includes("accounts.google.com")?"google":e.includes("github.com")?"github":"custom"}},18152:()=>{angular.module("portainer.oauth").factory("OAuth",["$resource","API_ENDPOINT_OAUTH",function(e,t){"use strict";return e(t+"/:action",{},{validate:{method:"POST",ignoreLoadingBar:!0,params:{action:"validate"}}})}])},3589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{accessViewerDatatable:()=>a});const a={templateUrl:n(27707),controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",tableKey:"@",orderBy:"@",dataset:"<"}}},79657:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var a=n(41952),s=n.n(a),i=n(22937),r=n.n(i),o=n(16222),l=n.n(o),c=n(6806),d=n.n(c),u=n(68582),p=n.n(u),m=n(82549),g=n.n(m),h=n(83432),f=n.n(h),v=n(20037),b=n(82853);class y{constructor(e,t,n,a,s,i,r){this.Notifications=e,this.RoleService=t,this.UserService=n,this.EndpointService=a,this.GroupService=s,this.TeamService=i,this.TeamMembershipService=r,this.limitedFeature="rbac-roles",this.users=[]}onUserSelect(){this.userRoles=[];const e={},t=this.selectedUser,n=f()(this.teamMemberships,{UserId:t.Id});for(const[,a]of g()(this.endpoints)){let s=this.getRoleFromUserEndpointPolicy(t,a);s?e[a.Id]=s:(s=this.getRoleFromUserEndpointGroupPolicy(t,a),s?e[a.Id]=s:(s=this.getRoleFromTeamEndpointPolicies(n,a),s?e[a.Id]=s:(s=this.getRoleFromTeamEndpointGroupPolicies(n,a),s&&(e[a.Id]=s))))}this.userRoles=p()(e)}findLowestRole(e){return d()(l()(e,"RolePriority","desc"))}getRoleFromUserEndpointPolicy(e,t){const n=[],a=(t.UserAccessPolicies||{})[e.Id];if(a){const e=new b.default(a,t,this.roles,null,null);n.push(e)}return this.findLowestRole(n)}getRoleFromUserEndpointGroupPolicy(e,t){const n=[],a=this.groupUserAccessPolicies[t.GroupId][e.Id];if(a){const e=new b.default(a,t,this.roles,this.groups[t.GroupId],null);n.push(e)}return this.findLowestRole(n)}getRoleFromTeamEndpointPolicies(e,t){const n=[];for(const a of e){const e=(t.TeamAccessPolicies||{})[a.TeamId];if(e){const s=new b.default(e,t,this.roles,null,this.teams[a.TeamId]);n.push(s)}}return this.findLowestRole(n)}getRoleFromTeamEndpointGroupPolicies(e,t){const n=[];for(const a of e){const e=this.groupTeamAccessPolicies[t.GroupId][a.TeamId];if(e){const s=new b.default(e,t,this.roles,this.groups[t.GroupId],this.teams[a.TeamId]);n.push(s)}}return this.findLowestRole(n)}async $onInit(){try{if((0,v.vx)(this.limitedFeature))return;this.users=await this.UserService.users(),this.endpoints=r()((await this.EndpointService.endpoints()).value,"Id");const e=await this.GroupService.groups();this.groupUserAccessPolicies={},this.groupTeamAccessPolicies={},s()(e,(e=>{this.groupUserAccessPolicies[e.Id]=e.UserAccessPolicies,this.groupTeamAccessPolicies[e.Id]=e.TeamAccessPolicies})),this.groups=r()(e,"Id"),this.roles=r()(await this.RoleService.roles(),"Id"),this.teams=r()(await this.TeamService.teams(),"Id"),this.teamMemberships=await this.TeamMembershipService.memberships()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve accesses")}}}y.$inject=["Notifications","RoleService","UserService","EndpointService","GroupService","TeamService","TeamMembershipService"]},87208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{accessViewer:()=>s});var a=n(79657);const s={templateUrl:n(98538),controller:a.default}},77181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{rolesDatatable:()=>s});var a=n(15560);const s={templateUrl:n(71450),controller:a.default,bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}}},15560:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a),i=n(61969);class r{constructor(e,t){this.limitedFeature="rbac-roles",s().extend(this,e("GenericDatatableController",{$scope:t}))}isDefaultItem(e){return e.ID===i.RoleTypes.STANDARD}}r.$inject=["$controller","$scope"]},92453:()=>{angular.module("portainer.rbac").directive("authorization",["Authentication","$async",function(e,t){async function n(t,n,a){n.hide();for(var s=a.authorization.split(","),i=0;i<s.length;i++)s[i]=s[i].trim();var r=e.hasAuthorizations(s);r?n.show():r||"A"!==n[0].tagName||(n.show(),n.addClass("portainer-disabled-link"))}return{restrict:"A",link:function(e,a,s){return t(n,e,a,s)}}}])},19118:()=>{angular.module("portainer.rbac").directive("disableAuthorization",["Authentication","$async",function(e,t){async function n(t,n,a){for(var s=a.disableAuthorization.split(","),i=0;i<s.length;i++)s[i]=s[i].trim();e.hasAuthorizations(s)||(n.attr("disabled",!0),n.is("Slider")&&n.css("pointer-events","none"))}return{restrict:"A",link:function(e,a,s){return t(n,e,a,s)}}}])},58338:()=>{angular.module("portainer.rbac").directive("excludeAuthorization",["Authentication","$async",function(e,t){async function n(t,n,a){n.show();for(var s=a.excludeAuthorization.split(","),i=0;i<s.length;i++)s[i]=s[i].trim();e.hasAuthorizations(s)&&n.hide()}return{restrict:"A",link:function(e,a,s){return t(n,e,a,s)}}}])},35552:(e,t,n)=>{"use strict";n.r(t);var a=n(93239),s=n(87208),i=n(3589),r=n(77181),o=n(70055),l=n(37838);function c(e){e.register({name:"portainer.roles",url:"/roles",views:{"content@":{component:"rolesView"}}})}c.$inject=["$stateRegistryProvider"],angular.module("portainer.rbac",["ngResource"]).constant("API_ENDPOINT_ROLES","api/roles").component("accessViewer",s.accessViewer).component("accessViewerDatatable",i.accessViewerDatatable).component("rolesDatatable",r.rolesDatatable).component("rolesView",a.rolesView).factory("RoleService",o.RoleService).factory("Roles",l.RolesFactory).config(c)},82853:(e,t,n)=>{"use strict";function a(e,t,n,a,s){this.EndpointId=t.Id,this.EndpointName=t.Name,this.RoleId=e.RoleId,this.RoleName=n[e.RoleId].Name,this.RolePriority=n[e.RoleId].Priority,a&&(this.GroupId=a.Id,this.GroupName=a.Name),s&&(this.TeamId=s.Id,this.TeamName=s.Name),this.AccessLocation=a?"environment group":"environment"}n.r(t),n.d(t,{default:()=>a})},61969:(e,t,n)=>{"use strict";function a(e,t,n,a){this.ID=e,this.Name=t,this.Description=n,this.Authorizations=a}n.r(t),n.d(t,{RoleViewModel:()=>a,RoleTypes:()=>s});const s=Object.freeze({ENDPOINT_ADMIN:1,HELPDESK:2,STANDARD:3,READ_ONLY:4,OPERATOR:5})},41974:()=>{angular.module("portainer.app").factory("Roles",["$resource","API_ENDPOINT_ROLES",function(e,t){"use strict";return e(t+"/:id",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},37838:(e,t,n)=>{"use strict";function a(e,t){return e(t+"/:id",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}n.r(t),n.d(t,{RolesFactory:()=>a}),a.$inject=["$resource","API_ENDPOINT_ROLES"]},70055:(e,t,n)=>{"use strict";function a(e,t){return{roles:function(){return t.query({}).$promise}}}n.r(t),n.d(t,{RoleService:()=>a}),a.$inject=["$q","Roles"]},93239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{rolesView:()=>s});var a=n(60090);const s={templateUrl:n(49458),controller:a.default}},60090:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(16222),s=n.n(a);class i{constructor(e,t){this.Notifications=e,this.RoleService=t}async $onInit(){this.roles=[];try{this.roles=await this.RoleService.roles(),this.roles=s()(this.roles,"Priority","asc")}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve roles")}}}i.$inject=["Notifications","RoleService"]},89644:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(16222),s=n.n(a),i=n(29274),r=n.n(i);class o{constructor(e,t){this.Notifications=e,this.RoleService=t}async $onInit(){this.roles=[];try{this.roles=await this.RoleService.roles(),this.roles=s()(this.roles,"Priority","asc")}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve roles")}}}o.$inject=["Notifications","RoleService"];const l=o;r().module("portainer.rbac").controller("RolesController",o)},28695:(e,t,n)=>{const a=n(31117);angular.module("portainer.registrymanagement").component("registryRepositoriesDatatable",{templateUrl:a,controller:"RegistryRepositoriesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",paginationAction:"<",loading:"<"}})},13692:(e,t,n)=>{"use strict";n.r(t);var a=n(83432),s=n.n(a);angular.module("portainer.app").controller("RegistryRepositoriesDatatableController",["$scope","$controller",function(e,t){var n=this;angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state.orderBy=this.orderBy,e.$watch((function(){return n.state.filteredDataSet}),(function(e,t){e&&function(e,t){if(!e||!t)return!0;var n=e.map((function(e){return e.Name})).sort(),a=t.map((function(e){return e.Name})).sort();return n.join(",")!==a.join(",")}(t,e)&&n.paginationAction(s()(e,(({TagsCount:e})=>!e)))}),!0)}])},57690:(e,t,n)=>{const a=n(61873);angular.module("portainer.registrymanagement").component("registriesRepositoryTagsDatatable",{templateUrl:a,controller:"RegistryRepositoriesTagsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",retagAction:"<",advancedFeaturesAvailable:"<",paginationAction:"<",loading:"<"}})},86e3:(e,t,n)=>{"use strict";n.r(t);var a=n(83432),s=n.n(a),i=n(66539),r=n.n(i),o=n(40714),l=n.n(o);angular.module("portainer.app").controller("RegistryRepositoriesTagsDatatableController",["$scope","$controller",function(e,t){angular.extend(this,t("GenericDatatableController",{$scope:e}));var n=this;function a(e){return e.Name+e.ImageDigest}this.state.orderBy=this.orderBy,e.$watch((function(){return n.state.filteredDataSet}),(function(e,t){e&&e.length&&function(e,t){if(!e||!t)return!0;var n=l()(r()(e,a)),s=l()(r()(t,a));return n.join(",")!==s.join(",")}(t,e)&&(n.paginationAction(s()(e,{ImageId:""})),n.resetSelectionState())}),!0)}])},3369:(e,t,n)=>{"use strict";n.r(t);var a=n(6632),s=n.n(a),i=n(66539),r=n.n(i),o=n(92478);angular.module("portainer.registrymanagement").factory("RegistryV2Helper",[function(){var e={manifestsToTag:function(e){var t,n=e.v1,a=e.v2,i=(t=n.history,r()(t,(e=>angular.fromJson(e.v1Compatibility)))),l=n.tag,c=s()(i,"[0].os",""),d=n.architecture,u=a.layers.reduce((function(e,t){return{size:e.size+t.size}})).size,p=a.config.digest,m=a.digest;return new o.RepositoryTagViewModel(l,c,d,u,m,p,a,i)}};return e}])},69890:(e,t,n)=>{const a=n(86133);angular.module("portainer.registrymanagement",[]).config(["$stateRegistryProvider",function(e){"use strict";var t={name:"portainer.registries.registry.repository",url:"/:repository",views:{"content@":{templateUrl:a,controller:"RegistryRepositoryController"}}};e.register({name:"portainer.registries.registry.configure",url:"/configure",views:{"content@":{component:"configureRegistryView"}}}),e.register({name:"portainer.registries.registry.repositories",url:"/repositories",views:{"content@":{component:"registryRepositoriesView"}}}),e.register(t),e.register({name:"portainer.registries.registry.repository.tag",url:"/:tag",views:{"content@":{component:"registryRepositoryTagView"}}})}])},76315:(e,t,n)=>{"use strict";function a(e){this.Id=e.id,this.Description=e.description,this.Name=e.name,this.Namespace=e.namespace?e.namespace.name:"",this.PathWithNamespace=e.path_with_namespace,this.RegistryEnabled=e.container_registry_enabled}n.r(t),n.d(t,{RegistryGitlabProject:()=>a})},77287:(e,t,n)=>{"use strict";function a(e){e&&(this.Id=e.id,this.Parent=e.parent,this.Created=e.created,this.DockerVersion=e.docker_version,this.Os=e.os,this.Architecture=e.architecture,this.Author=e.author,this.Command=e.config.Cmd,this.Entrypoint=e.container_config.Entrypoint?e.container_config.Entrypoint:"",this.ExposedPorts=e.container_config.ExposedPorts?Object.keys(e.container_config.ExposedPorts):[],this.Volumes=e.container_config.Volumes?Object.keys(e.container_config.Volumes):[],this.Env=e.container_config.Env?e.container_config.Env:[])}n.r(t),n.d(t,{RegistryImageDetailsViewModel:()=>a})},52804:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegistryImageLayerViewModel:()=>i});var a=n(89858),s=n.n(a);function i(e,t){this.Order=e,this.Id=t.id,this.Created=t.created,this.CreatedBy=s()(t.container_config.Cmd," ")}},47407:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegistryRepositoryViewModel:()=>i,RegistryRepositoryGitlabViewModel:()=>r});var a=n(46545),s=n.n(a);function i(e){e.name&&e.tags?(this.Name=e.name,this.TagsCount=s()(e.tags,null).length):(this.Name=e,this.TagsCount=0)}function r(e){this.Name=e.path,this.TagsCount=e.tags.length}},92478:(e,t,n)=>{"use strict";function a(e,t,n,a,s,i,r,o){this.Name=e,this.Os=t||"",this.Architecture=n||"",this.Size=a||0,this.ImageDigest=s||"",this.ImageId=i||"",this.ManifestV2=r||{},this.History=o||[]}function s(e,t,n,a){this.Name=e,this.ImageId=t,this.ImageDigest=n,this.ManifestV2=a}function i(e,t){this.Tag=e,this.Manifest=t}n.r(t),n.d(t,{RepositoryTagViewModel:()=>a,RepositoryShortTag:()=>s,RepositoryAddTagPayload:()=>i})},22381:(e,t,n)=>{"use strict";n.r(t);var a=n(66222);angular.module("portainer.registrymanagement").factory("RegistryCatalog",["$resource","API_ENDPOINT_REGISTRIES",function(e,t){return e(t+"/:id/v2/:action",{},{get:{method:"GET",params:{id:"@id",action:"_catalog"},transformResponse:a.default},ping:{method:"GET",params:{id:"@id"}},pingWithForceNew:{method:"GET",params:{id:"@id"},headers:{"X-RegistryManagement-ForceNew":"1"}}},{stripTrailingSlashes:!1})}])},13811:(e,t,n)=>{"use strict";n.r(t);var a=n(52474),s=n.n(a),i=n(51123);angular.module("portainer.registrymanagement").factory("RegistryManifestsJquery",["API_ENDPOINT_REGISTRIES",function(e){function t(t){return e+"/"+t.id+"/v2/"+t.repository+"/manifests/"+t.tag}return{get:function(e){return new Promise(((n,a)=>{s().ajax({type:"GET",dataType:"JSON",url:t(e),headers:{Accept:"application/vnd.docker.distribution.manifest.v1+json","Cache-Control":"no-cache","If-Modified-Since":"Mon, 26 Jul 1997 05:00:00 GMT"},success:e=>n(e),error:e=>a(e)})}))},getV2:function(e){return new Promise(((n,a)=>{s().ajax({type:"GET",dataType:"text",url:t(e),headers:{Accept:"application/vnd.docker.distribution.manifest.v2+json","Cache-Control":"no-cache","If-Modified-Since":"Mon, 26 Jul 1997 05:00:00 GMT"},success:async(e,t,a)=>{const s=JSON.parse(e);s.digest=a.getResponseHeader("Docker-Content-Digest")||await async function(e){const t=new i.Sha256;return t.update(e),await t.digest()}(e),n(s)},error:e=>a(e)})}))},put:function(e,n){return new Promise(((a,i)=>{var r;s().ajax({type:"PUT",url:t(e),headers:{"Content-Type":"application/vnd.docker.distribution.manifest.v2+json"},data:(r=n,angular.toJson(r,3)),success:e=>a(e),error:e=>i(e)})}))},delete:function(e){return new Promise(((n,a)=>{s().ajax({type:"DELETE",url:t(e),success:e=>n(e),error:e=>a(e)})}))}}}])},81733:(e,t,n)=>{"use strict";n.r(t);var a=n(66222);angular.module("portainer.registrymanagement").factory("RegistryTags",["$resource","API_ENDPOINT_REGISTRIES",function(e,t){return e(t+"/:id/v2/:repository/tags/list",{},{get:{method:"GET",params:{id:"@id",repository:"@repository"},transformResponse:a.default}})}])},36332:(e,t,n)=>{"use strict";function a(e,t){let n={};try{n.data=angular.fromJson(e),n.next=t("X-Next-Page")}catch(t){n=e}return n}n.r(t),n.d(t,{default:()=>a})},66222:(e,t,n)=>{"use strict";function a(e,t){var n=angular.fromJson(e),a=t("link");if(a)for(var s=a.substring(a.indexOf("?")+1).split(">;")[0].split("&"),i=0;i<s.length;i++){var r=s[i].split("=");n[r[0]]=r[1]}return n}n.r(t),n.d(t,{default:()=>a})},46673:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(85713),s=n.n(a);async function*i(e,t,n,a){const i=function(e){let t=Math.trunc(e/10);return t<10?t=10:t>100&&(t=100),t}(t.length);let r=0,o=r+i,l=[];for(;r<t.length;){const c=s()(t,r,o),d=[];for(let e=0;e<c.length;e++)d.push(n(...a,c[e]));yield r;const u=await e.all(d);for(let e=0;e<u.length;e++)l.push(u[e]);r=o,o+=i}yield t.length,yield l}},1383:(e,t,n)=>{"use strict";n.r(t);var a=n(56414);angular.module("portainer.registrymanagement").factory("RegistryServiceSelector",["$q","RegistryV2Service","RegistryGitlabService","RegistryEcrService",function(e,t,n,s){return{ping:function(e,n){return t.ping(e,n)},repositories:function(e){let s=t;return e.Type===a.RegistryTypes.GITLAB&&(s=n),s.repositories(e)},getRepositoriesDetails:function(e,n){return t.getRepositoriesDetails(e,n)},tag:function(e,n,a){return t.tag(e,n,a)},tags:function(e,n){return t.tags(e,n)},getTagsDetails:function(e,n,a){return t.getTagsDetails(e,n,a)},addTag:function(e,n,a,s){return t.addTag(e,n,a,s)},retagWithProgress:function(e,n,i,r,o){let l=t;return e.Type===a.RegistryTypes.ECR&&(l=s),l.retagWithProgress(e,n,i,r,o)},shortTagsWithProgress:function(e,n,a){return t.shortTagsWithProgress(e,n,a)},deleteTagsWithProgress:function(e,n,a,s){return t.deleteTagsWithProgress(e,n,a,s)},deleteManifest:function(e,n,a){return t.deleteManifest(e,n,a)},deleteRepository:function(e,t){return s.deleteRepository(e,t)},batchDeleteTags:function(e,t){return s.batchDeleteTags(e,t)}}}])},47624:(e,t,n)=>{"use strict";n.r(t);var a=n(51235),s=n.n(a),i=n(46545),r=n.n(i),o=n(66539),l=n.n(o),c=n(25445),d=n.n(c),u=n(92478),p=n(47407),m=n(46673);angular.module("portainer.registrymanagement").factory("RegistryV2Service",["$q","$async","RegistryCatalog","RegistryTags","RegistryManifestsJquery","RegistryV2Helper",function(e,t,n,a,i,o){var c={};function g(e,t,a){n.get(e).$promise.then((function(n){a=d()(a,n.repositories),n.last&&n.n?g({id:e.id,n:n.n,last:n.last},t,a):t.resolve(a)}))}function h(t){var n=e.defer();return g({id:t},n,[]),n.promise}function f(e,t,n){a.get(e).$promise.then((function(a){n.name=a.name,n.tags=d()(n.tags,a.tags),a.last&&a.n?f({id:e.id,repository:e.repository,n:a.n,last:a.last},t,n):t.resolve(n)})).catch((function(e){404!==e.status?t.reject({msg:"Unable to retrieve tags",err:e}):t.resolve(n)}))}function v(t,n){const a=e.defer();return f({id:t.Id,repository:n},a,{name:n,tags:[]}),a.promise}function b(t,n,a){const s=e.defer(),r=t.Id;var l={v1:i.get({id:r,repository:n,tag:a}),v2:i.getV2({id:r,repository:n,tag:a})};return e.all(l).then((function(e){var t=o.manifestsToTag(e);t.Name=t.Name||a,s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve tag "+a,err:e})})),s.promise}function y(e,t,n){return w(e,t,n.Tag,n.Manifest)}function w(e,t,n,a){const s=e.Id;return delete a.digest,i.put({id:s,repository:t,tag:n},a)}async function*x(t,n,a,s=0){for await(const i of(0,m.default)(e,a,y,[t,n]))"number"==typeof i?yield s+i:yield i}function S(e,t,n){const a=e.Id;return i.delete({id:a,repository:t,tag:n})}async function*k(t,n,a){for await(const s of(0,m.default)(e,a,S,[t,n]))yield s}function $(e,t,n){return new Promise(((a,s)=>{i.getV2({id:e,repository:t,tag:n}).then((e=>a(new u.RepositoryShortTag(n,e.config.digest,e.digest,e)))).catch((e=>s(e)))}))}return c.ping=function(e,t){const a=e.Id;return t?n.pingWithForceNew({id:a}).$promise:n.ping({id:a}).$promise},c.repositories=function(t){const n=e.defer();return h(t.Id).then((function(e){const t=l()(e,(e=>new p.RegistryRepositoryViewModel(e)));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve repositories",err:e})})),n.promise},c.getRepositoriesDetails=function(t,n){const a=e.defer(),s=l()(n,(e=>v(t,e.Name)));return Promise.all(s).then((function(e){var t=e.map((function(e){return new p.RegistryRepositoryViewModel(e)}));t=r()(t,void 0),a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve repositories",err:e})})),a.promise},c.tags=v,c.tag=b,c.getTagsDetails=function(t,n,a){const s=l()(a,(e=>b(t,n,e.Name)));return e.all(s)},c.shortTagsWithProgress=async function*(t,n,a){const s=t.Id;yield*(0,m.default)(e,a,$,[s,n])},c.addTag=w,c.deleteManifest=S,c.deleteTagsWithProgress=async function*(e,t,n,a){yield*k(e,t,n);const s=l()(a,(e=>new u.RepositoryAddTagPayload(e.Name,e.ManifestV2)));yield*x(e,t,s,n.length)},c.retagWithProgress=async function*(e,t,n,a,i){yield*k(e,t,a);const r=l()(i,(e=>{const t=s()(n,{Name:e.Name}),a=t&&t.Name!==t.NewName?t.NewName:e.Name;return new u.RepositoryAddTagPayload(a,e.ManifestV2)}));yield*x(e,t,r,a.length)},c}])},56795:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfigureRegistryController:()=>i});var a=n(56414),s=n(33180);class i{constructor(e,t,n,a,s){Object.assign(this,{$async:e,$state:t,RegistryService:n,RegistryServiceSelector:a,Notifications:s}),this.state={testInProgress:!1,updateInProgress:!1,validConfiguration:!1},this.testConfiguration=this.testConfiguration.bind(this),this.testConfigurationAsync=this.testConfigurationAsync.bind(this),this.updateConfiguration=this.updateConfiguration.bind(this),this.updateConfigurationAsync=this.updateConfigurationAsync.bind(this),this.$onInit=this.$onInit.bind(this)}testConfiguration(){return this.$async(this.testConfigurationAsync)}async testConfigurationAsync(){this.state.testInProgress=!0;try{await this.RegistryService.configureRegistry(this.registry.Id,this.model),await this.RegistryServiceSelector.ping(this.registry,!0),this.Notifications.success("Success","Valid management configuration"),this.state.validConfiguration=!0}catch(e){this.Notifications.error("Failure",e,"Invalid management configuration")}this.state.testInProgress=!1}updateConfiguration(){return this.$async(this.updateConfigurationAsync)}async updateConfigurationAsync(){this.state.updateInProgress=!0;try{await this.RegistryService.configureRegistry(this.registry.Id,this.model),this.Notifications.success("Success","Registry management configuration updated"),this.$state.go("portainer.registries.registry.repositories",{id:this.registry.Id},{reload:!0})}catch(e){this.Notifications.error("Failure",e,"Unable to update registry management configuration")}this.state.updateInProgress=!1}async $onInit(){const e=this.$state.params.id;this.RegistryTypes=a.RegistryTypes;try{const t=await this.RegistryService.registry(e),n=new s.RegistryManagementConfigurationDefaultModel(t);this.registry=t,this.model=n}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registry details")}}}i.$inject=["$async","$state","RegistryService","RegistryServiceSelector","Notifications"]},22869:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(56795);const r=n(54235);s().module("portainer.registrymanagement").component("configureRegistryView",{templateUrl:r,controller:i.ConfigureRegistryController})},92715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegistryRepositoriesController:()=>r});var a=n(45849),s=n.n(a),i=n(56414);class r{constructor(e,t,n,a,s,i){Object.assign(this,{$async:e,$state:t,RegistryService:n,RegistryServiceSelector:a,Notifications:s,Authentication:i}),this.state={displayInvalidConfigurationMessage:!1,loading:!1},this.paginationAction=this.paginationAction.bind(this),this.paginationActionAsync=this.paginationActionAsync.bind(this),this.$onInit=this.$onInit.bind(this)}paginationAction(e){return this.$async(this.paginationActionAsync,e)}async paginationActionAsync(e){if(this.registry.Type!==i.RegistryTypes.GITLAB){this.state.loading=!0;try{const t=await this.RegistryServiceSelector.getRepositoriesDetails(this.registry,e);for(let e=0;e<t.length;e++){const n=s()(this.repositories,{Name:t[e].Name});-1!==n&&(0===t[e].TagsCount?this.repositories.splice(n,1):this.repositories[n].TagsCount=t[e].TagsCount)}this.state.loading=!1}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve repositories details")}}}async $onInit(){const e=this.$state.params.id;this.isAdmin=this.Authentication.isAdmin();try{this.registry=await this.RegistryService.registry(e);try{await this.RegistryServiceSelector.ping(this.registry,!1),this.repositories=await this.RegistryServiceSelector.repositories(this.registry)}catch(e){this.state.displayInvalidConfigurationMessage=!0}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registry details")}}}r.$inject=["$async","$state","RegistryService","RegistryServiceSelector","Notifications","Authentication"]},79079:(e,t,n)=>{"use strict";n.r(t);var a=n(25445),s=n.n(a),i=n(93715),r=n.n(i),o=n(67386),l=n.n(o),c=n(44716),d=n.n(c),u=n(83432),p=n.n(u),m=n(40714),g=n.n(m),h=n(46006),f=n.n(h),v=n(46545),b=n.n(v),y=n(66539),w=n.n(y),x=n(45849),S=n.n(x),k=n(56414),$=n(92478);function C(e,t,n,a,i,o,c,u,m,h,v){function y(e){return e/1e3}function x(e,t){return(e/t*100).toFixed()}function C(e){return a.open({component:"progressionModal",backdrop:"static",keyboard:!1,resolve:e})}function A(e){n.state.tagsRetrieval.elapsedTime=y(Date.now()-e)}function P(){n.state.tagsRetrieval.asyncGenerator=c.shortTagsWithProgress(n.registry,n.repository.Name,n.repository.Tags)}async function I(){n.state.tagsRetrieval.running=!0;const e=Date.now();n.state.tagsRetrieval.clock=i(A,1e3,0,!0,e);for await(const e of n.state.tagsRetrieval.asyncGenerator)"number"==typeof e?n.state.tagsRetrieval.progression=x(e,n.repository.Tags.length):n.short.Tags=g()(e,"Name");n.state.tagsRetrieval.running=!1,i.cancel(n.state.tagsRetrieval.clock)}async function T(){try{if(n.state.actionInProgress=!0,!v.isValidTag(n.formValues.Tag))throw{msg:"Invalid tag pattern, see info for more details on format."};const e=n.short.Tags.find((e=>e.ImageId===n.formValues.SelectedImage)),t=e.ManifestV2;await c.addTag(n.registry,n.repository.Name,n.formValues.Tag,t),h.success("Success","Tag successfully added"),n.short.Tags.push(new $.RepositoryShortTag(n.formValues.Tag,e.ImageId,e.ImageDigest,e.ManifestV2)),await V(),n.formValues.Tag="",delete n.formValues.SelectedImage}catch(e){h.error("Failure",e,"Unable to add tag")}finally{n.state.actionInProgress=!1}}function N(e){n.state.tagsRetag.elapsedTime=y(Date.now()-e)}async function E(){let e=null;try{n.state.tagsRetag.running=!0;const t=p()(n.tags,(e=>!0===e.Modified));for(const e of t)if(!v.isValidTag(e.NewName))throw{msg:"Invalid tag pattern, see info for more details on format."};e=await C({message:()=>"Retag is in progress! Closing your browser or refreshing the page while this operation is in progress will result in loss of tags.",progressLabel:()=>"Retag progress",context:()=>n.state.tagsRetag});const a=f()(w()(t,"ImageDigest")),s=p()(n.short.Tags,(e=>d()(a,e.ImageDigest))),r=a.length+s.length;!function(e,t,a){n.state.tagsRetag.asyncGenerator=c.retagWithProgress(n.registry,n.repository.Name,e,t,a)}(t,a,s);const o=Date.now();n.state.tagsRetag.clock=i(N,1e3,0,!0,o);for await(const e of n.state.tagsRetag.asyncGenerator)"number"==typeof e&&(n.state.tagsRetag.progression=x(e,r));w()(t,(e=>{const t=S()(n.short.Tags,(t=>t.Name===e.Name));n.short.Tags[t].Name=e.NewName})),h.success("Success","Tags successfully renamed"),await V()}catch(e){h.error("Failure",e,"Unable to rename tags")}finally{i.cancel(n.state.tagsRetag.clock),n.state.tagsRetag.running=!1,e&&e.close()}}function R(e){n.state.tagsDelete.elapsedTime=y(Date.now()-e)}async function D(e){if(n.registry.Type===k.RegistryTypes.ECR)return async function(e){try{const t=e.map((e=>e.Name));await c.batchDeleteTags({id:n.registry.Id,repositoryName:n.repository.Name},{Tags:t}),await V(),h.success("Success","Tags successfully deleted")}catch(e){h.error("Failure",e,"Unable to delete tags")}}(e);let t=null;try{n.state.tagsDelete.running=!0,t=await C({message:()=>"Tag delete is in progress! Closing your browser or refreshing the page while this operation is in progress will result in loss of tags.",progressLabel:()=>"Deletion progress",context:()=>n.state.tagsDelete});const a=w()(e,"Name"),s=p()(n.short.Tags,(e=>d()(a,e.Name))),u=f()(w()(s,"ImageDigest")),m=p()(n.short.Tags,(e=>d()(u,e.ImageDigest))),g=b()(m,...s),v=u.length+g.length;!function(e,t){n.state.tagsDelete.asyncGenerator=c.deleteTagsWithProgress(n.registry,n.repository.Name,e,t)}(u,g);const y=Date.now();n.state.tagsDelete.clock=i(R,1e3,0,!0,y);for await(const e of n.state.tagsDelete.asyncGenerator)"number"==typeof e&&(n.state.tagsDelete.progression=x(e,v));l()(n.short.Tags,...s),n.short.Images=w()(r()(n.short.Tags,"ImageId"),"ImageId"),h.success("Success","Tags successfully deleted"),0===n.short.Tags.length&&o.go("portainer.registries.registry.repositories",{id:n.registry.Id},{reload:!0}),await V()}catch(e){h.error("Failure",e,"Unable to delete tags")}finally{i.cancel(n.state.tagsDelete.clock),n.state.tagsDelete.running=!1,t.close()}}async function U(){try{if(n.registry.Type==k.RegistryTypes.ECR)await c.deleteRepository(n.registry,n.repository);else{const e=r()(n.short.Tags,"ImageDigest"),t=[];w()(e,(e=>t.push(c.deleteManifest(n.registry,n.repository.Name,e.ImageDigest)))),await Promise.all(t)}h.success("Success","Repository successfully removed"),o.go("portainer.registries.registry.repositories",{id:n.registry.Id},{reload:!0})}catch(e){h.error("Failure",e,"Unable to delete repository")}}async function V(){try{const e=n.registry,t=n.repository.Name,a=await c.tags(e,t);n.tags=[],n.repository.Tags=[],n.repository.Tags=g()(s()(n.repository.Tags,b()(a.tags,null))),w()(n.repository.Tags,(e=>n.tags.push(new $.RepositoryTagViewModel(e))))}catch(e){h.error("Failure",e,"Unable to retrieve tags details")}}async function O(){try{const e=o.params.id;n.repository.Name=o.params.repository,n.state.loading=!0,n.registry=await u.registry(e),await V(),n.repository.Tags.length>n.state.tagsRetrieval.limit&&(n.state.tagsRetrieval.auto=!1),P()}catch(e){h.error("Failure",e,"Unable to retrieve repository information")}finally{n.state.loading=!1}}n.state={actionInProgress:!1,loading:!1,tagsRetrieval:{auto:!0,running:!1,limit:100,progression:0,elapsedTime:0,asyncGenerator:null,clock:null},tagsRetag:{running:!1,progression:0,elapsedTime:0,asyncGenerator:null,clock:null},tagsDelete:{running:!1,progression:0,elapsedTime:0,asyncGenerator:null,clock:null}},n.formValues={Tag:""},n.tags=[],n.short={Tags:[],Images:[]},n.repository={Name:"",Tags:[]},n.paginationAction=function(e){n.state.loading=!0,c.getTagsDetails(n.registry,n.repository.Name,e).then((function(e){for(var t=0;t<e.length;t++){var a=S()(n.tags,{Name:e[t].Name});-1!==a&&(n.tags[a]=e[t])}n.state.loading=!1})).catch((function(e){h.error("Failure",e,"Unable to retrieve tags details")}))},n.startStopRetrieval=function(){n.state.tagsRetrieval.running?(n.state.tagsRetrieval.asyncGenerator.return(),i.cancel(n.state.tagsRetrieval.clock)):t(I).then((()=>{P(),0===n.short.Tags.length?(n.state.tagsRetrieval.running=!1,n.state.tagsRetrieval.progression=0,n.state.tagsRetrieval.elapsedTime=0,n.state.tagsRetrieval.clock=null):function(){const e=w()(n.short.Tags,"ImageId");n.short.Images=b()(f()(e),"")}()}))},n.addTag=function(){return t(T)},n.retagAction=function(){return t(E)},n.removeTags=function(e){m.confirmDeletion("",(n=>{if(n)return t(D,e)}))},n.removeRepository=function(){m.confirmDeletion("",(function(e){if(e)return t(U)}))},n.$on("$destroy",(()=>{n.state.tagsRetrieval.asyncGenerator&&n.state.tagsRetrieval.asyncGenerator.return(),n.state.tagsRetrieval.clock&&i.cancel(n.state.tagsRetrieval.clock),n.state.tagsRetag.asyncGenerator&&n.state.tagsRetag.asyncGenerator.return(),n.state.tagsRetag.clock&&i.cancel(n.state.tagsRetag.clock),n.state.tagsDelete.asyncGenerator&&n.state.tagsDelete.asyncGenerator.return(),n.state.tagsDelete.clock&&i.cancel(n.state.tagsDelete.clock)})),this.$onInit=function(){return t(O).then((()=>{n.state.tagsRetrieval.auto&&n.startStopRetrieval()}))}}C.$inject=["$q","$async","$scope","$uibModal","$interval","$state","RegistryServiceSelector","RegistryService","ModalService","Notifications","ImageHelper"],angular.module("portainer.app").controller("RegistryRepositoryController",C)},97644:(e,t,n)=>{const a=n(36466);angular.module("portainer.registrymanagement").component("progressionModal",{templateUrl:a,bindings:{resolve:"<"}})},64645:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(92715);const r=n(53617);s().module("portainer.registrymanagement").component("registryRepositoriesView",{templateUrl:r,controller:i.RegistryRepositoriesController})},97756:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegistryRepositoryTagController:()=>d});var a=n(41952),s=n.n(a),i=n(66539),r=n.n(i),o=n(52804),l=n(77287),c=n(52474);class d{constructor(e,t,n,a,s,i){Object.assign(this,{$state:e,$async:t,Notifications:n,RegistryService:a,RegistryServiceSelector:s,imagelayercommandFilter:i}),this.context={},this.$onInit=this.$onInit.bind(this),this.$onInitAsync=this.$onInitAsync.bind(this)}toggleLayerCommand(e){c("#layer-command-expander"+e+" span").toggleClass("glyphicon-plus-sign glyphicon-minus-sign"),c("#layer-command-"+e+"-short").toggle(),c("#layer-command-"+e+"-full").toggle()}order(e){this.Sort.Reverse=this.Sort.Type===e&&!this.Sort.Reverse,this.Sort.Type=e}$onInit(){return this.$async(this.$onInitAsync)}async $onInitAsync(){this.context.registryId=this.$state.params.id,this.context.repository=this.$state.params.repository,this.context.tag=this.$state.params.tag,this.Sort={Type:"Order",Reverse:!1};try{this.registry=await this.RegistryService.registry(this.context.registryId),this.tag=await this.RegistryServiceSelector.tag(this.registry,this.context.repository,this.context.tag);const e=this.tag.History.length;this.history=r()(this.tag.History,((t,n)=>new o.RegistryImageLayerViewModel(e-n,t))),s()(this.history,(e=>e.CreatedBy=this.imagelayercommandFilter(e.CreatedBy))),this.details=new l.RegistryImageDetailsViewModel(this.tag.History[0])}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve tag")}}}d.$inject=["$state","$async","Notifications","RegistryService","RegistryServiceSelector","imagelayercommandFilter"]},31211:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(97756);const r=n(51358);s().module("portainer.registrymanagement").component("registryRepositoryTagView",{templateUrl:r,controller:i.RegistryRepositoryTagController})},95599:()=>{angular.module("portainer.app").factory("Auth",["$resource","API_ENDPOINT_AUTH",function(e,t){"use strict";return e(t+"/:action",{},{login:{method:"POST",ignoreLoadingBar:!0},logout:{method:"POST",params:{action:"logout"},ignoreLoadingBar:!0}})}])},59987:()=>{angular.module("portainer.app").factory("Backup",["$resource","API_ENDPOINT_BACKUP",function(e,t){"use strict";return e(t+"/:subResource/:action",{},{download:{method:"POST",responseType:"blob",ignoreLoadingBar:!0,transformResponse:(e,t)=>({file:e,name:t("Content-Disposition").replace("attachment; filename=","")})},getS3Settings:{method:"GET",params:{subResource:"s3",action:"settings"}},saveS3Settings:{method:"POST",params:{subResource:"s3",action:"settings"}},exportS3Backup:{method:"POST",params:{subResource:"s3",action:"execute"}},restoreS3Backup:{method:"POST",params:{subResource:"s3",action:"restore"}},getBackupStatus:{method:"GET",params:{subResource:"s3",action:"status"}}})}])},92179:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t){return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},file:{method:"GET",params:{id:"@id",action:"file"}}})}i.$inject=["$resource","API_ENDPOINT_CUSTOM_TEMPLATES"],s().module("portainer.app").factory("CustomTemplates",i)},65485:()=>{function e(e,t){"use strict";const n=t+"/:id/ecr";return e(n,{id:"@id",repositoryName:"@repositoryName",tag:"@tag"},{deleteRepository:{method:"DELETE",url:n+"/repositories/:repositoryName"},batchDeleteTags:{method:"DELETE",url:n+"/repositories/:repositoryName/tags",headers:{"Content-Type":"application/json;charset=utf-8"},hasBody:!0}})}e.$inject=["$resource","API_ENDPOINT_REGISTRIES"],angular.module("portainer.app").factory("Ecr",e)},50947:(e,t,n)=>{"use strict";n.r(t);var a=n(28098);angular.module("portainer.app").factory("Endpoints",["$resource","API_ENDPOINT_ENDPOINTS",function(e,t){return e(t+"/:id/:action",{},{query:{method:"GET",params:{start:"@start",limit:"@limit",search:"@search",groupId:"@groupId"},transformResponse:a.default},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},deassociate:{method:"DELETE",params:{id:"@id",action:"association"}},updateAccess:{method:"PUT",params:{id:"@id",action:"access"}},remove:{method:"DELETE",params:{id:"@id"}},snapshots:{method:"POST",params:{action:"snapshot"}},snapshot:{method:"POST",params:{id:"@id",action:"snapshot"}},status:{method:"GET",params:{id:"@id",action:"status"}},updateSettings:{method:"PUT",params:{id:"@id",action:"settings"}},dockerhubLimits:{method:"GET",url:`${t}/:id/dockerhub/:registryId`},updatePoolAccess:{url:t+"/:id/pools/:rpn/access",method:"PUT",params:{id:"@id",rpn:"@rpn"}},forceUpdateService:{method:"PUT",params:{id:"@id",action:"forceupdateservice"}},registries:{url:`${t}/:id/registries`,method:"GET",params:{id:"@id",namespace:"@namespace"},isArray:!0},registry:{url:`${t}/:id/registries/:registryId`,method:"GET",params:{id:"@id",namespace:"@namespace",registryId:"@registryId"}},updateRegistryAccess:{url:`${t}/:id/registries/:registryId`,method:"PUT",params:{id:"@id",registryId:"@registryId"}}})}])},48664:(e,t,n)=>{"use strict";n.r(t);var a=n(40432);angular.module("portainer.app").factory("Gitlab",["$resource","API_ENDPOINT_REGISTRIES",function(e,t){return function(n){const s={};n&&(s["Private-Token"]=n.token,s["X-Gitlab-Domain"]=n.url);const i=t+"/:id/proxies/gitlab/api/v4/projects";return e(i,{id:"@id"},{projects:{method:"GET",params:{membership:"true"},transformResponse:a.default,headers:s},repositories:{method:"GET",url:i+"/:projectId/registry/repositories",params:{tags:!0},headers:s,transformResponse:a.default}})}}])},41019:()=>{angular.module("portainer.app").factory("EndpointGroups",["$resource","API_ENDPOINT_ENDPOINT_GROUPS",function(e,t){"use strict";return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},updateAccess:{method:"PUT",params:{id:"@id",action:"access"}},addEndpoint:{method:"PUT",params:{id:"@id",action:"@action"}},removeEndpoint:{method:"DELETE",params:{id:"@id",action:"@action"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},34780:()=>{angular.module("portainer.app").factory("Motd",["$resource","API_ENDPOINT_MOTD",function(e,t){"use strict";return e(t,{},{get:{method:"GET",ignoreLoadingBar:!0}})}])},26911:()=>{angular.module("portainer.app").factory("Registries",["$resource","API_ENDPOINT_REGISTRIES",function(e,t){"use strict";return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id",action:"",endpointId:"@endpointId"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},configure:{method:"POST",params:{id:"@id",action:"configure"}}})}])},9095:()=>{angular.module("portainer.app").factory("ResourceControl",["$resource","API_ENDPOINT_RESOURCE_CONTROLS",function(e,t){"use strict";return e(t+"/:id",{},{create:{method:"POST",ignoreLoadingBar:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},26862:()=>{angular.module("portainer.app").factory("Settings",["$resource","API_ENDPOINT_SETTINGS",function(e,t){"use strict";return e(t+"/:subResource/:action",{},{get:{method:"GET"},update:{method:"PUT",ignoreLoadingBar:!0},publicSettings:{method:"GET",params:{subResource:"public"},ignoreLoadingBar:!0},checkLDAPConnectivity:{method:"PUT",params:{subResource:"authentication",action:"checkLDAP"}}})}])},33729:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e){return e("api/ssl",{},{get:{method:"GET"},upload:{method:"PUT"}})}i.$inject=["$resource"],s().module("portainer.app").factory("SSL",i)},84006:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t){return e(t+"/:id/:action/:subaction",{},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0},create:{method:"POST",ignoreLoadingBar:!0},update:{method:"PUT",params:{id:"@id"},ignoreLoadingBar:!0},associate:{method:"PUT",params:{id:"@id",swarmId:"@swarmId",endpointId:"@endpointId",orphanedRunning:"@orphanedRunning",action:"associate"}},remove:{method:"DELETE",params:{id:"@id",external:"@external",endpointId:"@endpointId"}},getStackFile:{method:"GET",params:{id:"@id",action:"file"}},migrate:{method:"POST",params:{id:"@id",action:"migrate",endpointId:"@endpointId"},ignoreLoadingBar:!0},start:{method:"POST",params:{id:"@id",action:"start"}},stop:{method:"POST",params:{id:"@id",action:"stop",endpointId:"@endpointId"}},updateGit:{method:"PUT",params:{id:"@id",action:"git",subaction:"redeploy"}},updateGitStackSettings:{method:"POST",params:{id:"@id",action:"git"},ignoreLoadingBar:!0}})}i.$inject=["$resource","API_ENDPOINT_STACKS"],s().module("portainer.app").factory("Stack",i)},1962:()=>{angular.module("portainer.app").factory("Status",["$resource","API_ENDPOINT_STATUS",function(e,t){"use strict";return e(t+"/:action",{},{get:{method:"GET"},version:{method:"GET",params:{action:"version"}},nodesCount:{method:"GET",params:{action:"nodes"}}})}])},3985:()=>{angular.module("portainer.app").factory("Support",["$resource","API_ENDPOINT_SUPPORT",function(e,t){"use strict";return e(t,{},{get:{method:"GET",isArray:!0}})}])},69586:()=>{angular.module("portainer.app").factory("Tags",["$resource","API_ENDPOINT_TAGS",function(e,t){"use strict";return e(t+"/:id",{},{create:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE",params:{id:"@id"}}})}])},51406:()=>{angular.module("portainer.app").factory("Teams",["$resource","API_ENDPOINT_TEAMS",function(e,t){"use strict";return e(t+"/:id/:entity/:entityId",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},queryMemberships:{method:"GET",isArray:!0,params:{id:"@id",entity:"memberships"}}})}])},63027:()=>{angular.module("portainer.app").factory("TeamMemberships",["$resource","API_ENDPOINT_TEAM_MEMBERSHIPS",function(e,t){"use strict";return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},35627:()=>{angular.module("portainer.app").factory("Templates",["$resource","API_ENDPOINT_TEMPLATES",function(e,t){return e(t+"/:action",{},{query:{method:"GET"},file:{method:"POST",params:{action:"file"}}})}])},28098:(e,t,n)=>{"use strict";function a(e,t){const n={};return n.value=angular.fromJson(e),n.totalCount=t("X-Total-Count"),n}n.r(t),n.d(t,{default:()=>a})},40432:(e,t,n)=>{"use strict";function a(e,t){let n={};try{n.data=angular.fromJson(e),n.next=t("X-Next-Page")}catch(t){n=e}return n}n.r(t),n.d(t,{default:()=>a})},88211:()=>{angular.module("portainer.app").factory("Users",["$resource","API_ENDPOINT_USERS",function(e,t){"use strict";return e(t+"/:id/:entity/:entityId",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"},ignoreLoadingBar:!0},updatePassword:{method:"PUT",params:{id:"@id",entity:"passwd"}},updateTheme:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},queryMemberships:{method:"GET",isArray:!0,params:{id:"@id",entity:"memberships"}},checkAdminUser:{method:"GET",params:{id:"admin",entity:"check"},isArray:!0,ignoreLoadingBar:!0},initAdminUser:{method:"POST",params:{id:"admin",entity:"init"},ignoreLoadingBar:!0},createAccessToken:{url:`${t}/:id/tokens`,method:"POST",params:{id:"@id"},ignoreLoadingBar:!0},getAccessTokens:{method:"GET",params:{id:"@id",entity:"tokens"},isArray:!0},deleteAccessToken:{url:`${t}/:id/tokens/:tokenId`,method:"DELETE",params:{id:"@id",entityId:"@tokenId"}}})}])},1587:()=>{angular.module("portainer.app").factory("Webhooks",["$resource","API_ENDPOINT_WEBHOOKS",function(e,t){"use strict";return e(t+"/:id",{},{query:{method:"GET",isArray:!0},create:{method:"POST"},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},67808:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(55743),s=n.n(a);async function i(e){const t={fulfilled:[],rejected:[]},n=await Promise.allSettled(e);return t.fulfilled=s()(n,((e,t)=>("fulfilled"===t.status&&e.push(t.value),e)),[]),t.rejected=s()(n,((e,t)=>("rejected"===t.status&&e.push(t.reason),e)),[]),t}},84522:(e,t,n)=>{"use strict";n.r(t);var a=n(41952),s=n.n(a),i=n(91195),r=n.n(i),o=n(51235),l=n.n(o),c=n(93133);angular.module("portainer.app").factory("AccessService",["$q","$async","UserService","TeamService",function(e,t,n,a){return{accesses:function(e,n,a){return t(d,e,n,a)},generateAccessPolicies:function(e,t,n,a,i){const o=r()(e),l=r()(t);return s()(n,(e=>o[e.Id]={RoleId:i||e.Role.Id})),s()(a,(e=>l[e.Id]={RoleId:i||e.Role.Id})),{userAccessPolicies:o,teamAccessPolicies:l}}};function i(e,t){if(e.length){return l()(e,(e=>e.Id===t))||{Id:0,Name:"-"}}return{Id:0,Name:"-"}}function o(e,t,n,a){for(var s=[],r=[],o=0;o<e.length;o++){const l=e[o],c=t&&t[l.Id],d=n&&n[l.Id];c&&d?(l.Role=i(a,t[l.Id].RoleId),l.Override=!0,r.push(l)):c&&!d?(l.Role=i(a,t[l.Id].RoleId),r.push(l)):!c&&d?(l.Role=i(a,n[l.Id].RoleId),l.Inherited=!0,r.push(l),s.push(l)):s.push(l)}return{available:s,authorized:r}}async function d(t,s,i){if(!t)throw new Error("Unable to retrieve accesses");return t.UserAccessPolicies||(t.UserAccessPolicies={}),t.TeamAccessPolicies||(t.TeamAccessPolicies={}),s&&!s.UserAccessPolicies&&(s.UserAccessPolicies={}),s&&!s.TeamAccessPolicies&&(s.TeamAccessPolicies={}),await function(t,s,i,r,l){var d=e.defer();return e.all({users:n.users(!1),teams:a.teams()}).then((function(e){var n=e.users.map((function(e){return new c.UserAccessViewModel(e)})),a=e.teams.map((function(e){return new c.TeamAccessViewModel(e)})),u=o(n,t,i,l),p=o(a,s,r,l),m={availableUsersAndTeams:u.available.concat(p.available),authorizedUsersAndTeams:u.authorized.concat(p.authorized)};d.resolve(m)})).catch((function(e){d.reject({msg:"Unable to retrieve users and teams",err:e})})),d.promise}(t.UserAccessPolicies,t.TeamAccessPolicies,s?s.UserAccessPolicies:{},s?s.TeamAccessPolicies:{},i)}}])},10273:()=>{angular.module("portainer.app").factory("BackupService",["$q","$async","Backup","FileUploadService",function(e,t,n,a){"use strict";return{downloadBackup:function(e){return n.download({},e).$promise},uploadBackup:function(e,t){return a.uploadBackup(e,t)},getS3Settings:function(){var t=e.defer();return n.getS3Settings().$promise.then((function(e){t.resolve(e)})).catch((function(e){t.reject({msg:"Unable to retrieve backup S3 settings",err:e})})),t.promise},saveS3Settings:function(t){var a=e.defer();return n.saveS3Settings({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:"Unable to save backup S3 settings",err:e})})),a.promise},exportBackup:function(t){var a=e.defer();return n.exportS3Backup({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:"Unable to export backup",err:e})})),a.promise},restoreFromS3:function(t){var a=e.defer();return n.restoreS3Backup({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:"Unable to restore backup from S3",err:e})})),a.promise},getBackupStatus:function(){var t=e.defer();return n.getBackupStatus().$promise.then((function(e){t.resolve(e)})).catch((function(e){t.reject({msg:"Unable to retrieve backup status",err:e})})),t.promise}}}])},85903:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(52474);function r(e,t,n){return{customTemplate:function(e){return t.get({id:e}).$promise},customTemplates:async function(n){const a=await t.query({type:n}).$promise;return a.forEach((t=>{t.Note&&(t.Note=i("<p>").html(e(t.Note)).find("img").remove().end().html())})),a},remove:function(e){return t.remove({id:e}).$promise},customTemplateFile:async function(e){try{const{FileContent:n}=await t.file({id:e}).$promise;return n}catch(e){throw{msg:"Unable to retrieve customTemplate content",err:e}}},updateCustomTemplate:async function(e,n){return t.update({id:e},n).$promise},createCustomTemplateFromFileContent:async function(e){try{return await t.create({method:"string"},e).$promise}catch(e){throw{msg:"Unable to create the customTemplate",err:e}}},createCustomTemplateFromFileUpload:async function(e){try{const{data:t}=await n.createCustomTemplate(e);return t}catch(e){throw{msg:"Unable to create the customTemplate",err:e}}},createCustomTemplateFromGitRepository:async function(e){try{return await t.create({method:"repository"},e).$promise}catch(e){throw{msg:"Unable to create the customTemplate",err:e}}}}}r.$inject=["$sanitize","CustomTemplates","FileUploadService"],s().module("portainer.app").factory("CustomTemplateService",r)},91520:(e,t,n)=>{"use strict";n.r(t);var a=n(70589),s=n(74808);function i(e,t){return{checkRateLimits:function(n,i){if(a.default.isLocalEndpoint(n))return e.dockerhubLimits({id:n.Id,registryId:i}).$promise;switch(n.Type){case s.PortainerEndpointTypes.AgentOnDockerEnvironment:case s.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:return t.limits({endpointId:n.Id,endpointType:"docker",registryId:i}).$promise;case s.PortainerEndpointTypes.AgentOnKubernetesEnvironment:case s.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:return t.limits({endpointId:n.Id,endpointType:"kubernetes",registryId:i}).$promise}}}}i.$inject=["Endpoints","AgentDockerhub"],angular.module("portainer.app").factory("DockerHubService",i)},53249:(e,t,n)=>{"use strict";n.r(t);var a=n(74808);angular.module("portainer.app").factory("EndpointService",["$q","Endpoints","FileUploadService",function(e,t,n){return{updateSettings:function(e,n){return t.updateSettings({id:e},n).$promise},registries:function(e,n){return t.registries({namespace:n,id:e}).$promise},registry:function(e,n){return t.registry({registryId:n,id:e}).$promise},updateRegistryAccess:function(e,n,a){return t.updateRegistryAccess({registryId:n,id:e},a).$promise},endpoint:function(e){return t.get({id:e}).$promise},endpoints:function(e,n,{search:a,types:s,tagIds:i,endpointIds:r,tagsPartialMatch:o}={}){return i&&!i.length?Promise.resolve({value:[],totalCount:0}):t.query({start:e,limit:n,search:a,types:JSON.stringify(s),tagIds:JSON.stringify(i),endpointIds:JSON.stringify(r),tagsPartialMatch:o}).$promise},snapshotEndpoints:function(){return t.snapshots({},{}).$promise},snapshotEndpoint:function(e){return t.snapshot({id:e},{}).$promise},endpointsByGroup:function(e,n,a,s){return t.query({start:e,limit:n,search:a,groupId:s}).$promise},updateAccess:function(e,n,a){return t.updateAccess({id:e},{UserAccessPolicies:n,TeamAccessPolicies:a}).$promise},deassociateEndpoint:function(e){return t.deassociate({id:e}).$promise},updateEndpoint:function(a,s){var i=e.defer();return n.uploadTLSFilesForEndpoint(a,s.TLSCACert,s.TLSCert,s.TLSKey).then((function(){return i.notify({upload:!1}),t.update({id:a},s).$promise})).then((function(e){i.resolve(e)})).catch((function(e){i.notify({upload:!1}),i.reject({msg:"Unable to update environment",err:e})})),i.promise},deleteEndpoint:function(e){return t.remove({id:e}).$promise},createLocalEndpoint:function(t="local",s="",i="",r=1,o=[]){var l=e.defer(),c=s;return""!==c&&(c=0==c.indexOf("//./pipe/")?"npipe://"+s:"unix://"+s),n.createEndpoint(t,a.PortainerEndpointCreationTypes.LocalDockerEnvironment,c,i,r,o,!1).then((function(e){l.resolve(e.data)})).catch((function(e){l.reject({msg:"Unable to create environment",err:e})})),l.promise},createRemoteEndpoint:function(t,s,i,r,o,l,c,d,u,p,m,g,h,f){var v=e.defer(),b=i;return s!==a.PortainerEndpointCreationTypes.EdgeAgentEnvironment&&(b="tcp://"+i),n.createEndpoint(t,s,b,r,o,l,c,d,u,p,m,g,h,f).then((function(e){v.resolve(e.data)})).catch((function(e){v.reject({msg:"Unable to create environment",err:e})})),v.promise},createLocalKubernetesEndpoint:function(t="local",s=[]){var i=e.defer();return n.createEndpoint(t,a.PortainerEndpointCreationTypes.LocalKubernetesEnvironment,"","",1,s,!0,!0,!0).then((function(e){i.resolve(e.data)})).catch((function(e){i.reject({msg:"Unable to create environment",err:e})})),i.promise},createAzureEndpoint:function(t,a,s,i,r,o){var l=e.defer();return n.createAzureEndpoint(t,a,s,i,r,o).then((function(e){l.resolve(e.data)})).catch((function(e){l.reject({msg:"Unable to connect to Azure",err:e})})),l.promise},updatePoolAccess:function(e,n,a,s,i,r){return t.updatePoolAccess({id:e,rpn:n},{UsersToAdd:a,TeamsToAdd:s,UsersToRemove:i,teamsToRemove:r}).$promise},forceUpdateService:function(e,n,a){return t.forceUpdateService({id:e},{ServiceID:n,PullImage:a}).$promise},trust:function(e){t.updateEndpoint({id:e},{UserTrusted:!0}).$promise}}}])},50828:(e,t,n)=>{"use strict";n.r(t);var a=n(79607);angular.module("portainer.app").factory("GroupService",["$q","EndpointGroups",function(e,t){return{group:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.EndpointGroupModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve group",err:e})})),s.promise},groups:function(){return t.query({}).$promise},createGroup:function(e,n){var s=new a.EndpointGroupCreateRequest(e,n);return t.create(s).$promise},updateGroup:function(e,n){var s=new a.EndpointGroupUpdateRequest(e,n);return t.update(s).$promise},updateAccess:function(e,n,a){return t.updateAccess({id:e},{UserAccessPolicies:n,TeamAccessPolicies:a}).$promise},addEndpoint:function(e,n){return t.addEndpoint({id:e,action:"endpoints/"+n.Id},n).$promise},removeEndpoint:function(e,n){return t.removeEndpoint({id:e,action:"endpoints/"+n}).$promise},deleteGroup:function(e){return t.remove({id:e}).$promise}}}])},28111:(e,t,n)=>{"use strict";n.r(t);var a=n(15263);angular.module("portainer.app").factory("MotdService",["$q","Motd",function(e,t){return{motd:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.MotdViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve information message",err:e})})),n.promise}}}])},94094:(e,t,n)=>{"use strict";n.r(t);var a=n(13507),s=n.n(a),i=n(44716),r=n.n(i),o=n(94946),l=n.n(o),c=n(41952),d=n.n(c),u=n(30465),p=n.n(u),m=n(76939),g=n(56414),h=n(33180),f=n(74962);angular.module("portainer.app").factory("RegistryService",["$q","$async","EndpointService","Registries","ImageHelper","FileUploadService",function(e,t,n,a,i,o){return{registries:function(){var t=e.defer();return a.query().$promise.then((function(e){var n=e.map((function(e){return new h.RegistryViewModel(e)}));t.resolve(n)})).catch((function(e){t.reject({msg:"Unable to retrieve registries",err:e})})),t.promise},registry:function(t,n){var s=e.defer();return a.get({id:t,endpointId:n}).$promise.then((function(e){var t=new h.RegistryViewModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve registry details",err:e})})),s.promise},encodedCredentials:function(e){var t={registryId:e.Id};return btoa(JSON.stringify(t))},deleteRegistry:function(e){return a.remove({id:e}).$promise},updateRegistry:function(e){return e.URL=p()(e.URL,/^https?\:\/\//i,""),e.URL=p()(e.URL,/\/$/,""),a.update({id:e.Id},e).$promise},configureRegistry:function(e,t){return o.configureRegistry(e,t)},createRegistry:function(e){var t=new h.RegistryCreateRequest(e);return a.create(t).$promise},createGitlabRegistries:function(t,n){const s=[];return d()(n,(e=>{const n=t;n.Name=e.PathWithNamespace,n.Gitlab.ProjectPath=l()(e.PathWithNamespace),n.Gitlab.ProjectId=e.Id,n.Password=n.Token;const i=new h.RegistryCreateRequest(n);s.push(a.create(i).$promise)})),e.all(s)},retrievePorRegistryModelFromRepository:function(e,a,s,i){return t((async()=>{try{const t=await n.registries(a,i);return u(e,t,s)}catch(e){throw{msg:"Unable to retrieve the registry associated to the repository",err:e}}}))},retrievePorRegistryModelFromRepositoryWithRegistries:u,loadRegistriesForDropdown:function(e,a){return t((async()=>{try{const t=await n.registries(e,a);return t.some((e=>e.Type===g.RegistryTypes.DOCKERHUB))||t.push(new f.DockerHubViewModel),t}catch(e){throw{msg:"Unable to retrieve the registries",err:e}}}))}};function c(e){let t=e.URL;if(e.Type===g.RegistryTypes.GITLAB)t=e.URL+"/"+e.Gitlab.ProjectPath;else if(e.Type===g.RegistryTypes.QUAY){const n=e.Quay.UseOrganisation?e.Quay.OrganisationName:e.Username;t=e.URL+"/"+n}return t}function u(e,t,n){const a=new m.PorImageRegistryModel,o=function(e,t,n){let a,s,i;for(const o of t){if(o.Id==n)return o;o.Type===g.RegistryTypes.DOCKERHUB&&((e.startsWith(o.Username+"/")||e.startsWith(c(o)+"/"+o.Username+"/"))&&(a=o),i=i||o),r()(e,c(o))&&(s=o)}return a||s||i}(e,t,n);if(o){const t=c(o);let n=e.lastIndexOf(t);n=-1===n?0:n+t.length;let i=e.substring(n);s()(i,"/")&&(i=i.substring(1)),a.Registry=o,a.Image=i}else i.imageContainsURL(e)&&(a.UseRegistry=!1),a.Registry=new f.DockerHubViewModel,a.Image=e;return a}}])},17293:(e,t,n)=>{"use strict";n.r(t);var a=n(51235),s=n.n(a);angular.module("portainer.app").factory("ResourceControlService",["$q","ResourceControl","UserService","TeamService","ResourceControlHelper",function(e,t,n,a,i){const r={};function o(e,n){const a={AdministratorsOnly:n.AdministratorsOnly,Public:n.Public,Users:n.Users,Teams:n.Teams};return t.update({id:e},a).$promise}return r.duplicateResourceControl=function(e,t,n){const a=i.RCViewModelToOwnershipParameters(e,t);return o(n.Id,a)},r.applyResourceControlChange=function(e,n,a,s){const r=i.RCPanelDataToOwnershipParameters(s);return a?o(a.Id,r):function(e,n,a){var s={Type:e,Public:a.Public,AdministratorsOnly:a.AdministratorsOnly,ResourceID:n,Users:a.Users,Teams:a.Teams,SubResourceIds:a.SubResourceIDs};return t.create({},s).$promise}(e,n,r)},r.applyResourceControl=function(e,t,n,a=[]){const s=i.RCFormDataToOwnershipParameters(e,t,a);return o(n.Id,s)},r.retrieveOwnershipDetails=function(t){var s=e.defer();return t?(e.all({users:t.UserAccesses.length>0?n.users(!1):[],teams:t.TeamAccesses.length>0?a.teams():[]}).then((function(e){var n=i.retrieveAuthorizedUsers(t,e.users),a=i.retrieveAuthorizedTeams(t,e.teams);s.resolve({authorizedUsers:n,authorizedTeams:a})})).catch((function(e){s.reject({msg:"Unable to retrieve user and team information",err:e})})),s.promise):(s.resolve({authorizedUsers:[],authorizedTeams:[]}),s.promise)},r.retrieveUserPermissionsOnResource=function(t,a,r){var o=e.defer();if(!r||a)return o.resolve({isPartOfRestrictedUsers:!1,isLeaderOfAnyRestrictedTeams:!1}),o.promise;if(s()(r.UserAccesses,{UserId:t}))o.resolve({isPartOfRestrictedUsers:!0,isLeaderOfAnyRestrictedTeams:!1});else{var l=!1;n.userMemberships(t).then((function(e){var t=e;l=i.isLeaderOfAnyRestrictedTeams(t,r),o.resolve({isPartOfRestrictedUsers:!1,isLeaderOfAnyRestrictedTeams:l})})).catch((function(e){o.reject({msg:"Unable to retrieve user memberships",err:e})}))}return o.promise},r}])},91532:(e,t,n)=>{"use strict";n.r(t);var a=n(55287);angular.module("portainer.app").factory("SettingsService",["$q","Settings",function(e,t){return{settings:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.SettingsViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve application settings",err:e})})),n.promise},update:function(e){return t.update({},e).$promise},publicSettings:function(){var n=e.defer();return t.publicSettings().$promise.then((function(e){var t=new a.PublicSettingsViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve application settings",err:e})})),n.promise},checkLDAPConnectivity:function(e){return t.checkLDAPConnectivity({},e).$promise}}}])},39243:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e){return{upload:function(t,n,a){return e.upload({httpEnabled:t,cert:n,key:a}).$promise},get:function(){return e.get().$promise}}}i.$inject=["SSL"],s().module("portainer.app").service("SSLService",i)},54332:(e,t,n)=>{"use strict";n.r(t);var a=n(20111),s=n.n(a),i=n(75345),r=n.n(i),o=n(6253),l=n(49036);angular.module("portainer.app").factory("StackService",["$q","$async","Stack","FileUploadService","StackHelper","ServiceService","ContainerService","SwarmService","EndpointProvider",function(e,t,n,a,i,c,d,u,p){var m={updateGit:function(e,t,a,s,i,r){return n.updateGit({endpointId:t,id:e},{env:a,prune:s,RepositoryReferenceName:i.RefName,RepositoryAuthentication:i.RepositoryAuthentication,RepositoryUsername:i.RepositoryUsername,RepositoryPassword:i.RepositoryPassword,PullImage:r}).$promise},updateKubeGit:function(e,t,a,s){return n.updateGit({endpointId:t,id:e},{Namespace:a,RepositoryReferenceName:s.RefName,RepositoryAuthentication:s.RepositoryAuthentication,RepositoryUsername:s.RepositoryUsername,RepositoryPassword:s.RepositoryPassword}).$promise}};async function g(e,t,a){try{await n.create({endpointId:e,method:t,type:3},a).$promise}catch(e){throw{err:e}}}return m.stack=function(t){var a=e.defer();return n.get({id:t}).$promise.then((function(e){var t=new l.StackViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve stack details",err:e})})),a.promise},m.getStackFile=function(t){var a=e.defer();return n.getStackFile({id:t}).$promise.then((function(e){a.resolve(e.StackFileContent)})).catch((function(e){a.reject({msg:"Unable to retrieve stack content",err:e})})),a.promise},m.migrateSwarmStack=function(t,a,s){var i=e.defer();return p.setEndpointID(a),u.swarm().then((function(e){var r=e;if(r.Id!==t.SwarmId)return n.migrate({id:t.Id,endpointId:t.EndpointId},{EndpointID:a,SwarmID:r.Id,Name:s}).$promise;i.reject({msg:"Target environment is located in the same Swarm cluster as the current environment",err:null})})).then((function(){i.resolve()})).catch((function(e){i.reject({msg:"Unable to migrate stack",err:e})})).finally((function(){p.setEndpointID(t.EndpointId)})),i.promise},m.migrateComposeStack=function(t,a,s){var i=e.defer();return p.setEndpointID(a),n.migrate({id:t.Id,endpointId:t.EndpointId},{EndpointID:a,Name:s}).$promise.then((function(){i.resolve()})).catch((function(e){p.setEndpointID(t.EndpointId),i.reject({msg:"Unable to migrate stack",err:e})})),i.promise},m.stacks=function(t,n,a,s=!1){var i=e.defer(),o=[];return t&&o.push(m.composeStacks(a,!0,{EndpointID:a,IncludeOrphanedStacks:s})),n&&o.push(m.swarmStacks(a,!0,{EndpointID:a,IncludeOrphanedStacks:s})),e.all(o).then((function(e){var t=[];e[0]&&(t=t.concat(e[0])),e[1]&&(t=t.concat(e[1])),t=r()(t,((e,t)=>e.Id===t.Id&&e.Name===t.Name)),i.resolve(t)})).catch((function(e){i.reject({msg:"Unable to retrieve stacks",err:e})})),i.promise},m.externalSwarmStacks=function(){var t=e.defer();return c.services().then((function(e){t.resolve(i.getExternalStacksFromServices(e))})).catch((function(e){t.reject({msg:"Unable to retrieve external stacks",err:e})})),t.promise},m.externalComposeStacks=function(){var t=e.defer();return d.containers(1).then((function(e){t.resolve(i.getExternalStacksFromContainers(e))})).catch((function(e){t.reject({msg:"Unable to retrieve external stacks",err:e})})),t.promise},m.unionStacks=function(e,t){return e.forEach((e=>{t.forEach((t=>{e.Orphaned&&e.Name==t.Name&&(e.OrphanedRunning=!0)}))})),s()(e,t,(function(e,t){return e.Name===t.Name}))},m.composeStacks=function(t,a,s){var i=e.defer();return e.all({stacks:n.query({filters:s}).$promise,externalStacks:a?m.externalComposeStacks():[]}).then((function(e){var n=e.stacks.map((function(e){return e.EndpointId==t?new l.StackViewModel(e):new l.OrphanedStackViewModel(e)})),a=e.externalStacks;const s=m.unionStacks(n,a);i.resolve(s)})).catch((function(e){i.reject({msg:"Unable to retrieve stacks",err:e})})),i.promise},m.swarmStacks=function(t,a,s={}){var i=e.defer();return u.swarm().then((function(t){return s={SwarmID:t.Id,...s},e.all({stacks:n.query({filters:s}).$promise,externalStacks:a?m.externalSwarmStacks():[]})})).then((function(e){var n=e.stacks.map((function(e){return e.EndpointId==t?new l.StackViewModel(e):new l.OrphanedStackViewModel(e)})),a=e.externalStacks;const s=m.unionStacks(n,a);i.resolve(s)})).catch((function(e){i.reject({msg:"Unable to retrieve stacks",err:e})})),i.promise},m.remove=function(t,a,s){var i=e.defer();return n.remove({id:t.Id?t.Id:t.Name,external:a,endpointId:s}).$promise.then((function(){i.resolve()})).catch((function(e){i.reject({msg:"Unable to remove the stack",err:e})})),i.promise},m.associate=function(t,a,s){var i=e.defer();return 1==t.Type?u.swarm().then((function(e){const i=e;return n.associate({id:t.Id,endpointId:a,swarmId:i.Id,orphanedRunning:s}).$promise})).then((function(e){i.resolve(e)})).catch((function(e){i.reject({msg:"Unable to associate the stack",err:e})})):n.associate({id:t.Id,endpointId:a,orphanedRunning:s}).$promise.then((function(e){i.resolve(e)})).catch((function(e){i.reject({msg:"Unable to associate the stack",err:e})})),i.promise},m.updateStack=function(e,t,a,s,i,r){return n.update({endpointId:e.EndpointId},{id:e.Id,StackFileContent:t,Env:a,Prune:s,Webhook:i,PullImage:r}).$promise},m.updateKubeStack=function(e,t,a){let s={};if(t)s={StackFileContent:t};else{const e={};a.AutoUpdate&&a.AutoUpdate.RepositoryAutomaticUpdates&&(e.ForceUpdate=a.AutoUpdate.RepositoryAutomaticUpdatesForce,e.ForcePullImage=a.AutoUpdate.RepositoryAutomaticUpdatesForce,a.AutoUpdate.RepositoryMechanism===o.RepositoryMechanismTypes.INTERVAL?e.Interval=a.AutoUpdate.RepositoryFetchInterval:a.AutoUpdate.RepositoryMechanism===o.RepositoryMechanismTypes.WEBHOOK&&(e.Webhook=a.AutoUpdate.RepositoryWebhookURL.split("/").reverse()[0])),s={AutoUpdate:e,RepositoryReferenceName:a.RefName,RepositoryAuthentication:a.RepositoryAuthentication,RepositoryUsername:a.RepositoryUsername,RepositoryPassword:a.RepositoryPassword}}return n.update({id:e.Id,endpointId:e.EndpointId},s).$promise},m.createComposeStackFromFileUpload=function(e,t,n,s,i){return a.createComposeStack(e,t,n,s,i)},m.createSwarmStackFromFileUpload=function(t,n,s,i,r){var o=e.defer();return u.swarm().then((function(e){var o=e;return a.createSwarmStack(t,o.Id,n,s,i,r)})).then((function(e){o.resolve(e.data)})).catch((function(e){o.reject({msg:"Unable to create the stack",err:e})})),o.promise},m.createComposeStackFromFileContent=function(e,t,a,s,i){var r={Name:e,StackFileContent:t,Env:a,Webhook:i};return n.create({method:"string",type:2,endpointId:s},r).$promise},m.createSwarmStackFromFileContent=function(t,a,s,i,r){var o=e.defer();return u.swarm().then((function(e){var o={Name:t,SwarmID:e.Id,StackFileContent:a,Env:s,Webhook:r};return n.create({method:"string",type:1,endpointId:i},o).$promise})).then((function(e){o.resolve(e)})).catch((function(e){o.reject({msg:"Unable to create the stack",err:e})})),o.promise},m.createComposeStackFromGitRepository=function(e,t,a,s){var i={Name:e,RepositoryURL:t.RepositoryURL,RepositoryReferenceName:t.RepositoryReferenceName,ComposeFile:t.ComposeFilePathInRepository,AdditionalFiles:t.AdditionalFiles,RepositoryAuthentication:t.RepositoryAuthentication,RepositoryUsername:t.RepositoryUsername,RepositoryPassword:t.RepositoryPassword,FromAppTemplate:t.FromAppTemplate,Env:a};return t.AutoUpdate&&(i.AutoUpdate=t.AutoUpdate),n.create({method:"repository",type:2,endpointId:s},i).$promise},m.createSwarmStackFromGitRepository=function(t,a,s,i){var r=e.defer();return u.swarm().then((function(e){var r={Name:t,SwarmID:e.Id,RepositoryURL:a.RepositoryURL,RepositoryReferenceName:a.RepositoryReferenceName,ComposeFile:a.ComposeFilePathInRepository,AdditionalFiles:a.AdditionalFiles,RepositoryAuthentication:a.RepositoryAuthentication,RepositoryUsername:a.RepositoryUsername,RepositoryPassword:a.RepositoryPassword,FromAppTemplate:a.FromAppTemplate,Env:s};return a.AutoUpdate&&(r.AutoUpdate=a.AutoUpdate),n.create({method:"repository",type:1,endpointId:i},r).$promise})).then((function(e){r.resolve(e)})).catch((function(e){r.reject({msg:"Unable to create the stack",err:e})})),r.promise},m.duplicateStack=function(e,t,n,a,s){return(1===s?m.createSwarmStackFromFileContent:m.createComposeStackFromFileContent)(e,t,n,a)},m.kubernetesDeploy=function(e,n,a){return t(g,e,n,a)},m.start=function(e){return n.start({id:e}).$promise},m.stop=function(e,t){return n.stop({id:e,endpointId:t}).$promise},m.updateGitStackSettings=function(e,t,a,s){const i={};return s.AutoUpdate&&s.AutoUpdate.RepositoryAutomaticUpdates&&(i.ForceUpdate=s.AutoUpdate.RepositoryAutomaticUpdatesForce,i.ForcePullImage=s.AutoUpdate.ForcePullImage,s.AutoUpdate.RepositoryMechanism===o.RepositoryMechanismTypes.INTERVAL?i.Interval=s.AutoUpdate.RepositoryFetchInterval:s.AutoUpdate.RepositoryMechanism===o.RepositoryMechanismTypes.WEBHOOK&&(i.Webhook=s.AutoUpdate.RepositoryWebhookURL.split("/").reverse()[0])),n.updateGitStackSettings({endpointId:t,id:e},{AutoUpdate:i,Env:a,RepositoryReferenceName:s.RefName,RepositoryAuthentication:s.RepositoryAuthentication,RepositoryUsername:s.RepositoryUsername,RepositoryPassword:s.RepositoryPassword}).$promise},m}])},97128:(e,t,n)=>{"use strict";n.r(t);var a=n(95154);angular.module("portainer.app").factory("StatusService",["$q","Status",function(e,t){return{status:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.StatusViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve application status",err:e})})),n.promise},version:function(){var n=e.defer();return t.version().$promise.then((function(e){var t=new a.StatusVersionViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve application version info",err:e})})),n.promise},nodesCount:async function(){return(await t.nodesCount().$promise).nodes}}}])},10754:()=>{angular.module("portainer.app").factory("SupportService",["$q","Support",function(e,t){"use strict";return{supportProducts:function(){var n=e.defer();return t.get().$promise.then((function(e){n.resolve(e)})).catch((function(e){n.reject({msg:"Unable to retrieve support options",err:e})})),n.promise}}}])},44904:(e,t,n)=>{"use strict";n.r(t);var a=n(26410);angular.module("portainer.app").factory("TagService",["$q","$async","Tags",function(e,t,n){var s={};async function i(e){var t={Name:e};try{const e=await n.create({},t).$promise;return new a.TagViewModel(e)}catch(e){throw{msg:"Unable to create tag",err:e}}}return s.tags=function(){var t=e.defer();return n.query().$promise.then((function(e){var n=e.map((function(e){return new a.TagViewModel(e)}));t.resolve(n)})).catch((function(e){t.reject({msg:"Unable to retrieve tags",err:e})})),t.promise},s.tagNames=function(){var t=e.defer();return n.query().$promise.then((function(e){var n=e.map((function(e){return e.Name}));t.resolve(n)})).catch((function(e){t.reject({msg:"Unable to retrieve tags",err:e})})),t.promise},s.createTag=function(e){return t(i,e)},s.deleteTag=function(e){return n.remove({id:e}).$promise},s}])},87643:(e,t,n)=>{"use strict";n.r(t);var a=n(3010);angular.module("portainer.app").factory("TeamMembershipService",["$q","TeamMemberships",function(e,t){return{memberships:function(){var n=e.defer();return t.query().$promise.then((function(e){var t=e.map((function(e){return new a.TeamMembershipModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve team memberships",err:e})})),n.promise},createMembership:function(e,n,a){var s={UserID:e,TeamID:n,Role:a};return t.create({},s).$promise},deleteMembership:function(e){return t.remove({id:e}).$promise},updateMembership:function(e,n,a,s){var i={UserID:n,TeamID:a,Role:s};return t.update({id:e},i).$promise}}}])},75495:(e,t,n)=>{"use strict";n.r(t);var a=n(58552),s=n(3010);angular.module("portainer.app").factory("TeamService",["$q","Teams","TeamMembershipService",function(e,t,n){return{teams:function(){var n=e.defer();return t.query().$promise.then((function(e){var t=e.map((function(e){return new a.TeamViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve teams",err:e})})),n.promise},team:function(n){var s=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.TeamViewModel(e);s.resolve(t)})).catch((function(e){s.reject({msg:"Unable to retrieve team details",err:e})})),s.promise},createTeam:function(a,s){var i=e.defer(),r={Name:a};return t.create({},r).$promise.then((function(t){var a=t.Id,r=[];angular.forEach(s,(function(e){r.push(n.createMembership(e,a,1))})),e.all(r).then((function(){i.resolve()}))})).catch((function(e){i.reject({msg:"Unable to create team",err:e})})),i.promise},deleteTeam:function(e){return t.remove({id:e}).$promise},userMemberships:function(n){var a=e.defer();return t.queryMemberships({id:n}).$promise.then((function(e){var t=e.map((function(e){return new s.TeamMembershipModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve user memberships for the team",err:e})})),a.promise}}}])},66656:(e,t,n)=>{"use strict";n.r(t);var a=n(74962),s=n(76185);function i(e,t,n,i,r,o){var l={templates:function(n){const i=e.defer();return e.all({templates:t.query().$promise,registries:o.registries(n)}).then((function({templates:e,registries:t}){const n=e.version;i.resolve(e.templates.map((e=>{try{const i=new s.TemplateViewModel(e,n),r=i.RegistryModel.Registry.URL,o=r?t.find((e=>e.URL===r)):new a.DockerHubViewModel;return i.RegistryModel.Registry=o,i}catch(e){i.reject({msg:"Unable to retrieve templates",err:e})}})))})).catch((function(e){i.reject({msg:"Unable to retrieve templates",err:e})})),i.promise},templateFile:function(e,n){return t.file({repositoryUrl:e,composeFilePathInRepository:n}).$promise},createTemplateConfiguration:function(e,t,a){var s=i.createImageConfigForContainer(e.RegistryModel),o=function(e,t,a){var s=n.getDefaultContainerConfiguration();s.HostConfig.NetworkMode=a.Name,s.HostConfig.Privileged=e.Privileged,s.HostConfig.RestartPolicy={Name:e.RestartPolicy},s.HostConfig.ExtraHosts=e.Hosts?e.Hosts:[],s.name=t,s.Hostname=e.Hostname,s.Env=n.EnvToStringArray(e.Env),s.Cmd=r.commandStringToArray(e.Command);var i=n.portArrayToPortConfiguration(e.Ports);s.HostConfig.PortBindings=i.bindings,s.ExposedPorts=i.exposedPorts;var o=n.getConsoleConfiguration(e.Interactive);return s.OpenStdin=o.openStdin,s.Tty=o.tty,s.Labels=n.updateContainerConfigurationWithLabels(e.Labels),s}(e,t,a);return o.Image=s.fromImage,o},updateContainerConfigurationWithVolumes:function(e,t,a){var s=t.Volumes;n.createVolumeBindings(s,a),s.forEach((function(t){t.binding&&(e.Volumes[t.container]={},e.HostConfig.Binds.push(t.binding))}))}};return l}i.$inject=["$q","Templates","TemplateHelper","ImageHelper","ContainerHelper","EndpointService"],angular.module("portainer.app").factory("TemplateService",i)},37494:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserService:()=>u,getUser:()=>d,getUsers:()=>c});var a=n(51235),s=n.n(a),i=n(6811),r=n(20023);n(66549),n(65562);var o=n(90327),l=n(3010);u.$inject=["$q","Users","TeamService","TeamMembershipService"];async function c(e){try{let{data:t}=await i.ZP.get("/users");const n=t.map((e=>new o.UserViewModel(e)));return e?n:function(e){return e.filter((function(e){return 1!==e.Role}))}(n)}catch(e){let t=e;throw t.isAxiosError&&(t=new Error(e.response.data.message)),new r.Z("Unable to retrieve users",t)}}async function d(e){try{const{data:t}=await i.ZP.get(`/users/${e}`);return new o.UserViewModel(t)}catch(e){let t=e;throw t.isAxiosError&&(t=new Error(e.response.data.message)),new r.Z("Unable to retrieve user details",t)}}function u(e,t,n,a){var i={};return i.users=c,i.user=d,i.createUser=function(n,s,i,r){var o=e.defer(),l={username:n,password:s,role:i};return t.create({},l).$promise.then((function(t){var n=t.Id,s=[];angular.forEach(r,(function(e){s.push(a.createMembership(n,e,2))})),e.all(s).then((function(){o.resolve()}))})).catch((function(e){o.reject({msg:"Unable to create user",err:e})})),o.promise},i.deleteUser=function(e){return t.remove({id:e}).$promise},i.updateUser=function(e,{password:n,role:a,username:s}){return t.update({id:e},{password:n,role:a,username:s}).$promise},i.updateUserPassword=function(e,n,a){var s={Password:n,NewPassword:a};return t.updatePassword({id:e},s).$promise},i.updateUserTheme=function(e,n){return t.updateTheme({id:e},{userTheme:n}).$promise},i.userMemberships=function(n){var a=e.defer();return t.queryMemberships({id:n}).$promise.then((function(e){var t=e.map((function(e){return new l.TeamMembershipModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve user memberships",err:e})})),a.promise},i.userLeadingTeams=function(t){var a=e.defer();return e.all({teams:n.teams(),memberships:i.userMemberships(t)}).then((function(e){var t=e.memberships,n=e.teams.filter((function(e){var n=s()(t,{TeamId:e.Id});if(n&&1===n.Role)return e}));a.resolve(n)})).catch((function(e){a.reject({msg:"Unable to retrieve user teams",err:e})})),a.promise},i.createAccessToken=function(n,a){const s=e.defer(),i={description:a};return t.createAccessToken({id:n},i).$promise.then((e=>{s.resolve(e)})).catch((function(e){s.reject({msg:"Unable to create user",err:e})})),s.promise},i.getAccessTokens=function(n){var a=e.defer();return t.getAccessTokens({id:n}).$promise.then((function(e){var t=e.map((function(e){return new o.UserTokenModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve user tokens",err:e})})),a.promise},i.deleteAccessToken=function(e,n){return t.deleteAccessToken({id:e,tokenId:n}).$promise},i.initAdministrator=function(e,n){return t.initAdminUser({Username:e,Password:n}).$promise},i.administratorExists=function(){var n=e.defer();return t.checkAdminUser({}).$promise.then((function(){n.resolve(!0)})).catch((function(e){404===e.status&&n.resolve(!1),n.reject({msg:"Unable to verify administrator account existence",err:e})})),n.promise},i}},16856:(e,t,n)=>{"use strict";n.r(t);var a=n(74708);angular.module("portainer.app").factory("WebhookService",["$q","Webhooks",function(e,t){return{webhooks:function(n,s){var i=e.defer(),r={ResourceID:n,EndpointID:s};return t.query({filters:r}).$promise.then((function(e){var t=e.map((function(e){return new a.WebhookViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:"Unable to retrieve webhooks",err:e})})),i.promise},createWebhook:function(e,n,a,s){return t.create({ResourceID:e,EndpointID:n,WebhookType:s,registryID:a}).$promise},updateServiceWebhook:function(e,n){return t.update({id:e,registryID:n}).$promise},deleteWebhook:function(e){return t.remove({id:e}).$promise}}}])},52726:()=>{angular.module("portainer").factory("$async",["$q",function(e){return function(t,...n){const a=e.defer();return function(n){const a=e.defer();return t(...n).then(a.resolve).catch(a.reject),a.promise}(n).then(a.resolve).catch(a.reject),a.promise}}])},38890:(e,t,n)=>{"use strict";n.r(t);var a=n(85280);angular.module("portainer.app").factory("Authentication",["$async","$state","Auth","OAuth","jwtHelper","LocalStorage","StateManager","EndpointProvider","UserService","ThemeManager",function(e,t,n,s,i,r,o,l,c,d){var u={},p={};async function m(){try{const e=r.getJWT();return e&&await v(e),!!e}catch(e){return!1}}async function g(e){e&&await n.logout().$promise,(0,a.clear)(),o.clean(),l.clean(),r.cleanAuthData(),r.storeLoginStateUUID("")}async function h(e){const t=await s.validate({code:e}).$promise;await v(t.jwt)}async function f(e,t){const a=await n.login({username:e,password:t}).$promise;await v(a.jwt)}async function v(e){r.storeJWT(e);var t=i.decodeToken(e);p.username=t.username,p.ID=t.id,p.role=t.role,await async function(){const e=await c.user(p.ID);p.endpointAuthorizations=e.EndpointAuthorizations,p.portainerAuthorizations=e.PortainerAuthorizations;const t=e.UserTheme;"auto"!==t&&t?d.setTheme(t):d.autoTheme()}()}function b(){return 1===p.role}function y(e){const t=l.endpointID();if(b())return!0;if(!p.endpointAuthorizations||!p.endpointAuthorizations[t])return!1;const n=p.endpointAuthorizations[t];return e.some((e=>n[e]))}return u.init=function(){return e(m)},u.OAuthLogin=function(t){return e(h,t)},u.login=function(t,n){return e(f,t,n)},u.logout=function(t){return e(g,t)},u.isAuthenticated=function(){var e=r.getJWT();return e&&!i.isTokenExpired(e)},u.getUserDetails=function(){return p},u.isAdmin=b,u.hasAuthorizations=y,u.redirectIfUnauthorized=function(e){y(e)||t.go("portainer.home")},u}])},49519:(e,t,n)=>{"use strict";n.r(t);var a=n(94452),s=n.n(a),i=n(7084),r=n.n(i);angular.module("portainer.app").factory("ChartService",[function(){var e={};function t(e,t,n,a){return{animation:{duration:0},responsiveAnimationDuration:0,responsive:!0,tooltips:{mode:"index",intersect:!1,position:e,callbacks:{label:function(e,n){var a=n.datasets[e.datasetIndex].label;return t(a,e.yLabel)}}},layout:{padding:{left:15}},hover:{animationDuration:0},scales:{yAxes:[{stacked:a,ticks:{beginAtZero:!0,callback:n,precision:0}}]}}}function n(e,t){e.data.datasets[0].data.length>t&&(e.data.labels.pop(),e.data.datasets[0].data.pop(),e.data.datasets[1].data.pop())}function a(e,t){return e+": "+(t>5?r()(t,{base:10,round:1}):t.toFixed(1)+"B")}function i(e){return e>5?r()(e,{base:10,round:1}):e.toFixed(1)+"B"}function o(e){return e>1?Math.round(e)+"%":e.toFixed(1)+"%"}function l(e,t){return e+": "+(t>1?Math.round(t):t.toFixed(1))+"%"}return e.CreateCPUChart=function(e){return function(e,n,a,i){return new(s())(e,{type:"line",data:{labels:[],datasets:[{label:"CPU",data:[],fill:!0,backgroundColor:"rgba(151,187,205,0.4)",borderColor:"rgba(151,187,205,0.6)",pointBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"rgba(151,187,205,1)",pointRadius:2,borderWidth:2}]},options:t("nearest",a,i)})}(e,0,l,o)},e.CreateIOChart=function(e){return function(e,n,a){return new(s())(e,{type:"line",data:{labels:[],datasets:[{label:" ()",data:[],fill:!0,backgroundColor:"rgba(151,187,205,0.4)",borderColor:"rgba(151,187,205,0.6)",pointBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"rgba(151,187,205,1)",pointRadius:2,borderWidth:2},{label:" ()",data:[],fill:!0,backgroundColor:"rgba(255,180,174,0.4)",borderColor:"rgba(255,180,174,0.6)",pointBackgroundColor:"rgba(255,180,174,1)",pointBorderColor:"rgba(255,180,174,1)",pointRadius:2,borderWidth:2}]},options:t("nearest",n,a,!0)})}(e,a,i)},e.CreateMemoryChart=function(e){return function(e,n,a){return new(s())(e,{type:"line",data:{labels:[],datasets:[{label:"",data:[],fill:!0,backgroundColor:"rgba(151,187,205,0.4)",borderColor:"rgba(151,187,205,0.6)",pointBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"rgba(151,187,205,1)",pointRadius:2,borderWidth:2},{label:"",data:[],fill:!0,backgroundColor:"rgba(255,180,174,0.4)",borderColor:"rgba(255,180,174,0.6)",pointBackgroundColor:"rgba(255,180,174,1)",pointBorderColor:"rgba(255,180,174,1)",pointRadius:2,borderWidth:2}]},options:t("nearest",n,a,!0)})}(e,a,i)},e.CreateNetworkChart=function(e){return new(s())(e,{type:"line",data:{labels:[],datasets:[{label:"RX on eth0",data:[],fill:!1,backgroundColor:"rgba(151,187,205,0.4)",borderColor:"rgba(151,187,205,0.6)",pointBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"rgba(151,187,205,1)",pointRadius:2,borderWidth:2},{label:"TX on eth0",data:[],fill:!1,backgroundColor:"rgba(255,180,174,0.4)",borderColor:"rgba(255,180,174,0.6)",pointBackgroundColor:"rgba(255,180,174,1)",pointBorderColor:"rgba(255,180,174,1)",pointRadius:2,borderWidth:2}]},options:t("average",a,i)})},e.UpdateMemoryChart=function(e,t,a,s){s.data.labels.push(e),s.data.datasets[0].data.push(t),a?s.data.datasets[1].data.push(a):s.data.datasets.splice(1,1),n(s),s.update(0)},e.UpdateCPUChart=function(e,t,n){n.data.labels.push(e),n.data.datasets[0].data.push(t),n.data.datasets[0].data.length>600&&(n.data.labels.pop(),n.data.datasets[0].data.pop()),n.update(0)},e.UpdateIOChart=function(e,t,a,s){s.data.labels.push(e),s.data.datasets[0].data.push(t),s.data.datasets[1].data.push(a),n(s),s.update(0)},e.UpdateNetworkChart=function(e,t,a,s){s.data.labels.push(e),s.data.datasets[0].data.push(t),s.data.datasets[1].data.push(a),n(s),s.update(0)},e}])},91112:(e,t,n)=>{"use strict";n.r(t);var a=n(3602),s=n.n(a),i=n(29084),r=n.n(i);n(65790),n(76194),n(82187),n(75434),angular.module("portainer.app").factory("CodeMirrorService",(function(){var e={},t={lineNumbers:!0},n={mode:"text/x-yaml",gutters:["CodeMirror-lint-markers"],lint:!0,extraKeys:{Tab:function(e){var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t)}}};return e.applyCodeMirrorOnElement=function(e,a,i){var o=angular.copy(t);a&&s()(o,n),i&&(o.readOnly=!0);var l=r().fromTextArea(e,o);return l.setSize("100%",500),l},e}))},52943:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(85280);o.$inject=["LocalStorage"],s().module("portainer.app").factory("DatatableService",o);const r="datatable_text_filter_";function o(e){return{setDataTableSettings:function(t,n){e.storeDataTableSettings(t,n)},getDataTableSettings:function(t){return e.getDataTableSettings(t)},setDataTableTextFilters:function(e,t){i.save(r+e,t)},getDataTableTextFilters:function(e){return i.get(r+e)},setDataTableFilters:function(t,n){e.storeDataTableFilters(t,n)},getDataTableFilters:function(t){return e.getDataTableFilters(t)},getDataTableOrder:function(t){return e.getDataTableOrder(t)},setDataTableOrder:function(t,n,a){var s={orderBy:n,reverse:a};e.storeDataTableOrder(t,s)},setDataTableExpandedItems:function(t,n){e.storeDataTableExpandedItems(t,n)},setColumnVisibilitySettings:function(t,n){e.storeColumnVisibilitySettings(t,n)},getDataTableExpandedItems:function(t){return e.getDataTableExpandedItems(t)},setDataTableSelectedItems:function(t,n){e.storeDataTableSelectedItems(t,n)},getDataTableSelectedItems:function(t){return e.getDataTableSelectedItems(t)},getColumnVisibilitySettings:function(t){return e.getColumnVisibilitySettings(t)}}}},65187:(e,t,n)=>{"use strict";n.r(t);var a=n(51235),s=n.n(a);angular.module("portainer.app").factory("EndpointProvider",["LocalStorage","$uiRouterGlobals",function(e,t){var n={},a={};return n.initialize=function(){var t=e.getEndpointID(),n=e.getEndpointPublicURL(),s=e.getOfflineMode();t&&(a.ID=t),n&&(a.PublicURL=n),s&&(a.OfflineMode=s)},n.clean=function(){e.cleanEndpointData(),a={}},n.endpoint=function(){return a},n.endpointID=function(){return void 0===a.ID&&(a.ID=e.getEndpointID()),null===a.ID||void 0===a.ID?n.getUrlEndpointID():a.ID},n.getUrlEndpointID=()=>t.params.id,n.setEndpointID=function(t){a.ID=t,e.storeEndpointID(t)},n.endpointPublicURL=function(){return void 0===a.PublicURL&&(a.PublicURL=e.getEndpointPublicURL()),a.PublicURL},n.setEndpointPublicURL=function(t){a.PublicURL=t,e.storeEndpointPublicURL(t)},n.endpoints=function(){return e.getEndpoints()},n.setEndpoints=function(t){e.storeEndpoints(t)},n.offlineMode=function(){return a.OfflineMode},n.setOfflineMode=function(t){a.OfflineMode=t,e.storeOfflineMode(t)},n.setOfflineModeFromStatus=function(t){var n=1!==t;a.OfflineMode=n,e.storeOfflineMode(n)},n.currentEndpoint=function(){var t=a.ID,n=e.getEndpoints();return s()(n,(function(e){return e.Id===t}))},n}])},21262:(e,t,n)=>{"use strict";n.r(t);var a=n(74808),s=n(12944);angular.module("portainer.app").factory("FileUploadService",["$q","Upload","EndpointProvider",function(e,t,n){var i={};function r(e,n){return t.upload({url:e,data:{file:n}})}return i.buildImage=function(e,a,i){var r=n.endpointID();return t.http({url:"api/endpoints/"+r+"/docker/build",headers:{"Content-Type":a.type},data:a,params:{t:e,dockerfile:i},ignoreLoadingBar:!0,transformResponse:function(e){return(0,s.jsonObjectsToArrayHandler)(e)}})},i.loadImages=function(e){var a=n.endpointID();return t.http({url:"api/endpoints/"+a+"/docker/images/load",headers:{"Content-Type":e.type},data:e,ignoreLoadingBar:!0,transformResponse:s.genericHandler})},i.createSchedule=function(e){return t.upload({url:"api/schedules?method=file",data:{file:e.File,Name:e.Name,CronExpression:e.CronExpression,Image:e.Image,Endpoints:t.json(e.Endpoints),RetryCount:e.RetryCount,RetryInterval:e.RetryInterval}})},i.uploadBackup=function(e,n){return t.upload({url:"api/restore",data:{file:e,password:n}})},i.createSwarmStack=function(e,n,a,s,i,r){return t.upload({url:"api/stacks?method=file&type=1&endpointId="+i,data:{file:a,Name:e,SwarmID:n,Env:t.json(s),Webhook:r},ignoreLoadingBar:!0})},i.createComposeStack=function(e,n,a,s,i){return t.upload({url:"api/stacks?method=file&type=2&endpointId="+s,data:{file:n,Name:e,Env:t.json(a),Webhook:i},ignoreLoadingBar:!0})},i.createEdgeStack=function({EdgeGroups:e,...n},a){return t.upload({url:"api/edge_stacks?method=file",data:{file:a,EdgeGroups:t.json(e),...n},ignoreLoadingBar:!0})},i.createCustomTemplate=function(e){return t.upload({url:"api/custom_templates?method=file",data:e,ignoreLoadingBar:!0})},i.configureRegistry=function(e,n){return t.upload({url:"api/registries/"+e+"/configure",data:n})},i.createEndpoint=function(e,n,a,s,i,r,o,l,c,d,u,p,m,g){return t.upload({url:"api/endpoints",data:{Name:e,EndpointCreationType:n,URL:a,PublicURL:s,GroupID:i,TagIds:t.json(r),TLS:o,TLSSkipVerify:l,TLSSkipClientVerify:c,TLSCACertFile:d,TLSCertFile:u,TLSKeyFile:p,CheckinInterval:m,IsEdgeDevice:g},ignoreLoadingBar:!0})},i.createAzureEndpoint=function(e,n,s,i,r,o){return t.upload({url:"api/endpoints",data:{Name:e,EndpointCreationType:a.PortainerEndpointCreationTypes.AzureEnvironment,GroupID:r,TagIds:t.json(o),AzureApplicationID:n,AzureTenantID:s,AzureAuthenticationKey:i},ignoreLoadingBar:!0})},i.uploadLDAPTLSFiles=function(t,n,a){var s=[];return t&&s.push(r("api/upload/tls/ca?folder=ldap",t)),n&&s.push(r("api/upload/tls/cert?folder=ldap",n)),a&&s.push(r("api/upload/tls/key?folder=ldap",a)),e.all(s)},i.uploadTLSFilesForEndpoint=function(t,n,a,s){var i=[];return n&&i.push(r("api/upload/tls/ca?folder="+t,n)),a&&i.push(r("api/upload/tls/cert?folder="+t,a)),s&&i.push(r("api/upload/tls/key?folder="+t,s)),e.all(i)},i.uploadOwnershipVoucher=function(e){return t.upload({url:"api/fdo/register",data:{voucher:e},ignoreLoadingBar:!0})},i}])},59197:(e,t,n)=>{"use strict";n.r(t);var a=n(86700);angular.module("portainer.app").factory("FormValidator",[function(){return{validateAccessControl:function(e,t){return e.AccessControlEnabled?t&&e.Ownership===a.X.RESTRICTED&&0===e.AuthorizedUsers.length&&0===e.AuthorizedTeams.length?"":t||e.Ownership!==a.X.RESTRICTED||0!==e.AuthorizedTeams.length?"":"":""}}}])},11189:()=>{angular.module("portainer.app").factory("LocalStorage",["localStorageService",function(e){return{storeEndpointID:function(t){e.set("ENDPOINT_ID",t)},getEndpointID:function(){return e.get("ENDPOINT_ID")},storeEndpointPublicURL:function(t){e.set("ENDPOINT_PUBLIC_URL",t)},getEndpointPublicURL:function(){return e.get("ENDPOINT_PUBLIC_URL")},storeLoginStateUUID:function(t){e.set("LOGIN_STATE_UUID",t)},getLoginStateUUID:function(){return e.get("LOGIN_STATE_UUID")},storeOfflineMode:function(t){e.set("ENDPOINT_OFFLINE_MODE",t)},getOfflineMode:function(){return e.get("ENDPOINT_OFFLINE_MODE")},storeEndpoints:function(t){e.set("ENDPOINTS_DATA",t)},getEndpoints:function(){return e.get("ENDPOINTS_DATA")},storeEndpointState:function(t){e.set("ENDPOINT_STATE",t)},getEndpointState:function(){return e.get("ENDPOINT_STATE")},storeApplicationState:function(t){e.set("APPLICATION_STATE",t)},getApplicationState:function(){return e.get("APPLICATION_STATE")},storeUIState:function(t){e.set("UI_STATE",t)},getUIState:function(){return e.get("UI_STATE")},storeJWT:function(t){e.set("JWT",t)},getJWT:function(){return e.get("JWT")},deleteJWT:function(){e.remove("JWT")},storePaginationLimit:function(t,n){e.set("datatable_pagination_"+t,n)},getPaginationLimit:function(t){return e.get("datatable_pagination_"+t)},getDataTableOrder:function(t){return e.get("datatable_order_"+t)},storeDataTableOrder:function(t,n){e.set("datatable_order_"+t,n)},getDataTableTextFilters:function(t){return e.get("datatable_text_filter_"+t)},storeDataTableTextFilters:function(t,n){e.set("datatable_text_filter_"+t,n)},getDataTableFilters:function(t){return e.get("datatable_filters_"+t)},storeDataTableFilters:function(t,n){e.set("datatable_filters_"+t,n)},getDataTableSettings:function(t){return e.get("datatable_settings_"+t)},storeDataTableSettings:function(t,n){e.set("datatable_settings_"+t,n)},getDataTableExpandedItems:function(t){return e.get("datatable_expandeditems_"+t)},storeDataTableExpandedItems:function(t,n){e.set("datatable_expandeditems_"+t,n)},getDataTableSelectedItems:function(t){return e.get("datatable_selecteditems_"+t)},storeDataTableSelectedItems:function(t,n){e.set("datatable_selecteditems_"+t,n)},storeSwarmVisualizerSettings:function(t,n){e.set("swarmvisualizer_"+t,n)},getSwarmVisualizerSettings:function(t){return e.get("swarmvisualizer_"+t)},storeColumnVisibilitySettings:function(t,n){e.set("col_visibility_"+t,n)},getColumnVisibilitySettings:function(t){return e.get("col_visibility_"+t)},storeJobImage:function(t){e.set("job_image",t)},getJobImage:function(){return e.get("job_image")},storeActiveTab:function(t,n){return e.set("active_tab_"+t,n)},getActiveTab:function(t){const n=e.get("active_tab_"+t);return null===n?0:n},storeToolbarToggle(t){e.set("toolbar_toggle",t)},getToolbarToggle:()=>e.get("toolbar_toggle"),storeLogoutReason:t=>e.set("logout_reason",t),getLogoutReason:()=>e.get("logout_reason"),cleanLogoutReason:()=>e.remove("logout_reason"),clean:function(){e.clearAll()},cleanAuthData(){e.remove("JWT","APPLICATION_STATE","LOGIN_STATE_UUID")},cleanEndpointData(){e.remove("ENDPOINT_ID","ENDPOINT_PUBLIC_URL","ENDPOINT_OFFLINE_MODE","ENDPOINTS_DATA","ENDPOINT_STATE")},storeKubernetesSummaryToggle(t){e.set("kubernetes_summary_expanded",t)},getKubernetesSummaryToggle:()=>e.get("kubernetes_summary_expanded")}}])},16624:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);function i(e,t){return{validateEnvironmentName:async function(n){try{return(await e.endpoints()).value.filter((e=>e.Name===n)).length>0}catch(e){t.error("Failure",e,"Unable to retrieve environment details")}}}}i.$inject=["EndpointService","Notifications"],s().module("portainer.app").factory("NameValidator",i)},40073:()=>{angular.module("portainer.app").factory("PaginationService",["LocalStorage","PAGINATION_MAX_ITEMS",function(e,t){"use strict";return{getPaginationLimit:function(n){var a=t,s=e.getPaginationLimit(n);return null!==s&&(a=s),""+a},setPaginationLimit:function(t,n){e.storePaginationLimit(t,n)}}}])},91291:(e,t,n)=>{"use strict";n.r(t);var a=n(46545),s=n.n(a),i=n(46673);function r(e,t,n){function a(e,t){return n.batchDeleteTags(e,t).$promise}function r(e,n,a){return function(e,n,a,s){const i=e.Id;return delete s.digest,t.put({id:i,repository:n,tag:a},s)}(e,n,a.NewName,a.ManifestV2)}return{retagWithProgress:async function*(t,n,o,l,c){yield*async function*(t,n,a){for await(const s of(0,i.default)(e,a,r,[t,n]))yield s}(t,n,o);const d=o.map((e=>e.Name)),u=o.map((e=>e.NewName)),p=s()(d,...u);p.length&&await a({id:t.Id,repositoryName:n},{Tags:p}),yield l.length+c.length},batchDeleteTags:a,deleteRepository:function(e,t){return n.deleteRepository({id:e.Id,repositoryName:t.Name}).$promise}}}r.$inject=["$q","RegistryManifestsJquery","Ecr"],angular.module("portainer.app").factory("RegistryEcrService",r)},76211:(e,t,n)=>{"use strict";n.r(t);var a=n(83432),s=n.n(a),i=n(66539),r=n.n(i),o=n(25445),l=n.n(o),c=n(62365),d=n(64088);angular.module("portainer.app").factory("RegistryGitlabService",["$async","Gitlab",function(e,t){var n={};async function a(e,n,s){const i=await t(e).projects(n).$promise;return s=l()(s,i.data),i.next&&(n.page=i.next,s=await a(e,n,s)),s}async function i(e,t){try{const n=await a({url:e,token:t},{page:1},[]);return r()(n,(e=>new c.RegistryGitlabProject(e)))}catch(e){throw{msg:"Unable to retrieve projects",err:e}}}async function o(e,n){const a=await t().repositories(e).$promise;return n=l()(n,a.data),a.next&&(e.page=a.next,n=await o(e,n)),n}async function u(e){try{const t={id:e.Id,projectId:e.Gitlab.ProjectId,page:1},n=await o(t,[]);return s()(r()(n,(e=>new d.RegistryRepositoryGitlabViewModel(e))),(e=>e.TagsCount>0))}catch(e){throw{msg:"Unable to retrieve repositories",err:e}}}return n.projects=function(t,n){return e(i,t,n)},n.repositories=function(t){return e(u,t)},n}])},56858:(e,t,n)=>{"use strict";n.r(t);var a=n(6632),s=n.n(a);function i(e,t,n){const a={registryModal:async function(a,i){const r=e.defer(),o=function(e){return e.map((e=>({text:e.Name,value:String(e.Id)})))}(i),l=n.retrievePorRegistryModelFromRepositoryWithRegistries(a,i),c=String(s()(l,"Registry.Id","0"));return t.selectRegistry({title:"",inputType:"select",inputOptions:o,value:c,callback:e=>{if(e){const t=n.retrievePorRegistryModelFromRepositoryWithRegistries(a,i,e);r.resolve(t)}else r.resolve(null)}}),r.promise}};return a}i.$inject=["$q","ModalService","RegistryService"],angular.module("portainer.app").factory("RegistryModalService",i)},85280:(e,t,n)=>{"use strict";function a(){sessionStorage.clear()}function s(e,t){sessionStorage.setItem(e,JSON.stringify(t))}function i(e){try{const t=sessionStorage.getItem(e);return JSON.parse(t)}catch(e){return}}n.r(t),n.d(t,{clear:()=>a,save:()=>s,get:()=>i})},37431:(e,t,n)=>{"use strict";n.r(t);var a=n(4396),s=n.n(a);function i(e,t,n,a,i,r,o,l,c,d,u){var p={},m={loading:!0,application:{},endpoint:{},UI:{dismissedInfoPanels:{},dismissedInfoHash:""}};return p.setVersionInfo=function(e){m.application.versionStatus=e,i.storeApplicationState(m.application)},p.dismissInformationPanel=function(e){m.UI.dismissedInfoPanels[e]=!0,i.storeUIState(m.UI)},p.dismissImportantInformation=function(e){m.UI.dismissedInfoHash=e,i.storeUIState(m.UI)},p.getState=function(){return m},p.clean=function(){m.endpoint={},m.application={}},p.cleanEndpoint=function(){m.endpoint={},u.clean()},p.updateLogo=function(e){m.application.logo=e,i.storeApplicationState(m.application)},p.updateTheme=function(e){m.application.theme=e,i.storeApplicationState(m.application)},p.updateSnapshotInterval=function(e){m.application.snapshotInterval=e,i.storeApplicationState(m.application)},p.updateEnableEdgeComputeFeatures=function(e){m.application.enableEdgeComputeFeatures=e,i.storeApplicationState(m.application)},p.updateEnableTelemetry=function(e){m.application.enableTelemetry=e,d.setOptOut(!e),i.storeApplicationState(m.application)},p.initialize=async function(){return e((async()=>{const e=i.getUIState();e&&(m.UI=e);const n=i.getEndpointState();n&&(m.endpoint=n);const a=i.getApplicationState();return function(e){if(!e||!e.validity)return!1;return s()().unix()-e.validity<l}(a)?m.application=a:await(c=t.defer(),t.all({settings:r.publicSettings(),status:o.status()}).then((function(e){var t,n;t=e.status,n=e.settings,m.application.version=t.Version,m.application.edition=t.Edition,m.application.instanceId=t.InstanceID,m.application.enableTelemetry=n.EnableTelemetry,m.application.logo=n.LogoURL,m.application.theme=n.Theme,m.application.snapshotInterval=n.SnapshotInterval,m.application.enableEdgeComputeFeatures=n.EnableEdgeComputeFeatures,m.application.validity=s()().unix(),i.storeApplicationState(m.application),c.resolve(m)})).catch((function(e){c.reject({msg:"Unable to retrieve server settings and status",err:e})})),c.promise),m.loading=!1,d.setPortainerStatus(m.application.instanceId,m.application.version),d.setOptOut(!m.application.enableTelemetry),m;var c}))},p.updateEndpointState=function(e){var s=t.defer();if(3===e.Type)return m.endpoint.name=e.Name,m.endpoint.mode={provider:"AZURE"},i.storeEndpointState(m.endpoint),s.resolve(),s.promise;if(5===e.Type||6===e.Type||7===e.Type)return m.endpoint.name=e.Name,m.endpoint.mode={provider:"KUBERNETES"},i.storeEndpointState(m.endpoint),s.resolve(),s.promise;const r=1===e.Status||!e.Snaphosts||!e.Snaphosts.length||!e.Snapshots[0].SnapshotRaw;return t.all({version:r?n.version():t.when(e.Snapshots[0].SnapshotRaw.Version),info:r?n.info():t.when(e.Snapshots[0].SnapshotRaw.Info)}).then((function(t){var n=a.determineEndpointMode(t.info,e.Type),s=parseFloat(t.version.ApiVersion);if(m.endpoint.mode=n,m.endpoint.name=e.Name,m.endpoint.type=e.Type,m.endpoint.apiVersion=s,n.agentProxy&&1===e.Status)return c.ping().then((function(e){m.endpoint.agentApiVersion=e.version}))})).then((function(){i.storeEndpointState(m.endpoint),s.resolve()})).catch((function(e){s.reject({msg:"Unable to connect to the Docker environment",err:e})})).finally((function(){m.loading=!1})),s.promise},p.getAgentApiVersion=function(){return m.endpoint.agentApiVersion},p}i.$inject=["$async","$q","SystemService","InfoHelper","LocalStorage","SettingsService","StatusService","APPLICATION_CACHE_VALIDITY","AgentPingService","$analytics","EndpointProvider"],angular.module("portainer.app").factory("StateManager",i)},56518:()=>{angular.module("portainer").service("TerminalWindow",["$window",function(e){this.terminalopen=function(){const t=e.innerHeight-495;document.getElementById("content-wrapper").style.height=t+"px",document.getElementById("content-wrapper").style.overflowY="auto",document.getElementById("sidebar-wrapper").style.height=t+"px"},this.terminalclose=function(){const e="100%";document.getElementById("content-wrapper").style.height=e,document.getElementById("content-wrapper").style.overflowY="initial",document.getElementById("sidebar-wrapper").style.height=e},this.terminalresize=function(){const t=e.innerHeight-495;document.getElementById("content-wrapper").style.height=t+"px",document.getElementById("content-wrapper").style.overflowY="auto",document.getElementById("sidebar-wrapper").style.height=t+"px"}}])},98869:(e,t,n)=>{"use strict";function a(e){return{setTheme:function(t){t?(document.documentElement.setAttribute("theme",t),e.updateTheme(t)):document.documentElement.removeAttribute("theme")},autoTheme:function(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"";this.setTheme(e)},defaultTheme:function(){document.documentElement.removeAttribute("theme")}}}n.r(t),n.d(t,{ThemeManager:()=>a}),a.$inject=["StateManager"],angular.module("portainer.app").service("ThemeManager",a)},52855:(e,t,n)=>{"use strict";n.r(t),n.d(t,{authenticationMethodTypesMap:()=>a,authenticationMethodTypesLabels:()=>s});const a={INTERNAL:1,LDAP:2,OAUTH:3},s={[a.INTERNAL]:"Internal",[a.LDAP]:"LDAP",[a.OAUTH]:"OAuth"}},98376:(e,t,n)=>{"use strict";n.r(t),n.d(t,{authenticationActivityTypesMap:()=>a,authenticationActivityTypesLabels:()=>s});const a={AuthSuccess:1,AuthFailure:2,Logout:3},s={[a.AuthSuccess]:"",[a.AuthFailure]:"",[a.Logout]:""}},50552:(e,t,n)=>{"use strict";n.r(t),n.d(t,{autoUserProvisionToggle:()=>a});const a={templateUrl:n(50551),transclude:{description:"fieldDescription"},bindings:{ngModel:"="}}},85847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(36320),r=n(50552),o=n(93467),l=n(34864);const c=s().module("portainer.settings.authentication",[i.default]).component("internalAuth",l.internalAuth).component("saveAuthSettingsButton",o.saveAuthSettingsButton).component("autoUserProvisionToggle",r.autoUserProvisionToggle).name},34864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{internalAuth:()=>a});const a={templateUrl:n(96677),bindings:{onSaveSettings:"<",saveButtonState:"<"}}},80612:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(20810),s=n.n(a),i=n(26196),r=n(20037);class o{constructor(e){this.LDAPService=e,this.domainSuffix="",this.limitedFeatureId=i.tE.HIDE_INTERNAL_AUTH,this.onTlscaCertChange=this.onTlscaCertChange.bind(this),this.searchUsers=this.searchUsers.bind(this),this.searchGroups=this.searchGroups.bind(this),this.searchAdminGroups=this.searchAdminGroups.bind(this),this.parseDomainName=this.parseDomainName.bind(this),this.onAccountChange=this.onAccountChange.bind(this)}parseDomainName(e){if(this.domainName="",!e||!e.includes("@"))return;const[,t]=e.split("@");if(!t)return;const n=s()(t.split("."));this.domainSuffix=n.map((e=>`dc=${e}`)).join(",")}onAccountChange(e){this.parseDomainName(e)}searchUsers(){return this.LDAPService.users(this.settings)}searchGroups(){return this.LDAPService.groups(this.settings)}searchAdminGroups(){this.settings.AdminAutoPopulate&&(this.settings.AdminGroups=this.selectedAdminGroups.map((e=>e.name)));const e={...this.settings,AdminGroupSearchSettings:this.settings.AdminGroupSearchSettings.map((e=>({...e,GroupFilter:e.GroupFilter||"(objectClass=group)"})))};return this.LDAPService.adminGroups(e)}onTlscaCertChange(e){this.tlscaCert=e}addLDAPUrl(){this.settings.URLs.push("")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}isSaveSettingButtonDisabled(){return(0,r.vx)(this.limitedFeatureId)||!this.isLdapFormValid()}$onInit(){this.tlscaCert=this.settings.TLSCACert,this.parseDomainName(this.settings.ReaderDN)}}o.$inject=["LDAPService"]},66509:(e,t,n)=>{"use strict";n.r(t),n.d(t,{adSettings:()=>s});var a=n(80612);const s={templateUrl:n(22555),controller:a.default,bindings:{settings:"=",selectedAdminGroups:"=",tlscaCert:"=",state:"=",connectivityCheck:"<",onSaveSettings:"<",saveButtonState:"<",isLdapFormValid:"&?"}}},36320:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var a=n(29274),s=n.n(a),i=n(66509),r=n(39947),o=n(72928),l=n(25702),c=n(18436),d=n(59086),u=n(24791),p=n(82592),m=n(97299),g=n(16811),h=n(6e4),f=n(36235),v=n(88996),b=n(8282),y=n(31939),w=n(75714),x=n(1093),S=n(84259),k=n(46951),$=n(39314);const C=s().module("portainer.settings.authentication.ldap",[]).service("LDAPService",k.LDAPService).service("LDAP",$.LDAP).component("ldapConnectivityCheck",c.ldapConnectivityCheck).component("ldapGroupsDatatable",d.ldapGroupsDatatable).component("ldapSettings",r.ldapSettings).component("adSettings",i.adSettings).component("ldapGroupSearch",u.ldapGroupSearch).component("ldapGroupSearchItem",p.ldapGroupSearchItem).component("ldapUserSearch",m.ldapUserSearch).component("ldapUserSearchItem",g.ldapUserSearchItem).component("ldapSettingsCustom",o.ldapSettingsCustom).component("ldapSettingsDnBuilder",h.ldapSettingsDnBuilder).component("ldapSettingsGroupDnBuilder",f.ldapSettingsGroupDnBuilder).component("ldapCustomGroupSearch",b.ldapCustomGroupSearch).component("ldapSettingsOpenLdap",l.ldapSettingsOpenLdap).component("ldapSettingsSecurity",y.ldapSettingsSecurity).component("ldapSettingsTestLogin",w.ldapSettingsTestLogin).component("ldapCustomUserSearch",x.ldapCustomUserSearch).component("ldapCustomAdminGroup",v.ldapCustomAdminGroup).component("ldapUsersDatatable",S.ldapUsersDatatable).name},18436:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapConnectivityCheck:()=>a});const a={templateUrl:n(10386),bindings:{settings:"<",state:"<",connectivityCheck:"<",limitedFeatureId:"<"}}},88996:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapCustomAdminGroup:()=>s});var a=n(53864);const s={templateUrl:n(57498),controller:a.default,bindings:{settings:"=",selectedAdminGroups:"=",defaultAdminGroupSearchFilter:"<",onSearchClick:"<",limitedFeatureId:"<"}}},53864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n){Object.assign(this,{$async:e,Notifications:t,LDAPService:n}),this.groups=null,this.groupstest=null,this.enableAssignAdminGroup=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.AdminGroupSearchSettings.push({GroupBaseDN:"",GroupAttribute:"",GroupFilter:""})}onRemoveClick(e){this.settings.AdminGroupSearchSettings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null,this.groups=await this.onSearchClick(),this.enableAssignAdminGroup=this.groups&&this.groups.length>0}catch(e){this.Notifications.error("Failure",e,"Failed to search groups")}}))}async $onInit(){if(this.settings.AdminAutoPopulate&&this.settings.AdminGroups&&this.settings.AdminGroups.length>0){const e={...this.settings,AdminGroupSearchSettings:this.settings.AdminGroupSearchSettings.map((e=>({...e,GroupFilter:e.GroupFilter||this.defaultAdminGroupSearchFilter})))};this.groups=await this.LDAPService.adminGroups(e)}this.groups&&this.groups.length>0&&(this.enableAssignAdminGroup=!0)}}a.$inject=["$async","Notifications","LDAPService"]},8282:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapCustomGroupSearch:()=>s});var a=n(30950);const s={templateUrl:n(64042),controller:a.default,bindings:{settings:"=",onSearchClick:"<",limitedFeatureId:"<"}}},30950:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.groups=null,this.showTable=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.push({GroupBaseDN:"",GroupAttribute:"",GroupFilter:""})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null,this.showTable=!0,this.groups=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error("Failure",e,"Failed to search users")}}))}}a.$inject=["$async","Notifications"]},1093:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapCustomUserSearch:()=>s});var a=n(39525);const s={templateUrl:n(65048),controller:a.default,bindings:{settings:"=",onSearchClick:"<",limitedFeatureId:"<"}}},39525:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.users=null,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.push({BaseDN:"",UserNameAttribute:"",Filter:""})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.users=null,this.showTable=!0,this.users=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error("Failure",e,"Failed to search users")}}))}}a.$inject=["$async","Notifications"]},82592:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapGroupSearchItem:()=>s});var a=n(55028);const s={templateUrl:n(79557),controller:a.default,bindings:{config:"=",index:"<",domainSuffix:"@",baseFilter:"@",onRemoveClick:"<",limitedFeatureId:"<"}}},55028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e){Object.assign(this,{Notifications:e}),this.groups=[],this.onChangeBaseDN=this.onChangeBaseDN.bind(this)}onChangeBaseDN(e){this.config.GroupBaseDN=e}addGroup(){this.groups.push({type:"ou",value:""})}removeGroup(e){this.groups.splice(e,1),this.onGroupsChange()}onGroupsChange(){const e=this.groups.map((({type:e,value:t})=>`(${e}=${t})`)).join("");this.onFilterChange(e?`(&${this.baseFilter}(|${e}))`:`${this.baseFilter}`)}onFilterChange(e){this.config.GroupFilter=e}parseGroupFilter(){const e=this.config.GroupFilter.match(/^\(&\(objectClass=(\w+)\)\(\|((\(\w+=.+\))+)\)\)$/);if(!e)return;const[,,t=""]=e;this.groups=t.slice(1,-1).split(")(").map((e=>e.split("="))).map((([e,t])=>({type:e,value:t})))}$onInit(){this.parseGroupFilter()}}a.$inject=["Notifications"]},24791:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapGroupSearch:()=>s});var a=n(92459);const s={templateUrl:n(3057),controller:a.default,bindings:{settings:"=",domainSuffix:"@",baseFilter:"@",onSearchClick:"<",limitedFeatureId:"<"}}},92459:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(11600),s=n.n(a);class i{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.groups=null,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){const e=s()(this.settings);this.settings.push({GroupBaseDN:this.domainSuffix,GroupAttribute:e.GroupAttribute,GroupFilter:this.baseFilter})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null,this.showTable=!0,this.groups=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error("Failure",e,"Failed to search users")}}))}}i.$inject=["$async","Notifications"]},59086:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapGroupsDatatable:()=>a});const a={templateUrl:n(30629),controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}}},72928:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapSettingsCustom:()=>s});var a=n(96551);const s={templateUrl:n(15933),controller:a.default,bindings:{settings:"=",tlscaCert:"=",state:"=",selectedAdminGroups:"=",onTlscaCertChange:"<",connectivityCheck:"<",onSearchUsersClick:"<",onSearchGroupsClick:"<",onSearchAdminGroupsClick:"<",onSaveSettings:"<",saveButtonState:"<",saveButtonDisabled:"<"}}},96551:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(26196);class s{constructor(){this.limitedFeatureId=a.tE.EXTERNAL_AUTH_LDAP}addLDAPUrl(){this.settings.URLs.push("")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}}},6e4:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapSettingsDnBuilder:()=>s});var a=n(62680);const s={templateUrl:n(34778),controller:a.default,bindings:{ngModel:"<",onChange:"<",suffix:"@",label:"@",limitedFeatureId:"<"}}},62680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(){this.entries=[]}addEntry(){this.entries.push({type:"ou",value:""})}removeEntry(e){this.entries.splice(e,1),this.onEntriesChange()}moveUp(e){e<=0||(s(this.entries,e,e-1),this.onEntriesChange())}moveDown(e){e>=this.entries.length-1||(s(this.entries,e,e+1),this.onEntriesChange())}onEntriesChange(){const e=this.entries.filter((({value:e})=>e)).map((({type:e,value:t})=>`${e}=${t}`)).concat(this.suffix).filter((e=>e)).join(",");this.onChange(e)}getOUValues(e,t=""){const n=/(\w+)=(\w*),?/;let a=[],s=e,i=s.match(n);for(;i&&s!==t;){const[,e,t]=i;a.push({type:e,value:t}),s=s.replace(n,""),i=s.match(/(\w+)=(\w+),?/)}return a}parseBaseDN(){this.entries=this.getOUValues(this.ngModel,this.suffix)}$onChanges({suffix:e,ngModel:t}){!e&&!t||e&&e.isFirstChange()||this.onEntriesChange()}$onInit(){this.parseBaseDN()}}function s(e,t,n){if(!s(e,t)||!s(e,n))throw new Error("index is out of bounds");const[a]=e.splice(t,1);function s(e,t){return t>=0&&t<=e.length}e.splice(n,0,a)}a.$inject=[]},36235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapSettingsGroupDnBuilder:()=>s});var a=n(91117);const s={templateUrl:n(88006),controller:a.default,bindings:{ngModel:"<",onChange:"<",suffix:"@",index:"<",onRemoveClick:"<",limitedFeatureId:"<"}}},91117:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(){this.groupName="",this.entries="",this.onEntriesChange=this.onEntriesChange.bind(this),this.onGroupNameChange=this.onGroupNameChange.bind(this),this.onGroupChange=this.onGroupChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onEntriesChange(e){this.onGroupChange(this.groupName,e)}onGroupNameChange(){this.onGroupChange(this.groupName,this.entries)}onGroupChange(e,t){if(!e)return;const n=`cn=${e}`;this.onChange(this.index,t||this.suffix?`${n},${t||this.suffix}`:n)}removeGroup(){this.onRemoveClick(this.index)}parseEntries(e,t){if(e===t)return this.groupName="",void(this.entries=t);const[n,a]=this.ngModel.split(/,(.+)/);this.groupName=n.replace("cn=",""),this.entries=a||""}$onChange({ngModel:e,suffix:t}){(t&&!t.isFirstChange()||e)&&this.parseEntries(e.value,t.value)}$onInit(){this.parseEntries(this.ngModel,this.suffix)}}a.$inject=[]},25702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapSettingsOpenLdap:()=>s});var a=n(37008);const s={templateUrl:n(69939),controller:a.default,bindings:{settings:"=",tlscaCert:"=",state:"=",connectivityCheck:"<",onTlscaCertChange:"<",onSearchUsersClick:"<",onSearchGroupsClick:"<",onSaveSettings:"<",saveButtonState:"<",saveButtonDisabled:"<"}}},37008:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(26196);class s{constructor(){this.domainSuffix="",this.limitedFeatureId=a.tE.EXTERNAL_AUTH_LDAP,this.findDomainSuffix=this.findDomainSuffix.bind(this),this.parseDomainSuffix=this.parseDomainSuffix.bind(this),this.onAccountChange=this.onAccountChange.bind(this)}findDomainSuffix(){const e=this.settings.ReaderDN;let t=this.parseDomainSuffix(e);if(!t&&this.settings.SearchSettings.length>0){const e=this.settings.SearchSettings[0];t=this.parseDomainSuffix(e.BaseDN)}this.domainSuffix=t}parseDomainSuffix(e=""){const t=e.toLowerCase().indexOf("dc=");return-1!==t?e.substring(t):""}onAccountChange(e){this.domainSuffix=this.parseDomainSuffix(e)}addLDAPUrl(){this.settings.URLs.push("")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}$onInit(){this.findDomainSuffix()}}s.$inject=[]},31939:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapSettingsSecurity:()=>a});const a={templateUrl:n(39720),bindings:{settings:"=",tlscaCert:"<",onTlscaCertChange:"<",uploadInProgress:"<",title:"@",limitedFeatureId:"<"}}},75714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapSettingsTestLogin:()=>s});var a=n(90829);const s={templateUrl:n(25649),controller:a.default,bindings:{settings:"=",limitedFeatureId:"<",showBeIndicatorIfNeeded:"<"}}},90829:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});const a={LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};class s{constructor(e,t,n){Object.assign(this,{$async:e,LDAPService:t,Notifications:n}),this.TEST_STATUS=a,this.state={testStatus:""}}async testLogin(e,t){return this.$async((async()=>{this.state.testStatus=a.LOADING;try{const n=await this.LDAPService.testLogin(this.settings,e,t);this.state.testStatus=n.valid?a.SUCCESS:a.FAILURE}catch(e){this.Notifications.error("Failure",e,"Unable to test login"),this.state.testStatus=a.FAILURE}}))}}s.$inject=["$async","LDAPService","Notifications"]},54512:(e,t,n)=>{"use strict";function a(){return{AnonymousMode:!0,ReaderDN:"",URLs:[""],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:"",Filter:"",UserNameAttribute:""}],GroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AdminGroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AutoCreateUsers:!0}}function s(){const e={AnonymousMode:!1,ReaderDN:"",URLs:[""],ServerType:2,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:"",Filter:"",UserNameAttribute:""}],GroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AdminGroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AutoCreateUsers:!0};return e.SearchSettings[0].UserNameAttribute="sAMAccountName",e.SearchSettings[0].Filter="(objectClass=user)",e.GroupSearchSettings[0].GroupAttribute="member",e.GroupSearchSettings[0].GroupFilter="(objectClass=group)",e}function i(){const e={AnonymousMode:!1,ReaderDN:"",URLs:[""],ServerType:1,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:"",Filter:"",UserNameAttribute:""}],GroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AdminGroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AutoCreateUsers:!0};return e.SearchSettings[0].UserNameAttribute="uid",e.SearchSettings[0].Filter="(objectClass=inetOrgPerson)",e.GroupSearchSettings[0].GroupAttribute="member",e.GroupSearchSettings[0].GroupFilter="(objectClass=groupOfNames)",e}n.r(t),n.d(t,{buildLdapSettingsModel:()=>a,buildAdSettingsModel:()=>s,buildOpenLDAPSettingsModel:()=>i})},39947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapSettings:()=>s});var a=n(37556);const s={templateUrl:n(75634),controller:a.default,bindings:{settings:"=",selectedAdminGroups:"=",state:"<",connectivityCheck:"<",onSaveSettings:"<",saveButtonState:"<",isLdapFormValid:"<"}}},37556:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(26196),s=n(54512);const i={CUSTOM:0,OPEN_LDAP:1,AD:2},r="(objectClass=groupOfNames)";class o{constructor(e){Object.assign(this,{LDAPService:e,SERVER_TYPES:i}),this.tlscaCert=null,this.settingsDrafts={},this.boxSelectorOptions=[{id:"ldap_custom",value:i.CUSTOM,label:"Custom",icon:"fa fa-server"},{id:"ldap_openldap",value:i.OPEN_LDAP,label:"OpenLDAP",icon:"fa fa-server",feature:a.tE.EXTERNAL_AUTH_LDAP}],this.onTlscaCertChange=this.onTlscaCertChange.bind(this),this.searchUsers=this.searchUsers.bind(this),this.searchGroups=this.searchGroups.bind(this),this.searchAdminGroups=this.searchAdminGroups.bind(this),this.onChangeServerType=this.onChangeServerType.bind(this)}onTlscaCertChange(e){this.tlscaCert=e}$onInit(){this.tlscaCert=this.settings.TLSCACert}onChangeServerType(e){if(this.settingsDrafts[this.settings.ServerType]=this.settings,this.settingsDrafts[e])this.settings=this.settingsDrafts[e];else switch(e){case i.OPEN_LDAP:this.settings=(0,s.buildOpenLDAPSettingsModel)();break;case i.CUSTOM:this.settings=(0,s.buildLdapSettingsModel)()}}searchUsers(){const e={...this.settings,SearchSettings:this.settings.SearchSettings.map((e=>({...e,Filter:e.Filter||"(objectClass=inetOrgPerson)"})))};return this.LDAPService.users(e)}searchGroups(){const e={...this.settings,GroupSearchSettings:this.settings.GroupSearchSettings.map((e=>({...e,GroupFilter:e.GroupFilter||r})))};return this.LDAPService.groups(e)}searchAdminGroups(){this.settings.AdminAutoPopulate&&(this.settings.AdminGroups=this.selectedAdminGroups.map((e=>e.Name)));const e={...this.settings,AdminGroupSearchSettings:this.settings.AdminGroupSearchSettings.map((e=>({...e,GroupFilter:e.GroupFilter||r})))};return this.LDAPService.adminGroups(e)}}o.$inject=["LDAPService"]},16811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapUserSearchItem:()=>s});var a=n(93669);const s={templateUrl:n(25972),controller:a.default,bindings:{config:"=",index:"<",showUsernameFormat:"<",domainSuffix:"@",baseFilter:"@",onRemoveClick:"<",limitedFeatureId:"<"}}},93669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(){this.groups=[],this.onBaseDNChange=this.onBaseDNChange.bind(this),this.onGroupChange=this.onGroupChange.bind(this),this.onGroupsChange=this.onGroupsChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onBaseDNChange(e){this.config.BaseDN=e}onGroupChange(e,t){this.groups[e]=t,this.onGroupsChange(this.groups)}onGroupsChange(e){this.config.Filter=this.generateUserFilter(e)}removeGroup(e){this.groups.splice(e,1),this.onGroupsChange(this.groups)}addGroup(){this.groups.push(this.domainSuffix?`cn=,${this.domainSuffix}`:"cn=")}generateUserFilter(e){const t=e.filter((e=>e!==this.domainSuffix));if(!t.length)return this.baseFilter;const n=t.map((e=>`(memberOf=${e})`));return`(&${this.baseFilter}${n.length>1?`(|${n.join("")})`:n[0]})`}parseFilter(){const e=this.config.Filter;if(e===this.baseFilter)return;if(!e.includes("|")){const t=e.indexOf("memberOf=");return void(t>-1&&(this.groups=[e.slice(t+9,-2)]))}const t=e.slice(e.indexOf("|")+2,-3);this.groups=t.split(")(").map((e=>e.replace("memberOf=","")))}$onInit(){this.parseFilter()}}a.$inject=[]},97299:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapUserSearch:()=>s});var a=n(34188);const s={templateUrl:n(36452),controller:a.default,bindings:{settings:"=",domainSuffix:"@",showUsernameFormat:"<",baseFilter:"@",limitedFeatureId:"<",onSearchClick:"<"}}},34188:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(20810),s=n.n(a),i=n(11600),r=n.n(i);class o{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.users=null,this.showTable=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){const e=r()(this.settings);this.settings.push({BaseDN:this.domainSuffix,UserNameAttribute:e.UserNameAttribute,Filter:this.baseFilter})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.users=null,this.showTable=!0;const e=await this.onSearchClick();this.users=s()(e)}catch(e){this.Notifications.error("Failure",e,"Failed to search users"),this.showTable=!1}}))}}o.$inject=["$async","Notifications"]},84259:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ldapUsersDatatable:()=>a});const a={templateUrl:n(30235),controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}}},39314:(e,t,n)=>{"use strict";function a(e){return e("api/ldap/:action",{},{check:{method:"POST",params:{action:"check"}},users:{method:"POST",isArray:!0,params:{action:"users"}},groups:{method:"POST",isArray:!0,params:{action:"groups"}},adminGroups:{method:"POST",isArray:!0,params:{action:"admin-groups"}},testLogin:{method:"POST",params:{action:"test"}}})}n.r(t),n.d(t,{LDAP:()=>a}),a.$inject=["$resource"]},46951:(e,t,n)=>{"use strict";function a(e){return{users:function(t){return e.users({ldapSettings:t}).$promise},groups:async function(t){return(await e.groups({ldapSettings:t}).$promise).map((({Name:e,Groups:t})=>{let n=e;if(e.includes(",")&&e.includes("=")){const[t]=e.split(",");n=t.split("=")[1]}return{Groups:t,Name:n}}))},adminGroups:async function(t){return(await e.adminGroups({ldapSettings:t}).$promise).sort(((e,t)=>e.toLowerCase()>t.toLowerCase()?1:-1)).map((e=>({name:e,selected:t.AdminGroups.includes(e)})))},check:function(t){return e.check({ldapSettings:t}).$promise},testLogin:function(t,n,a){return e.testLogin({ldapSettings:t,username:n,password:a}).$promise}}}n.r(t),n.d(t,{LDAPService:()=>a}),a.$inject=["LDAP"]},93467:(e,t,n)=>{"use strict";n.r(t),n.d(t,{saveAuthSettingsButton:()=>a});const a={templateUrl:n(83133),bindings:{onSaveSettings:"<",saveButtonDisabled:"<",saveButtonState:"<",limitedFeatureId:"<",limitedFeatureClass:"<",className:"<"}}},6972:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a),i=n(13655);const r=s().module("portainer.settings.general",[]).component("sslCertificateSettings",i.sslCertificate).name},13655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sslCertificate:()=>s});var a=n(12617);const s={templateUrl:n(83791),controller:a.default}},12617:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});class a{constructor(e,t,n,a,s){Object.assign(this,{$async:e,$scope:t,$state:n,SSLService:a,Notifications:s}),this.cert=null,this.originalValues={forceHTTPS:!1,certFile:null,keyFile:null},this.formValues={certFile:null,keyFile:null,forceHTTPS:!1},this.state={actionInProgress:!1,reloadingPage:!1},this.certFilePattern=".pem,.crt,.cer,.cert",this.keyFilePattern=".pem,.key",this.save=this.save.bind(this),this.onChangeForceHTTPS=this.onChangeForceHTTPS.bind(this)}isFormChanged(){return Object.entries(this.originalValues).some((([e,t])=>t!=this.formValues[e]))}onChangeForceHTTPS(e){return this.$scope.$evalAsync((()=>{this.formValues.forceHTTPS=e}))}async save(){return this.$async((async()=>{this.state.actionInProgress=!0;try{const e=this.formValues.certFile?await this.formValues.certFile.text():null,t=this.formValues.keyFile?await this.formValues.keyFile.text():null,n=!this.formValues.forceHTTPS;await this.SSLService.upload(n,e,t),await new Promise((e=>setTimeout(e,2e3))),location.reload(),this.state.reloadingPage=!0}catch(e){this.Notifications.error("Failure",e,"Failed applying changes")}this.state.actionInProgress=!1}))}wasHTTPsChanged(){return this.originalValues.forceHTTPS!==this.formValues.forceHTTPS}async $onInit(){return this.$async((async()=>{try{const e=await this.SSLService.get();this.formValues.forceHTTPS=!e.httpEnabled,this.originalValues.forceHTTPS=this.formValues.forceHTTPS}catch(e){this.Notifications.error("Failure",e,"Failed loading certificate info")}}))}}a.$inject=["$async","$scope","$state","SSLService","Notifications"];const s=a},25356:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var a=n(29274),s=n.n(a),i=n(85847),r=n(6972),o=n(66960),l=(n(42240),n(65562),n(47771),n(59192),n(26256)),c=n(39230),d=n(18480),u=n(96351),p=n(90635),m=n(56268),g=n(95168);var h=n(88606),f=n(2629),v=[{value:5,label:"5 seconds"},{value:10,label:"10 seconds"},{value:30,label:"30 seconds"}],b=(0,o.F)((function(e){var t=e.settings,n=e.onSubmit,a={EdgeAgentCheckinInterval:t?t.EdgeAgentCheckinInterval:5,EnableEdgeComputeFeatures:!!t&&t.EnableEdgeComputeFeatures,DisableTrustOnFirstConnect:!!t&&t.DisableTrustOnFirstConnect,EnforceEdgeID:!!t&&t.EnforceEdgeID};return(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)(p.$L,{children:[(0,f.jsx)(p.PI,{icon:"fa-laptop",title:""}),(0,f.jsx)(p.kh,{children:(0,f.jsx)(l.J9,{initialValues:a,enableReinitialize:!0,validationSchema:function(){return(0,h.Ry)().shape({EdgeAgentCheckinInterval:(0,h.Rx)().required(""),EnableEdgeComputeFeatures:(0,h.O7)().required(""),DisableTrustOnFirstConnect:(0,h.O7)().required(""),EnforceEdgeID:(0,h.O7)().required("")})},onSubmit:n,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,a=e.handleSubmit,s=e.setFieldValue,i=e.isSubmitting,r=e.isValid,o=e.dirty;return(0,f.jsxs)(l.l0,{className:"form-horizontal",onSubmit:a,noValidate:!0,children:[(0,f.jsx)(d.N,{inputId:"edge_checkin",label:"",size:"medium",tooltip:"Portainer",errors:n.EdgeAgentCheckinInterval,children:(0,f.jsx)(u.P,{value:t.EdgeAgentCheckinInterval,onChange:function(e){return s("EdgeAgentCheckinInterval",parseInt(e.currentTarget.value,10))},options:v})}),(0,f.jsx)(d.N,{inputId:"edge_checkin",label:"",size:"medium",errors:n.EnableEdgeComputeFeatures,children:(0,f.jsx)(c.r,{id:"edge_enable",name:"edge_enable",className:"space-right",checked:t.EnableEdgeComputeFeatures,onChange:function(e){return s("EnableEdgeComputeFeatures",e)}})}),(0,f.jsx)(g.a,{color:"blue",children:"Portainer"}),(0,f.jsx)(d.N,{inputId:"edge_enforce_id",label:"PortainerID",size:"medium",errors:n.EnforceEdgeID,children:(0,f.jsx)(c.r,{id:"edge_enforce_id",name:"edge_enforce_id",className:"space-right",checked:t.EnforceEdgeID,onChange:function(e){return s("EnforceEdgeID",e.valueOf())}})}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("div",{className:"col-sm-12",children:(0,f.jsx)(m.f,{disabled:!r||!o,dataCy:"settings-edgeComputeButton",className:"app-portainer-settings-edge-compute-SettingsEdgeCompute-SettingsEdgeCompute-module__save-button",isLoading:i,loadingText:"Saving settings...",children:""})})})]})}})})]})})}),["settings","onSubmit"]),y=(n(40958),n(94834),n(28001),n(62341),n(82459),n(77236),n(33262),n(20493),n(66076),n(77072),n(50527),n(95004)),w=n(71718),x=n(76426),S=(n(19992),n(19267),n(50033),n(66549),n(47097),n(48913),n(98191),n(62176),n(3979),n(8755)),k=(n(92429),n(4450)),$=n(87227),C=n(51641),A=n(89023),P=n(75698),I=n(64062),T=n(46980),N=n(46021),E=n(60122);function R(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){R(i,a,s,r,o,"next",e)}function o(e){R(i,a,s,r,o,"throw",e)}r(void 0)}))}}function U(e){var t=e.isFDOEnabled,n=e.selectedItems,a=(0,A.useRouter)(),s=(0,C.useQueryClient)();return(0,f.jsxs)("div",{className:"actionBar",children:[(0,f.jsx)(I.r,{to:"portainer.endpoints.profile",className:"space-left",children:(0,f.jsxs)(P.zx,{disabled:!t,children:[(0,f.jsx)("i",{className:"fa fa-plus-circle space-right","aria-hidden":"true"}),"Add Profile"]})}),(0,f.jsxs)(P.zx,{disabled:!t||1!==n.length,onClick:function(){return function(){return i.apply(this,arguments)}()},children:[(0,f.jsx)("i",{className:"fa fa-plus-circle space-right","aria-hidden":"true"}),"Duplicate"]}),(0,f.jsxs)(P.zx,{disabled:!t||n.length<1,color:"danger",onClick:function(){return function(){return r.apply(this,arguments)}()},children:[(0,f.jsx)("i",{className:"fa fa-trash-alt space-right","aria-hidden":"true"}),"Remove"]})]});function i(){return(i=D(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.l9)({title:"",message:" ",buttons:{confirm:{label:"",className:"btn-primary"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,t=n[0],e.next=9,(0,E.M9)(t.id);case 9:s=e.sent,N.Vp("Profile successfully duplicated",t.name),a.stateService.go("portainer.endpoints.profile.edit",{id:s.id}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),N.vU("Failure",e.t0,"Unable to duplicate profile");case 17:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function r(){return r=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.l9)({title:"",message:" ",buttons:{confirm:{label:"",className:"btn-danger"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Promise.all(n.map(function(){var e=D(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,E.he)(t.id);case 3:N.Vp("Profile successfully removed",t.name),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),N.vU("Failure",e.t0,"Unable to remove profile");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.next=9,s.invalidateQueries("fdo_profiles");case 9:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}}var V=n(7346),O=n(79084),F=n(90476),L=n(56713),_=n(69098),M=n(41066),j={Header:"Created",accessor:"dateCreated",id:"created",Cell:function(e){var t=e.value;return(0,M.isoDateFromTimestamp)(t)},disableFilters:!0,canHide:!0,Filter:function(){return null}},K={Header:"Name",accessor:"name",id:"name",Cell:function(e){var t=e.value,n=e.row.original,a=(0,A.useSref)("portainer.endpoints.profile.edit",{id:n.id});return(0,f.jsx)("a",{href:a.href,onClick:a.onClick,title:t,children:t})},disableFilters:!0,Filter:function(){return null},canHide:!0,sortType:"string"};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){var t=e.isFDOEnabled,n=(0,S.h)(),a=n.settings,s=n.setTableSettings,i=(0,y.useMemo)((function(){return[K,j]}),[]),r=function(){var e=(0,C.useQuery)("fdo_profiles",(function(){return(0,E.cp)()})),t=e.isLoading,n=e.data,a=e.isError,s=e.error;return(0,y.useEffect)((function(){a&&N.vU("Failure",s,"Failed retrieving FDO profiles")}),[a,s]),{isLoading:t,profiles:(0,y.useMemo)((function(){return n||[]}),[n]),error:a?s:void 0}}(),o=r.isLoading,l=r.profiles,c=r.error,d=(0,k.useTable)({defaultCanFilter:!1,columns:i,data:l,initialState:{pageSize:a.pageSize||10,sortBy:[a.sortBy]},isRowSelectable:function(){return t},selectColumnWidth:5},k.useSortBy,k.usePagination,L.i,$.M_),u=d.getTableProps,p=d.getTableBodyProps,m=d.headerGroups,g=d.page,h=d.prepareRow,v=d.selectedFlatRows,b=d.gotoPage,w=d.setPageSize,x=d.state,A=x.pageIndex,P=x.pageSize,I=u(),T=p();return(0,f.jsxs)(_.xJ,{children:[(0,f.jsx)(_.lw,{icon:"",label:""}),(0,f.jsx)(_.p2,{children:(0,f.jsx)(U,{isFDOEnabled:t,selectedItems:v.map((function(e){return e.original}))})}),(0,f.jsxs)(_.iA,{className:I.className,role:I.role,style:I.style,children:[(0,f.jsx)("thead",{children:m.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,a=t.className,s=t.role,i=t.style;return(0,f.jsx)(_.KA,{className:a,role:s,style:i,headers:e.headers},n)}))}),(0,f.jsx)("tbody",{className:T.className,role:T.role,style:T.style,children:!o&&l&&l.length>0?g.map((function(e){h(e);var t=e.getRowProps(),n=t.key,a=t.className,s=t.role,i=t.style;return(0,f.jsx)(_.SC,{cells:e.cells,className:a,role:s,style:i},n)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:5,className:"text-center text-muted",children:q(o,c)})})})]}),(0,f.jsxs)(F.y,{children:[(0,f.jsx)(V.V,{value:v.length}),(0,f.jsx)(O.j,{showAll:!0,pageLimit:P,page:A+1,onPageChange:function(e){return b(e-1)},totalCount:l?l.length:0,onPageLimitChange:function(e){w(e),s((function(t){return z(z({},t),{},{pageSize:e})}))}})]})]})}function q(e,t){return e?"...":t?t.message:""}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){var t=Object.assign({},e);return(0,f.jsx)(S.U,{defaults:{pageSize:10,sortBy:{id:"name",desc:!1}},storageKey:"fdoProfiles",children:(0,f.jsx)(G,Y({},t))})}function Z(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){Z(i,a,s,r,o,"next",e)}function o(e){Z(i,a,s,r,o,"throw",e)}r(void 0)}))}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var te=(0,o.F)((function(e){var t,n,a=e.settings,s=e.onSubmit,i=a?a.fdoConfiguration:null,r=!!i&&i.enabled,o=(t=(0,y.useState)(r),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),u=o[0],v=o[1];(0,y.useEffect)((function(){var e;v(null==a||null===(e=a.fdoConfiguration)||void 0===e?void 0:e.enabled)}),[a]);var b={enabled:r,ownerURL:i?i.ownerURL:"",ownerUsername:i?i.ownerUsername:"",ownerPassword:i?i.ownerPassword:""},S=!!a&&a.EnableEdgeComputeFeatures;return(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)(p.$L,{children:[(0,f.jsx)(p.PI,{icon:"fa-laptop",title:"FDO"}),(0,f.jsxs)(p.kh,{children:[(0,f.jsx)(l.J9,{initialValues:b,onSubmit:s,enableReinitialize:!0,validationSchema:function(){return(0,h.Ry)().shape({ownerURL:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")}),ownerUsername:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")}),ownerPassword:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")})})},validateOnChange:!0,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,a=e.handleSubmit,s=e.setFieldValue,i=e.isSubmitting,r=e.isValid,o=e.dirty;return(0,f.jsxs)(l.l0,{className:"form-horizontal",onSubmit:a,children:[(0,f.jsx)(d.N,{inputId:"edge_enableFDO",label:"FDO",size:"medium",errors:n.enabled,children:(0,f.jsx)(c.r,{id:"edge_enableFDO",name:"edge_enableFDO",className:"space-right",disabled:!S,checked:S&&t.enabled,onChange:function(e){return function(e,t){return k.apply(this,arguments)}(e,s)}})}),(0,f.jsx)(g.a,{color:"blue",children:"PortainerFDO"}),S&&t.enabled&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("hr",{}),(0,f.jsx)(d.N,{inputId:"owner_url",label:"",errors:n.ownerURL,children:(0,f.jsx)(l.gN,{as:x.I,name:"ownerURL",id:"owner_url",placeholder:"http://127.0.0.1:8042",value:t.ownerURL,"data-cy":"fdo-serverInput"})}),(0,f.jsx)(d.N,{inputId:"owner_username",label:"",errors:n.ownerUsername,children:(0,f.jsx)(l.gN,{as:x.I,name:"ownerUsername",id:"owner_username",placeholder:"username",value:t.ownerUsername,"data-cy":"fdo-usernameInput"})}),(0,f.jsx)(d.N,{inputId:"owner_password",label:"",errors:n.ownerPassword,children:(0,f.jsx)(l.gN,{as:x.I,type:"password",name:"ownerPassword",id:"owner_password",placeholder:"password",value:t.ownerPassword,"data-cy":"fdo-passwordInput"})})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("div",{className:"col-sm-12",children:(0,f.jsx)(m.f,{disabled:!r||!o,dataCy:"settings-fdoButton",className:"app-portainer-settings-edge-compute-SettingsFDO-SettingsFDO-module__save-button",isLoading:i,loadingText:"Saving settings...",children:""})})})]})}}),S&&u&&(0,f.jsxs)("div",{className:"app-portainer-settings-edge-compute-SettingsFDO-SettingsFDO-module__fdo-table",children:[(0,f.jsx)(w.i,{children:""}),(0,f.jsx)(g.a,{color:"blue",children:"FDO"}),(0,f.jsx)(J,{isFDOEnabled:r})]})]})]})});function k(){return(k=X(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t),n("enabled",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),["settings","onSubmit"]),ne=(n(6410),n(57592),n(99075),n(42629));function ae(e,t,n,a,s,i,r){try{var o=e[i](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){ae(i,a,s,r,o,"next",e)}function o(e){ae(i,a,s,r,o,"throw",e)}r(void 0)}))}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var re=(0,o.F)((function(e){var t,n,a=e.settings,s=e.onSubmit,i=(t=(0,y.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(t,n)||function(){throw new TypeError("\n [Symbol.iterator]() ")}()),r=i[0],o=i[1];function u(){return(u=se(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return o(t),e.next=4,v(t);case 4:a=e.sent,n("certFileContent",a),n("certFileName",t.name);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){if(null!=e.target&&null!=e.target.result){var n=e.target.result.toString(),a=n.indexOf("base64,"),s=n.substring(a+7,n.length);t(s)}else t("")},a.onerror=function(){n(new Error("error reading provisioning certificate file"))},a.readAsDataURL(e)}))}var b=a?a.openAMTConfiguration:null,w={enabled:!!b&&b.enabled,mpsServer:b?b.mpsServer:"",mpsUser:b?b.mpsUser:"",mpsPassword:b?b.mpsPassword:"",domainName:b?b.domainName:"",certFileContent:b?b.certFileContent:"",certFileName:b?b.certFileName:"",certFilePassword:b?b.certFilePassword:""};w.certFileContent&&w.certFileName&&!r&&o(new File([],w.certFileName));var S=!!a&&a.EnableEdgeComputeFeatures;return(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)(p.$L,{children:[(0,f.jsx)(p.PI,{icon:"fa-laptop",title:"Intel OpenAMT"}),(0,f.jsx)(p.kh,{children:(0,f.jsx)(l.J9,{initialValues:w,onSubmit:s,enableReinitialize:!0,validationSchema:function(){return(0,h.Ry)().shape({mpsServer:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")}),mpsUser:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")}),mpsPassword:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")}),domainName:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")}),certFileContent:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")}),certFileName:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")}),certFilePassword:(0,h.Z_)().when("enabled",{is:!0,then:(0,h.Z_)().required("Field is required")})})},validateOnChange:!0,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,a=e.handleSubmit,s=e.setFieldValue,i=e.isSubmitting,o=e.isValid,p=e.dirty;return(0,f.jsxs)(l.l0,{className:"form-horizontal",onSubmit:a,children:[(0,f.jsx)(d.N,{inputId:"edge_enableOpenAMT",label:"Enable OpenAMT",errors:n.enabled,children:(0,f.jsx)(c.r,{id:"edge_enableOpenAMT",name:"edge_enableOpenAMT",className:"space-right",disabled:!S,checked:S&&t.enabled,onChange:function(e){return s("enabled",e)}})}),(0,f.jsx)(g.a,{color:"blue",children:" Portainer  OpenAMT MPS API "}),S&&t.enabled&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("hr",{}),(0,f.jsx)(d.N,{inputId:"mps_server",label:"MPS Server",size:"medium",errors:n.mpsServer,children:(0,f.jsx)(l.gN,{as:x.I,name:"mpsServer",id:"mps_server",placeholder:"Enter the MPS Server",value:t.mpsServer,"data-cy":"openAMT-serverInput"})}),(0,f.jsx)(d.N,{inputId:"mps_username",label:"MPS User",size:"medium",errors:n.mpsUser,children:(0,f.jsx)(l.gN,{as:x.I,name:"mpsUser",id:"mps_username",placeholder:"Enter the MPS User",value:t.mpsUser,"data-cy":"openAMT-usernameInput"})}),(0,f.jsx)(d.N,{inputId:"mps_password",label:"MPS Password",size:"medium",tooltip:"8-3210",errors:n.mpsPassword,children:(0,f.jsx)(l.gN,{as:x.I,type:"password",name:"mpsPassword",id:"mps_password",placeholder:"Enter the MPS Password",value:t.mpsPassword,"data-cy":"openAMT-passwordInput"})}),(0,f.jsx)("hr",{}),(0,f.jsx)(d.N,{inputId:"domain_name",label:"Domain Name",size:"medium",tooltip:" FQDN amtdomain.com)",errors:n.domainName,children:(0,f.jsx)(l.gN,{as:x.I,name:"domainName",id:"domain_name",placeholder:"Enter the Domain Name",value:t.domainName,"data-cy":"openAMT-domainInput"})}),(0,f.jsx)(d.N,{inputId:"certificate_file",label:"Provisioning Certificate File (.pfx)",size:"medium",tooltip:" CA  ComodoDigiCertEntrust  GoDaddy<br><br> AMT 15  SHA2",errors:n.certFileContent,children:(0,f.jsx)(ne.Uu,{title:"Upload file",accept:".pfx",value:r,onChange:function(e){return function(e,t){return u.apply(this,arguments)}(e,s)}})}),(0,f.jsx)(d.N,{inputId:"certificate_password",label:"Provisioning Certificate Password",size:"medium",tooltip:"8-3210",errors:n.certFilePassword,children:(0,f.jsx)(l.gN,{as:x.I,type:"password",name:"certFilePassword",id:"certificate_password",placeholder:"**********",value:t.certFilePassword,"data-cy":"openAMT-certPasswordInput"})})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("div",{className:"col-sm-12",children:(0,f.jsx)(m.f,{disabled:!o||!p,dataCy:"settings-fdoButton",className:"app-portainer-settings-edge-compute-SettingsOpenAMT-SettingsOpenAMT-module__save-button",isLoading:i,loadingText:"Saving settings...",children:""})})})]})}})})]})})}),["settings","onSubmit"]);const oe=s().module("portainer.settings",[i.default,r.default]).component("settingsEdgeCompute",b).component("settingsFdo",te).component("settingsOpenAmt",re).name},48557:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n){this.PaginationService=n,this.tableKey="authLogs";const a=this.$onInit;angular.extend(this,e("GenericDatatableController",{$scope:t})),this.changeSort=this.changeSort.bind(this),this.handleChangeLimit=this.handleChangeLimit.bind(this),this.$onInit=a.bind(this)}changeSort(e){let t=!1;e===this.sort.key&&(t=!this.sort.desc),this.onChangeSort({key:e,desc:t})}handleChangeLimit(e){this.PaginationService.setPaginationLimit(this.tableKey,e),this.onChangeLimit(e)}$onInit(){this.$onInitGeneric();const e=this.PaginationService.getPaginationLimit(this.tableKey);e&&this.onChangeLimit(+e)}}a.$inject=["$controller","$scope","PaginationService"]},32654:(e,t,n)=>{"use strict";n.r(t),n.d(t,{activityLogsDatatable:()=>s});var a=n(48557);const s={templateUrl:n(79765),controller:a.default,bindings:{logs:"<",keyword:"<",sort:"<",limit:"<",totalItems:"<",currentPage:"<",feature:"@",onChangeContextFilter:"<",onChangeKeyword:"<",onChangeSort:"<",onChangeLimit:"<",onChangePage:"<"}}},38427:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(4396),s=n.n(a),i=n(26196);class r{constructor(e,t,n){this.$async=e,this.UserActivityService=t,this.Notifications=n,this.limitedFeature=i.tE.ACTIVITY_AUDIT,this.state={keyword:"",date:{from:0,to:0},sort:{key:"Timestamp",desc:!0},page:1,limit:10,totalItems:0,logs:null},this.today=s()().endOf("day"),this.minValidDate=s()().subtract(7,"d").startOf("day"),this.onChangeDate=this.onChangeDate.bind(this),this.onChangeKeyword=this.onChangeKeyword.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.loadLogs=this.loadLogs.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeLimit=this.onChangeLimit.bind(this)}onChangePage(e){this.state.page=e,this.loadLogs()}onChangeLimit(e){this.state.page=1,this.state.limit=e,this.loadLogs()}onChangeSort(e){this.state.page=1,this.state.sort=e,this.loadLogs()}onChangeKeyword(e){this.state.page=1,this.state.keyword=e,this.loadLogs()}onChangeDate({startDate:e,endDate:t}){this.state.page=1,this.state.date={to:t,from:e},this.loadLogs()}async export(){return this.$async((async()=>{try{await this.UserActivityService.saveLogsAsCSV(this.state.sort,this.state.keyword,this.state.date,this.state.contextFilter)}catch(e){this.Notifications.error("Failure",e,"Failed loading user activity logs csv")}}))}async loadLogs(){return this.$async((async()=>{this.state.logs=null;const e=(this.state.page-1)*this.state.limit;try{const{logs:t,totalCount:n}=await this.UserActivityService.logs(e,this.state.limit,this.state.sort,this.state.keyword,this.state.date);this.state.logs=function(e){return e&&e.length?e.map((e=>({...e,payload:o(atob(e.payload))}))):[]}(t),this.state.totalItems=n}catch(e){this.Notifications.error("Failure",e,"Failed loading user activity logs")}}))}$onInit(){return this.$async((async()=>{this.loadLogs()}))}}function o(e){try{return JSON.parse(e)}catch(e){return null}}r.$inject=["$async","UserActivityService","Notifications"]},85331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{activityLogsView:()=>s});var a=n(38427);const s={templateUrl:n(28459),controller:a.default}},9800:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(85331),r=n(32654);const o=s().module("portainer.app.user-activity.activity-logs-view",[]).component("activityLogsDatatable",r.activityLogsDatatable).component("activityLogsView",i.activityLogsView).name},91651:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(52855),s=n(98376);class i{constructor(e,t,n){this.PaginationService=n,this.tableKey="authLogs",this.contextFilterLabels=Object.values(a.authenticationMethodTypesMap).map((e=>({value:e,label:a.authenticationMethodTypesLabels[e]}))),this.typeFilterLabels=Object.values(s.authenticationActivityTypesMap).map((e=>({value:e,label:s.authenticationActivityTypesLabels[e]})));const i=this.$onInit;angular.extend(this,e("GenericDatatableController",{$scope:t})),this.$onInit=i.bind(this),this.changeSort=this.changeSort.bind(this),this.handleChangeLimit=this.handleChangeLimit.bind(this)}changeSort(e){let t=!1;e===this.sort.key&&(t=!this.sort.desc),this.onChangeSort({key:e,desc:t})}contextType(e){return e in a.authenticationMethodTypesLabels?a.authenticationMethodTypesLabels[e]:""}activityType(e){return e in s.authenticationActivityTypesLabels?s.authenticationActivityTypesLabels[e]:""}isAuthSuccess(e){return e===s.authenticationActivityTypesMap.AuthSuccess}isAuthFailure(e){return e===s.authenticationActivityTypesMap.AuthFailure}handleChangeLimit(e){this.PaginationService.setPaginationLimit(this.tableKey,e),this.onChangeLimit(e)}$onInit(){this.$onInitGeneric();const e=this.PaginationService.getPaginationLimit(this.tableKey);e&&this.handleChangeLimit(+e)}}i.$inject=["$controller","$scope","PaginationService"];const r=i},66823:(e,t,n)=>{"use strict";n.r(t),n.d(t,{authLogsDatatable:()=>s});var a=n(91651);const s={templateUrl:n(28572),controller:a.default,bindings:{logs:"<",keyword:"<",sort:"<",limit:"<",totalItems:"<",currentPage:"<",contextFilter:"<",typeFilter:"<",feature:"@",onChangeContextFilter:"<",onChangeTypeFilter:"<",onChangeKeyword:"<",onChangeSort:"<",onChangeLimit:"<",onChangePage:"<"}}},93873:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(4396),s=n.n(a),i=n(26196);class r{constructor(e,t,n){this.$async=e,this.UserActivityService=t,this.Notifications=n,this.limitedFeature=i.tE.ACTIVITY_AUDIT,this.state={keyword:"",date:{from:0,to:0},sort:{key:"Timestamp",desc:!0},contextFilter:[1,2,3],typeFilter:[1,2,3],page:1,limit:10,totalItems:0,logs:null},this.today=s()().endOf("day"),this.minValidDate=s()().subtract(7,"d").startOf("day"),this.onChangeDate=this.onChangeDate.bind(this),this.onChangeKeyword=this.onChangeKeyword.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.onChangeContextFilter=this.onChangeContextFilter.bind(this),this.onChangeTypeFilter=this.onChangeTypeFilter.bind(this),this.loadLogs=this.loadLogs.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeLimit=this.onChangeLimit.bind(this)}onChangePage(e){this.state.page=e,this.loadLogs()}onChangeLimit(e){this.state.page=1,this.state.limit=e,this.loadLogs()}onChangeSort(e){this.state.page=1,this.state.sort=e,this.loadLogs()}onChangeContextFilter(e,t){this.state.contextFilter=t,this.loadLogs()}onChangeTypeFilter(e,t){this.state.typeFilter=t,this.loadLogs()}onChangeKeyword(e){this.state.page=1,this.state.keyword=e,this.loadLogs()}onChangeDate({startDate:e,endDate:t}){this.state.page=1,this.state.date={to:t,from:e},this.loadLogs()}async export(){return this.$async((async()=>{try{await this.UserActivityService.saveAuthLogsAsCSV(this.state.sort,this.state.keyword,this.state.date,this.state.contextFilter)}catch(e){this.Notifications.error("Failure",e,"Failed loading auth activity logs csv")}}))}async loadLogs(){return this.$async((async()=>{this.state.logs=null;const e=(this.state.page-1)*this.state.limit;try{const{logs:t,totalCount:n}=await this.UserActivityService.authLogs(e,this.state.limit,this.state.sort,this.state.keyword,this.state.date,this.state.contextFilter,this.state.typeFilter);this.state.logs=t,this.state.totalItems=n}catch(e){this.Notifications.error("Failure",e,"Failed loading auth activity logs")}}))}$onInit(){return this.$async((async()=>{this.loadLogs()}))}}r.$inject=["$async","UserActivityService","Notifications"]},8364:(e,t,n)=>{"use strict";n.r(t),n.d(t,{authLogsView:()=>s});var a=n(93873);const s={templateUrl:n(22261),controller:a.default}},45303:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(8364),r=n(66823);const o=s().module("portainer.app.user-activity.auth-logs-view",[]).component("authLogsView",i.authLogsView).component("authLogsDatatable",r.authLogsDatatable).name},45347:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(29274),s=n.n(a),i=n(45303),r=n(9800),o=n(8733),l=n(73537);d.$inject=["$stateRegistryProvider"];const c=s().module("portainer.app.user-activity",[i.default,r.default]).service("UserActivity",o.UserActivity).service("UserActivityService",l.UserActivityService).config(d).name;function d(e){e.register({name:"portainer.authLogs",url:"/auth-logs",views:{"content@":{component:"authLogsView"}}}),e.register({name:"portainer.activityLogs",url:"/activity-logs",views:{"content@":{component:"activityLogsView"}}})}},8733:(e,t,n)=>{"use strict";function a(e,t){const n="/api/useractivity";return{authLogsAsCSV:async function(e){return t({method:"GET",url:`${n}/authlogs.csv`,params:e,responseType:"blob",headers:{"Content-type":"text/csv"}})},logsAsCSV:async function(e){return t({method:"GET",url:`${n}/logs.csv`,params:e,responseType:"blob",headers:{"Content-type":"text/csv"}})},...e(`${n}/:action`,{},{authLogs:{method:"GET",params:{action:"authlogs"}},logs:{method:"GET",params:{action:"logs"}}})}}n.r(t),n.d(t,{UserActivity:()=>a}),a.$inject=["$resource","$http"]},73537:(e,t,n)=>{"use strict";function a(e,t){return{authLogs:function(e,n,a,s,i,r,o){return t.authLogs({offset:e,limit:n,keyword:s,before:i.to,after:i.from,sortBy:a.key,sortDesc:a.desc,contexts:r,types:o}).$promise},saveAuthLogsAsCSV:async function(n,a,s,i,r){const o=await t.authLogsAsCSV({keyword:a,before:s.to,after:s.from,sortBy:n.key,sortDesc:n.desc,limit:2e3,contexts:i,types:r});return e.saveAs(o.data,"logs.csv")},logs:function(e,n,a,s,i){return t.logs({offset:e,limit:n,keyword:s,before:i.to,after:i.from,sortBy:a.key,sortDesc:a.desc}).$promise},saveLogsAsCSV:async function(n,a,s){const i=await t.logsAsCSV({keyword:a,before:s.to,after:s.from,sortBy:n.key,sortDesc:n.desc,limit:2e3});return e.saveAs(i.data,"logs.csv")}}}n.r(t),n.d(t,{UserActivityService:()=>a}),a.$inject=["FileSaver","UserActivity"]},68325:()=>{angular.module("portainer.app").controller("AccountController",["$scope","$state","Authentication","UserService","Notifications","SettingsService","ModalService",function(e,t,n,a,s,i,r){e.formValues={currentPassword:"",newPassword:"",confirmPassword:""},e.updatePassword=async function(){if(await r.confirmChangePassword())try{await a.updateUserPassword(e.userID,e.formValues.currentPassword,e.formValues.newPassword),s.success("Success","Password successfully updated"),t.go("portainer.logout")}catch(e){s.error("Failure",e,e.msg)}},e.removeAction=n=>{r.confirmDeletion("Portainer API",(i=>{if(!i)return;let r=n.length;n.forEach((n=>{a.deleteAccessToken(e.userID,n.id).then((()=>{s.success("Token successfully removed");var t=e.tokens.indexOf(n);e.tokens.splice(t,1)})).catch((e=>{s.error("Failure",e,"Unable to remove token")})).finally((()=>{--r,0===r&&t.reload()}))}))}))},e.userID=n.getUserDetails().ID,i.publicSettings().then((function(t){e.AuthenticationMethod=t.AuthenticationMethod})).catch((function(e){s.error("Failure",e,"Unable to retrieve application settings")})),a.getAccessTokens(e.userID).then((function(t){e.tokens=t})).catch((function(e){s.error("Failure",e,"Unable to retrieve user tokens")}))}])},5012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n,a,s){this.$async=e,this.$analytics=t,this.Authentication=n,this.UserService=a,this.Notifications=s,this.onSubmit=this.onSubmit.bind(this),this.onError=this.onError.bind(this)}async onSubmit(e){const t=await this.UserService.createAccessToken(this.state.userId,e);return this.$analytics.eventTrack("portainer-account-access-token-create",{category:"portainer"}),t}onError(e,t,n){this.Notifications.error(e,t,n)}$onInit(){return this.$async((async()=>{const e=this.Authentication.getUserDetails().ID;this.state={userId:e}}))}}a.$inject=["$async","$analytics","Authentication","UserService","Notifications"]},33219:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(5012);const r=n(48675);s().module("portainer.app").component("createUserAccessToken",{templateUrl:r,controller:i.default})},87374:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(29274),s=n.n(a),i=n(15964),r=n.n(i);class o{constructor(e,t,n,a,s,i,r,o,l,c,d,u,p,m,g,h){this.$async=e,this.$analytics=t,this.$scope=n,this.$state=a,this.$stateParams=s,this.$window=i,this.Authentication=r,this.UserService=o,this.EndpointService=l,this.StateManager=c,this.Notifications=d,this.SettingsService=u,this.URLHelper=p,this.LocalStorage=m,this.StatusService=g,this.LicenseService=h,this.logo=this.StateManager.getState().application.logo,this.formValues={Username:"",Password:""},this.state={showOAuthLogin:!1,showStandardLogin:!1,AuthenticationError:"",loginInProgress:!0,OAuthProvider:""},this.checkForEndpointsAsync=this.checkForEndpointsAsync.bind(this),this.checkForLicensesAsync=this.checkForLicensesAsync.bind(this),this.checkForLatestVersionAsync=this.checkForLatestVersionAsync.bind(this),this.postLoginSteps=this.postLoginSteps.bind(this),this.oAuthLoginAsync=this.oAuthLoginAsync.bind(this),this.internalLoginAsync=this.internalLoginAsync.bind(this),this.authenticateUserAsync=this.authenticateUserAsync.bind(this),this.manageOauthCodeReturn=this.manageOauthCodeReturn.bind(this),this.authEnabledFlowAsync=this.authEnabledFlowAsync.bind(this),this.onInit=this.onInit.bind(this)}logout(e){this.Authentication.logout(),this.state.loginInProgress=!1,this.generateOAuthLoginURI(),this.LocalStorage.storeLogoutReason(e),this.$window.location.reload()}error(e,t){this.state.AuthenticationError=t,e||(e={}),this.Notifications.error("Failure",e,t),this.state.loginInProgress=!1}determineOauthProvider(e){return-1!==e.indexOf("login.microsoftonline.com")?"Microsoft":-1!==e.indexOf("accounts.google.com")?"Google":-1!==e.indexOf("github.com")?"Github":"OAuth"}generateState(){const e=r()();return this.LocalStorage.storeLoginStateUUID(e),"&state="+e}generateOAuthLoginURI(){this.OAuthLoginURI=this.state.OAuthLoginURI+this.generateState()}hasValidState(e){const t=this.LocalStorage.getLoginStateUUID();return t&&e&&t===e}async checkForEndpointsAsync(){try{if(0===(await this.EndpointService.endpoints(0,1)).value.length)return"portainer.wizard"}catch(e){this.error(e,"Unable to retrieve environments")}return"portainer.home"}async checkForLicensesAsync(){try{if(!(await this.LicenseService.info()).valid)return"portainer.init.license"}catch(e){this.error(e,"Unable to retrieve licenses info")}}async checkForLatestVersionAsync(){let e={UpdateAvailable:!1,LatestVersion:""};try{const t=await this.StatusService.version();t.UpdateAvailable&&(e.UpdateAvailable=!0,e.LatestVersion=t.LatestVersion)}finally{this.StateManager.setVersionInfo(e)}}async postLoginSteps(){await this.StateManager.initialize();const e=this.Authentication.isAdmin();this.$analytics.setUserRole(e?"admin":"standard-user");let t="portainer.home";e&&(t=await this.checkForLicensesAsync(),t||(t=await this.checkForEndpointsAsync())),this.$state.go(t)}async oAuthLoginAsync(e){try{await this.Authentication.OAuthLogin(e),this.URLHelper.cleanParameters()}catch(e){this.error(e," OAuth ")}}async internalLoginAsync(e,t){await this.Authentication.login(e,t),await this.postLoginSteps()}async authenticateUserAsync(){try{var e=this.formValues.Username,t=this.formValues.Password;this.state.loginInProgress=!0,await this.internalLoginAsync(e,t)}catch(e){this.error(e,"")}}authenticateUser(){return this.$async(this.authenticateUserAsync)}async manageOauthCodeReturn(e,t){this.hasValidState(t)?await this.oAuthLoginAsync(e):this.error(null,"Invalid OAuth state, try again.")}async authEnabledFlowAsync(){try{await this.UserService.administratorExists()||this.$state.go("portainer.init.admin")}catch(e){this.error(e,"Unable to verify administrator account existence")}}toggleStandardLogin(){this.state.showStandardLogin=!this.state.showStandardLogin}async onInit(){try{const e=await this.SettingsService.publicSettings();this.state.hideInternalAuth=e.OAuthHideInternalAuth,this.state.showOAuthLogin=3===e.AuthenticationMethod,this.state.showStandardLogin=!this.state.showOAuthLogin,this.state.OAuthLoginURI=e.OAuthLoginURI,this.state.OAuthProvider=this.determineOauthProvider(e.OAuthLoginURI);const t=this.URLHelper.getParameter("code"),n=this.URLHelper.getParameter("state");if(t&&n)return await this.manageOauthCodeReturn(t,n),void this.generateOAuthLoginURI();if(this.logo||(await this.StateManager.initialize(),this.logo=this.StateManager.getState().application.logo),this.generateOAuthLoginURI(),this.$stateParams.logout||this.$stateParams.error)return void this.logout(this.$stateParams.error);const a=this.LocalStorage.getLogoutReason();a&&(this.state.AuthenticationError=a,this.LocalStorage.cleanLogoutReason()),this.Authentication.isAuthenticated()&&await this.postLoginSteps(),this.state.loginInProgress=!1,this.state.hideInternalAuth&&!this.Authentication.isAuthenticated()&&(this.$window.location.href=this.OAuthLoginURI),await this.authEnabledFlowAsync()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve public settings")}}$onInit(){return this.$async(this.onInit)}}o.$inject=["$async","$analytics","$scope","$state","$stateParams","$window","Authentication","UserService","EndpointService","StateManager","Notifications","SettingsService","URLHelper","LocalStorage","StatusService","LicenseService"];const l=o;s().module("portainer.app").controller("AuthenticationController",o)},46581:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(99432),s=n.n(a),i=n(19898),r=n(71541);class o{constructor(e,t,n,a,s,o,l,c,d,u,p){Object.assign(this,{$async:e,$state:t,$window:n,Authentication:a,ModalService:s,CustomTemplateService:o,FormValidator:l,Notifications:c,ResourceControlService:d,StackService:u,StateManager:p}),this.formValues={Title:"",FileContent:"",File:null,RepositoryURL:"",RepositoryReferenceName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",ComposeFilePathInRepository:"docker-compose.yml",Description:"",Note:"",Logo:"",Platform:1,Type:1,AccessControlData:new i.AccessControlFormData},this.state={Method:"editor",formValidationError:"",actionInProgress:!1,fromStack:!1,loading:!0,isEditorDirty:!1,templateNameRegex:r.TEMPLATE_NAME_VALIDATION_REGEX},this.templates=[],this.createCustomTemplate=this.createCustomTemplate.bind(this),this.createCustomTemplateAsync=this.createCustomTemplateAsync.bind(this),this.validateForm=this.validateForm.bind(this),this.createCustomTemplateByMethod=this.createCustomTemplateByMethod.bind(this),this.createCustomTemplateFromFileContent=this.createCustomTemplateFromFileContent.bind(this),this.createCustomTemplateFromFileUpload=this.createCustomTemplateFromFileUpload.bind(this),this.createCustomTemplateFromGitRepository=this.createCustomTemplateFromGitRepository.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this)}createCustomTemplate(){return this.$async(this.createCustomTemplateAsync)}onChangeMethod(){this.formValues.FileContent="",this.selectedTemplate=null}async createCustomTemplateAsync(){let e=this.state.Method;if("template"===e&&(e="editor"),this.validateForm(e)){this.state.actionInProgress=!0;try{const t=await this.createCustomTemplateByMethod(e),n=this.formValues.AccessControlData,a=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(a,n,t.ResourceControl),this.Notifications.success("Custom template successfully created"),this.state.isEditorDirty=!1,this.$state.go("docker.templates.custom")}catch(e){this.Notifications.error("Failure",e,"A template with the same name already exists")}finally{this.state.actionInProgress=!1}}}validateForm(e){if(this.state.formValidationError="","editor"===e&&""===this.formValues.FileContent)return this.state.formValidationError="Template file content must not be empty",!1;const t=this.formValues.Title;if(s()(this.templates,(e=>e.Title===t)))return this.state.formValidationError="A template with the same name already exists",!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,i=this.FormValidator.validateAccessControl(a,n);return!i||(this.state.formValidationError=i,!1)}createCustomTemplateByMethod(e){switch(e){case"editor":return this.createCustomTemplateFromFileContent();case"upload":return this.createCustomTemplateFromFileUpload();case"repository":return this.createCustomTemplateFromGitRepository()}}createCustomTemplateFromFileContent(){return this.CustomTemplateService.createCustomTemplateFromFileContent(this.formValues)}createCustomTemplateFromFileUpload(){return this.CustomTemplateService.createCustomTemplateFromFileUpload(this.formValues)}createCustomTemplateFromGitRepository(){return this.CustomTemplateService.createCustomTemplateFromGitRepository(this.formValues)}editorUpdate(e){this.formValues.FileContent=e.getValue(),this.state.isEditorDirty=!0}onChangeFormValues(e){this.formValues=e}async $onInit(){const e=this.StateManager.getState();this.state.endpointMode=e.endpoint.mode;let t=0;"DOCKER_STANDALONE"===this.state.endpointMode.provider?t=2:"DOCKER_SWARM_MODE"===this.state.endpointMode.provider&&(t=1),this.formValues.Type=t;const{fileContent:n,type:a}=this.$state.params;this.formValues.FileContent=n,a&&(this.formValues.Type=+a);try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error("Failure loading",e,"Failed loading custom templates")}this.state.loading=!1,this.$window.onbeforeunload=()=>{if("editor"===this.state.Method&&this.formValues.FileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if("editor"===this.state.Method&&this.formValues.FileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}}o.$inject=["$async","$state","$window","Authentication","ModalService","CustomTemplateService","FormValidator","Notifications","ResourceControlService","StackService","StateManager"];const l=o},31268:(e,t,n)=>{"use strict";n.r(t);var a=n(46581);const s=n(53068);angular.module("portainer.app").component("createCustomTemplateView",{templateUrl:s,controller:a.default})},77999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(51235),s=n.n(a),i=n(71204),r=n.n(i),o=n(19898),l=n(71541);class c{constructor(e,t,n,a,s,i,r,c,d,u,p,m,g){this.$anchorScroll=e,this.$async=t,this.$rootScope=n,this.$state=a,this.Authentication=s,this.CustomTemplateService=i,this.FormValidator=r,this.ModalService=c,this.NetworkService=d,this.Notifications=u,this.ResourceControlService=p,this.StateManager=g,this.StackService=m,this.DOCKER_STANDALONE="DOCKER_STANDALONE",this.DOCKER_SWARM_MODE="DOCKER_SWARM_MODE",this.state={selectedTemplate:null,showAdvancedOptions:!1,formValidationError:"",actionInProgress:!1,isEditorVisible:!1,deployable:!1,templateNameRegex:l.TEMPLATE_NAME_VALIDATION_REGEX},this.currentUser={isAdmin:!1,id:null},this.formValues={network:"",name:"",fileContent:"",AccessControlData:new o.AccessControlFormData},this.getTemplates=this.getTemplates.bind(this),this.getTemplatesAsync=this.getTemplatesAsync.bind(this),this.removeTemplates=this.removeTemplates.bind(this),this.removeTemplatesAsync=this.removeTemplatesAsync.bind(this),this.validateForm=this.validateForm.bind(this),this.createStack=this.createStack.bind(this),this.createStackAsync=this.createStackAsync.bind(this),this.selectTemplate=this.selectTemplate.bind(this),this.selectTemplateAsync=this.selectTemplateAsync.bind(this),this.unselectTemplate=this.unselectTemplate.bind(this),this.unselectTemplateAsync=this.unselectTemplateAsync.bind(this),this.getNetworks=this.getNetworks.bind(this),this.getNetworksAsync=this.getNetworksAsync.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.confirmDeleteAsync=this.confirmDeleteAsync.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.isEditAllowed=this.isEditAllowed.bind(this)}isEditAllowed(e){return this.currentUser.isAdmin||this.currentUser.id===e.CreatedByUserId}getTemplates(){return this.$async(this.getTemplatesAsync)}async getTemplatesAsync(){try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error("Failed loading templates",e,"Unable to load custom templates")}}removeTemplates(e){return this.$async(this.removeTemplatesAsync,e)}async removeTemplatesAsync(e){for(let t of e)try{await this.CustomTemplateService.remove(t.id),this.Notifications.success("Removed template successfully"),r()(this.templates,t)}catch(e){this.Notifications.error("Failed removing template",e,"Unable to remove custom template")}}validateForm(e,t){this.state.formValidationError="";const n=this.FormValidator.validateAccessControl(e,t);return!n||(this.state.formValidationError=n,!1)}createStack(){return this.$async(this.createStackAsync)}async createStackAsync(){const e=this.currentUser.id,t=this.formValues.AccessControlData;if(!this.validateForm(t,this.currentUser.isAdmin))return;const n=this.formValues.name,a=this.endpoint.Id;this.state.actionInProgress=!0;try{const s=this.formValues.fileContent,i=1===this.state.selectedTemplate.Type?this.StackService.createSwarmStackFromFileContent:this.StackService.createComposeStackFromFileContent,{ResourceControl:r}=await i(n,s,[],a);await this.ResourceControlService.applyResourceControl(e,t,r),this.Notifications.success("Stack successfully deployed"),this.$state.go("docker.stacks")}catch(e){this.Notifications.error("Deployment error",e,"Failed to deploy stack")}finally{this.state.actionInProgress=!1}}unselectTemplate(e){return this.$async(this.unselectTemplateAsync,e)}async unselectTemplateAsync(e){e.Selected=!1,this.state.selectedTemplate=null,this.formValues={network:"",name:"",fileContent:"",AccessControlData:new o.AccessControlFormData}}selectTemplate(e){return this.$async(this.selectTemplateAsync,e)}async selectTemplateAsync(e){if(!this.Authentication.isAdmin()&&!this.Authentication.hasAuthorizations(["DockerContainerCreate","PortainerStackCreate"]))return;this.state.selectedTemplate&&await this.unselectTemplate(this.state.selectedTemplate),e.Selected=!0,this.formValues.network=s()(this.availableNetworks,(function(e){return"bridge"===e.Name})),this.formValues.name=e.Title?e.Title:"",this.state.selectedTemplate=e;const t=this.StateManager.getState();this.state.deployable=this.isDeployable(t.endpoint,e.Type),this.$anchorScroll("view-top");const n=await this.CustomTemplateService.customTemplateFile(e.Id);this.formValues.fileContent=n}isDeployable(e,t){let n=!1;switch(t){case 1:n=e.mode.provider===this.DOCKER_SWARM_MODE;break;case 2:n=e.mode.provider===this.DOCKER_STANDALONE}return n}getNetworks(e,t){return this.$async(this.getNetworksAsync,e,t)}async getNetworksAsync(e,t){try{const n=await this.NetworkService.networks("DOCKER_STANDALONE"===e||"DOCKER_SWARM_MODE"===e,!1,"DOCKER_SWARM_MODE"===e&&t>=1.25);this.availableNetworks=n}catch(e){this.Notifications.error("Failure",e,"Failed to load networks.")}}confirmDelete(e){return this.$async(this.confirmDeleteAsync,e)}async confirmDeleteAsync(e){if(await this.ModalService.confirmDeletionAsync(""))try{await this.CustomTemplateService.remove(e),r()(this.templates,{Id:e})}catch(e){this.Notifications.error("Failure",e,"Failed to delete template")}}editorUpdate(e){this.formValues.fileContent=e.getValue()}$onInit(){const e=this.StateManager.getState(),{endpoint:{mode:t},apiVersion:n}=e;this.getTemplates(),this.getNetworks(t.provider,n),this.currentUser.isAdmin=this.Authentication.isAdmin();const a=this.Authentication.getUserDetails();this.currentUser.id=a.ID}}c.$inject=["$anchorScroll","$async","$rootScope","$state","Authentication","CustomTemplateService","FormValidator","ModalService","NetworkService","Notifications","ResourceControlService","StackService","StateManager"];const d=c},17598:(e,t,n)=>{"use strict";n.r(t);var a=n(77999);const s=n(4662);angular.module("portainer.app").component("customTemplatesView",{templateUrl:s,controller:a.default,bindings:{endpoint:"<"}})},31097:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(99432),s=n.n(a),i=n(19898),r=n(45429);class o{constructor(e,t,n,a,s,i,r,o,l){Object.assign(this,{$async:e,$state:t,$window:n,ModalService:a,Authentication:s,CustomTemplateService:i,FormValidator:r,Notifications:o,ResourceControlService:l}),this.formValues=null,this.state={formValidationError:"",isEditorDirty:!1},this.templates=[],this.getTemplate=this.getTemplate.bind(this),this.getTemplateAsync=this.getTemplateAsync.bind(this),this.submitAction=this.submitAction.bind(this),this.submitActionAsync=this.submitActionAsync.bind(this),this.editorUpdate=this.editorUpdate.bind(this)}getTemplate(){return this.$async(this.getTemplateAsync)}async getTemplateAsync(){try{const[e,t]=await Promise.all([this.CustomTemplateService.customTemplate(this.$state.params.id),this.CustomTemplateService.customTemplateFile(this.$state.params.id)]);e.FileContent=t,this.formValues=e,this.oldFileContent=this.formValues.FileContent,this.formValues.ResourceControl=new r.w(e.ResourceControl),this.formValues.AccessControlData=new i.AccessControlFormData}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve custom template data")}}validateForm(){if(this.state.formValidationError="",!this.formValues.FileContent)return this.state.formValidationError="Template file content must not be empty",!1;const e=this.formValues.Title,t=this.$state.params.id;if(s()(this.templates,(n=>n.Title===e&&n.Id!=t)))return this.state.formValidationError=`A template with the name ${e} already exists`,!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,i=this.FormValidator.validateAccessControl(a,n);return!i||(this.state.formValidationError=i,!1)}submitAction(){return this.$async(this.submitActionAsync)}async submitActionAsync(){if(this.validateForm()){this.actionInProgress=!0;try{await this.CustomTemplateService.updateCustomTemplate(this.formValues.Id,this.formValues);const e=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(e,this.formValues.AccessControlData,this.formValues.ResourceControl),this.Notifications.success("Custom template successfully updated"),this.state.isEditorDirty=!1,this.$state.go("docker.templates.custom")}catch(e){this.Notifications.error("Failure",e,"Unable to update custom template")}finally{this.actionInProgress=!1}}}editorUpdate(e){this.formValues.FileContent.replace(/(\r\n|\n|\r)/gm,"")!==e.getValue().replace(/(\r\n|\n|\r)/gm,"")&&(this.formValues.FileContent=e.getValue(),this.state.isEditorDirty=!0)}async uiCanExit(){if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){this.getTemplate();try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error("Failure loading",e,"Failed loading custom templates")}this.$window.onbeforeunload=()=>{if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}}o.$inject=["$async","$state","$window","ModalService","Authentication","CustomTemplateService","FormValidator","Notifications","ResourceControlService"];const l=o},69659:(e,t,n)=>{"use strict";n.r(t);var a=n(31097);const s=n(63928);angular.module("portainer.app").component("editCustomTemplateView",{templateUrl:s,controller:a.default})},11937:(e,t,n)=>{"use strict";n.r(t);var a=n(15964),s=n.n(a),i=n(74808),r=n(60122);angular.module("portainer.app").controller("ImportDeviceController",["$async","$q","$scope","$state","EndpointService","GroupService","TagService","Notifications","Authentication","FileUploadService",function(e,t,n,a,o,l,c,d,u,p){async function m(e){try{const t=await c.createTag(e);n.availableTags=n.availableTags.concat(t),n.formValues.TagIds=n.formValues.TagIds.concat(t.Id)}catch(e){d.error("Failure",e,"Unable to create tag")}}n.state={actionInProgress:!1,vouchersUploading:!1,vouchersUploaded:!1,deviceIDs:[],allowCreateTag:u.isAdmin()},n.formValues={DeviceName:"",DeviceProfile:"",GroupId:1,TagIds:[],VoucherFiles:[],PortainerURL:"",Suffix:1},n.profiles=[],n.onVoucherFilesChange=function(){if(n.formValues.VoucherFiles.length<1)return;n.state.vouchersUploading=!0;let e=n.formValues.VoucherFiles.map((e=>p.uploadOwnershipVoucher(e)));t.all(e).then((function(e){n.state.vouchersUploading=!1,n.state.vouchersUploaded=!0,n.state.deviceIDs=e.map((e=>e.data.guid))})).catch((function(e){n.state.vouchersUploading=!1,1===n.formValues.VoucherFiles.length?d.error("Failure",e,"Unable to upload the Ownership Voucher"):d.error("Failure",null,"Unable to upload the Ownership Vouchers, please check the logs")}))},n.onCreateTag=function(t){return e(m,t)},n.createEndpointAndConfigureDevice=function(){return e((async()=>{n.state.actionInProgress=!0;let e=n.formValues.Suffix;for(const a of n.state.deviceIDs){let l=n.formValues.DeviceName+e;try{var t=await o.createRemoteEndpoint(l,i.PortainerEndpointCreationTypes.EdgeAgentEnvironment,n.formValues.PortainerURL,"",n.formValues.GroupId,n.formValues.TagIds,!1,!1,!1,null,null,null,null,!0)}catch(e){return d.error("Failure",e,"Unable to create the environment"),void(n.state.actionInProgress=!1)}e++;const c={edgeID:t.EdgeID||s()(),edgeKey:t.EdgeKey,name:l,profile:n.formValues.DeviceProfile};try{await(0,r.e6)(a,c)}catch(e){return void d.error("Failure",e,"Unable to import device")}finally{n.state.actionInProgress=!1}}d.success("Device(s) successfully imported"),a.go("edge.devices")}))},async function(){try{n.profiles=await(0,r.cp)()}catch(e){return void d.error("Failure",e,"Unable to load profiles")}t.all({groups:l.groups(),tags:c.tags()}).then((function(e){n.groups=e.groups,n.availableTags=e.tags})).catch((function(e){d.error("Failure",e,"Unable to load groups")}))}()}])},35696:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a),i=n(60122);function r(e,t,n,a,s,r,o){e.formValues={name:"",profileFileContent:""},e.state={method:"editor",actionInProgress:!1,isEditorDirty:!1},a.onbeforeunload=()=>{if("editor"===e.state.method&&e.formValues.profileFileContent&&e.state.isEditorDirty)return""},e.$on("$destroy",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=function(t){e.formValues=t},e.createProfileAsync=function(){return t((async()=>{const t=e.state.method,a=e.formValues.name,s=e.formValues.profileFileContent;if("editor"===t||""!==s){e.state.actionInProgress=!0;try{await(0,i.ED)(a,t,s),o.success("Profile successfully created"),e.state.isEditorDirty=!1,n.go("portainer.settings.edgeCompute")}catch(e){o.error("Failure",e,"Unable to create Profile")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError="Profile file content must not be empty"}))},e.onChangeFileContent=function(t){e.formValues.profileFileContent=t,e.state.isEditorDirty=!0}}r.$inject=["$scope","$async","$state","$window","ModalService","Authentication","Notifications"],s().module("portainer.app").controller("AddProfileController",r)},91067:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(35696);const r=n(64306);s().module("portainer.app").component("addProfileView",{templateUrl:r,controller:i.default})},21199:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a),i=n(60122);function r(e,t,n,a,s,r,o){e.formValues={name:"",profileFileContent:""},e.state={profileID:n.params.id,method:"editor",actionInProgress:!1,isEditorDirty:!1},a.onbeforeunload=()=>{if("editor"===e.state.method&&e.formValues.profileFileContent&&e.state.isEditorDirty)return""},e.$on("$destroy",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=function(t){e.formValues=t},e.updateProfileAsync=function(){return t((async()=>{const t=e.state.method,a=e.formValues.name,s=e.formValues.profileFileContent;if("editor"===t||""!==s){e.state.actionInProgress=!0;try{await(0,i.ck)(e.state.profileID,a,s),o.success("Profile successfully updated"),e.state.isEditorDirty=!1,n.go("portainer.settings.edgeCompute")}catch(e){o.error("Failure",e,"Unable to update Profile")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError="Profile file content must not be empty"}))},e.onChangeFileContent=function(t){e.formValues.profileFileContent=t,e.state.isEditorDirty=!0},async function(){t((async()=>{try{const t=await(0,i.Ai)(e.state.profileID);e.formValues={name:t.name,profileFileContent:t.fileContent},e.state.isEditorDirty=!1}catch(e){o.error("Failure",e,"Unable to retrieve profile details")}}))}()}r.$inject=["$scope","$async","$state","$window","ModalService","Authentication","Notifications"],s().module("portainer.app").controller("EditProfileController",r)},42041:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(21199);const r=n(71149);s().module("portainer.app").component("editProfileView",{templateUrl:r,controller:i.default})},36582:(e,t,n)=>{const a=n(56058);angular.module("portainer.app").component("endpointRegistriesView",{templateUrl:a,controller:"EndpointRegistriesController",bindings:{endpoint:"<"}})},54886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(56414);class s{constructor(e,t,n,a){this.$async=e,this.Authentication=t,this.Notifications=n,this.EndpointService=a,this.canManageAccess=this.canManageAccess.bind(this)}canManageAccess(e){return e.Type!==a.RegistryTypes.ANONYMOUS}getRegistries(){return this.$async((async()=>{try{const e=await this.EndpointService.registries(this.endpointId);this.registries=e}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}}))}$onInit(){return this.$async((async()=>{this.Authentication.redirectIfUnauthorized(["PortainerRegistryList"]),this.state={viewReady:!1};try{this.endpointType=this.endpoint.Type,this.endpointId=this.endpoint.Id,await this.getRegistries()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}finally{this.state.viewReady=!0}}))}}s.$inject=["$async","Authentication","Notifications","EndpointService"];const i=s;angular.module("portainer.app").controller("EndpointRegistriesController",s)},16962:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(26196);class r{constructor(e,t,n,a,s,r){this.$state=e,this.$transition$=t,this.Notifications=n,this.EndpointService=a,this.GroupService=s,this.$async=r,this.limitedFeature=i.tE.RBAC_ROLES,this.updateAccess=this.updateAccess.bind(this),this.updateAccessAsync=this.updateAccessAsync.bind(this)}async $onInit(){this.state={actionInProgress:!1};try{this.endpoint=await this.EndpointService.endpoint(this.$transition$.params().id),this.group=await this.GroupService.group(this.endpoint.GroupId)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment information")}}updateAccess(){return this.$async(this.updateAccessAsync)}async updateAccessAsync(){try{this.state.actionInProgress=!0,await this.EndpointService.updateEndpoint(this.$transition$.params().id,this.endpoint),this.Notifications.success("Access successfully updated"),this.$state.reload(this.$state.current)}catch(e){this.state.actionInProgress=!1,this.Notifications.error("Failure",e,"Unable to update accesses")}}}r.$inject=["$state","$transition$","Notifications","EndpointService","GroupService","$async"];const o=r;s().module("portainer.app").controller("EndpointAccessController",r)},21448:(e,t,n)=>{"use strict";n.r(t);var a=n(74808),s=n(13853),i=n(50433),r=n(25229),o=n(52474);angular.module("portainer.app").controller("CreateEndpointController",["$async","$analytics","$q","$scope","$state","$filter","clipboard","EndpointService","GroupService","TagService","SettingsService","Notifications","Authentication","StateManager",function(e,t,n,l,c,d,u,p,m,g,h,f,v,b){l.state={EnvironmentType:c.params.isEdgeDevice?"edge_agent":"agent",PlatformType:"linux",actionInProgress:!1,deploymentTab:0,allowCreateTag:v.isAdmin(),isEdgeDevice:c.params.isEdgeDevice,availableEdgeAgentCheckinOptions:[{key:"Use default interval",value:0},{key:"5 seconds",value:5},{key:"10 seconds",value:10},{key:"30 seconds",value:30},{key:"5 minutes",value:300},{key:"1 hour",value:3600},{key:"1 day",value:86400}]};const y=b.getState().application.version;async function w(e){try{const t=await g.createTag(e);l.availableTags=l.availableTags.concat(t),l.formValues.TagIds=l.formValues.TagIds.concat(t.Id)}catch(e){f.error("Failure",e,"Unable to create tag")}}async function x(t,n,s,i,r,o,d,u,m,g,h,v,b){return e((async()=>{l.state.actionInProgress=!0;try{const e=await p.createRemoteEndpoint(t,n,s,i,r,o,d,u,m,g,h,v,b,l.state.isEdgeDevice);switch(f.success("Environment created",t),e.Type){case a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:case a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:c.go("portainer.endpoints.endpoint",{id:e.Id});break;case a.PortainerEndpointTypes.AgentOnKubernetesEnvironment:c.go("portainer.k8sendpoint.kubernetesConfig",{id:e.Id});break;default:c.go("portainer.endpoints",{},{reload:!0})}return e}catch(e){f.error("Failure",e,"Unable to create environment")}finally{l.state.actionInProgress=!1}}))}l.agentShortVersion=(0,s.getAgentShortVersion)(y),l.formValues={Name:"",URL:"",PublicURL:"",GroupId:1,SecurityFormData:new r.EndpointSecurityFormData,AzureApplicationId:"",AzureTenantId:"",AzureAuthenticationKey:"",TagIds:[],CheckinInterval:l.state.availableEdgeAgentCheckinOptions[0].value},l.copyAgentCommand=function(){2===l.state.deploymentTab&&"linux"===l.state.PlatformType?u.copyText(`curl -L https://downloads.portainer.io/agent-stack-ee${l.agentShortVersion}.yml -o agent-stack.yml && docker stack deploy --compose-file=agent-stack.yml portainer-agent`):2===l.state.deploymentTab&&"windows"===l.state.PlatformType?u.copyText(`curl -L https://downloads.portainer.io/agent-stack-ee${l.agentShortVersion}-windows.yml -o agent-stack-windows.yml && docker stack deploy --compose-file=agent-stack-windows.yml portainer-agent`):1===l.state.deploymentTab?u.copyText(`curl -L https://downloads.portainer.io/portainer-agent-ee${l.agentShortVersion}-k8s-nodeport.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml`):u.copyText(`curl -L https://downloads.portainer.io/portainer-agent-ee${l.agentShortVersion}-k8s-lb.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml`),o("#copyNotification").show().fadeOut(2500)},l.setDefaultPortainerInstanceURL=function(){const e=(0,i.baseHref)();l.formValues.URL=window.location.origin+("/"!==e?e:"")},l.resetEndpointURL=function(){l.formValues.URL=""},l.onCreateTag=function(t){return e(w,t)},l.addDockerEndpoint=function(){var e=l.formValues.Name,t=d("stripprotocol")(l.formValues.URL),n=l.formValues.PublicURL,s=l.formValues.GroupId,i=l.formValues.TagIds;if(l.formValues.ConnectSocket)t=l.formValues.SocketPath,l.state.actionInProgress=!0,p.createLocalEndpoint(e,t,n,s,i).then((function(){f.success("Environment created",e),c.go("portainer.endpoints",{},{reload:!0})})).catch((function(e){f.error("Failure",e,"Unable to create environment")})).finally((function(){l.state.actionInProgress=!1}));else{""===n&&(n=t.split(":")[0]);var r=l.formValues.SecurityFormData,o=r.TLS,u=r.TLSMode,m=o&&("tls_client_noca"===u||"tls_only"===u),g=o&&("tls_ca"===u||"tls_only"===u),h=m?null:r.TLSCACert,v=g?null:r.TLSCert,b=g?null:r.TLSKey;x(e,a.PortainerEndpointCreationTypes.LocalDockerEnvironment,t,n,s,i,o,m,g,h,v,b)}},l.addKubernetesEndpoint=function(){var e=l.formValues.Name,t=l.formValues.TagIds;l.state.actionInProgress=!0,p.createLocalKubernetesEndpoint(e,t).then((function(t){f.success("Environment created",e),c.go("portainer.k8sendpoint.kubernetesConfig",{id:t.Id})})).catch((function(e){f.error("Failure",e,"Unable to create environment")})).finally((function(){l.state.actionInProgress=!1}))},l.addAgentEndpoint=async function(){return e((async()=>{const e=l.formValues.Name,s=l.formValues.URL,i=""===l.formValues.PublicURL?s.split(":")[0]:l.formValues.PublicURL,r=l.formValues.GroupId,o=l.formValues.TagIds,c=await x(e,a.PortainerEndpointCreationTypes.AgentEnvironment,s,i,r,o,!0,!0,!0,null,null,null);t.eventTrack("portainer-endpoint-creation",{category:"portainer",metadata:{type:"agent",platform:n(c.Type)}})}));function n(e){switch(e){case a.PortainerEndpointTypes.DockerEnvironment:case a.PortainerEndpointTypes.AgentOnDockerEnvironment:case a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:return"docker";case a.PortainerEndpointTypes.KubernetesLocalEnvironment:case a.PortainerEndpointTypes.AgentOnKubernetesEnvironment:case a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:return"kubernetes"}}},l.addEdgeAgentEndpoint=function(){var e=l.formValues.Name,t=l.formValues.GroupId,n=l.formValues.TagIds,s=l.formValues.URL;x(e,a.PortainerEndpointCreationTypes.EdgeAgentEnvironment,s,"",t,n,!1,!1,!1,null,null,null,l.formValues.CheckinInterval)},l.addAzureEndpoint=function(){var e,t,n,a,s,i;e=l.formValues.Name,t=l.formValues.AzureApplicationId,n=l.formValues.AzureTenantId,a=l.formValues.AzureAuthenticationKey,s=l.formValues.GroupId,i=l.formValues.TagIds,l.state.actionInProgress=!0,p.createAzureEndpoint(e,t,n,a,s,i).then((function(){f.success("Environment created",e),c.go("portainer.endpoints",{},{reload:!0})})).catch((function(e){f.error("Failure",e,"Unable to create environment")})).finally((function(){l.state.actionInProgress=!1}))},n.all({groups:m.groups(),tags:g.tags(),settings:h.settings()}).then((function(e){l.groups=e.groups,l.availableTags=e.tags;const t=e.settings;l.state.availableEdgeAgentCheckinOptions[0].key+=` (${t.EdgeAgentCheckinInterval} seconds)`})).catch((function(e){f.error("Failure",e,"Unable to load groups")}))}])},80418:(e,t,n)=>{"use strict";n.r(t);var a=n(17465),s=n.n(a),i=n(15964),r=n.n(i),o=n(74808),l=n(25229),c=n(13853),d=n(70589),u=n(76827),p=n(52474);function m(e,t,n,a,i,m,g,h,f,v,b,y,w,x){const S="kubernetes",k="windows",$="linux";async function C(e){try{const n=await f.createTag(e);t.availableTags=t.availableTags.concat(n),t.endpoint.TagIds=t.endpoint.TagIds.concat(n.Id)}catch(e){v.error("Failue",e,"Unable to create tag")}}function A(e){t.endpoint.ManagementInfo.AMT=e,t.endpoint.ManagementInfo.UUID="-",t.endpoint.ManagementInfo["Control Mode"]="-",t.endpoint.ManagementInfo["Build Number"]="-",t.endpoint.ManagementInfo["DNS Suffix"]="-"}function P(){return""===t.formValues.EnvVarSource?[]:t.formValues.EnvVarSource.split(",").map((function(e){if(""!==e)return`-e ${e} \\`})).filter((e=>void 0!==e))}t.agentVersion=w.getState().application.version,t.agentShortVersion=(0,c.getAgentShortVersion)(t.agentVersion),t.state={uploadInProgress:!1,actionInProgress:!1,deploymentTab:S,platformType:$,azureEndpoint:!1,kubernetesEndpoint:!1,agentEndpoint:!1,edgeEndpoint:!1,allowCreate:b.isAdmin(),availableEdgeAgentCheckinOptions:[{key:"Use default interval",value:0},{key:"5 seconds",value:5},{key:"10 seconds",value:10},{key:"30 seconds",value:30},{key:"5 minutes",value:300},{key:"1 hour",value:3600},{key:"1 day",value:86400}],allowSelfSignedCerts:!0,showAMTInfo:!1},t.dockerCommands={standalone:{[$]:function(e,t,n,a){return["docker run -d \\","-v /var/run/docker.sock:/var/run/docker.sock \\","-v /var/lib/docker/volumes:/var/lib/docker/volumes \\","-v /:/host \\","-v portainer_agent_data:/data \\","--restart always \\","-e EDGE=1 \\",`-e EDGE_ID=${t} \\`,`-e EDGE_KEY=${n} \\`,"-e CAP_HOST_MANAGEMENT=1 \\",`-e EDGE_INSECURE_POLL=${a?1:0} \\`,...P(),"--name portainer_edge_agent \\",`portainer/agent:${e}`].join("\r\n")},[k]:function(e,t,n,a){return["docker run -d \\","--mount type=npipe,src=\\\\.\\pipe\\docker_engine,dst=\\\\.\\pipe\\docker_engine \\","--mount type=bind,src=C:\\ProgramData\\docker\\volumes,dst=C:\\ProgramData\\docker\\volumes \\","--mount type=volume,src=portainer_agent_data,dst=C:\\data \\","--restart always \\","-e EDGE=1 \\",`-e EDGE_ID=${t} \\`,`-e EDGE_KEY=${n} \\`,"-e CAP_HOST_MANAGEMENT=1 \\",`-e EDGE_INSECURE_POLL=${a?1:0} \\`,...P(),"--name portainer_edge_agent \\",`portainer/agent:${e}`].join("\r\n")}},swarm:{[$]:function(e,t,n,a){return["docker network create \\","--driver overlay \\","portainer_agent_network;","","docker service create \\","--name portainer_edge_agent \\","--network portainer_agent_network \\","-e AGENT_CLUSTER_ADDR=tasks.portainer_edge_agent \\","-e EDGE=1 \\",`-e EDGE_ID=${t} \\`,`-e EDGE_KEY=${n} \\`,"-e CAP_HOST_MANAGEMENT=1 \\",`-e EDGE_INSECURE_POLL=${a?1:0} \\`,...P(),"--mode global \\","--constraint 'node.platform.os == linux' \\","--mount type=bind,src=//var/run/docker.sock,dst=/var/run/docker.sock \\","--mount type=bind,src=//var/lib/docker/volumes,dst=/var/lib/docker/volumes \\","--mount type=bind,src=//,dst=/host \\","--mount type=volume,src=portainer_agent_data,dst=/data \\",`portainer/agent:${e}`].join("\r\n")},[k]:function(e,t,n,a){return["docker network create \\","--driver overlay \\","portainer_agent_network;","","docker service create \\","--name portainer_edge_agent \\","--network portainer_agent_network \\","-e AGENT_CLUSTER_ADDR=tasks.portainer_edge_agent \\","-e EDGE=1 \\",`-e EDGE_ID=${t} \\`,`-e EDGE_KEY=${n} \\`,"-e CAP_HOST_MANAGEMENT=1 \\",`-e EDGE_INSECURE_POLL=${a?1:0} \\`,...P(),"--mode global \\","--constraint 'node.platform.os == windows' \\","--mount type=npipe,src=\\\\.\\pipe\\docker_engine,dst=\\\\.\\pipe\\docker_engine \\","--mount type=bind,src=C:\\ProgramData\\docker\\volumes,dst=C:\\ProgramData\\docker\\volumes \\","--mount type=volume,src=portainer_agent_data,dst=C:\\data \\",`portainer/agent:${e}`].join("\r\n")}},[S]:{[$]:function(e,t,n,a){return`curl https://downloads.portainer.io/portainer-ee${e}-edge-agent-setup.sh | bash -s -- ${t} ${n} ${a?"1":"0"}`},[k]:()=>""}},t.formValues={SecurityFormData:new l.EndpointSecurityFormData,EnvVarSource:""},t.isKubernetesDeploymentTabSelected=function(){return t.state.deploymentTab===S},t.copyEdgeAgentDeploymentCommand=function(){let e=t.agentVersion;t.state.deploymentTab==S&&(e=t.agentShortVersion);const n=t.dockerCommands[t.state.deploymentTab][t.state.platformType](e,t.endpoint.EdgeID,t.endpoint.EdgeKey,t.state.allowSelfSignedCerts);m.copyText(n.trim()),p("#copyNotificationDeploymentCommand").show().fadeOut(2500)},t.copyEdgeAgentKey=function(){m.copyText(t.endpoint.EdgeKey),p("#copyNotificationEdgeKey").show().fadeOut(2500)},t.onCreateTag=function(t){return e(C,t)},t.onToggleAllowSelfSignedCerts=function(e){return t.$evalAsync((()=>{t.state.allowSelfSignedCerts=e}))},t.onDeassociateEndpoint=async function(){x.confirmDeassociate((e=>{e&&async function(){var e=t.endpoint;try{t.state.actionInProgress=!0,await g.deassociateEndpoint(e.Id),v.success("Environment de-associated",t.endpoint.Name),n.reload()}catch(e){v.error("Failure",e,"Unable to de-associate environment")}finally{t.state.actionInProgress=!1}}()}))},t.updateEndpoint=function(){var e=t.endpoint,a=t.formValues.SecurityFormData,s=a.TLS,i=a.TLSMode,r=s&&("tls_client_noca"===i||"tls_only"===i),l=s&&("tls_ca"===i||"tls_only"===i),c={Name:e.Name,PublicURL:e.PublicURL,GroupID:e.GroupId,TagIds:e.TagIds,EdgeCheckinInterval:e.EdgeCheckinInterval,TLS:s,TLSSkipVerify:r,TLSSkipClientVerify:l,TLSCACert:r||a.TLSCACert===e.TLSConfig.TLSCACert?null:a.TLSCACert,TLSCert:l||a.TLSCert===e.TLSConfig.TLSCert?null:a.TLSCert,TLSKey:l||a.TLSKey===e.TLSConfig.TLSKey?null:a.TLSKey,AzureApplicationID:e.AzureCredentials.ApplicationID,AzureTenantID:e.AzureCredentials.TenantID,AzureAuthenticationKey:e.AzureCredentials.AuthenticationKey};t.showSecurity||delete c.TLS,"local"!==t.endpointType&&e.Type!==o.PortainerEndpointTypes.AzureEnvironment&&e.Type!==o.PortainerEndpointTypes.KubernetesLocalEnvironment&&e.Type!==o.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&(c.URL="tcp://"+e.URL),e.Type===o.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&(c.URL=e.URL),e.Type===o.PortainerEndpointTypes.KubernetesLocalEnvironment&&(c.URL="https://"+e.URL),t.state.actionInProgress=!0,g.updateEndpoint(e.Id,c).then((function(){v.success("Environment updated",t.endpoint.Name),n.go("portainer.endpoints",{},{reload:!0})}),(function(e){v.error("Failure",e,"Unable to update environment"),t.state.actionInProgress=!1}),(function(e){e.upload&&(t.state.uploadInProgress=e.upload)}))},async function(){e((async()=>{try{const[e,n,l,c]=await Promise.all([g.endpoint(a.params().id),h.groups(),f.tags(),y.settings()]);0===e.URL.indexOf("unix://")||0===e.URL.indexOf("npipe://")?t.endpointType="local":t.endpointType="remote",e.URL=i("stripprotocol")(e.URL),e.Type!==o.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&e.Type!==o.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.edgeKeyDetails=function(e){let t={};if(""===e)return t;let n=s()(atob(e),"|");return t.instanceURL=n[0],t.tunnelServerAddr=n[1],t}(e.EdgeKey),e.EdgeID=e.EdgeID||r()(),t.state.availableEdgeAgentCheckinOptions[0].key+=` (${c.EdgeAgentCheckinInterval} seconds)`),t.endpoint=e,t.groups=n,t.availableTags=l,t.endpoint.Type!==o.PortainerEndpointTypes.KubernetesLocalEnvironment&&t.endpoint.Type!==o.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&t.endpoint.Type!==o.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.kubernetesEndpoint=!0),t.endpoint.Type!==o.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.endpoint.Type!==o.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.edgeEndpoint=!0),t.endpoint.Type===o.PortainerEndpointTypes.AzureEnvironment&&(t.state.azureEndpoint=!0),t.endpoint.Type!==o.PortainerEndpointTypes.AgentOnDockerEnvironment&&t.endpoint.Type!==o.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.endpoint.Type!==o.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&t.endpoint.Type!==o.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.agentEndpoint=!0);const u=t.state.edgeEndpoint&&!e.EdgeID;d.default.isDockerEndpoint(e)&&!u&&(t.state.showAMTInfo=c&&c.openAMTConfiguration&&c.openAMTConfiguration.enabled)}catch(e){v.error("Failure",e,"Unable to retrieve environment details")}if(t.state.showAMTInfo)try{t.endpoint.ManagementInfo={};const e=await(0,u.eX)(n.params.id);try{t.endpoint.ManagementInfo=JSON.parse(e.RawOutput)}catch(t){A(e.RawOutput)}}catch(e){A("Unable to retrieve AMT environment details")}}))}()}m.$inject=["$async","$scope","$state","$transition$","$filter","clipboard","EndpointService","GroupService","TagService","Notifications","Authentication","SettingsService","StateManager","ModalService"],angular.module("portainer.app").controller("EndpointController",m)},81881:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(70589);function r(e,t,n,a,s,r,o,l,c,d){async function u(e){for(let t of e)try{await s.deleteEndpoint(t.Id),l.success("Environment successfully removed",t.Name)}catch(e){l.error("Failure",e,"Unable to remove environment")}const a=c.endpointID();e.some((e=>e.Id===a))&&(d.cleanEndpoint(),t.applicationState.endpoint={}),n.reload()}t.state={loadingMessage:""},t.setLoadingMessage=function(e){t.state.loadingMessage=e},t.removeAction=function(e){o.confirmDeletion("",(t=>{if(t)return a(u,e)}))},t.getPaginatedEndpoints=function(t,n,a){const o=e.defer();return e.all({endpoints:s.endpoints(t,n,{search:a}),groups:r.groups()}).then((function(e){var t=e.endpoints.value,n=e.groups;i.default.mapGroupNameToEndpoint(t,n),o.resolve({endpoints:t,totalCount:e.endpoints.totalCount})})).catch((function(e){l.error("Failure",e,"Unable to retrieve environment information")})),o.promise}}r.$inject=["$q","$scope","$state","$async","EndpointService","GroupService","ModalService","Notifications","EndpointProvider","StateManager"],s().module("portainer.app").controller("EndpointsController",r)},13853:(e,t,n)=>{"use strict";function a(e){const t=e.split(".");return t[0]+t[1]}n.r(t),n.d(t,{getAgentShortVersion:()=>a})},58118:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(76827);class r{constructor(e,t,n,a,s,i){this.$state=e,this.$scope=t,this.$async=n,this.$transition$=a,this.Notifications=i,this.EndpointService=s,this.$state.maximized=!1,this.$state.endpointId=a.params().id,this.$state.deviceId=a.params().deviceId,this.$state.deviceName=a.params().deviceName,t.maximize=function(){this.$state.maximized=!0},t.minimize=function(){this.$state.maximized=!1}}async $onInit(){this.$async((async()=>{try{this.$state.endpoint=await this.EndpointService.endpoint(this.$state.endpointId)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment information")}try{const e={ider:!0,kvm:!0,sol:!0,redirection:!0,userConsent:"none"},t=await(0,i.xv)(this.$state.endpointId,this.$state.deviceId,e);this.$state.mpsServer=t.Server,this.$state.mpsToken=t.Token}catch(e){this.Notifications.error("Failure",e,"Failed to load kvm for device")}}))}}r.$inject=["$state","$scope","$async","$transition$","EndpointService","Notifications"];const o=r;s().module("portainer.app").controller("EndpointKVMController",r)},63824:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(91602),r=n(66960),o=n(2629),l=(0,r.F)((function(e){var t=e.deviceId,n=e.server,a=e.token;return t&&n&&a?(0,o.jsx)(i.KVM,{deviceId:t,mpsServer:"https://".concat(n,"/mps/ws/relay"),authToken:a,mouseDebounceTime:"200",canvasHeight:"100%",canvasWidth:"100%"}):(0,o.jsx)("div",{children:"..."})}),["deviceId","server","token"]);s().module("portainer.app").component("kvmControl",l).name},79405:(e,t,n)=>{"use strict";n.r(t);var a=n(26196);angular.module("portainer.app").controller("GroupAccessController",["$scope","$state","$transition$","GroupService","Notifications",function(e,t,n,s,i){var r;e.limitedFeature=a.tE.RBAC_ROLES,e.updateAccess=function(){e.state.actionInProgress=!0,s.updateGroup(e.group,e.group.AssociatedEndpoints).then((()=>{i.success("Access successfully updated"),t.reload()})).catch((t=>{e.state.actionInProgress=!1,i.error("Failure",t,"Unable to update accesses")}))},r=n.params().id,e.state={actionInProgress:!1},s.group(r).then((function(t){e.group=t})).catch((function(e){i.error("Failure",e,"Unable to load view")}))}])},7249:(e,t,n)=>{"use strict";n.r(t);var a=n(79607);angular.module("portainer.app").controller("CreateGroupController",["$async","$scope","$state","GroupService","TagService","Notifications",function(e,t,n,s,i,r){async function o(e){try{const n=await i.createTag(e);t.availableTags=t.availableTags.concat(n),t.model.TagIds=t.model.TagIds.concat(n.Id)}catch(e){r.error("Failue",e,"Unable to create tag")}}t.state={actionInProgress:!1},t.create=function(){for(var e=t.model,a=[],i=0;i<t.associatedEndpoints.length;i++){var o=t.associatedEndpoints[i];a.push(o.Id)}t.state.actionInProgress=!0,s.createGroup(e,a).then((function(){r.success("Group successfully created"),n.go("portainer.groups",{},{reload:!0})})).catch((function(e){r.error("Failure",e,"Unable to create group")})).finally((function(){t.state.actionInProgress=!1}))},t.onCreateTag=function(t){return e(o,t)},i.tags().then((e=>{t.availableTags=e,t.associatedEndpoints=[],t.model=new a.EndpointGroupDefaultModel,t.loaded=!0})).catch((e=>{r.error("Failure",e,"Unable to retrieve tags")}))}])},9149:()=>{angular.module("portainer.app").controller("GroupController",["$q","$async","$scope","$state","$transition$","GroupService","TagService","Notifications",function(e,t,n,a,s,i,r,o){async function l(e){try{const t=await r.createTag(e);n.availableTags=n.availableTags.concat(t),n.group.TagIds=n.group.TagIds.concat(t.Id)}catch(e){o.error("Failue",e,"Unable to create tag")}}var c;n.state={actionInProgress:!1},n.update=function(){var e=n.group;n.state.actionInProgress=!0,i.updateGroup(e).then((function(){o.success("Group successfully updated"),a.go("portainer.groups",{},{reload:!0})})).catch((function(e){o.error("Failure",e,"Unable to update group")})).finally((function(){n.state.actionInProgress=!1}))},n.onCreateTag=function(e){return t(l,e)},c=s.params().id,e.all({group:i.group(c),tags:r.tags()}).then((function(e){n.group=e.group,n.availableTags=e.tags,n.loaded=!0})).catch((function(e){o.error("Failure",e,"Unable to load group details")}))}])},60160:(e,t,n)=>{"use strict";n.r(t);var a=n(71204),s=n.n(a),i=n(29274),r=n.n(i);function o(e,t,n,a,i){async function r(n){for(let t of n)try{await a.deleteGroup(t.Id),i.success("Environment group successfully removed",t.Name),s()(e.groups,t)}catch(e){i.error("Failure",e,"Unable to remove group")}t.reload()}e.removeAction=function(e){return n(r,e)},a.groups().then((function(t){e.groups=t})).catch((function(t){i.error("Failure",t,"Unable to retrieve environment groups"),e.groups=[]}))}o.$inject=["$scope","$state","$async","GroupService","Notifications"],r().module("portainer.app").controller("GroupsController",o)},72507:(e,t,n)=>{"use strict";n.r(t);var a=n(70589),s=n(65655);angular.module("portainer.app").controller("HomeController",["$q","$scope","$state","TagService","Authentication","EndpointService","GroupService","Notifications","EndpointProvider","StateManager","ModalService","MotdService","BackupService",function(e,t,n,i,r,o,l,c,d,u,p,m,g){t.state={connectingToEdgeEndpoint:!1,homepageLoadTime:""},t.goToEdit=function(e){n.go("portainer.endpoints.endpoint",{id:e})},t.goToDashboard=function(e){if(3!==e.Type){if(4===e.Type||7===e.Type){if(!e.EdgeID)return void n.go("portainer.endpoints.endpoint",{id:e.Id});t.state.connectingToEdgeEndpoint=!0}5!==e.Type&&6!==e.Type&&7!==e.Type?n.go("docker.dashboard",{endpointId:e.Id}):n.go("kubernetes.dashboard",{endpointId:e.Id})}else n.go("azure.dashboard",{endpointId:e.Id})},t.dismissImportantInformation=function(e){u.dismissImportantInformation(e)},t.dismissInformationPanel=function(e){u.dismissInformationPanel(e)},t.triggerSnapshot=function(){p.confirmEndpointSnapshot((function(e){e&&o.snapshotEndpoints().then((function(){c.success("Success","Environments updated"),n.reload()})).catch((function(e){c.error("Failure",e,"An error occured during environment snapshot")}))}))},t.getPaginatedEndpoints=function(t,n,i){const r=e.defer();return e.all({endpoints:(0,s.U8)(t,n,{search:i,edgeDeviceFilter:!1}),groups:l.groups()}).then((function(e){var t=e.endpoints.value,n=e.groups;a.default.mapGroupNameToEndpoint(t,n),d.setEndpoints(t),r.resolve({endpoints:t,totalCount:e.endpoints.totalCount})})).catch((function(e){c.error("Failure",e,"Unable to retrieve environment information")})),r.promise},async function(){t.state.homepageLoadTime=Math.floor(Date.now()/1e3),t.isAdmin=r.isAdmin(),m.motd().then((function(e){t.motd=e})),g.getBackupStatus().then((function(e){t.backupStatus=e}));try{t.tags=await i.tags()}catch(e){c.error("Failed loading page data",e)}}()}])},66246:()=>{function e(e=0){return new Promise((t=>setTimeout(t,1e3*e)))}angular.module("portainer.app").controller("InitAdminController",["$scope","$state","Notifications","Authentication","StateManager","SettingsService","UserService","BackupService","StatusService",function(t,n,a,s,i,r,o,l,c){async function d(s){t.state.backupInProgress=!0;try{await s()}catch(e){return a.error("Failure",e,"Unable to restore the backup"),void(t.state.backupInProgress=!1)}try{await async function(){for(let t=0;t<10;t++){await e(5);try{const e=await c.status();if(e&&e.Version)return}catch(e){}}throw new Error("Timeout to wait for Portainer restarting")}(),a.success("The backup has successfully been restored"),n.go("portainer.auth")}catch(t){a.error("Failure",t,"Unable to check for status"),await e(2),location.reload()}t.state.backupInProgress=!1}t.uploadBackup=async function(){t.state.backupInProgress=!0;const e=t.formValues.BackupFile,n=t.formValues.Password;d((()=>l.uploadBackup(e,n)))},t.restoreFromS3=async function(){t.state.backupInProgress=!0;const e={AccessKeyID:t.formValues.AccessKeyId,CronRule:t.formValues.CronRule,Password:t.formValues.Password,SecretAccessKey:t.formValues.SecretAccessKey,Region:t.formValues.Region,BucketName:t.formValues.BucketName,Filename:t.formValues.Filename};d((()=>l.restoreFromS3(e)))},t.logo=i.getState().application.logo,t.RESTORE_FORM_TYPES={S3:"s3",FILE:"file"},t.formValues={Username:"admin",Password:"",ConfirmPassword:"",enableTelemetry:!0,restoreFormType:t.RESTORE_FORM_TYPES.FILE},t.state={actionInProgress:!1,showInitPassword:!0,showRestorePortainer:!1},o.administratorExists().then((function(e){e&&n.go("portainer.wizard")})).catch((function(e){a.error("Failure",e,"Unable to verify administrator account existence")})),t.togglePanel=function(){t.state.showInitPassword=!t.state.showInitPassword,t.state.showRestorePortainer=!t.state.showRestorePortainer},t.createAdminUser=function(){var e=t.formValues.Username,l=t.formValues.Password;t.state.actionInProgress=!0,o.initAdministrator(e,l).then((function(){return s.login(e,l)})).then((function(){return r.update({enableTelemetry:t.formValues.enableTelemetry})})).then((()=>i.initialize())).then((function(){return n.go("portainer.init.license")})).catch((function(e){a.error("Failure",e,"Unable to create administrator user")})).finally((function(){t.state.actionInProgress=!1}))}}])},88611:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(4622),s=n.n(a),i=n(29274),r=n.n(i),o=n(690),l=n(74808);n(31714),n(6367),n(65535);class c{constructor(e,t,n,a,s,i){this.$async=e,this.$scope=t,this.$state=n,this.EndpointService=a,this.StateManager=s,this.Notifications=i,this.createLocalEndpointAsync=this.createLocalEndpointAsync.bind(this),this.createLocalKubernetesEndpointAsync=this.createLocalKubernetesEndpointAsync.bind(this),this.createAgentEndpointAsync=this.createAgentEndpointAsync.bind(this)}$onInit(){s()(this.$scope.applicationState.endpoint)||this.$state.go("portainer.home"),this.logo=this.StateManager.getState().application.logo,this.state={uploadInProgress:!1,actionInProgress:!1},this.formValues=new o.PortainerEndpointInitFormValues,this.endpointSections=o.PortainerEndpointInitFormValueEndpointSections,this.PortainerEndpointConnectionTypes=l.PortainerEndpointConnectionTypes}isConnectButtonDisabled(){switch(this.formValues.ConnectionType){case l.PortainerEndpointConnectionTypes.DOCKER_LOCAL:case l.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL:return this.state.actionInProgress;case l.PortainerEndpointConnectionTypes.AGENT:return this.state.actionInProgress||!this.formValues.Name||!this.formValues.URL}}createEndpoint(){switch(this.formValues.ConnectionType){case l.PortainerEndpointConnectionTypes.DOCKER_LOCAL:return this.createLocalEndpoint();case l.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL:return this.createLocalKubernetesEndpoint();case l.PortainerEndpointConnectionTypes.AGENT:return this.createAgentEndpoint();default:this.Notifications.error("Failure",null,"Unable to determine which action to do to create environment")}}skipEndpointCreation(){this.$state.go("portainer.home")}async createLocalEndpointAsync(){try{this.state.actionInProgress=!0,await this.EndpointService.createLocalEndpoint(),this.$state.go("portainer.home")}catch(e){this.Notifications.error("Failure",e,"Unable to connect to the Docker environment")}finally{this.state.actionInProgress=!1}}createLocalEndpoint(){return this.$async(this.createLocalEndpointAsync)}async createLocalKubernetesEndpointAsync(){try{this.state.actionInProgress=!0;const e=await this.EndpointService.createLocalKubernetesEndpoint();this.$state.go("portainer.k8sendpoint.kubernetesConfig",{id:e.Id})}catch(e){this.Notifications.error("Failure",e,"Unable to connect to the Kubernetes environment")}finally{this.state.actionInProgress=!1}}createLocalKubernetesEndpoint(){return this.$async(this.createLocalKubernetesEndpointAsync)}async createAgentEndpointAsync(){try{this.state.actionInProgress=!0;const e=this.formValues.Name,t=this.formValues.URL,n=t.split(":")[0],a=await this.EndpointService.createRemoteEndpoint(e,l.PortainerEndpointCreationTypes.AgentEnvironment,t,n,1,[],!0,!0,!0,null,null,null),s=a.Type===l.PortainerEndpointTypes.AgentOnKubernetesEnvironment?"portainer.k8sendpoint.kubernetesConfig":"portainer.home";this.$state.go(s,{id:a.Id})}catch(e){this.Notifications.error("Failure",e,"Unable to connect to the Docker environment")}finally{this.state.actionInProgress=!1}}createAgentEndpoint(){return this.$async(this.createAgentEndpointAsync)}}c.$inject=["$async","$scope","$state","EndpointService","StateManager","Notifications"];const d=c;r().module("portainer.app").controller("InitEndpointController",c)},66026:(e,t,n)=>{"use strict";n.r(t);var a=n(63346);const s=n(26996);angular.module("portainer.app").component("initLicenseView",{templateUrl:s,controller:a.default})},63346:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n,a){this.$async=e,this.$state=t,this.LicenseService=n,this.Notifications=a,this.license="",this.state={actionInProgress:!1,formError:""},this.submit=this.submit.bind(this)}isFormValid(){return!!this.license}async submit(){return this.$async((async()=>{if(this.state.formError="",this.isFormValid()){this.state.actionInProgress=!0;try{const{failedKeys:e}=await this.LicenseService.attach([this.license]);if(e[this.license])throw new Error(e[this.license]);this.$state.go("portainer.wizard")}catch(e){this.Notifications.error("Failure",e,"Failed validating licenses")}finally{this.state.actionInProgress=!1}}else this.state.formError="Form is invalid"}))}}a.$inject=["$async","$state","LicenseService","Notifications"]},88946:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a);class i{constructor(e,t,n,a,s,i,r,o,l,c,d,u,p,m){this.$async=e,this.$analytics=t,this.$scope=n,this.$state=a,this.$stateParams=s,this.$window=i,this.Authentication=r,this.UserService=o,this.EndpointService=l,this.StateManager=c,this.Notifications=d,this.LocalStorage=u,this.StatusService=p,this.LicenseService=m,this.logo=this.StateManager.getState().application.logo,this.formValues={Username:"",Password:""},this.state={AuthenticationError:"",loginInProgress:!0},this.checkForEndpointsAsync=this.checkForEndpointsAsync.bind(this),this.checkForLicensesAsync=this.checkForLicensesAsync.bind(this),this.postLoginSteps=this.postLoginSteps.bind(this),this.internalLoginAsync=this.internalLoginAsync.bind(this),this.authenticateUserAsync=this.authenticateUserAsync.bind(this),this.authEnabledFlowAsync=this.authEnabledFlowAsync.bind(this),this.onInit=this.onInit.bind(this)}logout(e){this.Authentication.logout(),this.state.loginInProgress=!1,this.LocalStorage.storeLogoutReason(e),this.$window.location.reload()}error(e,t){this.state.AuthenticationError=t,e||(e={}),this.Notifications.error("Failure",e,t),this.state.loginInProgress=!1}async checkForEndpointsAsync(){try{if(0===(await this.EndpointService.endpoints(0,1)).value.length)return"portainer.init.endpoint"}catch(e){this.error(e,"Unable to retrieve environments")}return"portainer.home"}async checkForLicensesAsync(){try{if(!(await this.LicenseService.info()).valid)return"portainer.init.license"}catch(e){this.error(e,"Unable to retrieve licenses info")}}async postLoginSteps(){await this.StateManager.initialize();const e=this.Authentication.isAdmin();this.$analytics.setUserRole(e?"admin":"standard-user");let t="portainer.home";e&&(t=await this.checkForLicensesAsync(),t||(t=await this.checkForEndpointsAsync())),this.$state.go(t)}async internalLoginAsync(e,t){await this.Authentication.login(e,t),await this.postLoginSteps()}async authenticateUserAsync(){try{var e=this.formValues.Username,t=this.formValues.Password;this.state.loginInProgress=!0,await this.internalLoginAsync(e,t)}catch(e){this.error(e,"Unable to login")}}authenticateUser(){return this.$async(this.authenticateUserAsync)}async authEnabledFlowAsync(){try{await this.UserService.administratorExists()||this.$state.go("portainer.init.admin")}catch(e){this.error(e,"Unable to verify administrator account existence")}}async onInit(){if(this.$stateParams.logout||this.$stateParams.error)return void this.logout(this.$stateParams.error);const e=this.LocalStorage.getLogoutReason();e&&(this.state.AuthenticationError=e,this.LocalStorage.cleanLogoutReason()),this.state.loginInProgress=!1,await this.authEnabledFlowAsync()}$onInit(){return this.$async(this.onInit)}}i.$inject=["$async","$analytics","$scope","$state","$stateParams","$window","Authentication","UserService","EndpointService","StateManager","Notifications","LocalStorage","StatusService","LicenseService"];const r=i;s().module("portainer.app").controller("InternalAuthenticationController",i)},95580:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(29274),s=n.n(a);class i{constructor(e,t,n,a,s,i,r,o,l){this.$async=e,this.$state=t,this.$transition$=n,this.$window=a,this.Authentication=s,this.StateManager=i,this.Notifications=r,this.LocalStorage=o,this.SettingsService=l,this.logo=this.StateManager.getState().application.logo,this.logoutAsync=this.logoutAsync.bind(this),this.onInit=this.onInit.bind(this)}async logoutAsync(){const e=this.$transition$.params().error,t=this.$transition$.params().performApiLogout,n=await this.SettingsService.publicSettings();try{await this.Authentication.logout(t)}finally{this.LocalStorage.storeLogoutReason(e),n.OAuthLogoutURI&&1!==this.Authentication.getUserDetails().ID?this.$window.location.href=n.OAuthLogoutURI:this.$state.go("portainer.auth",{reload:!0})}}logout(){return this.$async(this.logoutAsync)}async onInit(){try{await this.logout()}catch(e){this.Notifications.error("Failure",e,"An error occured during logout")}}$onInit(){return this.$async(this.onInit)}}i.$inject=["$async","$state","$transition$","$window","Authentication","StateManager","Notifications","LocalStorage","SettingsService"];const r=i;s().module("portainer.app").controller("LogoutController",i)},85274:()=>{angular.module("portainer.app").controller("MainController",["$scope","LocalStorage","StateManager","EndpointProvider","ThemeManager",function(e,t,n,a,s){e.getWidth=function(){return window.innerWidth},e.applicationState=n.getState(),e.endpointState=a.endpoint(),e.$watch(e.getWidth,(function(n){if(n>=992){const n=t.getToolbarToggle();e.toggle="boolean"!=typeof n||n}else e.toggle=!1})),e.toggleSidebar=function(){e.toggle=!e.toggle,t.storeToolbarToggle(e.toggle)},window.onresize=function(){e.$apply()},s.autoTheme()}])},38910:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(83137);const r=n(83827);s().module("portainer.app").component("createRegistry",{templateUrl:r,controller:i.default,bindings:{$transition$:"<"}})},83137:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(56414),s=n(33180);class i{constructor(e,t,n,s,i){Object.assign(this,{$async:e,$state:t,Notifications:n,RegistryService:s,RegistryGitlabService:i}),this.RegistryTypes=a.RegistryTypes,this.state={actionInProgress:!1,overrideConfiguration:!1,gitlab:{get selectedItemCount(){return this.selectedItems.length||0},selectedItems:[]},originViewReference:"portainer.registries",originalEndpointId:null},this.createRegistry=this.createRegistry.bind(this),this.retrieveGitlabRegistries=this.retrieveGitlabRegistries.bind(this),this.createGitlabRegistries=this.createGitlabRegistries.bind(this)}useDefaultQuayConfiguration(){this.model.Quay.useOrganisation=!1,this.model.Quay.organisationName=""}selectQuayRegistry(){this.model.Name="Quay",this.model.URL="quay.io",this.model.Authentication=!0,this.model.Quay={},this.useDefaultQuayConfiguration()}useDefaultGitlabConfiguration(){this.model.URL="https://registry.gitlab.com",this.model.Gitlab.InstanceURL="https://gitlab.com"}selectGitlabRegistry(){this.model.Name="",this.model.Authentication=!0,this.model.Gitlab={},this.useDefaultGitlabConfiguration()}selectAzureRegistry(){this.model.Name="",this.model.URL="",this.model.Authentication=!0}selectProGetRegistry(){this.model.Name="",this.model.URL="",this.model.BaseURL="",this.model.Authentication=!0}selectDockerHub(){this.model.Name="",this.model.URL="docker.io",this.model.Authentication=!0}selectCustomRegistry(){this.model.Name="",this.model.URL="",this.model.Authentication=!1}useDefaultEcrConfiguration(){this.model.Ecr.Region=""}selectEcr(){this.model.Name="",this.model.URL="",this.model.Authentication=!1,this.model.Ecr={},this.useDefaultEcrConfiguration()}retrieveGitlabRegistries(){return this.$async((async()=>{this.state.actionInProgress=!0;try{this.gitlabProjects=await this.RegistryGitlabService.projects(this.model.Gitlab.InstanceURL,this.model.Token)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve projects")}finally{this.state.actionInProgress=!1}}))}createGitlabRegistries(){return this.$async((async()=>{try{this.state.actionInProgress=!0,await this.RegistryService.createGitlabRegistries(this.model,this.state.gitlab.selectedItems),this.Notifications.success("Registries successfully created"),this.$state.go(this.state.originViewReference,{endpointId:this.state.originalEndpointId})}catch(e){this.Notifications.error("Failure",e,"Unable to create registries"),this.state.actionInProgress=!1}}))}createRegistry(){return this.$async((async()=>{try{this.state.actionInProgress=!0,await this.RegistryService.createRegistry(this.model),this.Notifications.success("Registry successfully created"),this.$state.go(this.state.originViewReference,{endpointId:this.state.originalEndpointId})}catch(e){this.Notifications.error("Failure",e,"Unable to create registry"),this.state.actionInProgress=!1}}))}$onInit(){this.model=new s.RegistryCreateFormValues;const e=this.$transition$.from(),t=this.$transition$.params("from");e.name&&/^[a-z]+\.registries$/.test(e.name)&&(this.state.originViewReference=e,this.state.originalEndpointId=t.endpointId||null)}}i.$inject=["$async","$state","Notifications","RegistryService","RegistryGitlabService"];const r=i},66146:(e,t,n)=>{"use strict";n.r(t);var a=n(56414);angular.module("portainer.app").controller("RegistryController",["$scope","$state","RegistryService","Notifications",function(e,t,n,s){var i;e.state={actionInProgress:!1},e.formValues={Password:""},e.RegistryTypes=a.RegistryTypes,e.updateRegistry=function(){var a=e.registry;a.Password=e.formValues.Password,e.state.actionInProgress=!0,n.updateRegistry(a).then((function(){s.success("Registry successfully updated"),t.go("portainer.registries")})).catch((function(e){s.error("Failure",e,"Unable to update registry")})).finally((function(){e.state.actionInProgress=!1}))},i=t.params.id,n.registry(i).then((function(t){e.registry=t})).catch((function(e){s.error("Failure",e,"Unable to retrieve registry details")}))}])},6009:(e,t,n)=>{"use strict";n.r(t);var a=n(44716),s=n.n(a),i=n(56414);angular.module("portainer.app").controller("RegistriesController",["$q","$scope","$state","RegistryService","ModalService","Notifications",function(e,t,n,a,r,o){t.state={actionInProgress:!1};const l=[i.RegistryTypes.ANONYMOUS,i.RegistryTypes.DOCKERHUB,i.RegistryTypes.QUAY];t.canBrowse=function(e){return!s()(l,e.Type)},t.removeAction=function(e){const s=e.length>1?"hese":"his",i=e.length>1?"registries":"registry",l=`T${s} ${i} might be used by applications inside one or more environments. Removing the ${i} could lead to a service interruption for the applications using t${s} ${i}. Do you want to remove the selected ${i}?`;r.confirmDeletion(l,(function(s){s&&function(e){var s=e.length;angular.forEach(e,(function(e){a.deleteRegistry(e.Id).then((function(){o.success("Registry successfully removed",e.Name);var n=t.registries.indexOf(e);t.registries.splice(n,1)})).catch((function(e){o.error("Failure",e,"Unable to remove registry")})).finally((function(){0==--s&&n.reload()}))}))}(e)}))},e.all({registries:a.registries()}).then((function(e){t.registries=e.registries})).catch((function(e){t.registries=[],o.error("Failure",e,"Unable to retrieve registries")}))}])},39066:(e,t,n)=>{"use strict";n.r(t);var a=n(20810),s=n.n(a),i=n(66539),r=n.n(i),o=n(29274),l=n.n(o),c=n(26196),d=n(54512);function u(e,t,n,a,i,o,u,p){function m(){const e=t.formValues.TLSCACert,n=e!==t.settings.LDAPSettings.TLSConfig.TLSCACert?e:null,a=2===t.formValues.ldap.serverType,s=a?t.formValues.ldap.adSettings:t.formValues.ldap.ldapSettings;s.AnonymousMode&&!a&&(s.ReaderDN="",s.Password=""),a&&(s.AnonymousMode=!1),s.URLs=s.URLs.map((e=>e.includes(":")?e:e+(s.TLSConfig.TLS?":636":":389")));const i=(s.TLSConfig.TLS||s.StartTLS)&&!s.TLSConfig.TLSSkipVerify;return s.AdminAutoPopulate&&t.formValues.selectedAdminGroups.length>0?s.AdminGroups=r()(t.formValues.selectedAdminGroups,(e=>e.name)):s.AdminGroups=[],0===t.formValues.selectedAdminGroups.length&&(s.AdminAutoPopulate=!1),{settings:s,uploadRequired:i,tlscaFile:n}}t.authMethod=1,t.state={uploadInProgress:!1,actionInProgress:!1,availableUserSessionTimeoutOptions:[{key:"1 hour",value:"1h"},{key:"4 hours",value:"4h"},{key:"8 hours",value:"8h"},{key:"24 hours",value:"24h"},{key:"1 week",value:"168h"},{key:"1 month",value:"720h"},{key:"6 months",value:"4320h"},{key:"1 year",value:"8640h"}]},t.formValues={UserSessionTimeout:t.state.availableUserSessionTimeoutOptions[0],TLSCACert:"",ldap:{serverType:0,adSettings:(0,d.buildAdSettingsModel)(),ldapSettings:(0,d.buildLdapSettingsModel)()},selectedAdminGroups:[]},t.authOptions=[{id:"auth_internal",icon:"fa fa-users",label:"Internal",description:"Internal authentication mechanism",value:1},{id:"auth_ldap",icon:"fa fa-users",label:"LDAP",description:"LDAP authentication",value:2},{id:"auth_ad",icon:"fab fa-microsoft",label:"Microsoft Active Directory",description:"AD authentication",value:4,feature:c.tE.HIDE_INTERNAL_AUTH},{id:"auth_oauth",icon:"fa fa-users",label:"OAuth",description:"OAuth authentication",value:3}],t.onChangeAuthMethod=function(e){return t.authMethod=e,4===e?(t.settings.AuthenticationMethod=2,void(t.formValues.ldap.serverType=2)):2===e?(t.settings.AuthenticationMethod=2,void(t.formValues.ldap.serverType=t.formValues.ldap.ldapSettings.ServerType)):void(t.settings.AuthenticationMethod=e)},t.authenticationMethodSelected=function(e){return!!t.settings&&(4===e?2===t.settings.AuthenticationMethod&&2===t.formValues.ldap.serverType:2===e?2===t.settings.AuthenticationMethod&&2!==t.formValues.ldap.serverType:t.settings.AuthenticationMethod===e)},t.isOauthEnabled=function(){return t.settings&&3===t.settings.AuthenticationMethod},t.LDAPConnectivityCheck=function(){const n=l().copy(t.settings),{settings:s,uploadRequired:i,tlscaFile:r}=m();n.LDAPSettings=s,t.state.uploadInProgress=i,t.state.connectivityCheckInProgress=!0,e.when(!i||o.uploadLDAPTLSFiles(r,null,null)).then((function(){return p.check(n.LDAPSettings)})).then((function(){t.state.failedConnectivityCheck=!1,t.state.successfulConnectivityCheck=!0,a.success("Connection to LDAP successful")})).catch((function(e){t.state.failedConnectivityCheck=!0,t.state.successfulConnectivityCheck=!1,a.error("Failure",e,"Connection to LDAP failed")})).finally((function(){t.state.uploadInProgress=!1,t.state.connectivityCheckInProgress=!1}))},t.saveSettings=function(){const n=l().copy(t.settings);n.OAuthSettings.AdminAutoPopulate||delete n.OAuthSettings.AdminGroupClaimsRegexList;const{settings:s,uploadRequired:r,tlscaFile:c}=m();n.LDAPSettings=s,t.state.uploadInProgress=r,t.state.actionInProgress=!0,e.when(!r||o.uploadLDAPTLSFiles(c,null,null)).then((function(){return i.update(n)})).then((function(){a.success("Authentication settings updated")})).catch((function(e){a.error("Failure",e,"Unable to update authentication settings")})).finally((function(){t.state.uploadInProgress=!1,t.state.actionInProgress=!1}))},t.isLDAPFormValid=function(){const e=2===t.formValues.ldap.serverType?t.formValues.ldap.adSettings:t.formValues.ldap.ldapSettings,n=e.TLSConfig.TLS||e.StartTLS;return s()(e.URLs).length&&(e.AnonymousMode||e.ReaderDN&&e.Password)&&(!n||t.formValues.TLSCACert||e.TLSConfig.TLSSkipVerify)&&(!t.settings.LDAPSettings.AdminAutoPopulate||t.settings.LDAPSettings.AdminAutoPopulate&&t.formValues.selectedAdminGroups.length>0)},t.isOAuthTeamMembershipFormValid=function(){if(t.settings&&t.settings.OAuthSettings.OAuthAutoMapTeamMemberships&&t.settings.OAuthSettings.TeamMemberships){if(!t.settings.OAuthSettings.TeamMemberships.OAuthClaimName)return!1;if(t.settings.OAuthSettings.TeamMemberships.OAuthClaimMappings.some((e=>!(e.ClaimValRegex&&e.Team))))return!1}return!0},t.isOAuthAdminMappingFormValid=function(){return!(t.settings&&t.settings.OAuthSettings.AdminAutoPopulate&&t.settings.OAuthSettings.AdminGroupClaimsRegexList)||0!==t.settings.OAuthSettings.AdminGroupClaimsRegexList.length&&!t.settings.OAuthSettings.AdminGroupClaimsRegexList.some((e=>""===e))},e.all({settings:i.settings(),teams:u.teams()}).then((function(e){var n=e.settings;t.teams=e.teams,t.settings=n,t.OAuthSettings=n.OAuthSettings,t.authMethod=n.AuthenticationMethod,2===n.AuthenticationMethod&&2===n.LDAPSettings.ServerType&&(t.authMethod=4),t.formValues.ldap.serverType=n.LDAPSettings.ServerType,2===n.LDAPSettings.ServerType?t.formValues.ldap.adSettings=n.LDAPSettings:t.formValues.ldap.ldapSettings=n.LDAPSettings,n.LDAPSettings.URLs.length||n.LDAPSettings.URLs.push("")})).catch((function(e){a.error("Failure",e,"Unable to retrieve application settings")}))}u.$inject=["$q","$scope","$state","Notifications","SettingsService","FileUploadService","TeamService","LDAPService"],l().module("portainer.app").controller("SettingsAuthenticationController",u)},43404:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(51861);const r=n(93149);s().module("portainer.app").component("settingsEdgeComputeView",{templateUrl:r,controller:i.default})},51861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(29274),s=n.n(a),i=n(60122),r=n(76827);function o(e,t,n,a,s,o){var l=this;this.onSubmitEdgeCompute=async function(e){try{await s.update(e),a.success("Settings updated"),o.updateEnableEdgeComputeFeatures(e.EnableEdgeComputeFeatures),n.reload()}catch(e){a.error("Failure",e,"Unable to update settings")}},this.onSubmitOpenAMT=async function(e){try{await(0,r.He)(e),a.success("OpenAMT successfully "+(e.enabled?"enabled":"disabled")),n.reload()}catch(e){a.error("Failure",e,"Failed applying changes")}},this.onSubmitFDO=async function(e){try{await(0,i.lX)(e),a.success("FDO successfully "+(e.enabled?"enabled":"disabled")),n.reload()}catch(e){a.error("Failure",e,"Failed applying changes")}},t((async()=>{try{l.settings=await s.settings()}catch(e){a.error("Failure",e,"Unable to retrieve application settings")}}))}o.$inject=["$q","$async","$state","Notifications","SettingsService","StateManager"],s().module("portainer.app").controller("SettingsEdgeComputeController",o)},45459:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(56619),r=n(26196);s().module("portainer.app").controller("SettingsController",["$scope","$state","Notifications","SettingsService","StateManager","BackupService","FileSaver",function(e,t,n,a,s,o,l){function c(){return{Password:e.formValues.passwordProtectS3?e.formValues.passwordS3:"",CronRule:e.formValues.scheduleAutomaticBackups?e.formValues.cronRule:"",AccessKeyID:e.formValues.accessKeyId,SecretAccessKey:e.formValues.secretAccessKey,Region:e.formValues.region,BucketName:e.formValues.bucketName}}function d(i){a.update(i).then((function(){n.success("Settings updated"),s.updateLogo(i.LogoURL),s.updateSnapshotInterval(i.SnapshotInterval),s.updateEnableTelemetry(i.EnableTelemetry),t.reload()})).catch((function(e){n.error("Failure",e,"Unable to update settings")})).finally((function(){e.state.actionInProgress=!1}))}e.s3BackupFeatureId=r.tE.S3_BACKUP_SETTING,e.backupOptions=[(0,i.es)("backup_file","fa fa-download","","","file"),(0,i.es)("backup_s3","fa fa-upload"," S3","cron","s3",r.tE.S3_BACKUP_SETTING)],e.state={actionInProgress:!1,availableKubeconfigExpiryOptions:[{key:"1 day",value:"24h"},{key:"7 days",value:"168h"},{key:"30 days",value:"720h"},{key:"1 year",value:"8640h"},{key:"No expiry",value:"0"}],backupInProgress:!1,featureLimited:!1},e.BACKUP_FORM_TYPES={S3:"s3",FILE:"file"},e.formValues={customLogo:!1,labelName:"",labelValue:"",enableTelemetry:!1,passwordProtect:!1,password:"",scheduleAutomaticBackups:!0,cronRule:"",accessKeyId:"",secretAccessKey:"",region:"",bucketName:"",backupFormType:e.BACKUP_FORM_TYPES.FILE},e.onToggleAutoBackups=function(t){e.$evalAsync((()=>{e.formValues.scheduleAutomaticBackups=t}))},e.onBackupOptionsChange=function(t,n){e.formValues.backupFormType=t,e.state.featureLimited=n},e.removeFilteredContainerLabel=function(t){var n=e.settings;n.BlackListedLabels.splice(t,1),d(n)},e.addFilteredContainerLabel=function(){var t=e.settings,n={name:e.formValues.labelName,value:e.formValues.labelValue};t.BlackListedLabels.push(n),d(t)},e.downloadBackup=function(){const t={};e.formValues.passwordProtect&&(t.password=e.formValues.password),e.state.backupInProgress=!0,o.downloadBackup(t).then((function(e){const t=new Blob([e.file],{type:"application/gzip"});l.saveAs(t,e.name),n.success("Backup successfully downloaded")})).catch((function(e){n.error("Failure",e,"Unable to download backup")})).finally((function(){e.state.backupInProgress=!1}))},e.saveApplicationSettings=function(){var t=e.settings;e.formValues.customLogo||(t.LogoURL=""),t.EnableTelemetry=e.formValues.enableTelemetry,e.state.actionInProgress=!0,d(t)},e.saveS3BackupSettings=function(){const t=c();o.saveS3Settings(t).then((function(){n.success("S3 Backup settings successfully saved")})).catch((function(e){n.error("Failure",e,"Unable to save S3 backup settings")})).finally((function(){e.state.backupInProgress=!1}))},e.exportBackup=function(){const t=c();o.exportBackup(t).then((function(){n.success("Exported backup to S3 successfully")})).catch((function(e){n.error("Failure",e,"Unable to export backup to S3")})).finally((function(){e.state.backupInProgress=!1}))},o.getS3Settings().then((function(t){e.formValues.passwordS3=t.Password,e.formValues.cronRule=t.CronRule,e.formValues.accessKeyId=t.AccessKeyID,e.formValues.secretAccessKey=t.SecretAccessKey,e.formValues.region=t.Region,e.formValues.bucketName=t.BucketName,e.formValues.scheduleAutomaticBackups=!!e.formValues.cronRule,e.formValues.passwordProtectS3=!!e.formValues.passwordS3})).catch((function(e){n.error("Failure",e,"Unable to retrieve S3 backup settings")})),a.settings().then((function(t){var n=t;e.settings=n,""!==n.LogoURL&&(e.formValues.customLogo=!0),e.formValues.enableTelemetry=n.EnableTelemetry})).catch((function(e){n.error("Failure",e,"Unable to retrieve application settings")}))}])},64936:()=>{function e(e,t,n,a,s,i,r,o,l){function c(){return r.isAdmin()}function d(){return r.hasAuthorizations(["EndpointResourcesAccess"])}function u(){if(c()||d())return!0;const e=l.currentEndpoint();return!(!e||!e.SecuritySettings)&&e.SecuritySettings.allowStackManagementForRegularUsers}n.applicationState=s.getState(),n.endpointState=l.endpoint(),async function(){n.uiVersion=s.getState().application.version,n.edition="",n.logo=s.getState().application.logo,n.endpointId=l.endpointID(),n.showStacks=u();let e=r.getUserDetails();const a=c();n.isAdmin=a,n.isEndpointAdmin=d(),t.when(a?[]:o.userMemberships(e.ID)).then((function(e){var t,a;t=e,a=!1,angular.forEach(t,(function(e){1===e.Role&&(a=!0)})),n.isTeamLeader=a})).catch((function(e){i.error("Failure",e,"Unable to retrieve user memberships")}))}(),a.onEnter({},(async()=>{n.endpointId=l.endpointID(),n.showStacks=u(),n.isAdmin=c(),n.isEndpointAdmin=d(),n.endpointState=l.endpoint(),n.applicationState.endpoint.name&&(document.title=`${e.defaultTitle} | ${n.applicationState.endpoint.name}`)}))}e.$inject=["$rootScope","$q","$scope","$transitions","StateManager","Notifications","Authentication","UserService","EndpointProvider"],angular.module("portainer.app").controller("SidebarController",e)},58e3:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(15964),r=n.n(i),o=n(19898),l=n(71541),c=n(6253),d=n(52474);s().module("portainer.app").controller("CreateStackController",["$scope","$state","$async","$window","ModalService","StackService","Authentication","Notifications","FormValidator","ResourceControlService","FormHelper","StackHelper","ContainerHelper","CustomTemplateService","ContainerService","endpoint","WebhookHelper","clipboard",function(e,t,n,a,s,i,u,p,m,g,h,f,v,b,y,w,x,S){function k(n,a){var s=h.removeInvalidEnvVars(e.formValues.Env);const r=+t.params.endpointId,o=e.formValues.EnableWebhook?e.formValues.RepositoryWebhookURL.split("/").reverse()[0]:"";if("template"===a||"editor"===a){var l=e.formValues.StackFileContent;return i.createSwarmStackFromFileContent(n,l,s,r,o)}if("upload"===a){var c=e.formValues.StackFile;return i.createSwarmStackFromFileUpload(n,c,s,r,o)}if("repository"===a){var d={AdditionalFiles:e.formValues.AdditionalFiles,RepositoryURL:e.formValues.RepositoryURL,RepositoryReferenceName:e.formValues.RepositoryReferenceName,ComposeFilePathInRepository:e.formValues.ComposeFilePathInRepository,RepositoryAuthentication:e.formValues.RepositoryAuthentication,RepositoryUsername:e.formValues.RepositoryUsername,RepositoryPassword:e.formValues.RepositoryPassword,ForcePullImage:e.formValues.ForcePullImage};return $(d),i.createSwarmStackFromGitRepository(n,d,s,r)}}function $(t){e.formValues.RepositoryAutomaticUpdates&&(t.AutoUpdate={ForceUpdate:e.formValues.RepositoryAutomaticUpdatesForce,ForcePullImage:e.formValues.ForcePullImage},e.formValues.RepositoryMechanism===c.RepositoryMechanismTypes.INTERVAL?t.AutoUpdate.Interval=e.formValues.RepositoryFetchInterval:e.formValues.RepositoryMechanism===c.RepositoryMechanismTypes.WEBHOOK&&(t.AutoUpdate.Webhook=e.formValues.RepositoryWebhookURL.split("/").reverse()[0]))}function C(n,a){var s=h.removeInvalidEnvVars(e.formValues.Env);const r=+t.params.endpointId,o=e.formValues.EnableWebhook?e.formValues.RepositoryWebhookURL.split("/").reverse()[0]:"";if("editor"===a||"template"===a){var l=e.formValues.StackFileContent;return i.createComposeStackFromFileContent(n,l,s,r,o)}if("upload"===a){var c=e.formValues.StackFile;return i.createComposeStackFromFileUpload(n,c,s,r,o)}if("repository"===a){var d={AdditionalFiles:e.formValues.AdditionalFiles,RepositoryURL:e.formValues.RepositoryURL,RepositoryReferenceName:e.formValues.RepositoryReferenceName,ComposeFilePathInRepository:e.formValues.ComposeFilePathInRepository,RepositoryAuthentication:e.formValues.RepositoryAuthentication,RepositoryUsername:e.formValues.RepositoryUsername,RepositoryPassword:e.formValues.RepositoryPassword,ForcePullImage:e.formValues.ForcePullImage};return $(d),i.createComposeStackFromGitRepository(n,d,s,r)}}async function A(t){e.state.uploadYamlValidationError=f.validateYAML(t.target.result,e.containerNames)}function P(e){return n(A,e)}e.onChangeTemplateId=function(t,a){return n((async()=>{try{e.state.selectedTemplateId=t,e.state.selectedTemplate=a;const n=await b.customTemplateFile(t);e.onChangeFileContent(n)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Custom Template file")}}))},e.buildAnalyticsProperties=function(){const t={type:function(e){switch(e){case"editor":return"web-editor";case"repository":return"git";case"upload":return"file-upload";case"template":return"custom-template"}}(e.state.Method)};return"repository"===e.state.Method&&(t.automaticUpdates="off",e.formValues.RepositoryAutomaticUpdates&&(t.automaticUpdates=function(e){switch(e){case c.RepositoryMechanismTypes.INTERVAL:return"polling";case c.RepositoryMechanismTypes.WEBHOOK:return"webhook"}return"off"}(e.formValues.RepositoryMechanism)),t.auth=e.formValues.RepositoryAuthentication),"template"===e.state.Method&&(t.templateName=e.state.selectedTemplate.Title),{metadata:t}},e.STACK_NAME_VALIDATION_REGEX=l.STACK_NAME_VALIDATION_REGEX,e.isAdmin=u.isAdmin(),e.formValues={Name:"",StackFileContent:"",StackFile:null,RepositoryURL:"",RepositoryReferenceName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",Env:[],AdditionalFiles:[],ComposeFilePathInRepository:"docker-compose.yml",AccessControlData:new o.AccessControlFormData,RepositoryAutomaticUpdates:!1,RepositoryAutomaticUpdatesForce:!1,RepositoryMechanism:c.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:"5m",RepositoryWebhookURL:x.returnStackWebhookUrl(r()()),ForcePullImage:!1,ShowForcePullImage:!1,EnableWebhook:!1},e.state={Method:"editor",formValidationError:"",actionInProgress:!1,StackType:null,editorYamlValidationError:"",uploadYamlValidationError:"",isEditorDirty:!1,selectedTemplate:null,selectedTemplateId:null},a.onbeforeunload=()=>{if("editor"===e.state.Method&&e.formValues.StackFileContent&&e.state.isEditorDirty)return""},e.$on("$destroy",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=function(t){e.formValues=t},e.addAdditionalFiles=function(){e.formValues.AdditionalFiles.push("")},e.removeAdditionalFiles=function(t){e.formValues.AdditionalFiles.splice(t,1)},e.hasAuthorizations=function(t){return e.isAdmin||u.hasAuthorizations(t)},e.copyWebhook=function(){S.copyText(e.formValues.RepositoryWebhookURL),d("#copyNotification").show(),d("#copyNotification").fadeOut(2e3)},e.handleEnvVarChange=function(t){e.formValues.Env=t},e.deployStack=function(){var n=e.formValues.Name,a=e.state.Method,s=e.formValues.AccessControlData,i=u.getUserDetails(),r=u.isAdmin();if("editor"!==a||""!==e.formValues.StackFileContent){if(function(t,n){var a;return e.state.formValidationError="",!(a=m.validateAccessControl(t,n))||(e.state.formValidationError=a,!1)}(s,r)){var o=k;2===e.state.StackType&&(o=C),e.state.actionInProgress=!0,o(n,a).then((function(e){e.data&&(e=e.data);const t=i.ID,n=e.ResourceControl;return g.applyResourceControl(t,s,n)})).then((function(){p.success("Stack successfully deployed"),e.state.isEditorDirty=!1,t.go("docker.stacks")})).catch((function(e){p.error("Deployment error",e,"Unable to deploy stack")})).finally((function(){e.state.actionInProgress=!1}))}}else e.state.formValidationError="Stack file content must not be empty"},e.onChangeFileContent=function(t){e.formValues.StackFileContent=t,e.state.editorYamlValidationError=f.validateYAML(e.formValues.StackFileContent,e.containerNames),e.state.isEditorDirty=!0},e.uploadFile=function(t){if(e.formValues.StackFile=t,t){const e=new FileReader;e.fileName=t.name,e.onload=P,e.readAsText(t)}},this.uiCanExit=async function(){if("editor"===e.state.Method&&e.formValues.StackFileContent&&e.state.isEditorDirty)return s.confirmWebEditorDiscard()},async function(){var t=e.applicationState.endpoint.mode;e.state.StackType=2,"DOCKER_SWARM_MODE"===t.provider&&"MANAGER"===t.role&&(e.state.StackType=1),e.composeSyntaxMaxVersion=w.ComposeSyntaxMaxVersion,e.formValues.ShowForcePullImage=3!==e.state.StackType;try{const t=await y.containers(!0);e.containerNames=v.getContainerNames(t)}catch(e){p.error("Failure",e,"Unable to retrieve Containers")}}()}])},84671:(e,t,n)=>{"use strict";n.r(t);var a=n(15964),s=n.n(a),i=n(19898),r=n(52474);angular.module("portainer.app").controller("StackController",["$async","$q","$scope","$state","$window","$transition$","clipboard","StackService","NodeService","ServiceService","TaskService","ContainerService","ServiceHelper","TaskHelper","Notifications","FormHelper","EndpointProvider","EndpointService","GroupService","ModalService","StackHelper","endpoint","Authentication","ContainerHelper","ResourceControlService","WebhookHelper",function(e,t,n,a,o,l,c,d,u,p,m,g,h,f,v,b,y,w,x,S,k,$,C,A,P,I){async function T(){if(await S.confirmAsync({title:"",message:"",buttons:{confirm:{label:"",className:"btn-danger"}}})){n.state.actionInProgress=!0;try{const e=+a.params.endpointId;await d.stop(n.stack.Id,e),a.reload()}catch(e){v.error("Failure",e,"Unable to stop stack")}n.state.actionInProgress=!1}}async function N(){n.state.actionInProgress=!0;const e=n.stack.Id;try{await d.start(e),a.reload()}catch(e){v.error("Failure",e,"Unable to start stack")}n.state.actionInProgress=!1}function E(e,n){var a={label:["com.docker.stack.namespace="+e]};return t.all({services:p.services(a),tasks:m.tasks(a),containers:n?g.containers(1):[],nodes:u.nodes()})}function R(e,t){var a=e.services,s=e.tasks;if(t)for(var i=e.containers,r=0;r<s.length;r++){var o=s[r];f.associateContainerToTask(o,i)}for(var l=0;l<a.length;l++){var c=a[l];h.associateTasksToService(c,s)}n.nodes=e.nodes,n.tasks=s,n.services=a}function D(e){var n={label:["com.docker.compose.project="+e]};return t.all({containers:g.containers(1,n)})}function U(e){n.containers=e.containers}n.endpoint=$,n.isAdmin=C.isAdmin(),n.state={actionInProgress:!1,migrationInProgress:!1,showEditorTab:!1,yamlError:!1,isEditorDirty:!1},n.formValues={Prune:!1,Endpoint:null,Env:[],AccessControlData:new i.AccessControlFormData,WebhookURL:I.returnStackWebhookUrl(s()()),EnableWebhook:!1},n.handleEnvVarChange=function(e){n.formValues.Env=e},o.onbeforeunload=()=>{if(n.stackFileContent&&n.state.isEditorDirty)return""},n.$on("$destroy",(function(){n.state.isEditorDirty=!1})),n.duplicateStack=function(e,t){var s=n.stack,i=b.removeInvalidEnvVars(n.formValues.Env);return y.setEndpointID(t),d.duplicateStack(e,n.stackFileContent,i,t,s.Type).then((function(){v.success("Stack successfully duplicated"),n.state.isEditorDirty=!1,a.go("docker.stacks",{},{reload:!0}),y.setEndpointID(s.EndpointId)})).catch((function(e){v.error("Failure",e,"Unable to duplicate stack")}))},n.showEditor=function(){n.state.showEditorTab=!0},n.migrateStack=function(e,s){return t((function(t){S.confirm({title:"",message:"",buttons:{confirm:{label:"Migrate",className:"btn-danger"}},callback:function(i){return i?t(function(e,t){const s=n.stack;let i=d.migrateSwarmStack;return 2===s.Type&&(i=d.migrateComposeStack),0===s.EndpointId&&(s.EndpointId=$.Id),n.state.migrationInProgress=!0,i(s,t,e).then((function(){v.success("Stack successfully migrated",s.Name),a.go("docker.stacks",{},{reload:!0})})).catch((function(e){v.error("Failure",e,"Unable to migrate stack")})).finally((function(){n.state.migrationInProgress=!1}))}(e,s)):t()}})}))},n.removeStack=function(){S.confirmDeletion("",(function(e){var t,s;e&&(t=+a.params.endpointId,s=n.stack,d.remove(s,l.params().external,t).then((function(){v.success("Stack successfully removed",s.Name),a.go("docker.stacks")})).catch((function(e){v.error("Failure",e,"Unable to remove stack "+s.Name)})))}))},n.detachStackFromGit=function(){S.confirmDetachment("Do you want to detach the stack from Git?",(function(e){e&&n.deployStack()}))},n.associateStack=function(){var e=+a.params.endpointId,t=n.stack,s=n.formValues.AccessControlData;n.state.actionInProgress=!0,d.associate(t,e,n.orphanedRunning).then((function(e){const t=e.ResourceControl,n=C.getUserDetails().ID;return P.applyResourceControl(n,s,t)})).then((function(){v.success("Stack successfully associated",t.Name),a.go("docker.stacks")})).catch((function(e){v.error("Failure",e,"Unable to associate stack "+t.Name)})).finally((function(){n.state.actionInProgress=!1}))},n.hasAuthorizations=function(e){return n.isAdmin||C.hasAuthorizations(e)},n.disabledWebhookButton=function(e){return e?!n.hasAuthorizations(["PortainerWebhookDelete"]):!n.hasAuthorizations(["PortainerWebhookCreate"])},n.deployStack=function(){const e=n.stack,t=1===e.Type;S.confirmStackUpdate("Do you want to force an update of the stack?",t,null,(function(t){if(!t)return;var s=n.stackFileContent,i=b.removeInvalidEnvVars(n.formValues.Env),r=n.formValues.Prune;const o=n.formValues.EnableWebhook?n.formValues.WebhookURL.split("/").reverse()[0]:null;0===e.EndpointId&&(e.EndpointId=$.Id),n.state.actionInProgress=!0,d.updateStack(e,s,i,r,o,!!t[0]).then((function(){v.success("Stack successfully deployed"),n.state.isEditorDirty=!1,a.reload()})).catch((function(e){v.error("Failure",e,"Unable to create stack")})).finally((function(){n.state.actionInProgress=!1}))}))},n.copyWebhook=function(){c.copyText(n.formValues.WebhookURL),r("#copyNotification").show(),r("#copyNotification").fadeOut(2e3)},n.editorUpdate=function(e){n.stackFileContent.replace(/(\r\n|\n|\r)/gm,"")!==e.getValue().replace(/(\r\n|\n|\r)/gm,"")&&(n.state.isEditorDirty=!0,n.stackFileContent=e.getValue(),n.state.yamlError=k.validateYAML(n.stackFileContent,n.containerNames))},n.stopStack=function(){return e(T)},n.startStack=function(){return e(N)},this.uiCanExit=async function(){if(n.stackFileContent&&n.state.isEditorDirty)return S.confirmWebEditorDiscard()},async function(){var e=l.params().name;n.stackName=e;const a="true"==l.params().regular;n.regular=a;var s="true"==l.params().external;n.external=s;const i="true"==l.params().orphaned;n.orphaned=i;const r="true"==l.params().orphanedRunning;if(n.orphanedRunning=r,(s||i&&r)&&(o=e,!(c=l.params().type)||"1"!==c&&"2"!==c?v.error("Failure",null,"Invalid type URL parameter."):"1"===c?function(e){var t=n.applicationState.endpoint.mode.agentProxy;E(e,t).then((function(e){R(e,t)})).catch((function(e){v.error("Failure",e,"Unable to retrieve stack details")}))}(o):function(e){D(e).then((function(e){U(e)})).catch((function(e){v.error("Failure",e,"Unable to retrieve stack details")}))}(o)),a||i){const e=l.params().id;u=e,p=n.applicationState.endpoint.mode.agentProxy,w.endpoints().then((function(e){n.endpoints=e.value})).catch((function(e){v.error("Failure",e,"Unable to retrieve environments")})),t.all({stack:d.stack(u),groups:x.groups(),containers:g.containers(!0)}).then((function(e){var a=e.stack;n.groups=e.groups,n.stack=a,n.containerNames=A.getContainerNames(e.containers),n.formValues.Env=n.stack.Env,n.formValues.EnableWebhook=!!n.stack.Webhook,n.formValues.EnableWebhook&&(n.formValues.WebhookURL=I.returnStackWebhookUrl(n.stack.Webhook));let s=Promise.resolve({});return a.Status&&1!==a.Status||(s=1===a.Type?E(a.Name,p):D(a.Name)),t.all({stackFile:d.getStackFile(u),resources:s})})).then((function(e){const t=1===n.stack.Type;n.stackFileContent=e.stackFile,n.stack.Status||(n.stack.Status=e.resources&&(t&&e.resources.services.length||e.resources.containers.length)?1:2),1===n.stack.Status&&(t?R(e.resources,p):U(e.resources)),n.state.yamlError=k.validateYAML(n.stackFileContent,n.containerNames)})).catch((function(e){v.error("Failure",e,"Unable to retrieve stack details")}))}var o,c,u,p;n.composeSyntaxMaxVersion=$.ComposeSyntaxMaxVersion,n.stackType=l.params().type,n.editorReadOnly=!C.hasAuthorizations(["PortainerStackUpdate"])}()}])},78566:(e,t,n)=>{"use strict";n.r(t);var a=n(70589);function s(e,t,n,s,i,r,o){function l(){const t=e.applicationState.endpoint.mode,i=o.Id,l=r.isAdmin()||r.hasAuthorizations(["EndpointResourcesAccess"]);s.stacks(!0,"DOCKER_SWARM_MODE"===t.provider&&"MANAGER"===t.role,i,l).then((function(t){e.stacks=t,e.offlineMode=(0,a.isOfflineEndpoint)(o)})).catch((function(t){e.stacks=[],n.error("Failure",t,"Unable to retrieve stacks")}))}e.removeAction=function(a){i.confirmDeletion("",(function(i){i&&function(a){const i=o.Id;let r=a.length;angular.forEach(a,(function(a){s.remove(a,a.External,i).then((function(){n.success("Stack successfully removed",a.Name);var t=e.stacks.indexOf(a);e.stacks.splice(t,1)})).catch((function(e){n.error("Failure",e,"Unable to remove stack "+a.Name)})).finally((function(){--r,0===r&&t.reload()}))}))}(a)}))},e.offlineMode=!1,e.createEnabled=!1,e.getStacks=l,async function(){l(),e.createEnabled=await async function(){return o.SecuritySettings.allowStackManagementForRegularUsers||r.isAdmin()||r.hasAuthorizations(["EndpointResourcesAccess"])}()}()}s.$inject=["$scope","$state","Notifications","StackService","ModalService","Authentication","endpoint"],angular.module("portainer.app").controller("StacksController",s)},20125:(e,t,n)=>{"use strict";n.r(t);var a=n(71204),s=n.n(a),i=n(29274),r=n.n(i);function o(e,t,n,a,i){async function r(n){for(let t of n)try{await a.deleteTag(t.Id),i.success("Tag successfully removed",t.Name),s()(e.tags,t)}catch(e){i.error("Failure",e,"Unable to remove tag")}t.reload()}e.state={actionInProgress:!1},e.formValues={Name:""},e.checkNameValidity=function(t){for(var n=!0,a=0;a<e.tags.length;a++)if(e.formValues.Name===e.tags[a].Name){n=!1;break}t.name.$setValidity("validName",n)},e.removeAction=function(e){return n(r,e)},e.createTag=function(){var n=e.formValues.Name;a.createTag(n).then((function(){i.success("Tag successfully created",n),t.reload()})).catch((function(e){i.error("Failure",e,"Unable to create tag")}))},a.tags().then((function(t){e.tags=t})).catch((function(t){i.error("Failure",t,"Unable to retrieve tags"),e.tags=[]}))}o.$inject=["$scope","$state","$async","TagService","Notifications"],r().module("portainer.app").controller("TagsController",o)},31713:()=>{angular.module("portainer.app").controller("TeamController",["$q","$scope","$state","$transition$","TeamService","UserService","TeamMembershipService","ModalService","Notifications","PaginationService","Authentication",function(e,t,n,a,s,i,r,o,l,c,d){function u(e,t){for(var n=0,a=t.length;n<a;n++)if(t[n].Id===e)return void t.splice(n,1)}t.state={pagination_count_users:c.getPaginationLimit("team_available_users"),pagination_count_members:c.getPaginationLimit("team_members")},t.sortTypeUsers="Username",t.sortReverseUsers=!0,t.users=[],t.teamMembers=[],t.leaderCount=0,t.orderUsers=function(e){t.sortReverseUsers=t.sortTypeUsers===e&&!t.sortReverseUsers,t.sortTypeUsers=e},t.changePaginationCountUsers=function(){c.setPaginationLimit("team_available_users",t.state.pagination_count_users)},t.sortTypeGroupMembers="TeamRole",t.sortReverseGroupMembers=!1,t.orderGroupMembers=function(e){t.sortReverseGroupMembers=t.sortTypeGroupMembers===e&&!t.sortReverseGroupMembers,t.sortTypeGroupMembers=e},t.changePaginationCountGroupMembers=function(){c.setPaginationLimit("team_members",t.state.pagination_count_members)},t.deleteTeam=function(){o.confirmDeletion("",(function(e){e&&s.deleteTeam(t.team.Id).then((function(){l.success("Team successfully deleted",t.team.Name),n.go("portainer.teams")})).catch((function(e){l.error("Failure",e,"Unable to remove team")}))}))},t.promoteToLeader=function(e){r.updateMembership(e.MembershipId,e.Id,t.team.Id,1).then((function(){t.leaderCount++,e.TeamRole="Leader",l.success("User is now team leader",e.Username)})).catch((function(e){l.error("Failure",e,"Unable to update user role")}))},t.demoteToMember=function(e){r.updateMembership(e.MembershipId,e.Id,t.team.Id,2).then((function(){e.TeamRole="Member",t.leaderCount--,l.success("User is now team member",e.Username)})).catch((function(e){l.error("Failure",e,"Unable to update user role")}))},t.addAllUsers=function(){var n=[];angular.forEach(t.users,(function(e){n.push(r.createMembership(e.Id,t.team.Id,2))})),e.all(n).then((function(e){for(var n=t.users,a=0;a<n.length;a++){var s=n[a];s.MembershipId=e[a].Id,s.TeamRole="Member"}t.teamMembers=t.teamMembers.concat(n),t.users=[],l.success("All users successfully added")})).catch((function(e){l.error("Failure",e,"Unable to update team members")}))},t.addUser=function(e){r.createMembership(e.Id,t.team.Id,2).then((function(n){u(e.Id,t.users),e.TeamRole="Member",e.MembershipId=n.Id,t.teamMembers.push(e),l.success("User added to team",e.Username)})).catch((function(e){l.error("Failure",e,"Unable to update team members")}))},t.removeAllUsers=function(){var n=[];angular.forEach(t.teamMembers,(function(e){n.push(r.deleteMembership(e.MembershipId))})),e.all(n).then((function(){t.users=t.users.concat(t.teamMembers),t.teamMembers=[],t.leaderCount=0,l.success("All users successfully removed")})).catch((function(e){l.error("Failure",e,"Unable to update team members")}))},t.removeUser=function(e){r.deleteMembership(e.MembershipId).then((function(){u(e.Id,t.teamMembers),"Leader"===e.TeamRole&&t.leaderCount--,t.users.push(e),l.success("User removed from team",e.Username)})).catch((function(e){l.error("Failure",e,"Unable to update team members")}))},t.isAdmin=d.isAdmin(),e.all({team:s.team(a.params().id),users:i.users(!1),memberships:s.userMemberships(a.params().id)}).then((function(e){var n=e.users;t.team=e.team,function(e,n){for(var a=0;a<e.length;a++){for(var s=e[a],i=!1,r=0;r<n.length;r++){var o=n[r];if(s.Id===o.UserId){i=!0,1===o.Role?(s.TeamRole="Leader",t.leaderCount++):s.TeamRole="Member",s.MembershipId=o.Id,t.teamMembers.push(s);break}}i||t.users.push(s)}}(n,e.memberships)})).catch((function(e){l.error("Failure",e,"Unable to retrieve team details")}))}])},58206:(e,t,n)=>{"use strict";n.r(t);var a=n(16222),s=n.n(a);angular.module("portainer.app").controller("TeamsController",["$q","$scope","$state","TeamService","UserService","ModalService","Notifications","Authentication",function(e,t,n,a,i,r,o,l){var c,d;t.state={actionInProgress:!1},t.formValues={Name:"",Leaders:[]},t.checkNameValidity=function(e){for(var n=!0,a=0;a<t.teams.length;a++)if(t.formValues.Name===t.teams[a].Name){n=!1;break}e.team_name.$setValidity("validName",n)},t.addTeam=function(e){const s=e.name;t.state.actionInProgress=!0,a.createTeam(s,e.leaders).then((function(){o.success("Team successfully created",s),n.reload()})).catch((function(e){o.error("Failure",e,"Unable to create team")})).finally((function(){t.state.actionInProgress=!1}))},t.removeAction=function(e){r.confirmDeletion("",(function(s){s&&function(e){var s=e.length;angular.forEach(e,(function(e){a.deleteTeam(e.Id).then((function(){o.success("Team successfully removed",e.Name);var n=t.teams.indexOf(e);t.teams.splice(n,1)})).catch((function(e){o.error("Failure",e,"Unable to remove team")})).finally((function(){0==--s&&n.reload()}))}))}(e)}))},c=l.getUserDetails(),d=l.isAdmin(),t.isAdmin=d,e.all({users:i.users(!1),teams:d?a.teams():i.userLeadingTeams(c.ID)}).then((function(e){var n=e.teams;t.teams=n,t.users=s()(e.users,"Username","asc")})).catch((function(e){t.teams=[],t.users=[],o.error("Failure",e,"Unable to retrieve teams")}))}])},76058:(e,t,n)=>{"use strict";n.r(t);var a=n(16222),s=n.n(a),i=n(51235),r=n.n(i),o=n(66539),l=n.n(o),c=n(83432),d=n.n(c),u=n(19898);angular.module("portainer.app").controller("TemplatesController",["$scope","$q","$state","$anchorScroll","ContainerService","ImageService","NetworkService","TemplateService","TemplateHelper","VolumeService","Notifications","ResourceControlService","Authentication","FormValidator","StackService","endpoint",function(e,t,n,a,i,o,c,p,m,g,h,f,v,b,y,w){const x="DOCKER_SWARM_MODE";e.state={selectedTemplate:null,showAdvancedOptions:!1,formValidationError:"",actionInProgress:!1},e.formValues={network:"",name:"",AccessControlData:new u.AccessControlFormData},e.addVolume=function(){e.state.selectedTemplate.Volumes.push({containerPath:"",bind:"",readonly:!1,type:"auto"})},e.removeVolume=function(t){e.state.selectedTemplate.Volumes.splice(t,1)},e.addPortBinding=function(){e.state.selectedTemplate.Ports.push({hostPort:"",containerPort:"",protocol:"tcp"})},e.removePortBinding=function(t){e.state.selectedTemplate.Ports.splice(t,1)},e.addExtraHost=function(){e.state.selectedTemplate.Hosts.push("")},e.removeExtraHost=function(t){e.state.selectedTemplate.Hosts.splice(t,1)},e.addLabel=function(){e.state.selectedTemplate.Labels.push({name:"",value:""})},e.removeLabel=function(t){e.state.selectedTemplate.Labels.splice(t,1)},e.createTemplate=function(){var t=v.getUserDetails().ID,a=e.formValues.AccessControlData;if(function(t,n){var a;return e.state.formValidationError="",!(a=b.validateAccessControl(t,n))||(e.state.formValidationError=a,!1)}(a,e.isAdmin)){var s=e.state.selectedTemplate;e.state.actionInProgress=!0,2===s.Type?function(t,a,s){var i=e.formValues.name,r=d()(l()(t.Env,(function(e){return{name:e.name,value:e.preset||!e.value?e.default:e.value}})),(function(e){return e.value&&e.name})),o={RepositoryURL:t.Repository.url,ComposeFilePathInRepository:t.Repository.stackfile,FromAppTemplate:!0};const c=+n.params.endpointId;y.createSwarmStackFromGitRepository(i,o,r,c).then((function(e){const t=e.ResourceControl;return f.applyResourceControl(a,s,t)})).then((function(){h.success("Stack successfully deployed"),n.go("docker.stacks")})).catch((function(e){h.error("Deployment error",e)})).finally((function(){e.state.actionInProgress=!1}))}(s,t,a):3===s.Type?function(t,a,s){for(var i=e.formValues.name,r=0;r<t.Env.length;r++){var o=t.Env[r];o.preset&&(o.value=o.default)}var l={RepositoryURL:t.Repository.url,ComposeFilePathInRepository:t.Repository.stackfile,FromAppTemplate:!0};const c=+n.params.endpointId;y.createComposeStackFromGitRepository(i,l,t.Env,c).then((function(e){const t=e.ResourceControl;return f.applyResourceControl(a,s,t)})).then((function(){h.success("Stack successfully deployed"),n.go("docker.stacks")})).catch((function(e){h.error("Deployment error",e)})).finally((function(){e.state.actionInProgress=!1}))}(s,t,a):function(t,a,s){var r=function(t){var n=e.formValues.network,a=e.formValues.name;return p.createTemplateConfiguration(t,a,n)}(t),l=m.determineRequiredGeneratedVolumeCount(t.Volumes),c=[];g.createXAutoGeneratedLocalVolumes(l).then((function(e){return angular.forEach(e,(function(e){var t=e.Id;c.push(t)})),p.updateContainerConfigurationWithVolumes(r,t,e),o.pullImage(t.RegistryModel,!0)})).then((function(){return i.createAndStartContainer(r)})).then((function(e){const t=e.Portainer.ResourceControl;return f.applyResourceControl(a,s,t,c)})).then((function(){h.success("Container successfully created"),n.go("docker.containers",{},{reload:!0})})).catch((function(e){h.error("Failure",e,e.msg)})).finally((function(){e.state.actionInProgress=!1}))}(s,t,a)}},e.unselectTemplate=function(t){t.Selected=!1,e.state.selectedTemplate=null},e.selectTemplate=function(t){(v.isAdmin()||v.hasAuthorizations(["DockerContainerCreate","PortainerStackCreate"]))&&(e.state.selectedTemplate&&e.unselectTemplate(e.state.selectedTemplate),t.Selected=!0,t.Network?e.formValues.network=r()(e.availableNetworks,(function(e){return e.Name===t.Network})):e.formValues.network=r()(e.availableNetworks,(function(e){return"bridge"===e.Name})),e.formValues.name=t.Name?t.Name:"",e.state.selectedTemplate=t,e.state.deployable=function(e,t){let n=!1;switch(t){case 1:case 3:n=e.mode.provider===x||"DOCKER_STANDALONE"===e.mode.provider;break;case 2:n=e.mode.provider===x}return n}(e.applicationState.endpoint,t.Type),a("view-top"))},function(){e.isAdmin=v.isAdmin();var a=e.applicationState.endpoint.mode,i=e.applicationState.endpoint.apiVersion;const r=+n.params.endpointId;t.all({templates:p.templates(r),volumes:g.getVolumes(),networks:c.networks("DOCKER_STANDALONE"===a.provider||"DOCKER_SWARM_MODE"===a.provider,!1,"DOCKER_SWARM_MODE"===a.provider&&i>=1.25)}).then((function(t){var n=t.templates;e.templates=n,e.availableVolumes=s()(t.volumes.Volumes,[e=>e.Name.toLowerCase()],["asc"]);var a=t.networks;e.availableNetworks=a,e.allowBindMounts=w.SecuritySettings.allowBindMountsForRegularUsers})).catch((function(t){e.templates=[],h.error("Failure",t,"An error occurred during apps initialization.")}))}()}])},21436:()=>{angular.module("portainer.app").controller("UserController",["$q","$scope","$state","$transition$","UserService","ModalService","Notifications","SettingsService","Authentication",function(e,t,n,a,s,i,r,o,l){t.state={updatePasswordError:""},t.formValues={username:"",newPassword:"",confirmPassword:"",Administrator:!1},t.deleteUser=function(){i.confirmDeletion("Portainer",(function(e){e&&s.deleteUser(t.user.Id).then((function(){r.success("User successfully deleted",t.user.Username),n.go("portainer.users")})).catch((function(e){r.error("Failure",e,"Unable to remove user")}))}))},t.updateUser=async function(){const e=t.formValues.Administrator?1:2,a=t.user.Username,o=t.formValues.username;let l=Promise.resolve(!0);o!=a&&(l=new Promise((e=>i.confirm({title:"",message:`Are you sure you want to rename the user ${a} to ${o}?`,buttons:{confirm:{label:"",className:"btn-primary"}},callback:e})))),await l&&s.updateUser(t.user.Id,{role:e,username:o}).then((function(){r.success("User successfully updated"),n.reload()})).catch((function(e){r.error("Failure",e,"Unable to update user permissions")}))},t.updatePassword=async function(){const e=l.getUserDetails().ID===t.user.Id;(!e||await i.confirmChangePassword())&&s.updateUser(t.user.Id,{password:t.formValues.newPassword}).then((function(){r.success("Password successfully updated"),e?n.go("portainer.logout"):n.reload()})).catch((function(e){r.error("Failure",e,"Unable to update user password")}))},t.isSubmitEnabled=function(){const{user:e,formValues:n}=t;return e&&(e.Username!==n.username||n.Administrator&&1!==e.Role||!n.Administrator&&1===e.Role)},t.isDeleteDisabled=function(){const{user:e}=t;return e&&1===e.Id},t.isAdmin=l.isAdmin(),e.all({user:s.user(a.params().id),settings:o.publicSettings()}).then((function(e){var n=e.user;t.user=n,t.formValues.Administrator=1===n.Role,t.formValues.username=n.Username,t.AuthenticationMethod=e.settings.AuthenticationMethod})).catch((function(e){r.error("Failure",e,"Unable to retrieve user information")}))}])},79614:(e,t,n)=>{"use strict";n.r(t);var a=n(16222),s=n.n(a);angular.module("portainer.app").controller("UsersController",["$q","$scope","$state","UserService","TeamService","TeamMembershipService","ModalService","Notifications","Authentication","SettingsService",function(e,t,n,a,i,r,o,l,c,d){var u,p;t.state={userCreationError:"",validUsername:!1,actionInProgress:!1},t.formValues={Username:"",Password:"",ConfirmPassword:"",Administrator:!1,Teams:[]},t.checkUsernameValidity=function(){for(var e=!0,n=0;n<t.users.length;n++)if(t.formValues.Username.toLocaleLowerCase()===t.users[n].Username.toLocaleLowerCase()){e=!1;break}t.state.validUsername=e,t.state.userCreationError=e?"":""},t.addUser=function(){t.state.actionInProgress=!0,t.state.userCreationError="";var e=t.formValues.Username,s=t.formValues.Password,i=t.formValues.Administrator?1:2,r=[];angular.forEach(t.formValues.Teams,(function(e){r.push(e.Id)})),a.createUser(e,s,i,r).then((function(){l.success("User successfully created",e),n.reload()})).catch((function(e){l.error("Failure",e,"Unable to create user")})).finally((function(){t.state.actionInProgress=!1}))},t.removeAction=function(e){o.confirmDeletion("Portainer",(function(s){s&&function(e){var s=e.length;angular.forEach(e,(function(e){a.deleteUser(e.Id).then((function(){l.success("User successfully removed",e.Username);var n=t.users.indexOf(e);t.users.splice(n,1)})).catch((function(e){l.error("Failure",e,"Unable to remove user")})).finally((function(){0==--s&&n.reload()}))}))}(e)}))},u=c.getUserDetails(),p=c.isAdmin(),t.isAdmin=p,e.all({users:a.users(!0),teams:p?i.teams():a.userLeadingTeams(u.ID),memberships:r.memberships(),settings:d.publicSettings()}).then((function(e){var n=e.users;!function(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.isTeamLeader=!1;for(var s=0;s<t.length;s++){var i=t[s];if(a.Id===i.UserId&&1===i.Role){a.isTeamLeader=!0,a.RoleName="team leader";break}}}}(n,e.memberships),t.users=n,t.teams=s()(e.teams,"Name","asc"),t.AuthenticationMethod=e.settings.AuthenticationMethod})).catch((function(e){l.error("Failure",e,"Unable to retrieve users and teams"),t.users=[],t.teams=[]}))}])},58600:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(79906);const r=n(45488);s().module("portainer.app").component("wizardView",{templateUrl:r,controller:i.default})},90930:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(80864);const r=n(88139);s().module("portainer.app").component("wizardEndpoints",{templateUrl:r,controller:i.default})},97049:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(30685);const r=n(91024);s().module("portainer.app").component("wizardAci",{templateUrl:r,controller:i.default,bindings:{onUpdate:"<",onAnalytics:"<"}})},30685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(56619);class s{constructor(e,t,n,s){this.$async=e,this.EndpointService=t,this.Notifications=n,this.NameValidator=s,this.state={actionInProgress:!1,endpointType:"api",availableOptions:[(0,a.es)("API","fa fa-bolt","API","","api")]},this.formValues={name:"",azureApplicationId:"",azureTenantId:"",azureAuthenticationKey:""},this.onChangeEndpointType=this.onChangeEndpointType.bind(this)}onChangeEndpointType(e){this.state.endpointType=e}addAciEndpoint(){return this.$async((async()=>{const{name:e,azureApplicationId:t,azureTenantId:n,azureAuthenticationKey:a}=this.formValues,s=[];try{if(this.state.actionInProgress=!0,await this.NameValidator.validateEnvironmentName(e))return void this.Notifications.error("Failure",null,"This name is been used, please try another one");await this.EndpointService.createAzureEndpoint(e,t,n,a,1,s),this.Notifications.success("Environment connected",e),this.clearForm(),this.onUpdate(),this.onAnalytics("aci-api")}catch(e){this.Notifications.error("Failure",e,"Unable to connect your environment")}finally{this.state.actionInProgress=!1}}))}clearForm(){this.formValues={name:"",azureApplicationId:"",azureTenantId:"",azureAuthenticationKey:""}}}s.$inject=["$async","EndpointService","Notifications","NameValidator"]},20398:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(77375);const r=n(55494);s().module("portainer.app").component("wizardDocker",{templateUrl:r,controller:i.default,bindings:{onUpdate:"<",onAnalytics:"<"}})},77375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(13853),s=n(74808),i=n(25229),r=n(56619),o=n(52474);class l{constructor(e,t,n,a,s,o,l,c){this.$async=e,this.$scope=t,this.EndpointService=n,this.StateManager=a,this.Notifications=s,this.clipboard=o,this.$filter=l,this.NameValidator=c,this.state={endpointType:"agent",ConnectSocket:!1,actionInProgress:!1,endpoints:[],availableOptions:[(0,r.es)("Agent","fa fa-bolt","Agent","","agent"),(0,r.es)("API","fa fa-cloud","API","","api"),(0,r.es)("Socket","fab fa-docker","Socket","","socket")],agentShortVersion:null},this.formValues={name:"",url:"",publicURL:"",groupId:1,tagIds:[],environmentUrl:"",dockerApiurl:"",socketPath:"",overrideSocket:!1,skipCertification:!1,tls:!1,securityFormData:new i.EndpointSecurityFormData},this.command={},this.onChangeEndpointType=this.onChangeEndpointType.bind(this),this.onToggleSkipCert=this.onToggleSkipCert.bind(this),this.onToggleTls=this.onToggleTls.bind(this)}onToggleTls(e){this.$scope.$evalAsync((()=>{this.formValues.tls=e}))}onToggleSkipCert(e){this.$scope.$evalAsync((()=>{this.formValues.skipCertification=e}))}onChangeEndpointType(e){this.state.endpointType=e}copyLinuxCommand(){this.clipboard.copyText(this.command.linuxCommand),o("#linuxCommandNotification").show().fadeOut(2500)}copyWinCommand(){this.clipboard.copyText(this.command.winCommand),o("#winCommandNotification").show().fadeOut(2500)}copyLinuxSocket(){this.clipboard.copyText(this.command.linuxSocket),o("#linuxSocketNotification").show().fadeOut(2500)}copyWinSocket(){this.clipboard.copyText(this.command.winSocket),o("#winSocketNotification").show().fadeOut(2500)}onChangeFile(e){this.formValues.securityFormData=e}connectEnvironment(e){return this.$async((async()=>{const t=this.formValues.name,n=this.$filter("stripprotocol")(this.formValues.url),a=n.split(":")[0],i=this.formValues.socketPath,r=this.formValues.groupId,o=this.formValues.tagIds,l=this.formValues.securityFormData,c=this.formValues.overrideSocket?i:n;var d=null;if("agent"===e&&(d=s.PortainerEndpointCreationTypes.AgentEnvironment),"api"===e&&(d=s.PortainerEndpointCreationTypes.LocalDockerEnvironment),await this.NameValidator.validateEnvironmentName(t))this.Notifications.error("Failure",null,"This name is been used, please try another one");else switch(e){case"agent":await this.addDockerAgentEndpoint(t,d,n,a,r,o);break;case"api":await this.addDockerApiEndpoint(t,d,n,a,r,o,l);break;case"socket":await this.addDockerLocalEndpoint(t,c,a,r,o)}}))}async addDockerAgentEndpoint(e,t,n,a,s,i){await this.addRemoteEndpoint(e,t,n,a,s,i,!0,!0,!0,null,null,null)}async addDockerApiEndpoint(e,t,n,a,s,i,r){const o=this.formValues.tls,l=this.formValues.skipCertification,c=this.formValues.skipCertification,d=l?null:r.TLSCACert,u=c?null:r.TLSCert,p=c?null:r.TLSKey;await this.addRemoteEndpoint(e,t,n,a,s,i,o,l,c,d,u,p)}async addDockerLocalEndpoint(e,t,n,a,s){this.state.actionInProgress=!0;try{await this.EndpointService.createLocalEndpoint(e,t,n,a,s),this.Notifications.success("Environment connected",e),this.clearForm(),this.onUpdate()}catch(e){this.Notifications.error("Failure",e,"Unable to connect your environment")}finally{this.state.actionInProgress=!1}}async addRemoteEndpoint(e,t,n,a,i,r,o,l,c,d,u,p){this.state.actionInProgress=!0;try{await this.EndpointService.createRemoteEndpoint(e,t,n,a,i,r,o,l,c,d,u,p),this.Notifications.success("Environment connected",e),this.clearForm(),this.onUpdate(),t===s.PortainerEndpointCreationTypes.AgentEnvironment&&this.onAnalytics("docker-agent"),t===s.PortainerEndpointCreationTypes.LocalDockerEnvironment&&this.onAnalytics("docker-api")}catch(e){this.Notifications.error("Failure",e,"Unable to connect your environment")}finally{this.state.actionInProgress=!1}}clearForm(){this.formValues={name:"",url:"",publicURL:"",groupId:1,tagIds:[],environmentUrl:"",dockerApiurl:"",socketPath:"",overrodeSocket:!1,skipCertification:!1,tls:!1,securityFormData:new i.EndpointSecurityFormData}}$onInit(){return this.$async((async()=>{const e=await this.StateManager.getState().application.version;this.state.agentShortVersion=(0,a.getAgentShortVersion)(e),this.command={linuxCommand:`curl -L https://downloads.portainer.io/agent-stack-ee${this.state.agentShortVersion}.yml -o agent-stack.yml && docker stack deploy --compose-file=agent-stack.yml portainer-agent `,winCommand:`curl -L https://downloads.portainer.io/agent-stack-ee${this.state.agentShortVersion}-windows.yml -o agent-stack-windows.yml && docker stack deploy --compose-file=agent-stack-windows.yml portainer-agent `,linuxSocket:'-v "/var/run/docker.sock:/var/run/docker.sock" ',winSocket:"-v .pipedocker_engine:.pipedocker_engine "}}))}}l.$inject=["$async","$scope","EndpointService","StateManager","Notifications","clipboard","$filter","NameValidator"]},48190:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a),i=n(59857);const r=n(77947);s().module("portainer.app").component("wizardKubernetes",{templateUrl:r,controller:i.default,bindings:{onUpdate:"<",onAnalytics:"<"}})},59857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(74808),s=n(13853),i=n(56619),r=n(52474);class o{constructor(e,t,n,a,s,r,o){this.$async=e,this.EndpointService=t,this.StateManager=n,this.Notifications=a,this.$filter=s,this.clipboard=r,this.NameValidator=o,this.state={endpointType:"agent",actionInProgress:!1,formValues:{name:"",url:""},availableOptions:[(0,i.es)("Agent","fa fa-bolt","Agent","","agent")],agentShortVersion:null},this.onChangeEndpointType=this.onChangeEndpointType.bind(this)}onChangeEndpointType(e){this.state.endpointType=e}addKubernetesAgent(){return this.$async((async()=>{const e=this.state.formValues.name,t=this.$filter("stripprotocol")(this.state.formValues.url),n=t.split(":")[0],s=a.PortainerEndpointCreationTypes.AgentEnvironment;await this.NameValidator.validateEnvironmentName(e)?this.Notifications.error("Failure",null,"This name is been used, please try another one"):await this.addRemoteEndpoint(e,s,t,n,1,[],!0,!0,!0,null,null,null)}))}async addRemoteEndpoint(e,t,n,a,s,i,r,o,l,c,d,u){this.state.actionInProgress=!0;try{await this.EndpointService.createRemoteEndpoint(e,t,n,a,s,i,r,o,l,c,d,u),this.Notifications.success("Environment connected",e),this.clearForm(),this.onUpdate(),this.onAnalytics("kubernetes-agent")}catch(e){this.Notifications.error("Failure",e,"Unable to conect your environment")}finally{this.state.actionInProgress=!1}}copyLoadBalancer(){this.clipboard.copyText(this.command.loadBalancer),r("#loadBalancerNotification").show().fadeOut(2500)}copyNodePort(){this.clipboard.copyText(this.command.nodePort),r("#nodePortNotification").show().fadeOut(2500)}clearForm(){this.state.formValues={name:"",url:""}}$onInit(){return this.$async((async()=>{const e=await this.StateManager.getState().application.version;this.state.agentShortVersion=(0,s.getAgentShortVersion)(e),this.command={loadBalancer:`curl -L https://downloads.portainer.io/portainer-agent-ee${this.state.agentShortVersion}-k8s-lb.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml `,nodePort:`curl -L https://downloads.portainer.io/portainer-agent-ee${this.state.agentShortVersion}-k8s-nodeport.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml `}}))}}o.$inject=["$async","EndpointService","StateManager","Notifications","$filter","clipboard","NameValidator"]},71308:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(72393);s().module("portainer.app").component("wizardEndpointList",{templateUrl:i,bindings:{endpointList:"<"}})},80864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});class a{constructor(e,t,n,a,s){this.$async=e,this.$scope=t,this.$state=n,this.EndpointService=a,this.$analytics=s,this.updateEndpoint=this.updateEndpoint.bind(this),this.addAnalytics=this.addAnalytics.bind(this)}async updateEndpoint(){const e=await this.EndpointService.endpoints();this.endpoints=e.value}startWizard(){const e=this.state.options;this.state.selections=e.filter((e=>!0===e.selected)),this.state.maxStep=this.state.selections.length,0!==this.state.selections.length&&(this.state.section=this.state.selections[this.state.currentStep].endpoint,this.state.selections[this.state.currentStep].stage="active"),this.state.currentStep===this.state.maxStep-1&&(this.state.nextStep="Finish"),this.$analytics.eventTrack("endpoint-wizard-endpoint-select",{category:"portainer",metadata:{environment:this.state.analytics.docker+this.state.analytics.kubernetes+this.state.analytics.aci}}),this.state.currentStep++}previousStep(){this.state.section=this.state.selections[this.state.currentStep-2].endpoint,this.state.selections[this.state.currentStep-2].stage="active",this.state.selections[this.state.currentStep-1].stage="",this.state.nextStep="Next Step",this.state.currentStep--}async nextStep(){if(this.state.currentStep>=this.state.maxStep-1&&(this.state.nextStep="Finish"),this.state.currentStep===this.state.maxStep){const e=(await this.EndpointService.endpoints()).value.filter((e=>1===e.Type||5===e.Type));this.state.counter.localEndpoint=e.length-this.state.counter.dockerApi,this.$analytics.eventTrack("endpoint-wizard-environment-add-finish",{category:"portainer",metadata:{"docker-agent":this.state.counter.dockerAgent,"docker-api":this.state.counter.dockerApi,"kubernetes-agent":this.state.counter.kubernetesAgent,"aci-api":this.state.counter.aciApi,"local-endpoint":this.state.counter.localEndpoint}}),this.$state.go("portainer.home")}else this.state.section=this.state.selections[this.state.currentStep].endpoint,this.state.selections[this.state.currentStep].stage="active",this.state.selections[this.state.currentStep-1].stage="completed",this.state.currentStep++}addAnalytics(e){switch(e){case"docker-agent":this.state.counter.dockerAgent++;break;case"docker-api":this.state.counter.dockerApi++;break;case"kubernetes-agent":this.state.counter.kubernetesAgent++;break;case"aci-api":this.state.counter.aciApi++}}endpointSelect(e){switch(e){case"docker":this.state.options[0].selected?(this.state.options[0].selected=!1,this.state.dockerActive="",this.state.analytics.docker=""):(this.state.options[0].selected=!0,this.state.dockerActive="wizard-active",this.state.analytics.docker="Docker/");break;case"kubernetes":this.state.options[1].selected?(this.state.options[1].selected=!1,this.state.kubernetesActive="",this.state.analytics.kubernetes=""):(this.state.options[1].selected=!0,this.state.kubernetesActive="wizard-active",this.state.analytics.kubernetes="Kubernetes/");break;case"aci":this.state.options[2].selected?(this.state.options[2].selected=!1,this.state.aciActive="",this.state.analytics.aci=""):(this.state.options[2].selected=!0,this.state.aciActive="wizard-active",this.state.analytics.aci="ACI")}const t=this.state.options;this.state.selections=t.filter((e=>!0===e.selected))}$onInit(){return this.$async((async()=>{this.state={currentStep:0,section:"",dockerActive:"",kubernetesActive:"",aciActive:"",maxStep:"",previousStep:"Previous",nextStep:"Next Step",selections:[],analytics:{docker:"",kubernetes:"",aci:""},counter:{dockerAgent:0,dockerApi:0,kubernetesAgent:0,aciApi:0,localEndpoint:0},options:[{endpoint:"docker",selected:!1,stage:"",nameClass:"docker",icon:"fab fa-docker"},{endpoint:"kubernetes",selected:!1,stage:"",nameClass:"kubernetes",icon:"fas fa-dharmachakra"},{endpoint:"aci",selected:!1,stage:"",nameClass:"aci",icon:"fab fa-microsoft"}],selectOption:""},this.endpoints=[];const e=await this.EndpointService.endpoints();this.endpoints=e.value}))}}a.$inject=["$async","$scope","$state","EndpointService","$analytics"]},34294:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(99682);s().module("portainer.app").component("wizardStepper",{templateUrl:i,bindings:{endpointSelections:"<"}})},54112:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(50533);s().module("portainer.app").component("wizardEndpointType",{templateUrl:i,bindings:{endpointTitle:"@",description:"@",icon:"@",active:"<"}})},90432:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(55723);s().module("portainer.app").component("wizardLink",{templateUrl:i,bindings:{linkTitle:"@",description:"@",icon:"<"}})},42294:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);const i=n(58559);s().module("portainer.app").component("wizardTls",{templateUrl:i,bindings:{formData:"<",onChange:"<"}})},79906:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(74808);class s{constructor(e,t,n,a){this.$async=e,this.$state=t,this.EndpointService=n,this.$analytics=a}manageLocalEndpoint(){this.$state.go("portainer.home")}addRemoteEndpoint(){this.$state.go("portainer.wizard.endpoints")}async createLocalKubernetesEndpoint(){this.state.endpoint.loading=!0;try{await this.EndpointService.createLocalKubernetesEndpoint(),this.state.endpoint.loading=!1,this.state.endpoint.added=!0,this.state.endpoint.connected="kubernetes",this.state.local.icon="fas fa-dharmachakra"}catch(e){this.state.endpoint.kubernetesError=!0}}async createLocalDockerEndpoint(){try{await this.EndpointService.createLocalEndpoint(),this.state.endpoint.loading=!1,this.state.endpoint.added=!0,this.state.endpoint.connected="docker",this.state.local.icon="fab fa-docker"}finally{this.state.endpoint.loading=!1}}$onInit(){return this.$async((async()=>{this.state={local:{icon:""},remote:{icon:"fa fa-plug"},endpoint:{kubernetesError:!1,connected:"",loading:!1,added:!1}};const e=await this.EndpointService.endpoints();if("0"===e.totalCount)await this.createLocalKubernetesEndpoint(),this.state.endpoint.kubernetesError&&await this.createLocalDockerEndpoint();else{const t=e.value[0];t.Type===a.PortainerEndpointCreationTypes.LocalDockerEnvironment&&(this.state.endpoint.added=!0,this.state.endpoint.connected="docker",this.state.local.icon="fab fa-docker"),t.Type===a.PortainerEndpointCreationTypes.LocalKubernetesEnvironment&&(this.state.endpoint.added=!0,this.state.endpoint.connected="kubernetes",this.state.local.icon="fas fa-dharmachakra")}}))}}s.$inject=["$async","$state","EndpointService","$analytics"]},68724:(e,t,n)=>{"use strict";function a(){}n.r(t),n.d(t,{default:()=>a}),n(40958)},25518:(e,t,n)=>{"use strict";n.r(t);var a=n(29274),s=n.n(a);n(4396),n(71538),n(77906),n(65400),n(59250),n(65927),n(22479),n(60685),n(99639),n(16249),n(40635),n(42536),n(66520),n(54879),n(85639),n(78421),n(88678),n(85774),n(8149),n(28517),n(80134),window.angular=s()},10388:e=>{var t="app/agent/components/file-uploader/fileUploader.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<button type="button" ngf-select="$ctrl.onFileSelected($file)" class="btn ng-scope" button-spinner="$ctrl.state.uploadInProgress">\n  <i style="margin: 0" class="fa fa-upload" ng-if="!$ctrl.state.uploadInProgress"></i>\n</button>\n')}]),e.exports=t},53719:e=>{var t="app/agent/components/files-datatable/filesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-header icon="{{ $ctrl.titleIcon }}" title-text="{{ $ctrl.titleText }}">\n      <file-uploader authorization="DockerAgentBrowsePut" ng-if="$ctrl.isUploadAllowed" on-file-selected="($ctrl.onFileSelectedForUpload)"> </file-uploader>\n    </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-model-options="{ debounce: 300 }"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Size\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Size\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Size\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ModTime\')">\n                  Last modification\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ModTime\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ModTime\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-if="!$ctrl.isRoot">\n              <td colspan="4">\n                <a ng-click="$ctrl.goToParent()"><i class="fa fa-level-up-alt space-right"></i>Go to parent</a>\n              </td>\n            </tr>\n            <tr ng-repeat="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder))">\n              <td>\n                <span ng-if="item.edit">\n                  <input\n                    class="input-sm"\n                    type="text"\n                    ng-model="item.newName"\n                    on-enter-key="$ctrl.rename({ name: item.Name, newName: item.newName }); item.edit = false"\n                    auto-focus\n                  />\n                  <a class="interactive" ng-click="item.edit = false;"><i class="fa fa-times"></i></a>\n                  <a class="interactive" ng-click="$ctrl.rename({name: item.Name, newName: item.newName}); item.edit = false;"><i class="fa fa-check-square"></i></a>\n                </span>\n                <span ng-if="!item.edit && item.Dir">\n                  <a ng-click="$ctrl.browse({name: item.Name})"><i class="fa fa-folder space-right" aria-hidden="true"></i>{{ item.Name }}</a>\n                </span>\n                <span ng-if="!item.edit && !item.Dir"> <i class="fa fa-file space-right" aria-hidden="true"></i>{{ item.Name }} </span>\n              </td>\n              <td>{{ item.Size | humansize }}</td>\n              <td>\n                {{ item.ModTime | getisodatefromtimestamp }}\n              </td>\n              <td>\n                <btn authorization="DockerAgentBrowseGet" class="btn btn-xs btn-primary space-right" ng-click="$ctrl.download({ name: item.Name })" ng-if="!item.Dir">\n                  <i class="fa fa-download" aria-hidden="true"></i> Download\n                </btn>\n                <btn authorization="DockerAgentBrowseRename" class="btn btn-xs btn-primary space-right" ng-click="item.newName = item.Name; item.edit = true">\n                  <i class="fa fa-edit" aria-hidden="true"></i> Rename\n                </btn>\n                <btn authorization="DockerAgentBrowseDelete" class="btn btn-xs btn-danger" ng-click="$ctrl.delete({ name: item.Name })">\n                  <i class="fa fa-trash" aria-hidden="true"></i> Delete\n                </btn>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No files found.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},10884:e=>{var t="app/agent/components/host-browser/hostBrowser.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<files-datatable\n  title-text="Host browser - {{ $ctrl.getRelativePath() }}"\n  title-icon="fa-file"\n  dataset="$ctrl.files"\n  table-key="host_browser"\n  order-by="Dir"\n  is-root="$ctrl.isRoot()"\n  go-to-parent="$ctrl.goToParent()"\n  browse="$ctrl.browse(name)"\n  rename="$ctrl.renameFile(name, newName)"\n  download="$ctrl.downloadFile(name)"\n  delete="$ctrl.confirmDeleteFile(name)"\n  is-upload-allowed="true"\n  on-file-selected-for-upload="($ctrl.onFileSelectedForUpload)"\n>\n</files-datatable>\n')}]),e.exports=t},56566:e=>{var t="app/agent/components/node-selector/nodeSelector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <label for="target_node" class="col-sm-1 control-label text-left">Node</label>\n  <div class="col-sm-11">\n    <select class="form-control" ng-model="$ctrl.model" ng-options="agent.NodeName as agent.NodeName for agent in $ctrl.agents"></select>\n  </div>\n</div>\n')}]),e.exports=t},23709:e=>{var t="app/agent/components/volume-browser/volumeBrowser.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<files-datatable\n  title-text="Volume browser"\n  title-icon="fa-file"\n  dataset="$ctrl.files"\n  table-key="volume_browser"\n  order-by="Dir"\n  is-root="$ctrl.state.path === \'/\'"\n  go-to-parent="$ctrl.up()"\n  browse="$ctrl.browse(name)"\n  rename="$ctrl.rename(name, newName)"\n  download="$ctrl.download(name)"\n  delete="$ctrl.confirmDelete(name)"\n  is-upload-allowed="$ctrl.isUploadEnabled"\n  on-file-selected-for-upload="($ctrl.onFileSelectedForUpload)"\n></files-datatable>\n')}]),e.exports=t},48863:e=>{var t="app/azure/components/azure-endpoint-config/azureEndpointConfig.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div class="col-sm-12 form-section-title"> Azure configuration </div>\n  \x3c!-- applicationId-input --\x3e\n  <div class="form-group">\n    <label for="azure_credential_appid" class="col-sm-3 col-lg-2 control-label text-left">Application ID</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" name="azure_credential_appid" ng-model="$ctrl.applicationId" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" required />\n    </div>\n  </div>\n  \x3c!-- !applicationId-input --\x3e\n  \x3c!-- tenantId-input --\x3e\n  <div class="form-group">\n    <label for="azure_credential_tenantid" class="col-sm-3 col-lg-2 control-label text-left">Tenant ID</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" name="azure_credential_tenantid" ng-model="$ctrl.tenantId" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" required />\n    </div>\n  </div>\n  \x3c!-- !tenantId-input --\x3e\n  \x3c!-- authenticationkey-input --\x3e\n  <div class="form-group">\n    <label for="azure_credential_authkey" class="col-sm-3 col-lg-2 control-label text-left">Authentication key</label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        name="azure_credential_authkey"\n        ng-model="$ctrl.authenticationKey"\n        placeholder="cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk="\n        required\n      />\n    </div>\n  </div>\n  \x3c!-- !authenticationkey-input --\x3e\n</div>\n')}]),e.exports=t},65301:e=>{var t="app/azure/components/azure-sidebar/azure-sidebar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<sidebar-menu-item\n  path="azure.dashboard"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-tachometer-alt fa-fw"\n  class-name="sidebar-list"\n  data-cy="azureSidebar-dashboard"\n>\n  \n</sidebar-menu-item>\n\n<sidebar-menu-item\n  path="azure.containerinstances"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-cubes fa-fw"\n  class-name="sidebar-list"\n  data-cy="azureSidebar-containerInstances"\n>\n  Container instances\n</sidebar-menu-item>\n')}]),e.exports=t},76974:e=>{var t="app/azure/components/datatables/containergroups-datatable/containerGroupsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          authorization="AzureContainerGroupDelete"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="azure.containerinstances.new" authorization="AzureContainerGroupCreate">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover table-filters nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox" authorization="AzureContainerGroupDelete">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Location\')">\n                  Location\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Location\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Location\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th> Published Ports </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" authorization="AzureContainerGroupDelete">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="azure.containerinstances.container({ id: item.Id })">{{ item.Name | truncate: 50 }}</a>\n              </td>\n              <td>{{ item.Location }}</td>\n              <td>\n                <a ng-if="item.Ports.length > 0" ng-repeat="p in item.Ports" class="image-tag" ng-href="http://{{ item.IPAddress }}:{{ p.host }}" target="_blank">\n                  <i class="fa fa-external-link-alt" aria-hidden="true"></i> {{ item.IPAddress }}:{{ p.host }}\n                </a>\n                <span ng-if="item.Ports.length == 0">-</span>\n              </td>\n              <td>\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No container available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},16622:e=>{var t="app/azure/views/containerinstances/container-instance-details/containerInstanceDetails.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="azure.containerinstances">Container instances</a> &gt; {{ $ctrl.container.Name }} </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="!$ctrl.state.loading">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <div class="form-horizontal" autocomplete="off">\n          <div class="col-sm-12 form-section-title"> Azure settings </div>\n          \x3c!-- subscription-input --\x3e\n          <div class="form-group">\n            <label for="azure_subscription" class="col-sm-2 control-label text-left">Subscription</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.subscription.Name" disabled />\n            </div>\n          </div>\n          \x3c!-- !subscription-input --\x3e\n          \x3c!-- resourcegroup-input --\x3e\n          <div class="form-group">\n            <label for="azure_resourcegroup" class="col-sm-2 control-label text-left">Resource group</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.resourceGroup.Name" disabled />\n            </div>\n          </div>\n          \x3c!-- !resourcegroup-input --\x3e\n          \x3c!-- location-input --\x3e\n          <div class="form-group">\n            <label for="azure_location" class="col-sm-2 control-label text-left">Location</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.container.Location" disabled />\n            </div>\n          </div>\n          \x3c!-- !location-input --\x3e\n          <div class="col-sm-12 form-section-title"> Container configuration </div>\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="container_name" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.container.Name" disabled />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- image-input --\x3e\n          <div class="form-group">\n            <label for="image_name" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.container.Image" disabled />\n            </div>\n          </div>\n          \x3c!-- !image-input --\x3e\n          \x3c!-- os-input --\x3e\n          <div class="form-group">\n            <label for="container_os" class="col-sm-2 control-label text-left">OS</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.container.OSType" disabled />\n            </div>\n          </div>\n          \x3c!-- !os-input --\x3e\n          \x3c!-- port-mapping --\x3e\n          <div class="form-group" ng-if="$ctrl.container.Ports.length > 0">\n            <div class="col-sm-12">\n              <label class="control-label text-left">Port mapping</label>\n            </div>\n            \x3c!-- port-mapping-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="binding in $ctrl.container.Ports" style="margin-top: 2px">\n                \x3c!-- host-port --\x3e\n                <div class="input-group col-sm-4 input-group-sm">\n                  <span class="input-group-addon">host</span>\n                  <input type="text" class="form-control" ng-model="binding.host" placeholder=" 80" disabled />\n                </div>\n                \x3c!-- !host-port --\x3e\n                <span style="margin: 0 10px 0 10px">\n                  <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                </span>\n                \x3c!-- container-port --\x3e\n                <div class="input-group col-sm-4 input-group-sm">\n                  <span class="input-group-addon"></span>\n                  <input type="text" class="form-control" ng-model="binding.container" placeholder=" 80" disabled />\n                </div>\n                \x3c!-- !container-port --\x3e\n                \x3c!-- protocol-actions --\x3e\n                <div class="input-group col-sm-3 input-group-sm">\n                  <div class="btn-group btn-group-sm">\n                    <label class="btn btn-primary" ng-model="binding.protocol" uib-btn-radio="\'TCP\'" disabled>TCP</label>\n                    <label class="btn btn-primary" ng-model="binding.protocol" uib-btn-radio="\'UDP\'" disabled>UDP</label>\n                  </div>\n                </div>\n                \x3c!-- !protocol-actions --\x3e\n              </div>\n            </div>\n            \x3c!-- !port-mapping-input-list --\x3e\n          </div>\n          \x3c!-- !port-mapping --\x3e\n          \x3c!-- public-ip --\x3e\n          <div class="form-group" ng-if="$ctrl.container.AllocatePublicIP">\n            <label for="public_ip" class="col-sm-2 control-label text-left"> Public IP </label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.container.IPAddress" disabled />\n            </div>\n          </div>\n          \x3c!-- public-ip --\x3e\n          <div class="col-sm-12 form-section-title"> Container resources </div>\n          \x3c!-- cpu-input --\x3e\n          <div class="form-group">\n            <label for="container_cpu" class="col-sm-2 control-label text-left">CPU</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.container.CPU" disabled />\n            </div>\n          </div>\n          \x3c!-- !cpu-input --\x3e\n          \x3c!-- memory-input --\x3e\n          <div class="form-group">\n            <label for="container_memory" class="col-sm-2 control-label text-left">Memory</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="$ctrl.container.Memory" disabled />\n            </div>\n          </div>\n          \x3c!-- !memory-input --\x3e\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  \x3c!-- access-control-panel --\x3e\n  <por-access-control-panel ng-if="$ctrl.container" resource-id="$ctrl.container.Id" resource-control="$ctrl.container.ResourceControl" resource-type="\'container-group\'">\n  </por-access-control-panel>\n  \x3c!-- !access-control-panel --\x3e\n</div>\n')}]),e.exports=t},14394:e=>{var t="app/azure/views/containerinstances/containerinstances.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="azure.containerinstances" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Container instances</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <containergroups-datatable\n      title-text=""\n      title-icon="fa-cubes"\n      dataset="containerGroups"\n      table-key="containergroups"\n      order-by="Name"\n      remove-action="deleteAction"\n    ></containergroups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},9535:e=>{var t="app/azure/views/dashboard/dashboard.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="subscriptions">\n  <div class="col-sm-12 col-md-6">\n    <a ui-sref="azure.subscriptions">\n      <rd-widget>\n        <rd-widget-body>\n          <div class="widget-icon blue pull-left">\n            <i class="fa fa-th-list"></i>\n          </div>\n          <div class="title dashboard-item">{{ subscriptions.length }}</div>\n          <div class="comment dashboard-item">Subscriptions</div>\n        </rd-widget-body>\n      </rd-widget>\n    </a>\n  </div>\n  <div class="col-sm-12 col-md-6" ng-if="resourceGroups">\n    <a ui-sref="azure.resourceGroups">\n      <rd-widget>\n        <rd-widget-body>\n          <div class="widget-icon blue pull-left">\n            <i class="fa fa-th-list"></i>\n          </div>\n          <div class="title dashboard-item">{{ resourceGroups.length }}</div>\n          <div class="comment dashboard-item">Resource groups</div>\n        </rd-widget-body>\n      </rd-widget>\n    </a>\n  </div>\n</div>\n')}]),e.exports=t},81521:e=>{var t="app/docker/components/container-capabilities/containerCapabilities.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="col-sm-12 form-section-title"> Container capabilities </div>\n  <div class="form-group">\n    <div ng-repeat="cap in $ctrl.capabilities" class="col-xs-12 col-sm-6 col-md-4">\n      <div class="row">\n        <div class="col-xs-8">\n          <label for="capability" class="control-label text-left" style="display: flex; padding: 0">\n            {{ cap.capability }}\n            <portainer-tooltip position="bottom" message="{{ cap.description }}"></portainer-tooltip>\n          </label>\n        </div>\n        <div class="col-xs-4">\n          <label class="switch"> <input type="checkbox" name="capability" ng-model="cap.allowed" /><i></i> </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},80239:e=>{var t="app/docker/components/container-restart-policy/container-restart-policy.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <table class="table table-bordered table-condensed">\n    <tr>\n      <td class="col-md-3">\n        <span></span>\n      </td>\n      <td>\n        <select class="form-control" ng-model="$ctrl.state.editModel.name" disable-authorization="DockerContainerUpdate">\n          <option value="no"></option>\n          <option value="on-failure"></option>\n          <option value="always"></option>\n          <option value="unless-stopped"></option>\n        </select>\n      </td>\n      <td class="col-md-2" authorization="DockerContainerUpdate">\n        <button class="btn btn-sm btn-primary" ng-click="$ctrl.save()">Update</button>\n      </td>\n    </tr>\n    <tr ng-if="$ctrl.state.editModel.name === \'on-failure\'">\n      <td class="col-md-3">Maximum Retry Count</td>\n      <td colspan="2">\n        <input type="number" class="form-control" ng-model="$ctrl.state.editModel.maximumRetryCount" />\n      </td>\n    </tr>\n  </table>\n</div>\n')}]),e.exports=t},171:e=>{var t="app/docker/components/dashboard-cluster-agent-info/dashboardClusterAgentInfo.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-header icon="fa-tachometer-alt" title-text=""></rd-widget-header>\n  <rd-widget-body classes="no-padding">\n    <table class="table">\n      <tbody>\n        <tr>\n          <td>Nodes in the cluster</td>\n          <td>{{ $ctrl.agentCount }}</td>\n        </tr>\n        <tr>\n          <td colspan="2">\n            <div class="btn-group" role="group" aria-label="...">\n              <a ui-sref="docker.swarm.visualizer"><i class="fa fa-object-group space-right" aria-hidden="true"></i>Go to cluster visualizer</a>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},80602:e=>{var t="app/docker/components/datatables/configs-datatable/configsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" authorization="DockerConfigDelete, DockerConfigCreate">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          authorization="DockerConfigDelete"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.configs.new" authorization="DockerConfigCreate">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Add config\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox" authorization="DockerConfigDelete, DockerConfigCreate">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CreatedAt\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreatedAt\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreatedAt\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" authorization="DockerConfigDelete, DockerConfigCreate">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="docker.configs.config({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>{{ item.CreatedAt | getisodate }}</td>\n              <td>\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No config available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},49229:e=>{var t="app/docker/components/datatables/container-networks-datatable/containerNetworksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <form class="form-horizontal">\n          <div class="row" authorization="DockerNetworkConnect">\n            <label for="container_network" class="col-sm-3 col-lg-2 control-label text-left"></label>\n            <div class="col-sm-5 col-lg-4">\n              <select class="form-control" ng-model="$ctrl.selectedNetwork" id="container_network">\n                <option selected disabled hidden value=""></option>\n                <option ng-repeat="net in $ctrl.availableNetworks | orderBy: \'Name\'" ng-value="net.Id">{{ net.Name }}</option>\n              </select>\n            </div>\n            <div class="col-sm-1">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.joinNetworkActionInProgress || !$ctrl.selectedNetwork"\n                ng-click="$ctrl.joinNetworkAction($ctrl.container, $ctrl.selectedNetwork)"\n                button-spinner="$ctrl.joinNetworkActionInProgress"\n              >\n                <span ng-hide="$ctrl.joinNetworkActionInProgress"></span>\n                <span ng-show="$ctrl.joinNetworkActionInProgress">...</span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th></th>\n              <th>\n                IP\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th></th>\n              <th>MAC </th>\n              <th authorization="DockerNetworkDisconnect"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="(key, value) in $ctrl.dataset | itemsPerPage: $ctrl.state.paginatedItemLimit"\n              ng-class="{ active: item.Checked }"\n              ng-click="$ctrl.expandItem(value, !value.Expanded)"\n            >\n              <td>\n                <a ng-if="$ctrl.itemCanExpand(value)">\n                  <i ng-class="{ \'fas fa-angle-down\': value.Expanded, \'fas fa-angle-right\': !value.Expanded }" class="space-right" aria-hidden="true"></i>\n                </a>\n                <a ui-sref="docker.networks.network({ id: key, nodeName: $ctrl.nodeName })">{{ key }}</a>\n              </td>\n              <td>{{ value.IPAddress || \'-\' }}</td>\n              <td>{{ value.Gateway || \'-\' }}</td>\n              <td>{{ value.MacAddress || \'-\' }}</td>\n              <td authorization="DockerNetworkDisconnect">\n                <button\n                  type="button"\n                  class="btn btn-xs btn-danger"\n                  ng-disabled="$ctrl.leaveNetworkActionInProgress || $ctrl.container.IsPortainer"\n                  button-spinner="$ctrl.leaveNetworkActionInProgress"\n                  ng-click="$ctrl.leaveNetworkAction($ctrl.container, key)"\n                >\n                  <span ng-hide="$ctrl.leaveNetworkActionInProgress"><i class="fa fa-trash-alt space-right" aria-hidden="true"></i> </span>\n                  <span ng-show="$ctrl.leaveNetworkActionInProgress">Leaving network...</span>\n                </button>\n              </td>\n            </tr>\n            <tr\n              dir-paginate-end\n              ng-show="$ctrl.itemCanExpand(value) && value.Expanded"\n              ng-class="{ \'datatable-highlighted\': value.Highlighted, \'datatable-unhighlighted\': !value.Highlighted }"\n            >\n              <td colspan="1"></td>\n              <td colspan="1">\n                {{ value.GlobalIPv6Address }}\n              </td>\n              <td colspan="3">\n                {{ value.IPv6Gateway || \'-\' }}\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.dataset.length === 0">\n              <td colspan="5" class="text-center text-muted">No network available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},85566:e=>{var t="app/docker/components/datatables/container-processes-datatable/containerProcessesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" placeholder="..." auto-focus ng-model-options="{ debounce: 300 }" />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th ng-repeat="header in $ctrl.headerset">\n                {{ header }}\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr dir-paginate="item in ($ctrl.state.filteredProcesses = ($ctrl.dataset | filter:$ctrl.state.textFilter | itemsPerPage: $ctrl.state.paginatedItemLimit))">\n              <td ng-repeat="info in item track by $index">{{ info }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="{{ $ctrl.headerset.length }}" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredProcesses.length === 0">\n              <td colspan="{{ $ctrl.headerset.length }}" class="text-center text-muted">No process available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},2576:e=>{var t="app/docker/components/datatables/events-datatable/eventsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Time\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Time\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Time\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Type\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Details\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Details\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Details\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>{{ item.Time | getisodatefromtimestamp }}</td>\n              <td>{{ item.Type }}</td>\n              <td>{{ item.Details }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No event available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},33261:e=>{var t="app/docker/components/datatables/images-datatable/imagesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" ng-if="!$ctrl.offlineMode" authorization="DockerImageDelete, DockerImageBuild, DockerImageLoad, DockerImageGet">\n        <div class="btn-group" authorization="DockerImageDelete">\n          <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems, false)">\n            <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n          </button>\n          <button\n            type="button"\n            class="btn btn-sm btn-danger dropdown-toggle"\n            data-toggle="dropdown"\n            aria-haspopup="true"\n            aria-expanded="false"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n          >\n            <span class="caret"></span>\n            <span class="sr-only">Toggle Dropdown</span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="$ctrl.forceRemoveAction($ctrl.state.selectedItems, true)" ng-disabled="$ctrl.state.selectedItemCount === 0">Force Remove</a></li>\n          </ul>\n        </div>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.images.build" authorization="DockerImageBuild">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ng-disabled="$ctrl.exportInProgress" ui-sref="docker.images.import" authorization="DockerImageLoad">\n          <i class="fa fa-upload space-right" aria-hidden="true"></i>\n        </button>\n        <button\n          type="button"\n          class="btn btn-sm btn-primary"\n          ng-disabled="$ctrl.state.selectedItemCount === 0 || $ctrl.exportInProgress"\n          ng-click="$ctrl.downloadAction($ctrl.state.selectedItems)"\n          button-spinner="$ctrl.exportInProgress"\n          authorization="DockerImageGet"\n        >\n          <i class="fa fa-download space-right" aria-hidden="true"></i>\n          <span ng-hide="$ctrl.exportInProgress"></span>\n          <span ng-show="$ctrl.exportInProgress">...</span>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover table-filters nowrap-cells">\n          <thead>\n            <tr>\n              <th uib-dropdown dropdown-append-to-body auto-close="disabled" popover-placement="bottom-left" is-open="$ctrl.filters.state.open">\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Id\')">\n                  Id\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Id\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Id\' && $ctrl.state.reverseOrder"></i>\n                </a>\n                <div>\n                  <span uib-dropdown-toggle class="table-filter" ng-if="!$ctrl.filters.state.enabled"><i class="fa fa-filter" aria-hidden="true"></i></span>\n                  <span uib-dropdown-toggle class="table-filter filter-active" ng-if="$ctrl.filters.state.enabled"><i class="fa fa-check" aria-hidden="true"></i></span>\n                </div>\n                <div class="dropdown-menu" uib-dropdown-menu>\n                  <div class="tableMenu">\n                    <div class="menuHeader">  </div>\n                    <div class="menuContent">\n                      <div class="md-checkbox">\n                        <input id="filter_usage_usedImages" type="checkbox" ng-model="$ctrl.filters.state.showUsedImages" ng-change="$ctrl.onstateFilterChange()" />\n                        <label for="filter_usage_usedImages">Used images</label>\n                      </div>\n                      <div class="md-checkbox">\n                        <input id="filter_usage_unusedImages" type="checkbox" ng-model="$ctrl.filters.state.showUnusedImages" ng-change="$ctrl.onstateFilterChange()" />\n                        <label for="filter_usage_unusedImages">Unused images</label>\n                      </div>\n                    </div>\n                    <div>\n                      <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;"></a>\n                    </div>\n                  </div>\n                </div>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'RepoTags\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'RepoTags\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'RepoTags\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'VirtualSize\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'VirtualSize\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'VirtualSize\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Created\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Created\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Created\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.showHostColumn">\n                <a ng-click="$ctrl.changeOrderBy(\'NodeName\')">\n                  Host\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ng-if="!$ctrl.offlineMode" ui-sref="docker.images.image({ id: item.Id, nodeName: item.NodeName })" class="monospaced" title="{{ item.Id }}">{{\n                  item.Id | truncate: 40\n                }}</a>\n                <span ng-if="$ctrl.offlineMode">{{ item.Id | truncate: 40 }}</span>\n                <span style="margin-left: 10px" class="label label-warning image-tag" ng-if="::item.ContainerCount === 0">Unused</span>\n              </td>\n              <td>\n                <span class="label label-primary image-tag" ng-repeat="tag in (item | repotags) track by $index">{{ tag }}</span>\n              </td>\n              <td>{{ item.VirtualSize | humansize }}</td>\n              <td>{{ item.Created | getisodatefromtimestamp }}</td>\n              <td ng-if="$ctrl.showHostColumn">{{ item.NodeName ? item.NodeName : \'-\' }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No image available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},19618:e=>{var t="app/docker/components/datatables/macvlan-nodes-datatable/macvlanNodesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Hostname\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Hostname\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Hostname\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Role\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Role\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Role\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'EngineVersion\')">\n                  Engine\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'EngineVersion\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'EngineVersion\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.showIpAddressColumn">\n                <a ng-click="$ctrl.changeOrderBy(\'Addr\')">\n                  IP\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Addr\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Addr\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Status\')">\n                  Status\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="docker.nodes.node({id: item.Id})" ng-if="$ctrl.accessToNodeDetails">{{ item.Hostname }}</a>\n                <span ng-if="!$ctrl.accessToNodeDetails">{{ item.Hostname }}</span>\n              </td>\n              <td>{{ item.Role }}</td>\n              <td>{{ item.EngineVersion }}</td>\n              <td ng-if="$ctrl.showIpAddressColumn">{{ item.Addr }}</td>\n              <td>\n                <span class="label label-{{ item.Status | nodestatusbadge }}">{{ item.Status }}</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="7" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="7" class="text-center text-muted">No node available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},47967:e=>{var t="app/docker/components/datatables/networks-datatable/network-row-content/networkRowContent.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<td ng-if="allowCheckbox">\n  <span class="md-checkbox" ng-if="!parentCtrl.offlineMode" authorization="DockerNetworkDelete, DockerNetworkCreate">\n    <input\n      id="select_{{ $index }}"\n      type="checkbox"\n      ng-model="item.Checked"\n      ng-click="parentCtrl.selectItem(item, $event); $event.stopPropagation()"\n      ng-disabled="parentCtrl.disableRemove(item)"\n    />\n    <label for="select_{{ $index }}"></label>\n  </span>\n  <a ng-if="parentCtrl.itemCanExpand(item)"\n    ><i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i\n  ></a>\n</td>\n<td ng-if="!allowCheckbox"></td>\n<td>\n  <a ng-if="!parentCtrl.offlineMode" ui-sref="docker.networks.network({ id: item.Id, nodeName: item.NodeName })" title="{{ item.Name }}">{{ item.Name | truncate: 40 }}</a>\n  <span ng-if="parentCtrl.offlineMode">{{ item.Name | truncate: 40 }}</span>\n  <span style="margin-left: 10px" class="label label-info image-tag space-left" ng-if="item.ResourceControl.System">System</span>\n</td>\n<td>{{ item.StackName ? item.StackName : \'-\' }}</td>\n<td>{{ item.Driver }}</td>\n<td>{{ item.Attachable }}</td>\n<td>{{ item.IPAM.Driver }}</td>\n<td>{{ item.IPAM.IPV4Configs[0].Subnet ? item.IPAM.IPV4Configs[0].Subnet : \'-\' }}</td>\n<td>{{ item.IPAM.IPV4Configs[0].Gateway ? item.IPAM.IPV4Configs[0].Gateway : \'-\' }}</td>\n<td>{{ item.IPAM.IPV6Configs[0].Subnet ? item.IPAM.IPV6Configs[0].Subnet : \'-\' }}</td>\n<td>{{ item.IPAM.IPV6Configs[0].Gateway ? item.IPAM.IPV6Configs[0].Gateway : \'-\' }}</td>\n<td ng-if="parentCtrl.showHostColumn">{{ item.NodeName ? item.NodeName : \'-\' }}</td>\n<td>\n  <span>\n    <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n    {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = RCO.ADMINISTRATORS }}\n  </span>\n</td>\n')}]),e.exports=t},94369:e=>{var t="app/docker/components/datatables/networks-datatable/networksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" ng-if="!$ctrl.offlineMode" authorization="DockerNetworkDelete, DockerNetworkCreate">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          authorization="DockerNetworkDelete"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.networks.new" authorization="DockerNetworkCreate">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th style="width: 55px">\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="DockerNetworkDelete, DockerNetworkCreate">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'StackName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Driver\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Driver\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Driver\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Attachable\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Attachable\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Attachable\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'IPAM.Driver\')">\n                  IPAM \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.Driver\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.Driver\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'IPAM.IPV4Configs[0].Subnet\')">\n                  IPV4 IPAM \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.IPV4Configs[0].Subnet\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.IPV4Configs[0].Subnet\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'IPAM.IPV4Configs[0].Gateway\')">\n                  IPV4 IPAM \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.IPV4Configs[0].Gateway\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.IPV4Configs[0].Gateway\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'IPAM.IPV6Configs[0].Subnet\')">\n                  IPV6 IPAM \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.IPV6Configs[0].Subnet\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.IPV6Configs[0].Subnet\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'IPAM.IPV6Configs[0].Gateway\')">\n                  IPV6 IPAM \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.IPV6Configs[0].Gateway\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAM.IPV6Configs[0].Gateway\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.showHostColumn">\n                <a ng-click="$ctrl.changeOrderBy(\'NodeName\')">\n                  Host\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n              network-row-content\n              item="item"\n              parent-ctrl="$ctrl"\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              allow-checkbox="true"\n            >\n            </tr>\n            <tr dir-paginate-end ng-show="item.Expanded" ng-repeat="it in item.Subs" class="datatable-highlighted" network-row-content item="it" parent-ctrl="$ctrl"> </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="9" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="9" class="text-center text-muted">No network available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},64255:e=>{var t="app/docker/components/datatables/node-tasks-datatable/nodeTasksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Id\')">\n                  Id\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Id\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Id\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Status\')">\n                  Status\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Slot\')">\n                  Slot\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Slot\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Slot\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Spec.ContainerSpec.Image\')">\n                  Image\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Spec.ContainerSpec.Image\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Spec.ContainerSpec.Image\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Updated\')">\n                  Last Update\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Updated\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Updated\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td\n                ><a ui-sref="docker.tasks.task({id: item.Id})" class="monospaced">{{ item.Id }}</a></td\n              >\n              <td\n                ><span class="label label-{{ item.Status.State | taskstatusbadge }}">{{ item.Status.State }}</span></td\n              >\n              <td>{{ item.Slot ? item.Slot : \'-\' }}</td>\n              <td>{{ item.Spec.ContainerSpec.Image | hideshasum }}</td>\n              <td>{{ item.Updated | getisodate }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No task available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},53379:e=>{var t="app/docker/components/datatables/nodes-datatable/nodesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Hostname\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Hostname\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Hostname\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Role\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Role\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Role\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CPUs\')">\n                  CPU\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CPUs\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CPUs\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Memory\')">\n                  Memory\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Memory\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Memory\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'EngineVersion\')">\n                  Engine\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'EngineVersion\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'EngineVersion\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.showIpAddressColumn">\n                <a ng-click="$ctrl.changeOrderBy(\'Addr\')">\n                  IP\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Addr\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Addr\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Status\')">\n                  Status\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Availability\')">\n                  Availability\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Availability\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Availability\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <a ui-sref="docker.nodes.node({id: item.Id})" ng-if="$ctrl.accessToNodeDetails">{{ item.Name || item.Hostname }}</a>\n                <span ng-if="!$ctrl.accessToNodeDetails">{{ item.Name || item.Hostname }}</span>\n              </td>\n              <td>{{ item.Role }}</td>\n              <td>{{ item.CPUs / 1000000000 }}</td>\n              <td>{{ item.Memory | humansize }}</td>\n              <td>{{ item.EngineVersion }}</td>\n              <td ng-if="$ctrl.showIpAddressColumn">{{ item.Addr }}</td>\n              <td\n                ><span class="label label-{{ item.Status | nodestatusbadge }}">{{ item.Status }}</span></td\n              >\n              <td\n                ><span class="label label-{{ item.Availability | dockerNodeAvailabilityBadge }}">{{ item.Availability }}</span></td\n              >\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="7" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="7" class="text-center text-muted">No node available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},7091:e=>{var t="app/docker/components/datatables/secrets-datatable/secretsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" authorization="DockerSecretDelete, DockerSecretCreate">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          authorization="DockerSecretDelete"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.secrets.new" authorization="DockerSecretCreate">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Add secret\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox" authorization="DockerSecretDelete, DockerSecretCreate">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CreatedAt\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreatedAt\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreatedAt\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" authorization="DockerSecretDelete, DockerSecretCreate">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="docker.secrets.secret({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>{{ item.CreatedAt | getisodate }}</td>\n              <td>\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No secret available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},71483:e=>{var t="app/docker/components/datatables/service-tasks-datatable/serviceTasksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="service-datatable">\n  <table class="table table-condensed table-hover nowrap-cells">\n    <thead>\n      <tr>\n        <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open" style="width: 10%">\n          <a ng-click="$ctrl.changeOrderBy(\'Status.State\')">\n            Status\n            <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status.State\' && !$ctrl.state.reverseOrder"></i>\n            <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status.State\' && $ctrl.state.reverseOrder"></i>\n          </a>\n          <span class="space-left">\n            <span uib-dropdown-toggle class="table-filter" ng-if="!$ctrl.filters.state.enabled"><i class="fa fa-filter" aria-hidden="true"></i></span>\n            <span uib-dropdown-toggle class="table-filter filter-active" ng-if="$ctrl.filters.state.enabled"><i class="fa fa-check" aria-hidden="true"></i></span>\n          </span>\n          <div class="dropdown-menu" uib-dropdown-menu>\n            <div class="tableMenu">\n              <div class="menuHeader"> Filter by state </div>\n              <div class="menuContent">\n                <div class="md-checkbox" ng-repeat="filter in $ctrl.filters.state.values track by $index">\n                  <input id="filter_state_{{ $ctrl.serviceId }}_{{ $index }}" type="checkbox" ng-model="filter.display" ng-change="$ctrl.onStateFilterChange()" />\n                  <label for="filter_state_{{ $ctrl.serviceId }}_{{ $index }}">{{ filter.label }}</label>\n                </div>\n              </div>\n              <div>\n                <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;"></a>\n              </div>\n            </div>\n          </div>\n        </th>\n        <th style="width: 22%">Task</th>\n        <th></th>\n        <th>\n          <a ng-click="$ctrl.changeOrderBy(\'Slot\')">\n            Slot\n            <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Slot\' && !$ctrl.state.reverseOrder"></i>\n            <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Slot\' && $ctrl.state.reverseOrder"></i>\n          </a>\n        </th>\n        <th>\n          <a ng-click="$ctrl.changeOrderBy(\'NodeId\')">\n            Node\n            <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeId\' && !$ctrl.state.reverseOrder"></i>\n            <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeId\' && $ctrl.state.reverseOrder"></i>\n          </a>\n        </th>\n        <th>\n          <a ng-click="$ctrl.changeOrderBy(\'Updated\')">\n            Last Update\n            <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Updated\' && !$ctrl.state.reverseOrder"></i>\n            <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Updated\' && $ctrl.state.reverseOrder"></i>\n          </a>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        ng-repeat="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder))"\n      >\n        <td class="text-center">\n          <span class="label label-{{ item.Status.State | taskstatusbadge }} space-right">{{ item.Status.State }}</span>\n        </td>\n        <td>\n          <a ng-if="!$ctrl.agentProxy || !item.Container" ui-sref="docker.tasks.task({id: item.Id})" class="monospaced">{{ item.Id }}</a>\n          <a ng-if="$ctrl.agentProxy && item.Container" ui-sref="docker.containers.container({ id: item.Container.Id, nodeName: item.Container.NodeName })" class="monospaced">{{\n            item.Id\n          }}</a>\n        </td>\n        <td>\n          <container-quick-actions\n            ng-if="!$ctrl.agentProxy || !item.Container"\n            container-id="item.ContainerId"\n            task-id="item.Id"\n            status="item.Status.State"\n            state="$ctrl.state"\n          ></container-quick-actions>\n          <container-quick-actions\n            ng-if="$ctrl.agentProxy && item.Container"\n            container-id="item.Container.Id"\n            node-name="item.Container.NodeName"\n            status="item.Status.State"\n            state="$ctrl.state"\n          ></container-quick-actions>\n        </td>\n        <td>{{ item.Slot ? item.Slot : \'-\' }}</td>\n        <td>{{ item.NodeId | tasknodename: $ctrl.nodes }}</td>\n        <td>{{ item.Updated | getisodate }}</td>\n      </tr>\n      <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n        <td colspan="5" class="text-center text-muted">No task matching filter.</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),e.exports=t},62318:e=>{var t="app/docker/components/datatables/services-datatable/actions/servicesDatatableActions.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="actionBar" authorization="DockerServiceUpdate, DockerServiceForceUpdateService, DockerServiceDelete, DockerServiceCreate">\n  <div class="btn-group" role="group" aria-label="...">\n    <button\n      ng-if="$ctrl.showUpdateAction"\n      type="button"\n      class="btn btn-sm btn-primary"\n      authorization="DockerServiceUpdate,DockerServiceForceUpdateService"\n      ng-disabled="$ctrl.selectedItemCount === 0"\n      ng-click="$ctrl.updateAction($ctrl.selectedItems)"\n    >\n      <i class="fa fa-sync space-right" aria-hidden="true"></i>Update\n    </button>\n    <button\n      type="button"\n      class="btn btn-sm btn-danger"\n      authorization="DockerServiceDelete"\n      ng-disabled="$ctrl.selectedItemCount === 0"\n      ng-click="$ctrl.removeAction($ctrl.selectedItems)"\n    >\n      <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n    </button>\n  </div>\n  <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.services.new" ng-if="$ctrl.showAddAction" authorization="DockerServiceCreate">\n    <i class="fa fa-plus space-right" aria-hidden="true"></i>Add service\n  </button>\n</div>\n')}]),e.exports=t},19610:e=>{var t="app/docker/components/datatables/services-datatable/servicesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <datatable-columns-visibility columns="$ctrl.columnVisibility.columns" on-change="($ctrl.onColumnVisibilityChange)"></datatable-columns-visibility>\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <services-datatable-actions\n        selected-items="$ctrl.state.selectedItems"\n        selected-item-count="$ctrl.state.selectedItemCount"\n        show-add-action="$ctrl.showAddAction"\n        show-update-action="$ctrl.showUpdateAction"\n        endpoint-id="$ctrl.endpointId"\n      ></services-datatable-actions>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          focus-if="!$ctrl.notAutoFocus"\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th style="width: 55px">\n                <span class="md-checkbox" authorization="DockerServiceUpdate, DockerServiceForceUpdateService, DockerServiceDelete, DockerServiceCreate">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.expandAll()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.showStackColumn">\n                <a ng-click="$ctrl.changeOrderBy(\'StackName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-show="$ctrl.columnVisibility.columns.image.display">\n                <a ng-click="$ctrl.changeOrderBy(\'Image\')">\n                  Image\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Mode\')">\n                  Scheduling Mode\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Mode\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Mode\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-show="$ctrl.columnVisibility.columns.ports.display">\n                <a ng-click="$ctrl.changeOrderBy(\'Ports\')">\n                  Published Ports\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Ports\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Ports\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-show="$ctrl.columnVisibility.columns.updated.display">\n                <a ng-click="$ctrl.changeOrderBy(\'UpdatedAt\')">\n                  Last Update\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'UpdatedAt\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'UpdatedAt\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-show="$ctrl.columnVisibility.columns.ownership.display">\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n              class="interactive"\n            >\n              <td>\n                <span class="md-checkbox" authorization="DockerServiceUpdate, DockerServiceForceUpdateService, DockerServiceDelete, DockerServiceCreate">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event); $event.stopPropagation()" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a><i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i></a>\n              </td>\n              <td>\n                <a ui-sref="docker.services.service({id: item.Id})" ng-click="$event.stopPropagation()">{{ item.Name }}</a>\n              </td>\n              <td ng-if="$ctrl.showStackColumn">{{ item.StackName ? item.StackName : \'-\' }}</td>\n              <td ng-show="$ctrl.columnVisibility.columns.image.display">{{ item.Image | hideshasum }}</td>\n              <td ng-controller="ServicesDatatableActionsController as actionCtrl">\n                {{ item.Mode }}\n                <code>{{ item.Tasks | runningtaskscount }}</code> / <code>{{ item.Mode === \'replicated\' ? item.Replicas : ($ctrl.nodes | availablenodecount: item) }}</code>\n                <span ng-if="item.Mode === \'replicated\' && !item.Scale" authorization="DockerServiceUpdate">\n                  <a class="interactive" ng-click="item.Scale = true; item.ReplicaCount = item.Replicas; $event.stopPropagation();">\n                    <i class="fa fa-arrows-alt-v" aria-hidden="true"></i> Scale\n                  </a>\n                </span>\n                <span ng-if="item.Mode === \'replicated\' && item.Scale">\n                  <input\n                    class="input-sm"\n                    type="number"\n                    min="0"\n                    step="1"\n                    ng-model="item.Replicas"\n                    on-enter-key="actionCtrl.scaleAction(item)"\n                    auto-focus\n                    ng-click="$event.stopPropagation();"\n                  />\n                  <a class="interactive" ng-click="item.Scale = false; $event.stopPropagation();"><i class="fa fa-times"></i></a>\n                  <a class="interactive" ng-click="actionCtrl.scaleAction(item); $event.stopPropagation();"><i class="fa fa-check-square"></i></a>\n                </span>\n              </td>\n              <td ng-show="$ctrl.columnVisibility.columns.ports.display">\n                <a\n                  ng-if="item.Ports && item.Ports.length > 0 && p.PublishedPort"\n                  ng-repeat="p in item.Ports"\n                  class="image-tag"\n                  ng-href="http://{{ $ctrl.endpointPublicUrl }}:{{ p.PublishedPort }}"\n                  target="_blank"\n                  ng-click="$event.stopPropagation();"\n                >\n                  <i class="fa fa-external-link-alt" aria-hidden="true"></i> {{ p.PublishedPort }}:{{ p.TargetPort }}\n                </a>\n                <span ng-if="!item.Ports || item.Ports.length === 0">-</span>\n              </td>\n              <td ng-show="$ctrl.columnVisibility.columns.updated.display">{{ item.UpdatedAt | getisodate }}</td>\n              <td ng-show="$ctrl.columnVisibility.columns.ownership.display">\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr dir-paginate-end ng-show="item.Expanded">\n              <td></td>\n              <td colspan="8">\n                <service-tasks-datatable\n                  dataset="item.Tasks"\n                  service-id="item.Id"\n                  table-key="service-tasks"\n                  order-by="Status.State"\n                  nodes="$ctrl.nodes"\n                  agent-proxy="$ctrl.agentProxy"\n                  show-task-logs-button="$ctrl.showTaskLogsButton"\n                  text-filter="$ctrl.state.textFilter"\n                ></service-tasks-datatable>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="8" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="8" class="text-center text-muted">No service available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},40381:e=>{var t="app/docker/components/datatables/tasks-datatable/tasksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Status\')">\n                  Status\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Id\')">\n                  Id\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Id\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Id\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th></th>\n              <th ng-if="$ctrl.showSlotColumn">\n                <a ng-click="$ctrl.changeOrderBy(\'Slot\')">\n                  Slot\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Slot\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Slot\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'NodeId\')">\n                  Node\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeId\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeId\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Updated\')">\n                  Last Update\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Updated\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Updated\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td\n                ><span class="label label-{{ item.Status.State | taskstatusbadge }}">{{ item.Status.State }}</span></td\n              >\n              <td>\n                <a ng-if="!$ctrl.agentProxy || !item.Container" ui-sref="docker.tasks.task({id: item.Id})" class="monospaced"\n                  >{{ item.ServiceName }}{{ item.Slot ? \'.\' + item.Slot : \'\' }}{{ \'.\' + item.Id }}</a\n                >\n                <a ng-if="$ctrl.agentProxy && item.Container" ui-sref="docker.containers.container({ id: item.Container.Id, nodeName: item.Container.NodeName })" class="monospaced"\n                  >{{ item.ServiceName }}{{ item.Slot ? \'.\' + item.Slot : \'\' }}{{ \'.\' + item.Id }}</a\n                >\n              </td>\n              <td>\n                <container-quick-actions\n                  ng-if="!$ctrl.agentProxy || !item.Container"\n                  container-id="item.ContainerId"\n                  task-id="item.Id"\n                  status="item.Status.State"\n                  state="$ctrl.state"\n                ></container-quick-actions>\n                <container-quick-actions\n                  ng-if="$ctrl.agentProxy && item.Container"\n                  container-id="item.Container.Id"\n                  node-name="item.Container.NodeName"\n                  status="item.Status.State"\n                  state="$ctrl.state"\n                ></container-quick-actions>\n              </td>\n              <td ng-if="$ctrl.showSlotColumn">{{ item.Slot ? item.Slot : \'-\' }}</td>\n              <td>{{ item.NodeId | tasknodename: $ctrl.nodes }}</td>\n              <td>{{ item.Updated | getisodate }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="6" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="6" class="text-center text-muted">No task available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},43761:e=>{var t="app/docker/components/datatables/volumes-datatable/volumesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" ng-if="!$ctrl.offlineMode" authorization="DockerVolumeDelete, DockerVolumeCreate">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          authorization="DockerVolumeDelete"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.volumes.new" authorization="DockerVolumeCreate">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover table-filters nowrap-cells">\n          <thead>\n            <tr>\n              <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open">\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="DockerVolumeDelete, DockerVolumeCreate">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Id\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Id\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Id\' && $ctrl.state.reverseOrder"></i>\n                </a>\n                <div>\n                  <span uib-dropdown-toggle class="table-filter" ng-if="!$ctrl.filters.state.enabled"><i class="fa fa-filter" aria-hidden="true"></i></span>\n                  <span uib-dropdown-toggle class="table-filter filter-active" ng-if="$ctrl.filters.state.enabled"><i class="fa fa-check" aria-hidden="true"></i></span>\n                </div>\n                <div class="dropdown-menu" uib-dropdown-menu>\n                  <div class="tableMenu">\n                    <div class="menuHeader">  </div>\n                    <div class="menuContent">\n                      <div class="md-checkbox">\n                        <input id="filter_usage_usedImages" type="checkbox" ng-model="$ctrl.filters.state.showUsedVolumes" ng-change="$ctrl.onstateFilterChange()" />\n                        <label for="filter_usage_usedImages"></label>\n                      </div>\n                      <div class="md-checkbox">\n                        <input id="filter_usage_unusedImages" type="checkbox" ng-model="$ctrl.filters.state.showUnusedVolumes" ng-change="$ctrl.onstateFilterChange()" />\n                        <label for="filter_usage_unusedImages"></label>\n                      </div>\n                    </div>\n                    <div>\n                      <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;"></a>\n                    </div>\n                  </div>\n                </div>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'StackName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Driver\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Driver\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Driver\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Mountpoint\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Mountpoint\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Mountpoint\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CreatedAt\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreatedAt\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreatedAt\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.showHostColumn">\n                <a ng-click="$ctrl.changeOrderBy(\'NodeName\')">\n                  Host\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'NodeName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="DockerVolumeDelete, DockerVolumeCreate">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ng-if="!$ctrl.offlineMode" ui-sref="docker.volumes.volume({ id: item.Id, nodeName: item.NodeName })" class="monospaced" title="{{ item.Id }}">{{\n                  item.Id | truncate: 40\n                }}</a>\n                <span ng-if="$ctrl.offlineMode">{{ item.Id | truncate: 40 }}</span>\n                <span ng-if="$ctrl.showBrowseAction && !$ctrl.offlineMode">\n                  <btn authorization="DockerAgentBrowseList">\n                    <a ui-sref="docker.volumes.volume.browse({ id: item.Id, nodeName: item.NodeName })" class="btn btn-xs btn-primary space-left">\n                      <i class="fa fa-search"></i> browse\n                    </a>\n                  </btn>\n                </span>\n                <span style="margin-left: 10px" class="label label-warning image-tag space-left" ng-if="item.dangling">Unused</span>\n              </td>\n              <td>{{ item.StackName ? item.StackName : \'-\' }}</td>\n              <td>{{ item.Driver }}</td>\n              <td>{{ item.Mountpoint | truncatelr }}</td>\n              <td>{{ item.CreatedAt | getisodate }}</td>\n              <td ng-if="$ctrl.showHostColumn">{{ item.NodeName ? item.NodeName : \'-\' }}</td>\n              <td>\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="6" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="6" class="text-center text-muted">No volume available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},23744:e=>{var t="app/docker/components/docker-sidebar/docker-sidebar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<sidebar-menu-item\n  path="docker.dashboard"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-tachometer-alt fa-fw"\n  class-name="sidebar-list"\n  data-cy="dockerSidebar-dashboard"\n>\n  \n</sidebar-menu-item>\n\n<sidebar-menu\n  ng-if="!$ctrl.offlineMode"\n  label=""\n  icon-class="fa-rocket fa-fw"\n  path="docker.templates"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  is-sidebar-open="$ctrl.isSidebarOpen"\n  children-paths="[]"\n>\n  <sidebar-menu-item path="docker.templates.custom" path-params="{ endpointId: $ctrl.endpointId }" class-name="sidebar-sublist" data-cy="dockerSidebar-customTemplates">\n    \n  </sidebar-menu-item>\n</sidebar-menu>\n\n<sidebar-menu-item\n  ng-if="$ctrl.showStacks"\n  path="docker.stacks"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-th-list fa-fw"\n  class-name="sidebar-list"\n  data-cy="dockerSidebar-stacks"\n>\n  \n</sidebar-menu-item>\n\n<sidebar-menu-item\n  ng-if="$ctrl.swarmManagement"\n  path="docker.services"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-list-alt fa-fw"\n  class-name="sidebar-list"\n  data-cy="dockerSidebar-services"\n>\n  Services\n</sidebar-menu-item>\n\n<sidebar-menu-item path="docker.containers" path-params="{ endpointId: $ctrl.endpointId }" icon-class="fa-cubes fa-fw" class-name="sidebar-list" data-cy="dockerSidebar-containers">\n  \n</sidebar-menu-item>\n\n<sidebar-menu-item path="docker.images" path-params="{ endpointId: $ctrl.endpointId }" icon-class="fa-clone fa-fw" class-name="sidebar-list" data-cy="dockerSidebar-images">\n  \n</sidebar-menu-item>\n\n<sidebar-menu-item path="docker.networks" path-params="{ endpointId: $ctrl.endpointId }" icon-class="fa-sitemap fa-fw" class-name="sidebar-list" data-cy="dockerSidebar-networks">\n  \n</sidebar-menu-item>\n\n<sidebar-menu-item path="docker.volumes" path-params="{ endpointId: $ctrl.endpointId }" icon-class="fa-hdd fa-fw" class-name="sidebar-list" data-cy="dockerSidebar-volumes">\n  \n</sidebar-menu-item>\n\n<sidebar-menu-item\n  ng-if="$ctrl.endpointApiVersion >= 1.3 && $ctrl.swarmManagement"\n  path="docker.configs"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-file-code fa-fw"\n  class-name="sidebar-list"\n  data-cy="dockerSidebar-configs"\n>\n  Configs\n</sidebar-menu-item>\n\n<sidebar-menu-item\n  ng-if="$ctrl.endpointApiVersion >= 1.25 && $ctrl.swarmManagement"\n  path="docker.secrets"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-user-secret fa-fw"\n  class-name="sidebar-list"\n  data-cy="dockerSidebar-secrets"\n>\n  Secrets\n</sidebar-menu-item>\n\n<sidebar-menu-item\n  ng-if="$ctrl.standaloneManagement && $ctrl.adminAccess && !$ctrl.offlineMode"\n  path="docker.events"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-history fa-fw"\n  class-name="sidebar-list"\n  data-cy="dockerSidebar-events"\n>\n  \n</sidebar-menu-item>\n\n<sidebar-menu\n  ng-if="$ctrl.standaloneManagement"\n  label=""\n  icon-class="fa-th fa-fw"\n  path="docker.host"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  is-sidebar-open="$ctrl.isSidebarOpen"\n  children-paths="[\'docker.registries\', \'docker.registries.access\', \'docker.featuresConfiguration\']"\n>\n  <sidebar-menu-item\n    authorization="PortainerEndpointUpdateSettings"\n    path="docker.featuresConfiguration"\n    path-params="{ endpointId: $ctrl.endpointId }"\n    class-name="sidebar-sublist"\n    data-cy="dockerSidebar-setup"\n  >\n    \n  </sidebar-menu-item>\n\n  <sidebar-menu-item\n    authorization="PortainerRegistryList"\n    path="docker.registries"\n    path-params="{ endpointId: $ctrl.endpointId }"\n    class-name="sidebar-sublist"\n    data-cy="dockerSidebar-registries"\n  >\n    \n  </sidebar-menu-item>\n</sidebar-menu>\n\n<sidebar-menu\n  ng-if="$ctrl.swarmManagement"\n  label="Swarm"\n  icon-class="fa-object-group fa-fw"\n  path="docker.swarm"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  is-sidebar-open="$ctrl.isSidebarOpen"\n  children-paths="[\'docker.registries\', \'docker.registries.access\', \'docker.featuresConfiguration\']"\n>\n  <sidebar-menu-item\n    authorization="PortainerEndpointUpdateSettings"\n    path="docker.featuresConfiguration"\n    path-params="{ endpointId: $ctrl.endpointId }"\n    class-name="sidebar-sublist"\n    data-cy="swarmSidebar-setup"\n  >\n    \n  </sidebar-menu-item>\n\n  <sidebar-menu-item\n    authorization="PortainerRegistryList"\n    path="docker.registries"\n    path-params="{ endpointId: $ctrl.endpointId }"\n    class-name="sidebar-sublist"\n    data-cy="swarmSidebar-registries"\n  >\n    Registries\n  </sidebar-menu-item>\n</sidebar-menu>\n')}]),e.exports=t},9831:e=>{var t="app/docker/components/host-overview/host-overview.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="{{ $ctrl.refreshUrl }}" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Docker</rd-header-content>\n</rd-header>\n\n<information-panel-offline ng-if="$ctrl.offlineMode"></information-panel-offline>\n\n<host-details-panel\n  host="$ctrl.hostDetails"\n  is-browse-enabled="$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled"\n  browse-url="{{ $ctrl.browseUrl }}"\n></host-details-panel>\n\n<engine-details-panel engine="$ctrl.engineDetails"></engine-details-panel>\n\n<devices-panel ng-if="$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled" devices="$ctrl.devices"></devices-panel>\n<disks-panel ng-if="$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled" disks="$ctrl.disks"></disks-panel>\n\n<ng-transclude></ng-transclude>\n')}]),e.exports=t},56797:e=>{var t="app/docker/components/host-view-panels/devices-panel/devices-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-code" title-text="PCI "></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <tr>\n              <th></th>\n              <th>Vendor</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-if="$ctrl.devices && $ctrl.devices.length" ng-repeat="device in $ctrl.devices">\n              <td>{{ device.Name }}</td>\n              <td>{{ device.Vendor }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.devices">\n              <td colspan="2" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.devices.length === 0">\n              <td colspan="2" class="text-center text-muted">  </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},37287:e=>{var t="app/docker/components/host-view-panels/disks-panel/disks-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-code" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>Vendor</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-if="$ctrl.disks" ng-repeat="disk in $ctrl.disks">\n              <td>{{ disk.Vendor }}</td>\n              <td>{{ disk.Size | humansize }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.disks">\n              <td colspan="2" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.disks.length === 0">\n              <td colspan="2" class="text-center text-muted"> No disks available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},63509:e=>{var t="app/docker/components/host-view-panels/engine-details-panel/engine-details-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-code" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td\n                >{{ $ctrl.engine.releaseVersion }} <span ng-if="$ctrl.engine.apiVersion">(API: {{ $ctrl.engine.apiVersion }})</span></td\n              >\n            </tr>\n            <tr ng-if="$ctrl.engine.rootDirectory">\n              <td></td>\n              <td>{{ $ctrl.engine.rootDirectory }}</td>\n            </tr>\n            <tr ng-if="$ctrl.engine.storageDriver">\n              <td></td>\n              <td>{{ $ctrl.engine.storageDriver }}</td>\n            </tr>\n            <tr ng-if="$ctrl.engine.loggingDriver">\n              <td></td>\n              <td>{{ $ctrl.engine.loggingDriver }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ $ctrl.engine.volumePlugins | arraytostr: \', \' }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ $ctrl.engine.networkPlugins | arraytostr: \', \' }}</td>\n            </tr>\n            <tr ng-if="$ctrl.engine.engineLabels.length">\n              <td></td>\n              <td>{{ $ctrl.engine.engineLabels | labelsToStr: \', \' }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},97106:e=>{var t="app/docker/components/host-view-panels/host-details-panel/host-details-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-code" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>{{ $ctrl.host.name }}</td>\n            </tr>\n            <tr ng-if="$ctrl.host.os">\n              <td></td>\n              <td>{{ $ctrl.host.os.type }} {{ $ctrl.host.os.arch }} {{ $ctrl.host.os.name }}</td>\n            </tr>\n            <tr ng-if="$ctrl.host.kernelVersion">\n              <td></td>\n              <td>{{ $ctrl.host.kernelVersion }}</td>\n            </tr>\n            <tr>\n              <td> CPU</td>\n              <td>{{ $ctrl.host.totalCPU }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ $ctrl.host.totalMemory | humansize }}</td>\n            </tr>\n            <tr ng-if="$ctrl.isBrowseEnabled">\n              <td colspan="2">\n                <button class="btn btn-primary btn-sm" title="Browse" ui-sref="{{ $ctrl.browseUrl }}"> Browse </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},7762:e=>{var t="app/docker/components/host-view-panels/node-availability-select/node-availability-select.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="input-group input-group-sm">\n  <select name="nodeAvailability" class="selectpicker form-control" ng-model="$ctrl.availability" ng-change="$ctrl.onChange()">\n    <option value="active">Active</option>\n    <option value="pause">Pause</option>\n    <option value="drain">Drain</option>\n  </select>\n</div>\n')}]),e.exports=t},642:e=>{var t="app/docker/components/host-view-panels/node-labels-table/node-labels-table.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="!$ctrl.labels.length"> There are no labels for this node. </div>\n\n<div class="col-sm-12 form-inline" style="padding: 0px" ng-if="$ctrl.labels.length">\n  <div ng-repeat="label in $ctrl.labels" style="margin-top: 2px">\n    <div class="input-group col-sm-5 input-group-sm">\n      <span class="input-group-addon"></span>\n      <input type="text" class="form-control" ng-model="label.key" placeholder=" com.example.foo" ng-change="$ctrl.updateLabel(label)" />\n    </div>\n    <div class="input-group col-sm-5 input-group-sm">\n      <span class="input-group-addon">value</span>\n      <input type="text" class="form-control" ng-model="label.value" placeholder=" bar" ng-change="$ctrl.updateLabel(label)" />\n    </div>\n    <button class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.removeLabel($index)">\n      <i class="fa fa-trash" aria-hidden="true"></i>\n    </button>\n  </div>\n</div>\n')}]),e.exports=t},92156:e=>{var t="app/docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-code" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr ng-if="$ctrl.details.name">\n              <td>Node name</td>\n              <td>{{ $ctrl.details.name }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ $ctrl.details.role }} {{ $ctrl.state.managerAddress }}</td>\n            </tr>\n            <tr>\n              <td>Availability</td>\n              <td>\n                <node-availability-select\n                  on-save="$ctrl.updateNodeAvailability(availability)"\n                  availability="$ctrl.details.availability"\n                  original-value="$ctrl.details.availability"\n                >\n                </node-availability-select>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td\n                ><span class="label label-{{ $ctrl.details.status | nodestatusbadge }}">{{ $ctrl.details.status }}</span></td\n              >\n            </tr>\n            <tr>\n              <td>\n                <div class="nopadding">\n                  <a class="btn btn-default btn-sm pull-right" ng-click="$ctrl.addLabel(node)"> <i class="fa fa-plus-circle" aria-hidden="true"></i> label </a>\n                </div>\n                Node Labels\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td colspan="2">\n                <node-labels-table labels="$ctrl.details.nodeLabels" on-changed-labels="$ctrl.updateNodeLabels(labels)"></node-labels-table>\n              </td>\n            </tr>\n            <tr>\n              <td colspan="2">\n                <div class="btn-toolbar" role="toolbar">\n                  <div class="btn-group" role="group">\n                    <button type="button" class="btn btn-primary btn-sm" ng-disabled="!$ctrl.state.hasChanges" ng-click="$ctrl.saveChanges()">  </button>\n                    <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                      <span class="caret"></span>\n                    </button>\n                    <ul class="dropdown-menu">\n                      <li><a ng-click="$ctrl.cancelChanges()">Reset changes</a></li>\n                    </ul>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},52388:e=>{var t="app/docker/components/imageRegistry/por-image-registry-rate-limits.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group" ng-if="$ctrl.pullRateLimits">\n  <div class="col-sm-12 small">\n    <div ng-if="$ctrl.pullRateLimits.remaining > 0" class="text-muted">\n      <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      <span ng-if="$ctrl.isAuthenticated">\n        DockerHub  6  200  \n        <span style="font-weight: bold">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\n      </span>\n      <span ng-if="!$ctrl.isAuthenticated">\n        <span ng-if="$ctrl.isAdmin">\n           DockerHub  6  100  \n          <a ui-sref="portainer.registries"></a>\n DockerHub :\n          <span style="font-weight: bold">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\n        </span>\n        <span ng-if="!$ctrl.isAdmin">\n           DockerHub  6  100  \n          DockerHub  : <span style="font-weight: bold">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\n        </span>\n      </span>\n    </div>\n    <div ng-if="$ctrl.pullRateLimits.remaining <= 0" class="text-warning">\n      <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n      <span ng-if="$ctrl.isAuthenticated">\n        \n        <span ng-transclude="rateLimitExceeded"> DockerHub </span>\n      </span>\n      <span ng-if="!$ctrl.isAuthenticated">\n        \n        <span ng-transclude="rateLimitExceeded"> DockerHub </span>\n      </span>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},50331:e=>{var t="app/docker/components/imageRegistry/por-image-registry.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- use registry --\x3e\n<div>\n  <div class="form-group" ng-if="$ctrl.model.UseRegistry">\n    <label for="image_registry" class="control-label text-left" ng-class="$ctrl.labelClass"> Registry </label>\n    <div ng-class="$ctrl.inputClass">\n      <select\n        ng-options="registry as registry.Name for registry in $ctrl.registries track by registry.Id"\n        ng-model="$ctrl.model.Registry"\n        id="image_registry"\n        class="form-control"\n        data-cy="component-registrySelect"\n      ></select>\n    </div>\n    <label for="image_name" ng-class="$ctrl.labelClass" class="margin-sm-top control-label text-left"></label>\n    <div ng-class="$ctrl.inputClass" class="margin-sm-top">\n      <div class="input-group">\n        <span class="input-group-addon" id="registry-name">{{ $ctrl.displayedRegistryURL() }}</span>\n        <input\n          type="text"\n          class="form-control"\n          aria-describedby="registry-name"\n          uib-typeahead="image for image in $ctrl.availableImages | filter:$viewValue | limitTo:5"\n          ng-model="$ctrl.model.Image"\n          name="image_name"\n          placeholder=" my-image:my-tag"\n          ng-change="$ctrl.onImageChange()"\n          required\n          data-cy="component-imageInput"\n        />\n        <span ng-if="$ctrl.isDockerHubRegistry()" class="input-group-btn">\n          <a\n            href="https://hub.docker.com/search?type=image&q={{ $ctrl.model.Image | trimshasum | trimversiontag }}"\n            class="btn btn-default"\n            title=" Docker Hub "\n            target="_blank"\n          >\n            <i class="fab fa-docker"></i> \n          </a>\n        </span>\n      </div>\n    </div>\n  </div>\n  \x3c!-- ! use registry --\x3e\n  \x3c!-- don\'t use registry --\x3e\n  <div ng-if="!$ctrl.model.UseRegistry">\n    <div class="form-group">\n      <span class="small">\n        <p class="text-muted" style="margin-left: 15px">\n          <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n          <b></b>\n        </p>\n      </span>\n      <label for="image_name" ng-class="$ctrl.labelClass" class="control-label text-left"></label>\n      <div ng-class="$ctrl.inputClass">\n        <input type="text" class="form-control" ng-model="$ctrl.model.Image" name="image_name" placeholder=" registry:port/my-image:my-tag" required />\n      </div>\n    </div>\n  </div>\n  \x3c!-- ! don\'t use registry --\x3e\n  \x3c!-- info message --\x3e\n  <div class="form-group" ng-show="$ctrl.form.image_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="$ctrl.form.image_name.$error">\n        <p ng-message="required">\n          <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> \n          <span ng-if="$ctrl.canPull">Tag must be specified otherwise Portainer will pull all tags associated to the image.</span>\n        </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- ! info message --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <p>\n        <a class="small interactive" ng-if="!$ctrl.model.UseRegistry" ng-click="$ctrl.model.UseRegistry = true;">\n          <i class="fa fa-database space-right" aria-hidden="true"></i>\n        </a>\n        <a class="small interactive" ng-if="$ctrl.model.UseRegistry" ng-click="$ctrl.model.UseRegistry = false;">\n          <i class="fa fa-globe space-right" aria-hidden="true"></i> \n        </a>\n      </p>\n    </div>\n  </div>\n\n  <div ng-transclude></div>\n\n  <por-image-registry-rate-limits\n    ng-if="$ctrl.checkRateLimits && $ctrl.isDockerHubRegistry()"\n    endpoint="$ctrl.endpoint"\n    set-validity="$ctrl.setValidity"\n    is-authenticated="$ctrl.model.Registry.Authentication"\n    is-admin="$ctrl.isAdmin"\n    registry-id="$ctrl.model.Registry.Id"\n  >\n  </por-image-registry-rate-limits>\n</div>\n')}]),e.exports=t},85759:e=>{var t="app/docker/components/log-viewer/logViewer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-file-alt" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label for="tls" class="control-label text-left">\n                \n                <portainer-tooltip position="bottom" message=""></portainer-tooltip>\n              </label>\n              <label class="switch" style="margin-left: 20px">\n                <input\n                  type="checkbox"\n                  ng-model="$ctrl.state.logCollection"\n                  ng-change="$ctrl.state.autoScroll = $ctrl.state.logCollection; $ctrl.logCollectionChange($ctrl.state.logCollection)"\n                /><i></i>\n              </label>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label for="tls" class="control-label text-left">  </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.state.wrapLines" /><i></i> </label>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label for="tls" class="control-label text-left">  </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.displayTimestamps" /><i></i> </label>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="logs_since" class="col-sm-1 control-label text-left">  </label>\n            <div class="col-sm-2">\n              <select class="form-control" ng-model="$ctrl.sinceTimestamp" id="logs_since">\n                <option selected value=""></option>\n                <option ng-repeat="dt in $ctrl.state.availableSinceDatetime" ng-value="dt.value" title="{{ dt.value }}">{{ dt.desc }}</option>\n              </select>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="logs_search" class="col-sm-1 control-label text-left">  </label>\n            <div class="col-sm-11">\n              <input class="form-control" type="text" name="logs_search" ng-model="$ctrl.state.search" ng-change="$ctrl.state.selectedLines.length = 0;" placeholder="..." />\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="lines_count" class="col-sm-1 control-label text-left">  </label>\n            <div class="col-sm-11">\n              <input class="form-control" type="number" name="lines_count" ng-model="$ctrl.lineCount" placeholder="Enter no of lines..." />\n            </div>\n          </div>\n          <div class="form-group" ng-if="$ctrl.state.copySupported">\n            <label class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11">\n              <button class="btn btn-primary btn-sm" type="button" ng-click="$ctrl.downloadLogs()" style="margin-left: 0"><i class="fa fa-download"></i> </button>\n              <button\n                class="btn btn-primary btn-sm"\n                ng-click="$ctrl.copy()"\n                ng-disabled="($ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line) || !$ctrl.state.filteredLogs.length"\n                ><i class="fa fa-copy space-right" aria-hidden="true"></i></button\n              >\n              <button\n                class="btn btn-primary btn-sm"\n                ng-click="$ctrl.copySelection()"\n                ng-disabled="($ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line) || !$ctrl.state.filteredLogs.length || !$ctrl.state.selectedLines.length"\n                ><i class="fa fa-copy space-right" aria-hidden="true"></i></button\n              >\n              <button class="btn btn-primary btn-sm" ng-click="$ctrl.clearSelection()" ng-disabled="$ctrl.state.selectedLines.length === 0"\n                ><i class="fa fa-times space-right" aria-hidden="true"></i></button\n              >\n              <span>\n                <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i>\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" style="height: 54%">\n  <div class="col-sm-12" style="height: 100%">\n    <pre ng-class="{ wrap_lines: $ctrl.state.wrapLines }" class="log_viewer" scroll-glue="$ctrl.state.autoScroll" force-glue>\n      <div ng-repeat="log in $ctrl.state.filteredLogs = ($ctrl.data | filter:{ \'line\': $ctrl.state.search }) track by $index" class="line" ng-if="log.line"><p class="inner_line" ng-click="$ctrl.selectLine(log.line)" ng-class="{ \'line_selected\': $ctrl.state.selectedLines.indexOf(log.line) > -1 }"><span ng-repeat="span in log.spans" ng-style="{ \'color\': span.foregroundColor, \'background-color\': span.backgroundColor }">{{ span.text }}</span></p></div>\n      <div ng-if="!$ctrl.state.filteredLogs.length" class="line"><p class="inner_line">No log line matching the \'{{ $ctrl.state.search }}\' filter</p></div>\n      <div ng-if="$ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line" class="line"><p class="inner_line">No logs available</p></div>\n    </pre>\n  </div>\n</div>\n')}]),e.exports=t},23614:e=>{var t="app/docker/components/network-macvlan-form/networkMacvlanForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div class="col-sm-12 form-section-title"> Macvlan  </div>\n  \x3c!-- selector --\x3e\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n       MACVLAN \n    </span>\n  </div>\n  <div class="col-sm-12">\n    <div class="form-group" style="margin-bottom: 0">\n      <div class="boxselector_wrapper">\n        <div>\n          <input type="radio" id="network_config" ng-model="$ctrl.data.Scope" value="local" />\n          <label for="network_config">\n            <div class="boxselector_header">\n              <i class="fa fa-cog" aria-hidden="true" style="margin-right: 2px"></i>\n              \n            </div>\n            <p></p>\n          </label>\n        </div>\n        <div>\n          <input type="radio" id="network_deploy" ng-model="$ctrl.data.Scope" value="swarm" ng-disabled="$ctrl.availableNetworks.length === 0" />\n          <label for="network_deploy" ng-class="$ctrl.availableNetworks.length === 0 ? \'boxselector_disabled\' : \'\'">\n            <div class="boxselector_header">\n              <i class="fa fa-sitemap" aria-hidden="true" style="margin-right: 2px"></i>\n              \n            </div>\n            <p></p>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !selector --\x3e\n\n  <ng-form name="macvlanConfigurationForm">\n    \x3c!-- configuration-inputs --\x3e\n    <div ng-show="$ctrl.data.Scope === \'local\'">\n      \x3c!-- network-card-input --\x3e\n      <div class="form-group">\n        <label for="network_card" class="col-sm-3 col-lg-2 control-label text-left"></label>\n        <div class="col-sm-9 col-lg-10">\n          <input\n            type="text"\n            class="form-control"\n            name="network_card"\n            ng-model="$ctrl.data.ParentNetworkCard"\n            placeholder=" eth0 or ens160 ..."\n            ng-required="$ctrl.data.Scope === \'local\' && !$ctrl.data.ParentNetworkCard"\n          />\n        </div>\n      </div>\n      <div class="form-group" ng-show="macvlanConfigurationForm.network_card.$invalid">\n        <div class="col-sm-12 small text-warning">\n          <div ng-messages="macvlanConfigurationForm.network_card.$error">\n            <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n          </div>\n        </div>\n      </div>\n      \x3c!-- network-card-input --\x3e\n      \x3c!-- nodes-selector --\x3e\n      <div ng-if="$ctrl.applicationState.endpoint.mode.agentProxy && $ctrl.applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n        <div class="form-group">\n          <div class="col-sm-12">\n            <macvlan-nodes-datatable\n              title-text=""\n              title-icon="fa-hdd"\n              dataset="$ctrl.nodes"\n              table-key="nodes"\n              state="$ctrl.data.DatatableState"\n              order-by="Hostname"\n              show-ip-address-column="$ctrl.applicationState.endpoint.apiVersion >= 1.25"\n              access-to-node-details="$ctrl.isAdmin"\n              name="node_selector"\n              ng-model="tmp"\n              ng-required="$ctrl.requiredNodeSelection()"\n            ></macvlan-nodes-datatable>\n          </div>\n        </div>\n        <div class="form-group" ng-show="macvlanConfigurationForm.node_selector.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="macvlanConfigurationForm.node_selector.$error">\n              <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> At least one node must be selected.</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      \x3c!-- !nodes-selector --\x3e\n    </div>\n    \x3c!-- configuration-inputs --\x3e\n    \x3c!-- deploy-inputs --\x3e\n    <div ng-show="$ctrl.data.Scope === \'swarm\'">\n      \x3c!-- configuration-selector --\x3e\n      \x3c!-- network-input --\x3e\n      <div class="form-group">\n        <label for="config_network" class="col-sm-2 col-lg-1 control-label text-left">Configuration</label>\n        <div class="col-sm-9">\n          <select\n            class="form-control"\n            ng-options="net.Name for net in $ctrl.availableNetworks"\n            ng-model="$ctrl.data.SelectedNetworkConfig"\n            name="config_network"\n            ng-required="$ctrl.requiredConfigSelection()"\n          >\n            <option selected disabled hidden value="">Select a network</option>\n          </select>\n        </div>\n      </div>\n      \x3c!-- !network-input --\x3e\n      <div class="form-group" ng-show="macvlanConfigurationForm.config_network.$invalid">\n        <div class="col-sm-12 small text-warning">\n          <div ng-messages="macvlanConfigurationForm.config_network.$error">\n            <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Select a configuration network.</p>\n          </div>\n        </div>\n      </div>\n      \x3c!-- !configuration-selector --\x3e\n    </div>\n    \x3c!-- deploy-inputs --\x3e\n  </ng-form>\n</div>\n')}]),e.exports=t},79420:e=>{var t="app/docker/components/volumesCIFSForm/volumesCifsForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- CIFS-settings --\x3e\n<div ng-show="$ctrl.data.useCIFS">\n  <ng-form class="form-horizontal" name="cifsInformationForm">\n    <div class="col-sm-12 form-section-title"> CIFS Settings </div>\n    \x3c!-- address-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_address" class="col-sm-2 col-md-1 control-label text-left"></label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.serverAddress" name="cifs_address" placeholder=" my.cifs-server.com OR xxx.xxx.xxx.xxx" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.cifs_address.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_address.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !address-input --\x3e\n    \x3c!-- mount-point-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_share" class="col-sm-2 col-md-1 control-label text-left">Share</label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.share" name="cifs_share" placeholder=" /myshare" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.cifs_share.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_share.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !mount-point-input --\x3e\n    \x3c!-- version-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_version" class="col-sm-2 col-md-1 control-label text-left">CIFS Version</label>\n      <div class="col-sm-10 col-md-11">\n        <select class="form-control" ng-model="$ctrl.data.version" name="cifs_version" ng-options="version for version in $ctrl.data.versions" required></select>\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.cifs_version.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_version.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !version-input --\x3e\n    \x3c!-- username --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_username" class="col-sm-2 col-md-1 control-label text-left"></label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.username" name="cifs_username" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.cifs_username.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_username.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !username --\x3e\n    \x3c!-- password --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_password" class="col-sm-2 col-md-1 control-label text-left">   </label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.password" name="cifs_password" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.password.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_password.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !password --\x3e\n  </ng-form>\n</div>\n\x3c!-- !CIFS-settings --\x3e\n')}]),e.exports=t},93886:e=>{var t="app/docker/components/volumesNFSForm/volumesnfsForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- NFS-settings --\x3e\n<div ng-show="$ctrl.data.useNFS">\n  <ng-form class="form-horizontal" name="nfsInformationForm">\n    <div class="col-sm-12 form-section-title"> NFS Settings </div>\n    \x3c!-- address-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="nfs_address" class="col-sm-2 col-md-1 control-label text-left"></label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.serverAddress" name="nfs_address" placeholder=" my.nfs-server.com OR xxx.xxx.xxx.xxx" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="nfsInformationForm.nfs_address.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="nfsInformationForm.nfs_address.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !address-input --\x3e\n    \x3c!-- version-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="nfs_version" class="col-sm-2 col-md-1 control-label text-left">NFS Version</label>\n      <div class="col-sm-10 col-md-11">\n        <select class="form-control" ng-model="$ctrl.data.version" name="nfs_version" ng-options="version for version in $ctrl.data.versions" required></select>\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="nfsInformationForm.nfs_version.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="nfsInformationForm.nfs_version.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !version-input --\x3e\n    \x3c!-- mount-point-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="nfs_mountpoint" class="col-sm-2 col-md-1 control-label text-left">Mount point</label>\n      <div class="col-sm-10 col-md-11">\n        <input\n          type="text"\n          class="form-control"\n          ng-model="$ctrl.data.mountPoint"\n          name="nfs_mountpoint"\n          placeholder=" /export/share, :/export/share, /share or :/share"\n          required\n        />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="nfsInformationForm.nfs_mountpoint.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="nfsInformationForm.nfs_mountpoint.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !mount-point-input --\x3e\n    \x3c!-- options-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="nfs_options" class="col-sm-2 col-md-1 control-label text-left"\n        >Options\n        <portainer-tooltip position="bottom" message="Comma separated list of options"></portainer-tooltip>\n      </label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.options" name="nfs_options" placeholder=" rw,noatime,tcp ..." required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="nfsInformationForm.nfs_options.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="nfsInformationForm.nfs_options.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !options-input --\x3e\n  </ng-form>\n</div>\n\x3c!-- !NFS-settings --\x3e\n')}]),e.exports=t},66188:e=>{var t="app/docker/views/configs/configs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.configs" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Configs</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <configs-datatable\n      title-text=""\n      title-icon="fa-file-code"\n      dataset="ctrl.configs"\n      table-key="configs"\n      order-by="Name"\n      remove-action="ctrl.removeAction"\n      refresh-callback="ctrl.getConfigs"\n    ></configs-datatable>\n  </div>\n</div>\n')}]),e.exports=t},20641:e=>{var t="app/docker/views/configs/create/createconfig.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create config"></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.configs"></a> &gt; Add config </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="config_name" class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="ctrl.formValues.Name" id="config_name" placeholder=" myConfig" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- config-data --\x3e\n          <div class="form-group">\n            <div class="col-sm-12" ng-if="ctrl.formValues.displayCodeEditor">\n              <code-editor\n                identifier="config-creation-editor"\n                placeholder="Define or paste the content of your config here"\n                yml="false"\n                on-change="(ctrl.editorUpdate)"\n                value="ctrl.formValues.Data"\n              ></code-editor>\n            </div>\n          </div>\n          \x3c!-- !config-data --\x3e\n          \x3c!-- labels --\x3e\n          <div class="form-group">\n            <div class="col-sm-12" style="margin-top: 5px">\n              <label class="control-label text-left"></label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="ctrl.addLabel()">\n                <i class="fa fa-plus-circle" aria-hidden="true"></i> \n              </span>\n            </div>\n            \x3c!-- labels-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="label in ctrl.formValues.Labels" style="margin-top: 2px">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon"></span>\n                  <input type="text" class="form-control" ng-model="label.name" placeholder=" com.example.foo" />\n                </div>\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="label.value" placeholder=" bar" />\n                </div>\n                <button class="btn btn-sm btn-danger" type="button" ng-click="ctrl.removeLabel($index)">\n                  <i class="fa fa-trash" aria-hidden="true"></i>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !labels-input-list --\x3e\n          </div>\n          \x3c!-- !labels--\x3e\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="ctrl.formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button type="button" class="btn btn-primary btn-sm" ng-disabled="!ctrl.formValues.Name" ng-click="ctrl.create()">Create config</button>\n              <span class="text-danger" ng-if="ctrl.state.formValidationError" style="margin-left: 5px">{{ ctrl.state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},67539:e=>{var t="app/docker/views/configs/edit/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Config details">\n    <a data-toggle="tooltip" title="" ui-sref="docker.configs.config({id: config.Id})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.configs"></a> &gt; <a ui-sref="docker.configs.config({id: config.Id})">{{ config.Name }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-file-code" title-text="Config details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>{{ config.Name }}</td>\n            </tr>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ config.Id }}\n                <button authorization="DockerConfigDelete" class="btn btn-xs btn-danger" ng-click="removeConfig(config.Id)"\n                  ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i>Delete this config</button\n                >\n                <button authorization="DockerConfigCreate" class="btn btn-xs btn-primary" ui-sref="docker.configs.new({id: config.Id})"\n                  ><i class="fa fa-copy space-right" aria-hidden="true"></i>Clone config</button\n                >\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ config.CreatedAt | getisodate }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ config.UpdatedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="!(config.Labels | emptyobject)">\n              <td></td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in config.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<por-access-control-panel ng-if="config" resource-id="config.Id" resource-control="config.ResourceControl" resource-type="\'config\'"> </por-access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div class="row" ng-if="config">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-file-code" title-text="Config content"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="col-sm-12">\n              <code-editor identifier="config-editor" yml="false" read-only="true" value="config.Data"></code-editor>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},8423:e=>{var t="app/docker/views/containers/console/attach.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.containers"></a> &gt; <a ui-sref="docker.containers.container({id: container.Id})">{{ container.Name | trimcontainername }}</a> &gt; \n  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-init="autoconnectAttachView()" ng-show="loaded">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-terminal" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <div class="small text-warning" ng-if="!container.Config.OpenStdin">\n          <p>\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n             \n          </p>\n        </div>\n\n        <div class="small text-warning" ng-if="!container.Config.Tty">\n          <p>\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n             TTY-flag  \n          </p>\n        </div>\n\n        <div class="small text-danger" ng-hide="container.State.Running">\n          <p>\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n            The container is not running.\n          </p>\n        </div>\n\n        <button\n          type="button"\n          class="btn btn-primary"\n          ng-disabled="state === states.connecting || !container.State.Running"\n          ng-click="state == states.disconnected ? connectAttach() : disconnect()"\n        >\n          <span ng-show="state === states.disconnected"></span>\n          <span ng-show="state === states.connected"></span>\n          <span ng-show="state === states.connecting">...</span>\n        </button>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <div id="terminal-container" class="terminal-container"></div>\n  </div>\n</div>\n')}]),e.exports=t},98757:e=>{var t="app/docker/views/containers/console/exec.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.containers"></a> &gt; <a ui-sref="docker.containers.container({id: container.Id})">{{ container.Name | trimcontainername }}</a> &gt; \n  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-init="initView()" ng-show="loaded">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-terminal" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div ng-if="state === states.disconnected">\n            \x3c!-- command-list --\x3e\n            <div class="form-group">\n              <label for="command" class="col-lg-1 text-left col-sm-2 control-label"></label>\n              <div class="col-lg-11 col-sm-10">\n                <div class="input-group" ng-if="!formValues.isCustomCommand">\n                  <span class="input-group-addon">\n                    <i class="fab fa-linux" aria-hidden="true" ng-if="imageOS == \'linux\'"></i>\n                    <i class="fab fa-windows" aria-hidden="true" ng-if="imageOS == \'windows\'"></i>\n                  </span>\n                  <select class="form-control" ng-model="formValues.command" id="command">\n                    <option value="ash" ng-if="imageOS == \'linux\'">/bin/ash</option>\n                    <option value="bash" ng-if="imageOS == \'linux\'">/bin/bash</option>\n                    <option value="sh" ng-if="imageOS == \'linux\'">/bin/sh</option>\n                    <option value="powershell" ng-if="imageOS == \'windows\'">powershell</option>\n                    <option value="cmd.exe" ng-if="imageOS == \'windows\'">cmd.exe</option>\n                    <option ng-repeat="command in containerCommands" value="{{ command.command }}">{{ command.title }}: {{ command.command }}</option>\n                  </select>\n                </div>\n                <input class="form-control" ng-if="formValues.isCustomCommand" type="text" name="custom-command" ng-model="formValues.customCommand" placeholder=" ps aux" />\n              </div>\n            </div>\n            \x3c!-- !command-list --\x3e\n            <div class="form-group col-lg-12">\n              <label for="command" class="text-left control-label"></label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="formValues.isCustomCommand" /><i></i> </label>\n            </div>\n            <div class="form-group">\n              <label class="col-lg-1 text-left col-sm-2 control-label">\n                \n                <portainer-tooltip position="bottom" message="useruser:groupuid  uid:gid"></portainer-tooltip>\n              </label>\n              <div class="col-lg-11 col-sm-10">\n                <input class="form-control" type="text" ng-model="formValues.user" placeholder="root" />\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button type="button" class="btn btn-primary" ng-disabled="!container.State.Running" ng-click="connectExec()">\n                  <span></span>\n                </button>\n                <span class="small text-danger" ng-hide="container.State.Running">\n                  <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                  \n                </span>\n              </div>\n            </div>\n          </div>\n          <div ng-if="state !== states.disconnected">\n            <label\n              > <code>{{ ::formValues.user || \'\' }}</code> \n              <code>{{ formValues.isCustomCommand ? formValues.customCommand : formValues.command }}</code></label\n            >\n            <button type="button" class="btn btn-primary" ng-click="disconnect()">\n              <span ng-show="state === states.connected"></span>\n              <span ng-show="state === states.connecting">...</span>\n            </button>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <div id="terminal-container" class="terminal-container"></div>\n  </div>\n</div>\n')}]),e.exports=t},9003:e=>{var t="app/docker/views/containers/containers.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.containers" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n\n<div class="row">\n  <div class="col-sm-12" ng-if="containers">\n    <containers-datatable\n      endpoint="endpoint"\n      dataset="containers"\n      is-host-column-visible="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      is-add-action-visible="true"\n      on-refresh="(getContainers)"\n    ></containers-datatable>\n  </div>\n</div>\n')}]),e.exports=t},92091:e=>{var t="app/docker/views/containers/create/createcontainer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.containers"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<information-panel title-text="" ng-if="state.mode == \'duplicate\'">\n  <span class="small">\n    <p class="text-muted">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n       cmd \n <a href="http://porttainer.readthedocs.io/en/stable/agent.html" target="_blank"></a>\n    </p>\n  </span>\n</information-panel>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" autocomplete="off">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="container_name" class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="config.name" id="container_name" placeholder=" myContainer" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="col-sm-12 form-section-title">  </div>\n          <div ng-if="!formValues.RegistryModel.Registry && fromContainer">\n            <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i>\n            <span class="small text-danger" style="margin-left: 5px">\n              The Docker registry for the <code>{{ config.Image }}</code> image is not registered inside Portainer, you will not be able to create a container. Please register that\n              registry first.\n            </span>\n          </div>\n          <div ng-if="formValues.RegistryModel.Registry || !fromContainer">\n            \x3c!-- image-and-registry --\x3e\n            <por-image-registry\n              model="formValues.RegistryModel"\n              pull-warning="formValues.alwaysPull"\n              ng-if="formValues.RegistryModel.Registry"\n              auto-complete="true"\n              label-class="col-sm-1"\n              input-class="col-sm-11"\n              endpoint="endpoint"\n              is-admin="isAdmin"\n              check-rate-limits="formValues.alwaysPull"\n              on-image-change="onImageNameChange()"\n              set-validity="setPullImageValidity"\n            >\n              \x3c!-- always-pull --\x3e\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <label for="ownership" class="control-label text-left">\n                    \n                    <portainer-tooltip\n                      position="bottom"\n                      message="Portainer "\n                    ></portainer-tooltip>\n                  </label>\n                  <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="formValues.alwaysPull" ng-disabled="!state.pullImageValidity" /><i></i> </label>\n                </div>\n              </div>\n              \x3c!-- !always-pull --\x3e\n            </por-image-registry>\n            \x3c!-- !image-and-registry --\x3e\n          </div>\n\n          \x3c!-- create-webhook --\x3e\n          <div ng-if="endpoint.Type !== 4 && hasAuthorizations([\'PortainerWebhookCreate\'])">\n            <div class="col-sm-12 form-section-title"> Webhooks </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left">\n                  \n                  <portainer-tooltip\n                    position="top"\n                    message=" webhook URI  URI  POST "\n                  ></portainer-tooltip>\n                </label>\n                <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="formValues.EnableWebhook" /><i></i> </label>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !create-webhook  --\x3e\n\n          <div class="col-sm-12 form-section-title">  </div>\n          \x3c!-- publish-exposed-ports --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label class="control-label text-left">\n                \n                <portainer-tooltip\n                  position="bottom"\n                  message="Portainer  Docker  Dockerfile "\n                ></portainer-tooltip>\n              </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="config.HostConfig.PublishAllPorts" /><i></i> </label>\n            </div>\n          </div>\n          \x3c!-- !publish-exposed-ports --\x3e\n          \x3c!-- port-mapping --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label class="control-label text-left">\n                \n                <portainer-tooltip\n                  position="bottom"\n                  message="Docker "\n                ></portainer-tooltip>\n              </label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addPortBinding()">\n                <i class="fa fa-plus-circle" aria-hidden="true"></i> \n              </span>\n            </div>\n            \x3c!-- port-mapping-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="portBinding in config.HostConfig.PortBindings" style="margin-top: 2px">\n                \x3c!-- host-port --\x3e\n                <div class="input-group col-sm-4 input-group-sm">\n                  <span class="input-group-addon">host</span>\n                  <input type="text" class="form-control" ng-model="portBinding.hostPort" placeholder=" 80, 80-88, ip:80 or ip:80-88 (optional)" />\n                </div>\n                \x3c!-- !host-port --\x3e\n                <span style="margin: 0 10px 0 10px">\n                  <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                </span>\n                \x3c!-- container-port --\x3e\n                <div class="input-group col-sm-4 input-group-sm">\n                  <span class="input-group-addon"></span>\n                  <input type="text" class="form-control" ng-model="portBinding.containerPort" placeholder=" 80 or 80-88" />\n                </div>\n                \x3c!-- !container-port --\x3e\n                \x3c!-- protocol-actions --\x3e\n                <div class="input-group col-sm-3 input-group-sm">\n                  <div class="btn-group btn-group-sm">\n                    <label class="btn btn-primary" ng-model="portBinding.protocol" uib-btn-radio="\'tcp\'">TCP</label>\n                    <label class="btn btn-primary" ng-model="portBinding.protocol" uib-btn-radio="\'udp\'">UDP</label>\n                  </div>\n                  <button class="btn btn-sm btn-danger" type="button" ng-click="removePortBinding($index)">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                  </button>\n                </div>\n                \x3c!-- !protocol-actions --\x3e\n              </div>\n            </div>\n            \x3c!-- !port-mapping-input-list --\x3e\n          </div>\n          \x3c!-- !port-mapping --\x3e\n          <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n            <div class="col-sm-12 form-section-title"> Deployment </div>\n            \x3c!-- node-selection --\x3e\n            <node-selector model="formValues.NodeName"> </node-selector>\n            \x3c!-- !node-selection --\x3e\n          </div>\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData" resource-control="fromContainer.ResourceControl" ng-if="fromContainer"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          \x3c!-- autoremove --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label for="ownership" class="control-label text-left">\n                \n                <portainer-tooltip\n                  position="bottom"\n                  message="Portainer  Docker  Dockerfile "\n                ></portainer-tooltip>\n              </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="config.HostConfig.AutoRemove" /><i></i> </label>\n            </div>\n          </div>\n          \x3c!-- !autoremove --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.RegistryModel.Image || (!formValues.RegistryModel.Registry && fromContainer)\n                 || (fromContainer.IsPortainer && fromContainer.Name === \'/\' + config.name)"\n                ng-click="create()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress"></span>\n                <span ng-show="state.actionInProgress">Deployment in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-cog" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <ul class="nav nav-pills nav-justified">\n          <li class="active interactive"><a data-target="#command" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#volumes" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#network" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#env" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#labels" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#restart-policy" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#runtime-resources" ng-click="refreshSlider()" data-toggle="tab"> & </a></li>\n          <li ng-if="areContainerCapabilitiesEnabled" class="interactive"><a data-target="#container-capabilities" data-toggle="tab">Capabilities</a></li>\n        </ul>\n        \x3c!-- tab-content --\x3e\n        <div class="tab-content">\n          \x3c!-- tab-command --\x3e\n          <div class="tab-pane active" id="command">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- command-input --\x3e\n              <div class="form-group">\n                <label for="container_command" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <div class="input-group">\n                    <div class="input-group-btn">\n                      <button class="btn btn-primary" ng-model="formValues.CmdMode" uib-btn-radio="\'default\'" style="margin-left: 0px"></button>\n                      <button class="btn btn-primary" ng-model="formValues.CmdMode" uib-btn-radio="\'override\'"></button>\n                    </div>\n                    <input\n                      type="text"\n                      class="form-control"\n                      ng-model="config.Cmd"\n                      ng-disabled="formValues.CmdMode === \'default\'"\n                      id="container_command"\n                      placeholder=" \'-logtostderr\' \'--housekeeping_interval=5s\' or /usr/bin/nginx -t -c /mynginx.conf"\n                    />\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !command-input --\x3e\n              \x3c!-- entrypoint-input --\x3e\n              <div class="form-group">\n                <label for="container_entrypoint" class="col-sm-2 col-lg-1 control-label text-left">\n                  \n                  <portainer-tooltip\n                    position="bottom"\n                    message=""\n                  ></portainer-tooltip>\n                </label>\n                <div class="col-sm-9">\n                  <div class="input-group">\n                    <div class="input-group-btn">\n                      <label class="btn btn-primary" ng-model="formValues.EntrypointMode" uib-btn-radio="\'default\'" style="margin-left: 0px"></label>\n                      <label class="btn btn-primary" ng-model="formValues.EntrypointMode" uib-btn-radio="\'override\'"></label>\n                    </div>\n                    <input\n                      type="text"\n                      class="form-control"\n                      ng-model="config.Entrypoint"\n                      ng-disabled="formValues.EntrypointMode === \'default\'"\n                      id="container_entrypoint"\n                      placeholder=" /bin/sh -c"\n                    />\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !entrypoint-input --\x3e\n              \x3c!-- workdir-user-input --\x3e\n              <div class="form-group">\n                <label for="container_workingdir" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-4">\n                  <input type="text" class="form-control" ng-model="config.WorkingDir" id="container_workingdir" placeholder=" /myapp" />\n                </div>\n                <label for="container_user" class="col-sm-1 control-label text-left"></label>\n                <div class="col-sm-4">\n                  <input type="text" class="form-control" ng-model="config.User" id="container_user" placeholder=" nginx" />\n                </div>\n              </div>\n              \x3c!-- !workdir-user-input --\x3e\n              \x3c!-- console --\x3e\n              <div class="form-group">\n                <label for="container_console" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-10 col-lg-11">\n                  <div class="col-sm-4">\n                    <label class="radio-inline">\n                      <input type="radio" name="container_console" ng-model="formValues.Console" value="both" />\n                      Interactive & TTY <span class="small text-muted">(-i -t)</span>\n                    </label>\n                  </div>\n                  <div class="col-sm-4">\n                    <label class="radio-inline">\n                      <input type="radio" name="container_console" ng-model="formValues.Console" value="interactive" />\n                      Interactive <span class="small text-muted">(-i)</span>\n                    </label>\n                  </div>\n                </div>\n                <div class="col-sm-offset-2 col-sm-10 col-lg-offset-1 col-lg-11">\n                  <div class="col-sm-4">\n                    <label class="radio-inline">\n                      <input type="radio" name="container_console" ng-model="formValues.Console" value="tty" />\n                      TTY <span class="small text-muted">(-t)</span>\n                    </label>\n                  </div>\n                  <div class="col-sm-4">\n                    <label class="radio-inline">\n                      <input type="radio" name="container_console" ng-model="formValues.Console" value="none" />\n                      None\n                    </label>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !console --\x3e\n\n              <div class="col-sm-12 form-section-title">  </div>\n              \x3c!-- logging-driver --\x3e\n              <div class="form-group">\n                <label for="log-driver" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-4">\n                  <select class="form-control" ng-model="formValues.LogDriverName" id="log-driver">\n                    <option selected value=""></option>\n                    <option ng-repeat="driver in availableLoggingDrivers" ng-value="driver">{{ driver }}</option>\n                    <option value="none">none</option>\n                  </select>\n                </div>\n                <div class="col-sm-5">\n                  <p class="small text-muted">\n                     docker   \n  <a href="https://docs.docker.com/engine/admin/logging/overview/#supported-logging-drivers" target="_blank"> Docker </a>.\n                  </p>\n                </div>\n              </div>\n              \x3c!-- !logging-driver --\x3e\n              \x3c!-- logging-opts --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">\n                    \n                    <portainer-tooltip\n                      position="top"\n                      message="none "\n                    ></portainer-tooltip>\n                  </label>\n                  <span\n                    class="label label-default interactive"\n                    style="margin-left: 10px"\n                    ng-click="!formValues.LogDriverName || formValues.LogDriverName === \'none\' || addLogDriverOpt(formValues.LogDriverName)"\n                  >\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                  </span>\n                </div>\n                \x3c!-- logging-opts-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="opt in formValues.LogDriverOpts" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">option</span>\n                      <input type="text" class="form-control" ng-model="opt.name" placeholder=" FOO" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="opt.value" placeholder=" bar" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeLogDriverOpt($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- logging-opts-input-list --\x3e\n              </div>\n              \x3c!-- !logging-opts --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-command --\x3e\n          \x3c!-- tab-volume --\x3e\n          <div class="tab-pane" id="volumes">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- volumes --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left"></label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addVolume()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                  </span>\n                </div>\n                \x3c!-- volumes-input-list --\x3e\n                <div class="form-inline" style="margin-top: 10px">\n                  <div ng-repeat="volume in formValues.Volumes">\n                    \x3c!-- volume-line1 --\x3e\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                      \x3c!-- container-path --\x3e\n                      <div class="input-group input-group-sm col-sm-6">\n                        <span class="input-group-addon"></span>\n                        <input type="text" class="form-control" ng-model="volume.containerPath" placeholder=" /path/in/container" />\n                      </div>\n                      \x3c!-- !container-path --\x3e\n                      \x3c!-- volume-type --\x3e\n                      <div class="input-group col-sm-5" style="margin-left: 5px">\n                        <div class="btn-group btn-group-sm" ng-if="allowBindMounts">\n                          <label class="btn btn-primary" ng-model="volume.type" uib-btn-radio="\'volume\'" ng-click="volume.name = \'\'"></label>\n                          <label class="btn btn-primary" ng-model="volume.type" uib-btn-radio="\'bind\'" ng-click="volume.name = \'\'"></label>\n                        </div>\n                        <button class="btn btn-sm btn-danger" type="button" ng-click="removeVolume($index)">\n                          <i class="fa fa-trash" aria-hidden="true"></i>\n                        </button>\n                      </div>\n                      \x3c!-- !volume-type --\x3e\n                    </div>\n                    \x3c!-- !volume-line1 --\x3e\n                    \x3c!-- volume-line2 --\x3e\n                    <div class="col-sm-12 form-inline" style="margin-top: 5px">\n                      <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                      \x3c!-- volume --\x3e\n                      <div class="input-group input-group-sm col-sm-6" ng-if="volume.type === \'volume\'">\n                        <span class="input-group-addon"></span>\n                        <select class="form-control" ng-model="volume.name">\n                          <option selected disabled hidden value=""></option>\n                          <option ng-repeat="vol in availableVolumes" ng-value="vol.Name">{{ vol.Name | truncate: 30 }} - {{ vol.Driver | truncate: 30 }}</option>\n                        </select>\n                      </div>\n                      \x3c!-- !volume --\x3e\n                      \x3c!-- bind --\x3e\n                      <div class="input-group input-group-sm col-sm-6" ng-if="volume.type === \'bind\'">\n                        <span class="input-group-addon">host</span>\n                        <input type="text" class="form-control" ng-model="volume.name" placeholder=" /path/on/host" />\n                      </div>\n                      \x3c!-- !bind --\x3e\n                      \x3c!-- read-only --\x3e\n                      <div class="input-group input-group-sm col-sm-5" style="margin-left: 5px">\n                        <div class="btn-group btn-group-sm">\n                          <label class="btn btn-primary" ng-model="volume.readOnly" uib-btn-radio="false"></label>\n                          <label class="btn btn-primary" ng-model="volume.readOnly" uib-btn-radio="true"></label>\n                        </div>\n                      </div>\n                      \x3c!-- !read-only --\x3e\n                    </div>\n                    \x3c!-- !volume-line2 --\x3e\n                  </div>\n                </div>\n                \x3c!-- !volumes-input-list --\x3e\n              </div>\n            </form>\n            \x3c!-- !volumes --\x3e\n          </div>\n          \x3c!-- !tab-volume --\x3e\n          \x3c!-- tab-network --\x3e\n          <div class="tab-pane" id="network">\n            <form class="form-horizontal" style="margin-top: 15px">\n              <div class="form-group" ng-if="globalNetworkCount === 0 && applicationState.endpoint.mode.provider !== \'DOCKER_SWARM_MODE\'">\n                <div class="col-sm-12">\n                  <span class="small text-muted">  <a ui-sref="docker.networks">networks </a> </span>\n                </div>\n              </div>\n              \x3c!-- network-input --\x3e\n              <div class="form-group">\n                <label for="container_network" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <select\n                    class="form-control"\n                    ng-options="net.Name as net.Name for net in availableNetworks"\n                    ng-model="config.HostConfig.NetworkMode"\n                    id="container_network"\n                    ng-change="resetNetworkConfig()"\n                  >\n                    <option selected disabled hidden value="">Select a network</option>\n                  </select>\n                </div>\n              </div>\n              \x3c!-- !network-input --\x3e\n              \x3c!-- container-name-input --\x3e\n              <div class="form-group" ng-if="config.HostConfig.NetworkMode == \'container\'">\n                <label for="container_network_container" class="col-sm-2 col-lg-1 control-label text-left">Container</label>\n                <div class="col-sm-9">\n                  <select ng-options="container|containername for container in runningContainers" class="form-control" ng-model="formValues.NetworkContainer">\n                    <option selected disabled hidden value="">Select a container</option>\n                  </select>\n                </div>\n              </div>\n              \x3c!-- !container-name-input --\x3e\n              \x3c!-- hostname-input --\x3e\n              <div class="form-group">\n                <label for="container_hostname" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="config.Hostname" id="container_hostname" placeholder=" web01" />\n                </div>\n              </div>\n              \x3c!-- !hostname-input --\x3e\n              \x3c!-- domainname-input --\x3e\n              <div class="form-group">\n                <label for="container_domainname" class="col-sm-2 col-lg-1 control-label text-left"> </label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="config.Domainname" id="container_domainname" placeholder=" example.com" />\n                </div>\n              </div>\n              \x3c!-- !domainname --\x3e\n              \x3c!-- mac-address-input --\x3e\n              <div class="form-group">\n                <label for="container_macaddress" class="col-sm-2 col-lg-1 control-label text-left">Mac </label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.MacAddress" id="container_macaddress" placeholder=" 12-34-56-78-9a-bc" />\n                </div>\n              </div>\n              \x3c!-- !mac-address-input --\x3e\n              \x3c!-- ipv4-input --\x3e\n              <div class="form-group">\n                <label for="container_ipv4" class="col-sm-2 col-lg-1 control-label text-left">IPv4 </label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.IPv4" id="container_ipv4" placeholder=" 172.20.0.7" />\n                </div>\n              </div>\n              \x3c!-- !ipv4-input --\x3e\n              \x3c!-- ipv6-input --\x3e\n              <div class="form-group">\n                <label for="container_ipv6" class="col-sm-2 col-lg-1 control-label text-left">IPv6 </label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.IPv6" id="container_ipv6" placeholder=" a:b:c:d::1234" />\n                </div>\n              </div>\n              \x3c!-- !ipv6-input --\x3e\n              \x3c!-- dns-primary-input --\x3e\n              <div class="form-group">\n                <label for="container_dns_primary" class="col-sm-2 col-lg-1 control-label text-left">DNS</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.DnsPrimary" id="container_dns_primary" placeholder=" 1.1.1.1, 2606:4700:4700::1111" />\n                </div>\n              </div>\n              \x3c!-- !dns-primary-input --\x3e\n              \x3c!-- dns-secondary-input --\x3e\n              <div class="form-group">\n                <label for="container_dns_secondary" class="col-sm-2 col-lg-1 control-label text-left">DNS</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.DnsSecondary" id="container_dns_secondary" placeholder=" 1.0.0.1, 2606:4700:4700::1001" />\n                </div>\n              </div>\n              \x3c!-- !dns-secondary-input --\x3e\n              \x3c!-- extra-hosts-variables --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left"></label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addExtraHost()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                  </span>\n                </div>\n                \x3c!-- extra-hosts-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="variable in formValues.ExtraHosts" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="variable.value" placeholder=" host:IP" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeExtraHost($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !extra-hosts-input-list --\x3e\n              </div>\n              \x3c!-- !extra-hosts-variables --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-network --\x3e\n          \x3c!-- tab-labels --\x3e\n          <div class="tab-pane" id="labels">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- labels --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left"></label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addLabel()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                  </span>\n                </div>\n                \x3c!-- labels-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="label in formValues.Labels" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon"></span>\n                      <input type="text" class="form-control" ng-model="label.name" placeholder=" com.example.foo" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="label.value" placeholder=" bar" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeLabel($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !labels-input-list --\x3e\n              </div>\n              \x3c!-- !labels--\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-labels --\x3e\n          \x3c!-- tab-env --\x3e\n          <div class="tab-pane" id="env">\n            <environment-variables-panel\n              ng-model="formValues.Env"\n              explanation=""\n              on-change="(handleEnvVarChange)"\n            ></environment-variables-panel>\n          </div>\n          \x3c!-- !tab-env --\x3e\n          \x3c!-- tab-restart-policy --\x3e\n          <div class="tab-pane" id="restart-policy">\n            <form class="form-horizontal" style="margin-top: 15px">\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <label class="control-label text-left">  </label>\n                  <div class="btn-group btn-group-sm" style="margin-left: 20px">\n                    <label class="btn btn-primary" ng-model="config.HostConfig.RestartPolicy.Name" uib-btn-radio="\'no\'"></label>\n                    <label class="btn btn-primary" ng-model="config.HostConfig.RestartPolicy.Name" uib-btn-radio="\'always\'"></label>\n                    <label class="btn btn-primary" ng-model="config.HostConfig.RestartPolicy.Name" uib-btn-radio="\'on-failure\'"></label>\n                    <label class="btn btn-primary" ng-model="config.HostConfig.RestartPolicy.Name" uib-btn-radio="\'unless-stopped\'"></label>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n          \x3c!-- !tab-restart-policy --\x3e\n          \x3c!-- tab-runtime-resources --\x3e\n          <div class="tab-pane" id="runtime-resources">\n            <form class="form-horizontal" style="margin-top: 15px">\n              <div class="col-sm-12 form-section-title"> Runtime </div>\n              \x3c!-- privileged-mode --\x3e\n              <div class="form-group" ng-if="allowPrivilegedMode">\n                <div class="col-sm-12">\n                  <label for="privileged_mode" class="control-label text-left">  </label>\n                  <label class="switch" style="margin-left: 20px"> <input type="checkbox" name="privileged_mode" ng-model="config.HostConfig.Privileged" /><i></i> </label>\n                </div>\n              </div>\n              \x3c!-- !privileged-mode --\x3e\n              \x3c!-- init --\x3e\n              <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.37">\n                <div class="col-sm-12">\n                  <label for="init" class="control-label text-left"> Init </label>\n                  <label class="switch" style="margin-left: 20px"> <input type="checkbox" name="init" ng-model="config.HostConfig.Init" /><i></i> </label>\n                </div>\n              </div>\n              \x3c!-- !init --\x3e\n              \x3c!-- runtimes --\x3e\n              <div class="form-group">\n                <label for="container_runtime" class="col-sm-1 control-label text-left">Runtime</label>\n                <div class="col-sm-11">\n                  <select class="form-control" ng-model="config.HostConfig.Runtime" id="container_runtime" ng-options="runtime for runtime in availableRuntimes">\n                    <option selected value=""></option>\n                  </select>\n                </div>\n              </div>\n              \x3c!-- !runtimes --\x3e\n            </form>\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- devices --\x3e\n              <div ng-if="showDeviceMapping" class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left"></label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addDevice()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                  </span>\n                </div>\n                \x3c!-- devices-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="device in config.HostConfig.Devices" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">host</span>\n                      <input type="text" class="form-control" ng-model="device.pathOnHost" placeholder=" /dev/tty0" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon"></span>\n                      <input type="text" class="form-control" ng-model="device.pathInContainer" placeholder=" /dev/tty0" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeDevice($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !devices-input-list --\x3e\n              </div>\n              \x3c!-- !devices--\x3e\n              \x3c!-- sysctls --\x3e\n              <div ng-if="allowSysctl" class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Sysctls</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addSysctl()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> sysctl\n                  </span>\n                </div>\n                \x3c!-- sysctls-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="sysctl in formValues.Sysctls" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon"></span>\n                      <input type="text" class="form-control" ng-model="sysctl.name" placeholder=" FOO" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="sysctl.value" placeholder=" bar" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeSysctl($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !sysctls-input-list --\x3e\n              </div>\n              \x3c!-- !sysctls --\x3e\n              <div ng-class="{ \'edit-resources\': state.mode == \'duplicate\' }">\n                <div class="col-sm-12 form-section-title"></div>\n                \x3c!-- memory-reservation-input --\x3e\n                <div class="form-group">\n                  <label for="memory-reservation" class="col-sm-3 col-lg-2 control-label text-left mt-20">  </label>\n                  <div class="col-sm-3">\n                    <slider\n                      on-change="(handleResourceChange)"\n                      model="formValues.MemoryReservation"\n                      floor="0"\n                      ceil="state.sliderMaxMemory"\n                      step="256"\n                      ng-if="state.sliderMaxMemory"\n                    ></slider>\n                  </div>\n                  <div class="col-sm-2">\n                    <input type="number" min="0" class="form-control" ng-model="formValues.MemoryReservation" id="memory-reservation" />\n                  </div>\n                  <div class="col-sm-4">\n                    <p class="small text-muted mt-7">  (<b>MB</b>) </p>\n                  </div>\n                </div>\n                \x3c!-- !memory-reservation-input --\x3e\n                \x3c!-- memory-limit-input --\x3e\n                <div class="form-group">\n                  <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left mt-20">  </label>\n                  <div class="col-sm-3">\n                    <slider\n                      on-change="(handleResourceChange)"\n                      model="formValues.MemoryLimit"\n                      floor="0"\n                      ceil="state.sliderMaxMemory"\n                      step="256"\n                      ng-if="state.sliderMaxMemory"\n                    ></slider>\n                  </div>\n                  <div class="col-sm-2">\n                    <input type="number" min="0" class="form-control" ng-model="formValues.MemoryLimit" id="memory-limit" />\n                  </div>\n                  <div class="col-sm-4">\n                    <p class="small text-muted" style="margin-top: 7px">  (<b>MB</b>) </p>\n                  </div>\n                </div>\n                \x3c!-- !memory-limit-input --\x3e\n                \x3c!-- cpu-limit-input --\x3e\n                <div class="form-group">\n                  <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left mt-20"> CPU  </label>\n                  <div class="col-sm-5">\n                    <slider\n                      on-change="(handleResourceChange)"\n                      model="formValues.CpuLimit"\n                      floor="0"\n                      ceil="state.sliderMaxCpu"\n                      step="0.25"\n                      precision="2"\n                      ng-if="state.sliderMaxCpu"\n                    ></slider>\n                  </div>\n                  <div class="col-sm-4 mt-20">\n                    <p class="small text-muted"> CPU </p>\n                  </div>\n                </div>\n                \x3c!-- !cpu-limit-input --\x3e\n\n                \x3c!-- update-limit-btn --\x3e\n                <div class="form-group" ng-if="state.mode == \'duplicate\'">\n                  <div class="col-sm-12">\n                    <button\n                      type="button"\n                      class="btn btn-primary btn-sm"\n                      ng-disabled="state.actionInProgress || !formValues.RegistryModel.Image || (!formValues.RegistryModel.Registry && fromContainer)"\n                      ng-click="update()"\n                      button-spinner="state.actionInProgress"\n                    >\n                      <span ng-hide="state.actionInProgress"></span>\n                      <span ng-show="state.actionInProgress">...</span>\n                    </button>\n                  </div>\n                  <div class="col-sm-12" ng-if="state.settingUnlimitedResources">\n                    <p class="text-muted mr-4">\n                      <i class="fa fa-exclamation-circle text-warning mt-10" aria-hidden="true"></i> unlimited\n                    </p>\n                  </div>\n                </div>\n                \x3c!-- !update-limit-btn --\x3e\n              </div>\n            </form>\n          </div>\n          \x3c!-- !tab-runtime-resources --\x3e\n          \x3c!-- tab-container-capabilities --\x3e\n          <div class="tab-pane" id="container-capabilities">\n            <container-capabilities capabilities="formValues.capabilities"></container-capabilities>\n          </div>\n          \x3c!-- !tab-container-capabilities --\x3e\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},5744:e=>{var t="app/docker/views/containers/edit/container.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""> </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.containers"></a> &gt; <a ui-sref="docker.containers.container({id: container.Id})">{{ container.Name | trimcontainername }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div\n  class="row"\n  authorization="DockerContainerStart, DockerContainerStop, DockerContainerKill, DockerContainerRestart, DockerContainerPause, DockerContainerUnpause, DockerContainerDelete, DockerContainerCreate"\n>\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-cogs" title-text=""></rd-widget-header>\n      <rd-widget-body classes="padding">\n        <div class="btn-group" role="group" aria-label="...">\n          <button authorization="DockerContainerStart" class="btn btn-success btn-sm" ng-click="start()" ng-disabled="container.State.Running || container.IsPortainer"\n            ><i class="fa fa-play space-right" aria-hidden="true"></i></button\n          >\n          <button authorization="DockerContainerStop" class="btn btn-danger btn-sm" ng-click="stop()" ng-disabled="!container.State.Running || container.IsPortainer"\n            ><i class="fa fa-stop space-right" aria-hidden="true"></i></button\n          >\n          <button authorization="DockerContainerKill" class="btn btn-danger btn-sm" ng-click="kill()" ng-disabled="!container.State.Running || container.IsPortainer"\n            ><i class="fa fa-bomb space-right" aria-hidden="true"></i></button\n          >\n          <button authorization="DockerContainerRestart" class="btn btn-primary btn-sm" ng-click="restart()" ng-disabled="!container.State.Running || container.IsPortainer"\n            ><i class="fa fa-sync space-right" aria-hidden="true"></i></button\n          >\n          <button\n            authorization="DockerContainerPause"\n            class="btn btn-primary btn-sm"\n            ng-click="pause()"\n            ng-disabled="!container.State.Running || container.State.Paused || container.IsPortainer"\n            ><i class="fa fa-pause space-right" aria-hidden="true"></i></button\n          >\n          <button authorization="DockerContainerUnpause" class="btn btn-primary btn-sm" ng-click="unpause()" ng-disabled="!container.State.Paused || container.IsPortainer"\n            ><i class="fa fa-play space-right" aria-hidden="true"></i></button\n          >\n          <button authorization="DockerContainerDelete" class="btn btn-danger btn-sm" ng-click="confirmRemove()" ng-disabled="container.IsPortainer"\n            ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i></button\n          >\n        </div>\n        <div class="btn-group" role="group" aria-label="..." ng-if="displayRecreateButton" authorization="DockerContainerCreate">\n          <button\n            type="button"\n            class="btn btn-danger btn-sm"\n            ng-disabled="state.recreateContainerInProgress || container.IsPortainer"\n            ng-click="recreate()"\n            button-spinner="state.recreateContainerInProgress"\n          >\n            <span ng-hide="state.recreateContainerInProgress"><i class="fa fa-sync space-right" aria-hidden="true"></i></span>\n            <span ng-show="state.recreateContainerInProgress">Recreation in progress...</span>\n          </button>\n          <a class="btn btn-primary btn-sm" type="button" ui-sref="docker.containers.new({ from: container.Id, nodeName: nodeName })" ng-disabled="container.IsPortainer"\n            ><i class="fa fa-copy space-right" aria-hidden="true"></i>/</a\n          >\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-server" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>ID</td>\n              <td>{{ container.Id }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td ng-if="!container.edit">\n                {{ container.Name | trimcontainername }}\n                <a authorization="DockerContainerRename" href="" data-toggle="tooltip" title="Edit container name" ng-click="container.edit = true;"><i class="fa fa-edit"></i></a>\n              </td>\n              <td ng-if="container.edit">\n                <form ng-submit="renameContainer()">\n                  <input type="text" class="containerNameInput" ng-model="container.newContainerName" />\n                  <a href="" ng-click="container.edit = false;"><i class="fa fa-times"></i></a>\n                  <a href="" ng-click="renameContainer()"><i class="fa fa-check-square"></i></a>\n                </form>\n              </td>\n            </tr>\n            <tr ng-if="container.NetworkSettings.IPAddress">\n              <td>IP </td>\n              <td>{{ container.NetworkSettings.IPAddress }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>\n                <i class="fa fa-heartbeat space-right green-icon" ng-if="container.State.Running"></i>\n                <i class="fa fa-heartbeat space-right red-icon" ng-if="!container.State.Running && container.State.Status !== \'created\'"></i>\n                {{ container.State | getstatetext }} for {{ activityTime\n                }}<span ng-if="!container.State.Running && container.State.Status !== \'created\'"> with exit code {{ container.State.ExitCode }}</span>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ container.Created | getisodate }}</td>\n            </tr>\n            <tr ng-if="container.State.Running">\n              <td></td>\n              <td>{{ container.State.StartedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="!container.State.Running && container.State.Status !== \'created\'">\n              <td></td>\n              <td>{{ container.State.FinishedAt | getisodate }}</td>\n            </tr>\n            <tr\n              ng-if="\n                displayWebhookButton && applicationState.endpoint.type !== 4 && hasAuthorizations([\'PortainerWebhookCreate\', \'PortainerWebhookList\', \'PortainerWebhookDelete\'])\n              "\n            >\n              <td colspan="{{ WebhookURL ? \'1\' : \'2\' }}">\n                \n                <portainer-tooltip\n                  position="top"\n                  message=" Webhook URI  URI  POST "\n                ></portainer-tooltip>\n                <label class="switch" style="margin-left: 20px">\n                  <input\n                    disable-authorization="DockerContainerUpdate"\n                    type="checkbox"\n                    ng-model="WebhookExists"\n                    ng-click="updateWebhook(container, false)"\n                    ng-disabled="disabledWebhookButton(WebhookExists)"\n                  /><i></i>\n                </label>\n              </td>\n              <td ng-if="WebhookExists && WebhookURL">\n                <span class="text-muted">{{ WebhookURL | truncatelr }}</span>\n                <button type="button" class="btn btn-sm btn-primary btn-sm space-left" ng-if="WebhookURL" ng-click="copyWebhook()">\n                  <span><i class="fa fa-copy space-right" aria-hidden="true"></i></span>\n                </button>\n                <span>\n                  <i id="copyNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i>\n                </span>\n              </td>\n            </tr>\n            <tr authorization="DockerContainerLogs, DockerContainerInspect, DockerContainerStats, DockerExecStart">\n              <td colspan="2">\n                <div class="btn-group" role="group" aria-label="...">\n                  <a authorization="DockerContainerLogs" class="btn" type="button" ui-sref="docker.containers.container.logs({ id: container.Id })"\n                    ><i class="fa fa-file-alt space-right" aria-hidden="true"></i></a\n                  >\n                  <a authorization="DockerContainerInspect" class="btn" type="button" ui-sref="docker.containers.container.inspect({ id: container.Id })"\n                    ><i class="fa fa-info-circle space-right" aria-hidden="true"></i></a\n                  >\n                  <a authorization="DockerContainerStats" class="btn" type="button" ui-sref="docker.containers.container.stats({ id: container.Id })"\n                    ><i class="fa fa-chart-area space-right" aria-hidden="true"></i></a\n                  >\n                  <a authorization="DockerExecStart" class="btn" type="button" ui-sref="docker.containers.container.exec({ id: container.Id })"\n                    ><i class="fa fa-terminal space-right" aria-hidden="true"></i></a\n                  >\n                  <a authorization="DockerContainerAttach" class="btn" type="button" ui-sref="docker.containers.container.attach({ id: container.Id })"\n                    ><i class="fa fa-plug space-right" aria-hidden="true"></i></a\n                  >\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<por-access-control-panel ng-if="container" resource-id="container.Id" resource-control="container.ResourceControl" resource-type="\'container\'"> </por-access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div ng-if="container.State.Health" class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-server" title-text="Container health"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>\n                <i\n                  ng-class="\n                    { healthy: \'fa fa-heartbeat space-right green-icon\', unhealthy: \'fa fa-heartbeat space-right red-icon\', starting: \'fa fa-heartbeat space-right orange-icon\' }[\n                      container.State.Health.Status\n                    ]\n                  "\n                ></i>\n                {{ container.State.Health.Status }}\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ container.State.Health.FailingStreak }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ container.State.Health.Log[container.State.Health.Log.length - 1].Output }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" authorization="DockerImageCreate">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-clone" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- tag-description --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted">\n                \n                \n              </span>\n            </div>\n          </div>\n          \x3c!-- !tag-description --\x3e\n          \x3c!-- image-and-registry --\x3e\n          <por-image-registry\n            model="config.RegistryModel"\n            auto-complete="true"\n            label-class="col-sm-1"\n            input-class="col-sm-11"\n            endpoint="endpoint"\n            is-admin="isAdmin"\n            set-validity="setPullImageValidity"\n            check-rate-limits="true"\n          ></por-image-registry>\n          \x3c!-- !image-and-registry --\x3e\n          \x3c!-- tag-note --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted"> <span class="label label-default">latest</span></span>\n            </div>\n          </div>\n          \x3c!-- !tag-note --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="!state.pullImageValidity || !config.RegistryModel.Image || config.commitInProgress"\n                ng-click="commit()"\n              >\n                \n              </button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-server" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table container-details-table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td\n                ><a ui-sref="docker.images.image({ id: container.Image, nodeName: nodeName })">{{ container.Config.Image }}@{{ container.Image }}</a></td\n              >\n            </tr>\n            <tr ng-if="portBindings.length > 0">\n              <td></td>\n              <td>\n                <div ng-repeat="portMapping in portBindings"> {{ portMapping.host }} <i class="fa fa-long-arrow-alt-right"></i> {{ portMapping.container }} </div>\n              </td>\n            </tr>\n            <tr>\n              <td>CMD</td>\n              <td\n                ><code>{{ container.Config.Cmd | command }}</code></td\n              >\n            </tr>\n            <tr>\n              <td></td>\n              <td\n                ><code>{{ container.Config.Entrypoint ? (container.Config.Entrypoint | command) : \'null\' }}</code></td\n              >\n            </tr>\n            <tr>\n              <td></td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="var in container.Config.Env track by $index">\n                    <td>{{ var|key: \'=\' }}</td>\n                    <td>{{ var|value: \'=\' }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr ng-if="!(container.Config.Labels | emptyobject)">\n              <td></td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in container.Config.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>\n                <container-restart-policy\n                  ng-if="container"\n                  name="container.HostConfig.RestartPolicy.Name"\n                  maximum-retry-count="container.HostConfig.RestartPolicy.MaximumRetryCount"\n                  update-restart-policy="updateRestartPolicy(name, maximumRetryCount)"\n                >\n                </container-restart-policy>\n              </td>\n            </tr>\n            <tr ng-if="!(container.HostConfig.Sysctls | emptyobject)">\n              <td>Sysctls</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in container.HostConfig.Sysctls">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="container.Mounts.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-hdd" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>/</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-repeat="vol in container.Mounts">\n              <td ng-if="vol.Type === \'bind\'">{{ vol.Source }}</td>\n              <td ng-if="vol.Type === \'volume\'"\n                ><a ui-sref="docker.volumes.volume({ id: vol.Name, nodeName: nodeName })">{{ vol.Name }}</a></td\n              >\n              <td>{{ vol.Destination }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <container-networks-datatable\n      ng-if="container.NetworkSettings.Networks"\n      title-text=""\n      title-icon="fa-sitemap"\n      dataset="container.NetworkSettings.Networks"\n      table-key="container-networks"\n      container="container"\n      available-networks="availableNetworks"\n      join-network-action="containerJoinNetwork"\n      join-network-action-in-progress="state.joinNetworkInProgress"\n      leave-network-action="containerLeaveNetwork"\n      leave-network-action-in-progress="state.leaveNetworkInProgress"\n      node-name="nodeName"\n    ></container-networks-datatable>\n  </div>\n</div>\n')}]),e.exports=t},96215:e=>{var t="app/docker/views/containers/inspect/containerinspect.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""> </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.containers"></a> &gt; <a ui-sref="docker.containers.container({id: containerInfo.Id})">{{ containerInfo.Name | trimcontainername }}</a> &gt;\n    \n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-circle" title-text="">\n        <span class="btn-group btn-group-sm">\n          <label class="btn btn-primary" ng-model="state.DisplayTextView" uib-btn-radio="false"><i class="fa fa-code space-right" aria-hidden="true"></i></label>\n          <label class="btn btn-primary" ng-model="state.DisplayTextView" uib-btn-radio="true"><i class="fa fa-file-alt space-right" aria-hidden="true"></i></label>\n        </span>\n      </rd-widget-header>\n      <rd-widget-body>\n        <pre ng-show="state.DisplayTextView">{{ containerInfo | json: 4 }}</pre>\n        <json-tree ng-hide="state.DisplayTextView" object="containerInfo" root-name="containerInfo.Id" start-expanded="true"></json-tree>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},7942:e=>{var t="app/docker/views/containers/logs/containerlogs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.containers"></a> &gt; <a ui-sref="docker.containers.container({id: container.Id})">{{ container.Name | trimcontainername }}</a> &gt; \n  </rd-header-content>\n</rd-header>\n\n<log-viewer\n  data="logs"\n  ng-if="logs"\n  log-collection-change="changeLogCollection"\n  display-timestamps="state.displayTimestamps"\n  line-count="state.lineCount"\n  since-timestamp="state.sinceTimestamp"\n  resource-name="container.Name"\n></log-viewer>\n')}]),e.exports=t},67431:e=>{var t="app/docker/views/containers/stats/containerstats.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.containers"></a> &gt; <a ui-sref="docker.containers.container({id: container.Id})">{{ container.Name | trimcontainername }}</a> &gt; Stats\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-md-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-info-circle" title-text=""> </rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted">\n                 <b>{{ container.Name | trimcontainername }}</b> \n                \n              </span>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="refreshRate" class="col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left">  </label>\n            <div class="col-sm-3 col-md-2">\n              <select id="refreshRate" ng-model="state.refreshRate" ng-change="changeUpdateRepeater()" class="form-control">\n                <option value="1">1s</option>\n                <option value="3">3s</option>\n                <option value="5">5s</option>\n                <option value="10">10s</option>\n                <option value="30">30s</option>\n                <option value="60">60s</option>\n              </select>\n            </div>\n            <span>\n              <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n            </span>\n          </div>\n          <div class="form-group" ng-if="state.networkStatsUnavailable">\n            <div class="col-sm-12">\n              <span class="small text-muted"> <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i>  </span>\n            </div>\n          </div>\n          <div class="form-group" ng-if="state.ioStatsUnavailable">\n            <div class="col-sm-12">\n              <span class="small text-muted"> <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i> I/O </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-6 col-md-6 col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-chart-area" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <div class="chart-container" style="position: relative">\n          <canvas id="memoryChart" width="770" height="300"></canvas>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  <div class="col-lg-6 col-md-6 col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-chart-area" title-text="CPU "></rd-widget-header>\n      <rd-widget-body>\n        <div class="chart-container" style="position: relative">\n          <canvas id="cpuChart" width="770" height="300"></canvas>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  <div class="col-lg-6 col-md-6 col-sm-12" ng-if="!state.networkStatsUnavailable">\n    <rd-widget>\n      <rd-widget-header icon="fa-chart-area" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <div class="chart-container" style="position: relative">\n          <canvas id="networkChart" width="770" height="300"></canvas>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  <div class="col-lg-6 col-md-6 col-sm-12" ng-if="!state.ioStatsUnavailable">\n    <rd-widget>\n      <rd-widget-header icon="fa-chart-area" title-text="I/O "></rd-widget-header>\n      <rd-widget-body>\n        <div class="chart-container" style="position: relative">\n          <canvas id="ioChart" width="770" height="300"></canvas>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <container-processes-datatable\n      title-text=""\n      title-icon="fa-tasks"\n      dataset="processInfo.Processes"\n      headerset="processInfo.Titles"\n      table-key="container-processes"\n    ></container-processes-datatable>\n  </div>\n</div>\n')}]),e.exports=t},30357:e=>{var t="app/docker/views/dashboard/dashboard.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n  <div class="col-sm-12">\n    <dashboard-cluster-agent-info></dashboard-cluster-agent-info>\n  </div>\n</div>\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<information-panel\n  ng-if="\n    !applicationState.UI.dismissedInfoPanels[\'docker-dashboard-info-01\'] &&\n    !applicationState.endpoint.mode.agentProxy &&\n    applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'\n  "\n  title-text=""\n  dismiss-action="dismissInformationPanel(\'docker-dashboard-info-01\')"\n>\n  <span class="small">\n    <p class="text-muted" ng-if="applicationState.endpoint.mode.role === \'MANAGER\'">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      Portainer is connected to a node that is part of a Swarm cluster. Some resources located on other nodes in the cluster might not be available for management, have a look at\n      <a href="http://portainer.readthedocs.io/en/stable/agent.html" target="_blank">our agent setup</a> for more details.\n    </p>\n    <p class="text-muted" ng-if="applicationState.endpoint.mode.role === \'WORKER\'">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      Portainer is connected to a worker node. Swarm management features will not be available.\n    </p>\n  </span>\n</information-panel>\n\n<div ng-if="info">\n  <div class="row" ng-if="(!applicationState.endpoint.mode.agentProxy || applicationState.endpoint.mode.provider !== \'DOCKER_SWARM_MODE\') && info && endpoint">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-tachometer-alt" title-text=""></rd-widget-header>\n        <rd-widget-body classes="no-padding">\n          <table class="table">\n            <tbody>\n              <tr>\n                <td></td>\n                <td>\n                  {{ endpoint.Name }}\n                  <span class="small text-muted space-left">\n                    <i class="fa fa-microchip"></i> {{ endpoint.Snapshots[0].TotalCPU }} <i class="fa fa-memory space-left"></i> {{ endpoint.Snapshots[0].TotalMemory | humansize }}\n                  </span>\n                  <span class="small text-muted">\n                    - {{ info.Swarm && info.Swarm.NodeID !== \'\' ? \'Swarm\' : \'Standalone\' }} {{ info.ServerVersion }}\n                    <span ng-if="endpoint.Type === 2">+ <i class="fa fa-bolt" aria-hidden="true"></i> Agent</span></span\n                  >\n                </td>\n              </tr>\n              <tr>\n                <td>URL</td>\n                <td>{{ endpoint.URL | stripprotocol }}</td>\n              </tr>\n              <tr>\n                <td></td>\n                <td>{{ endpointTags }}</td>\n              </tr>\n              <tr ng-if="applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && applicationState.endpoint.mode.role === \'MANAGER\'">\n                <td colspan="2">\n                  <div class="btn-group" role="group" aria-label="...">\n                    <a ui-sref="docker.swarm.visualizer"><i class="fa fa-object-group space-right" aria-hidden="true"></i>Go to cluster visualizer</a>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-12 col-md-6" ng-if="showStacks">\n      <a ui-sref="docker.stacks">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-th-list"></i>\n            </div>\n            <div class="title dashboard-item">{{ stackCount }}</div>\n            <div class="comment dashboard-item">{{ stackCount === 1 ? \'Stack\' : \'\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n    <div class="col-xs-12 col-md-6" ng-if="applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && applicationState.endpoint.mode.role === \'MANAGER\'">\n      <a ui-sref="docker.services">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-list-alt"></i>\n            </div>\n            <div class="title dashboard-item">{{ serviceCount }}</div>\n            <div class="comment dashboard-item">{{ serviceCount === 1 ? \'Service\' : \'\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n    <div class="col-xs-12 col-md-6" ng-if="containers">\n      <a ui-sref="docker.containers">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-cubes"></i>\n            </div>\n            <div class="pull-right" style="padding-left: 5px">\n              <div><i class="fa fa-power-off space-right green-icon"></i>{{ containers | runningcontainers }} </div>\n              <div><i class="fa fa-power-off space-right red-icon"></i>{{ containers | stoppedcontainers }} </div>\n            </div>\n            <div class="pull-right" style="padding-right: 5px">\n              <div><i class="fa fa-heartbeat space-right green-icon"></i>{{ containers | healthycontainers }} healthy</div>\n              <div><i class="fa fa-heartbeat space-right orange-icon"></i>{{ containers | unhealthycontainers }} unhealthy</div>\n            </div>\n            <div class="title dashboard-item">{{ containers.length }}</div>\n            <div class="comment dashboard-item">{{ containers.length === 1 ? \'Container\' : \'\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n    <div class="col-xs-12 col-md-6" ng-if="images">\n      <a ui-sref="docker.images">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-clone"></i>\n            </div>\n            <div class="pull-right">\n              <div><i class="fa fa-chart-pie space-right"></i>{{ images | imagestotalsize | humansize }}</div>\n            </div>\n            <div class="title dashboard-item">{{ images.length }}</div>\n            <div class="comment dashboard-item">{{ images.length === 1 ? \'Image\' : \'\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n    <div class="col-xs-12 col-md-6">\n      <a ui-sref="docker.volumes">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-hdd"></i>\n            </div>\n            <div class="title dashboard-item">{{ volumeCount }}</div>\n            <div class="comment dashboard-item">{{ volumeCount === 1 ? \'Volume\' : \'\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n    <div class="col-xs-12 col-md-6">\n      <a ui-sref="docker.networks">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-sitemap"></i>\n            </div>\n            <div class="title dashboard-item">{{ networkCount }}</div>\n            <div class="comment dashboard-item">{{ networkCount === 1 ? \'Network\' : \'\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},97582:e=>{var t="app/docker/views/docker-features-configuration/docker-features-configuration.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Docker "></rd-header-title>\n  <rd-header-content>Docker </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.form">\n          <div class="col-sm-12 form-section-title">  </div>\n          <div ng-if="!$ctrl.isAgent" class="form-group">\n            <span class="col-sm-12 text-muted small">\n              <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              \n            </span>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.enableHostManagementFeatures"\n                name="\'enableHostManagementFeatures\'"\n                label="\'\'"\n                tooltip="\'\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                disabled="!$ctrl.isAgent"\n                on-change="($ctrl.onChangeEnableHostManagementFeatures)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.allowVolumeBrowserForRegularUsers"\n                name="\'allowVolumeBrowserForRegularUsers\'"\n                label="\'\'"\n                tooltip="\' Portainer \'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeAllowVolumeBrowserForRegularUsers)"\n                disabled="!$ctrl.isAgent"\n              ></por-switch-field>\n            </div>\n          </div>\n\n          \x3c!-- auto update window --\x3e\n          <div class="col-sm-12 form-section-title">  </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.state.autoUpdateSettings.Enabled"\n                name="\'disableSysctlSettingForRegularUsers\'"\n                label="\'\'"\n                tooltip="\'\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                feature-id="$ctrl.limitedFeature"\n                on-change="($ctrl.onToggleAutoUpdate)"\n              >\n              </por-switch-field>\n            </div>\n          </div>\n\n          <time-window-picker ng-show="$ctrl.state.autoUpdateSettings.Enabled" time-window="$ctrl.state.autoUpdateSettings" time-zone="$ctrl.state.timeZone"></time-window-picker>\n          <div class="text-muted" style="margin: 15px 0px 30px 0px; font-size: 12px" ng-show="!$ctrl.state.autoUpdateSettings.Enabled"\n            ><i class="fa fa-exclamation-circle text-warning"></i> </div\n          >\n\n          \x3c!-- security --\x3e\n          <div class="col-sm-12 form-section-title"> Docker  </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableBindMountsForRegularUsers"\n                name="\'disableBindMountsForRegularUsers\'"\n                label="\'\'"\n                tooltip="\'\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableBindMountsForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disablePrivilegedModeForRegularUsers"\n                name="\'disablePrivilegedModeForRegularUsers\'"\n                label="\'\'"\n                tooltip="\'\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisablePrivilegedModeForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableHostNamespaceForRegularUsers"\n                name="\'disableHostNamespaceForRegularUsers\'"\n                label="\' PID 1\'"\n                tooltip="\' PID \'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableHostNamespaceForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableStackManagementForRegularUsers"\n                name="\'disableStackManagementForRegularUsers\'"\n                label="\'\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableStackManagementForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableDeviceMappingForRegularUsers"\n                name="\'disableDeviceMappingForRegularUsers\'"\n                label="\'\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableDeviceMappingForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableContainerCapabilitiesForRegularUsers"\n                name="\'disableContainerCapabilitiesForRegularUsers\'"\n                label="\'\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableContainerCapabilitiesForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableSysctlSettingForRegularUsers"\n                name="\'disableSysctlSettingForRegularUsers\'"\n                label="\' sysctl \'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableSysctlSettingForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n\n          <div class="form-group" ng-if="$ctrl.isContainerEditDisabled()">\n            <span class="col-sm-12 text-muted small">\n              <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              Note: The recreate/duplicate/edit feature is currently disabled (for non-admin users) by one or more security settings.\n            </span>\n          </div>\n          \x3c!-- !security --\x3e\n\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button type="button" class="btn btn-primary btn-sm" ng-click="$ctrl.save()" ng-disabled="$ctrl.state.actionInProgress" button-spinner="$ctrl.state.actionInProgress">\n                <span ng-hide="$ctrl.state.actionInProgress"></span>\n                <span ng-show="$ctrl.state.actionInProgress">...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},9208:e=>{var t="app/docker/views/events/events.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.events" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <events-datatable title-text="" title-icon="fa-history" dataset="events" table-key="events" order-by="Time" reverse-order="true"></events-datatable>\n  </div>\n</div>\n')}]),e.exports=t},18659:e=>{var t="app/docker/views/host/host-browser-view/host-browser-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    Host &gt; <a ui-sref="docker.host">{{ $ctrl.host.Name }}</a> &gt; browse\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <host-browser ng-if="$ctrl.host" endpoint-id="$ctrl.endpoint.Id"></host-browser>\n  </div>\n</div>\n')}]),e.exports=t},20927:e=>{var t="app/docker/views/host/host-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<host-overview\n  engine-details="$ctrl.engineDetails"\n  host-details="$ctrl.hostDetails"\n  is-agent="$ctrl.state.isAgent"\n  agent-api-version="$ctrl.state.agentApiVersion"\n  disks="$ctrl.disks"\n  devices="$ctrl.devices"\n  refresh-url="docker.host"\n  browse-url="docker.host.browser"\n  offline-mode="$ctrl.state.offlineMode"\n  host-features-enabled="$ctrl.state.enableHostManagementFeatures"\n></host-overview>\n')}]),e.exports=t},14147:e=>{var t="app/docker/views/images/build/buildimage.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.images"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <uib-tabset active="state.activeTab">\n          <uib-tab index="0">\n            <uib-tab-heading> <i class="fa fa-wrench space-right" aria-hidden="true"></i> Builder </uib-tab-heading>\n            <form class="form-horizontal">\n              <div class="col-sm-12 form-section-title"> Naming </div>\n              \x3c!-- names --\x3e\n              <div class="form-group">\n                <span class="col-sm-12 text-muted small"> You can specify multiple names to your image. </span>\n              </div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <label class="control-label text-left">Names</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addImageName()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> add additional name\n                  </span>\n                </div>\n              </div>\n              \x3c!-- !names --\x3e\n              <div class="form-group" ng-if="formValues.ImageNames.length === 0">\n                <span class="col-sm-12 text-danger small">\n                  <i class="fa fa-exclamation-triangle space-right" aria-hidden="true"></i>You must specify at least one name for the image.\n                </span>\n              </div>\n              \x3c!-- name-input-list --\x3e\n              <div ng-if="formValues.ImageNames.length > 0">\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small">\n                    A name must be specified in one of the following formats: <code>name:tag</code>, <code>repository/name:tag</code> or\n                    <code>registryfqdn:port/repository/name:tag</code> format. If you omit the tag the default <b>latest</b> value is assumed.\n                  </span>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                      <div ng-repeat="item in formValues.ImageNames track by $index" style="margin-top: 2px">\n                        \x3c!-- name-input --\x3e\n                        <div class="input-group col-sm-5 input-group-sm">\n                          <span class="input-group-addon"></span>\n                          <input type="text" class="form-control" ng-model="item.Name" placeholder=" my-image:my-tag" auto-focus />\n                          <span class="input-group-addon"\n                            ><i ng-class="{ true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[item.Name !== \'\']" aria-hidden="true"></i\n                          ></span>\n                        </div>\n                        \x3c!-- !name-input --\x3e\n                        \x3c!-- actions --\x3e\n                        <div class="input-group col-sm-2 input-group-sm">\n                          <button class="btn btn-sm btn-danger" type="button" ng-click="removeImageName($index)">\n                            <i class="fa fa-trash" aria-hidden="true"></i>\n                          </button>\n                        </div>\n                        \x3c!-- !actions --\x3e\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !name-input-list --\x3e\n              \x3c!-- build-method --\x3e\n              <div class="col-sm-12 form-section-title"> Build method </div>\n              <div class="form-group"></div>\n              <div class="form-group" style="margin-bottom: 0">\n                <div class="boxselector_wrapper">\n                  <div>\n                    <input type="radio" id="method_editor" ng-model="state.BuildType" value="editor" ng-click="toggleEditor()" />\n                    <label for="method_editor">\n                      <div class="boxselector_header">\n                        <i class="fa fa-edit" aria-hidden="true" style="margin-right: 2px"></i>\n                        Web editor\n                      </div>\n                      <p>Use our Web editor</p>\n                    </label>\n                  </div>\n                  <div>\n                    <input type="radio" id="method_upload" ng-model="state.BuildType" value="upload" ng-click="saveEditorContent()" />\n                    <label for="method_upload">\n                      <div class="boxselector_header">\n                        <i class="fa fa-upload" aria-hidden="true" style="margin-right: 2px"></i>\n                        Upload\n                      </div>\n                      <p>Upload a tarball or a Dockerfile from your computer</p>\n                    </label>\n                  </div>\n                  <div>\n                    <input type="radio" id="method_url" ng-model="state.BuildType" value="url" ng-click="saveEditorContent()" />\n                    <label for="method_url">\n                      <div class="boxselector_header">\n                        <i class="fa fa-globe" aria-hidden="true" style="margin-right: 2px"></i>\n                        URL\n                      </div>\n                      <p>Specify a URL to a file</p>\n                    </label>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !build-method --\x3e\n              \x3c!-- web-editor --\x3e\n              <div ng-show="state.BuildType === \'editor\'">\n                <div class="col-sm-12 form-section-title"> Web editor </div>\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small">\n                    You can get more information about Dockerfile format in the\n                    <a href="https://docs.docker.com/engine/reference/builder/" target="_blank">official documentation</a>.\n                  </span>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <code-editor\n                      identifier="image-build-editor"\n                      placeholder="Define or paste the content of your Dockerfile here"\n                      yml="false"\n                      on-change="(editorUpdate)"\n                    ></code-editor>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !web-editor --\x3e\n              \x3c!-- upload --\x3e\n              <div ng-show="state.BuildType === \'upload\'">\n                <div class="col-sm-12 form-section-title"></div>\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small">\n                    You can upload a Dockerfile or a tar archive containing a Dockerfile from your computer. When using a tarball, the root folder will be used as the build\n                    context.\n                  </span>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <button class="btn btn-sm btn-primary" ngf-select ngf-min-size="10" ng-model="formValues.UploadFile"></button>\n                    <span style="margin-left: 5px">\n                      {{ formValues.UploadFile.name }}\n                      <i class="fa fa-times red-icon" ng-if="!formValues.UploadFile" aria-hidden="true"></i>\n                    </span>\n                  </div>\n                </div>\n                <div ng-if="formValues.UploadFile.type === \'application/gzip\' || formValues.UploadFile.type === \'application/x-tar\'">\n                  <div class="form-group">\n                    <span class="col-sm-12 text-muted small"> Indicate the path to the Dockerfile within the tarball. </span>\n                  </div>\n                  <div class="form-group">\n                    <label for="image_path" class="col-sm-2 control-label text-left">Dockerfile path</label>\n                    <div class="col-sm-10">\n                      <input type="text" class="form-control" ng-model="formValues.Path" id="image_path" placeholder="Dockerfile" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !upload --\x3e\n              \x3c!-- url --\x3e\n              <div ng-show="state.BuildType === \'url\'">\n                <div class="col-sm-12 form-section-title"> URL </div>\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small">\n                     Dockerfiletarball  Git  <b>.git</b>  URL  tarball  Git  URL \n \n                  </span>\n                </div>\n                <div class="form-group">\n                  <label for="image_url" class="col-sm-2 control-label text-left">URL</label>\n                  <div class="col-sm-10">\n                    <input type="text" class="form-control" ng-model="formValues.URL" id="image_url" placeholder="https://myhost.mydomain/myimage.tar.gz" />\n                  </div>\n                </div>\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small"> Indicate the path to the Dockerfile within the tarball/repository (ignored when using a Dockerfile). </span>\n                </div>\n                <div class="form-group">\n                  <label for="image_path" class="col-sm-2 control-label text-left">Dockerfile path</label>\n                  <div class="col-sm-10">\n                    <input type="text" class="form-control" ng-model="formValues.Path" id="image_path" placeholder="Dockerfile" />\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !url --\x3e\n              <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n                <div class="col-sm-12 form-section-title"> Deployment </div>\n                \x3c!-- node-selection --\x3e\n                <node-selector model="formValues.NodeName"> </node-selector>\n                \x3c!-- !node-selection --\x3e\n              </div>\n              \x3c!-- actions --\x3e\n              <div class="col-sm-12 form-section-title"></div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <button\n                    type="button"\n                    class="btn btn-primary btn-sm"\n                    ng-disabled="state.actionInProgress\n                    || (state.BuildType === \'upload\' && (!formValues.UploadFile || !formValues.Path))\n                    || (state.BuildType === \'url\' && (!formValues.URL || !formValues.Path))\n                    || (formValues.ImageNames.length === 0 || !validImageNames())"\n                    ng-click="buildImage()"\n                    button-spinner="state.actionInProgress"\n                  >\n                    <span ng-hide="state.actionInProgress">Build the image</span>\n                    <span ng-show="state.actionInProgress">Image building in progress...</span>\n                  </button>\n                  <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n                </div>\n              </div>\n              \x3c!-- !actions --\x3e\n            </form>\n          </uib-tab>\n          <uib-tab index="1" disable="!buildLogs">\n            <uib-tab-heading> <i class="fa fa-file-alt space-right" aria-hidden="true"></i> Output </uib-tab-heading>\n            <pre class="log_viewer">\n              <div ng-repeat="line in buildLogs track by $index" class="line"><p class="inner_line" ng-click="active=!active" ng-class="{\'line_selected\': active}">{{ line }}</p></div>\n              <div ng-if="!buildLogs.length" class="line"><p class="inner_line">No build output available.</p></div>\n            </pre>\n          </uib-tab>\n        </uib-tabset>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},35003:e=>{var t="app/docker/views/images/edit/image.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.images"></a> &gt; <a ui-sref="docker.images.image({id: image.Id})">{{ image.Id }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="image.RepoTags.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa fa-tags" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="row">\n              <div class="pull-left" ng-repeat="tag in image.RepoTags" style="display: table">\n                <div class="input-group col-md-1" style="padding: 0 15px">\n                  <span class="input-group-addon" style="border-right: 1px solid var(--border-input-group-addon-color); border-radius: 4px">{{ tag }}</span>\n                  <span class="input-group-btn" style="padding: 0px 5px">\n                    <span style="margin: 0px 5px" authorization="DockerImagePush">\n                      <a data-toggle="tooltip" class="btn btn-primary interactive" title="Push to registry" ng-click="pushTag(tag)">\n                        <span class="fa fa-upload white-icon" aria-hidden="true"></span>\n                      </a>\n                    </span>\n\n                    <span style="margin: 0px 5px" authorization="DockerImageCreate">\n                      <a data-toggle="tooltip" class="btn btn-primary interactive" title="Pull from registry" ng-click="pullTag(tag)">\n                        <span class="fa fa-download white-icon" aria-hidden="true"></span>\n                      </a>\n                    </span>\n\n                    <span style="margin: 0px 5px" authorization="DockerImageDelete">\n                      <a data-toggle="tooltip" class="btn btn-primary interactive" title="Remove tag" ng-click="removeTag(tag)">\n                        <span class="fa fa-trash-alt white-icon" aria-hidden="true"></span>\n                      </a>\n                    </span>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted" authorization="DockerImageDelete">\n                 <span class="fa fa-upload" aria-hidden="true"></span>  \n                <span class="fa fa-download" aria-hidden="true"></span>   <span class="fa fa-trash-alt" aria-hidden="true"></span> \n              </span>\n            </div>\n            <div class="col-sm-12">\n              <span id="downloadResourceHint" class="createResource" style="display: none; margin-left: 0">\n                Download in progress...\n                <i class="fa fa-circle-notch fa-spin" aria-hidden="true" style="margin-left: 2px"></i>\n              </span>\n              <span id="uploadResourceHint" class="createResource" style="display: none; margin-left: 0">\n                ...\n                <i class="fa fa-circle-notch fa-spin" aria-hidden="true" style="margin-left: 2px"></i>\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" authorization="DockerImageCreate">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-tag" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- image-and-registry --\x3e\n          <por-image-registry\n            model="formValues.RegistryModel"\n            label-class="col-sm-1"\n            input-class="col-sm-11"\n            endpoint="endpoint"\n            is-admin="isAdmin"\n            set-validity="setPullImageValidity"\n            check-rate-limits="true"\n          ></por-image-registry>\n          \x3c!-- !image-and-registry --\x3e\n          \x3c!-- tag-note --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted"> <span class="label label-default">latest</span> </span>\n            </div>\n          </div>\n          \x3c!-- !tag-note --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button type="button" class="btn btn-primary btn-sm" ng-disabled="!formValues.RegistryModel.Image" ng-click="tagImage()"></button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-clone" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ image.Id }}\n                <button authorization="DockerImageDelete" class="btn btn-xs btn-danger" ng-click="removeImage(image.Id)"\n                  ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i></button\n                >\n                <button\n                  authorization="DockerImageGet"\n                  class="btn btn-xs btn-primary"\n                  ng-click="exportImage(image)"\n                  button-spinner="$ctrl.exportInProgress"\n                  ng-disabled="state.exportInProgress"\n                >\n                  <i class="fa fa-download space-right" aria-hidden="true"></i>\n                  <span ng-hide="state.exportInProgress"></span>\n                  <span ng-show="state.exportInProgress">...</span>\n                </button>\n              </td>\n            </tr>\n            <tr ng-if="image.Parent">\n              <td>Parent</td>\n              <td\n                ><a ui-sref="docker.images.image({id: image.Parent})">{{ image.Parent }}</a></td\n              >\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ image.VirtualSize | humansize }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ image.Created | getisodate }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>Docker {{ image.DockerVersion }} on {{ image.Os }}, {{ image.Architecture }}</td>\n            </tr>\n            <tr ng-if="!(image.Labels | emptyobject)">\n              <td></td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in image.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr ng-if="image.Author">\n              <td></td>\n              <td>{{ image.Author }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-clone" title-text="Dockerfile "></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>CMD</td>\n              <td\n                ><code>{{ image.Command | command }}</code></td\n              >\n            </tr>\n            <tr ng-if="image.Entrypoint">\n              <td></td>\n              <td\n                ><code>{{ image.Entrypoint | command }}</code></td\n              >\n            </tr>\n            <tr ng-if="image.ExposedPorts.length > 0">\n              <td></td>\n              <td>\n                <span class="label label-default space-right" ng-repeat="port in image.ExposedPorts">\n                  {{ port }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="image.Volumes.length > 0">\n              <td></td>\n              <td>\n                <span class="label label-default space-right" ng-repeat="volume in image.Volumes">\n                  {{ volume }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="image.Env.length > 0">\n              <td></td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="var in image.Env">\n                    <td>{{ var|key: \'=\' }}</td>\n                    <td>{{ var|value: \'=\' }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row" ng-if="history.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-clone" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table id="image-layers" class="table">\n          <thead>\n            <th style="white-space: nowrap">\n              <a ng-click="order(\'Order\')">\n                \n                <span ng-show="sortType == \'Order\' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>\n                <span ng-show="sortType == \'Order\' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>\n              </a>\n            </th>\n            <th>\n              <a ng-click="order(\'Size\')">\n                \n                <span ng-show="sortType == \'Size\' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>\n                <span ng-show="sortType == \'Size\' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>\n              </a>\n            </th>\n            <th>\n              <a ng-click="order(\'CreatedBy\')">\n                \n                <span ng-show="sortType == \'CreatedBy\' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>\n                <span ng-show="sortType == \'CreatedBy\' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>\n              </a>\n            </th>\n          </thead>\n          <tbody>\n            <tr ng-repeat="layer in history | orderBy:sortType:sortReverse">\n              <td style="white-space: nowrap">\n                {{ layer.Order }}\n              </td>\n              <td style="white-space: nowrap">\n                {{ layer.Size | humansize }}\n              </td>\n              <td class="expand">\n                <div ng-if="layer.CreatedBy.length > 130">\n                  <span id="layer-command-{{ $index }}-full" style="display: none">\n                    {{ layer.CreatedBy | imagelayercommand }}\n                  </span>\n                  <span id="layer-command-{{ $index }}-short">\n                    {{ layer.CreatedBy | imagelayercommand | truncate: 130 }}\n                    <span ng-if="layer.CreatedBy.length > 130" style="margin-left: 5px">\n                      <a id="layer-command-expander{{ $index }}" class="btn" ng-click="toggleLayerCommand($index)">\n                        <i class="fa fa-plus-circle" aria-hidden="true"></i>\n                      </a>\n                    </span>\n                  </span>\n                </div>\n                <div ng-if="layer.CreatedBy.length <= 130">\n                  <span id="layer-command-{{ $index }}-full">\n                    {{ layer.CreatedBy | imagelayercommand }}\n                  </span>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},30503:e=>{var t="app/docker/views/images/images.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.images" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="!offlineMode" authorization="DockerImageCreate">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-download" title-text=""> </rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- image-and-registry --\x3e\n          <por-image-registry\n            model="formValues.RegistryModel"\n            auto-complete="true"\n            pull-warning="true"\n            label-class="col-sm-1"\n            input-class="col-sm-11"\n            endpoint="endpoint"\n            is-admin="isAdmin"\n            set-validity="setPullImageValidity"\n            check-rate-limits="true"\n          >\n            <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n              <div class="col-sm-12 form-section-title"> Deployment </div>\n              \x3c!-- node-selection --\x3e\n              <node-selector model="formValues.NodeName"> </node-selector>\n              \x3c!-- !node-selection --\x3e\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="state.actionInProgress || !formValues.RegistryModel.Image || !state.pullRateValid"\n                  ng-click="pullImage()"\n                  button-spinner="state.actionInProgress"\n                >\n                  <span ng-hide="state.actionInProgress"></span>\n                  <span ng-show="state.actionInProgress">Download in progress...</span>\n                </button>\n              </div>\n            </div>\n          </por-image-registry>\n          \x3c!-- !image-and-registry --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<div class="row">\n  <div class="col-sm-12">\n    <images-datatable\n      title-text=""\n      title-icon="fa-clone"\n      dataset="images"\n      table-key="images"\n      order-by="RepoTags"\n      show-host-column="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      download-action="downloadAction"\n      remove-action="removeAction"\n      force-remove-action="confirmRemovalAction"\n      export-in-progress="state.exportInProgress"\n      offline-mode="offlineMode"\n      refresh-callback="getImages"\n    ></images-datatable>\n  </div>\n</div>\n')}]),e.exports=t},26447:e=>{var t="app/docker/views/images/import/importimage.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.images"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- upload --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small">  tar  </span>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button type="button" class="btn btn-sm btn-primary" ngf-select ngf-min-size="10" ng-model="formValues.UploadFile"></button>\n              <span style="margin-left: 5px">\n                {{ formValues.UploadFile.name }}\n                <i class="fa fa-times red-icon" ng-if="!formValues.UploadFile" aria-hidden="true"></i>\n              </span>\n            </div>\n          </div>\n          \x3c!-- !upload --\x3e\n          <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n            <div class="col-sm-12 form-section-title"> Deployment </div>\n            \x3c!-- node-selection --\x3e\n            <node-selector model="formValues.NodeName"> </node-selector>\n            \x3c!-- !node-selection --\x3e\n          </div>\n          <div class="row" authorization="DockerImageCreate">\n            <div class="col-lg-12 col-md-12 col-xs-12">\n              <rd-widget>\n                <rd-widget-header icon="fa-tag" title-text=""></rd-widget-header>\n                <rd-widget-body>\n                  \x3c!-- image-and-registry --\x3e\n                  <por-image-registry\n                    model="formValues.RegistryModel"\n                    label-class="col-sm-1"\n                    input-class="col-sm-11"\n                    endpoint="endpoint"\n                    is-admin="isAdmin"\n                    set-validity="setPullImageValidity"\n                    check-rate-limits="true"\n                  ></por-image-registry>\n                </rd-widget-body>\n              </rd-widget>\n            </div>\n          </div>\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.UploadFile"\n                ng-click="uploadImage()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress"></span>\n                <span ng-show="state.actionInProgress">Images uploading in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},8285:e=>{var t="app/docker/views/networks/create/createnetwork.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.networks"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="networkCreationForm">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="network_name" class="col-sm-2 col-lg-1 control-label text-left"></label>\n            <div class="col-sm-10 col-lg-11">\n              <input type="text" class="form-control" ng-model="config.Name" id="network_name" placeholder=" myNetwork" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="col-sm-12 form-section-title">  </div>\n          \x3c!-- driver-input --\x3e\n          <div class="form-group">\n            <label for="network_driver" class="col-sm-2 col-lg-1 control-label text-left"></label>\n            <div class="col-sm-10 col-lg-11">\n              <select class="form-control" ng-options="driver for driver in availableNetworkDrivers" ng-model="config.Driver" ng-if="availableNetworkDrivers.length > 0">\n                <option disabled hidden value="">Select a driver</option>\n              </select>\n              <input type="text" class="form-control" ng-model="config.Driver" id="network_driver" placeholder=" driverName" ng-if="availableNetworkDrivers.length === 0" />\n            </div>\n          </div>\n          \x3c!-- !driver-input --\x3e\n          \x3c!-- driver-options --\x3e\n          <div class="form-group">\n            <div class="col-sm-12" style="margin-top: 5px">\n              <label class="control-label text-left">\n                \n                <portainer-tooltip\n                  position="bottom"\n                  message=" "\n                ></portainer-tooltip>\n              </label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addDriverOption()">\n                <i class="fa fa-plus-circle" aria-hidden="true"></i> \n              </span>\n            </div>\n            \x3c!-- driver-options-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="option in formValues.DriverOptions" style="margin-top: 2px">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon"></span>\n                  <input type="text" class="form-control" ng-model="option.name" placeholder=" com.docker.network.bridge.enable_icc" />\n                </div>\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="option.value" placeholder=" true" />\n                </div>\n                <button class="btn btn-sm btn-danger" type="button" ng-click="removeDriverOption($index)">\n                  <i class="fa fa-trash" aria-hidden="true"></i>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !driver-options-input-list --\x3e\n          </div>\n          \x3c!-- !driver-options --\x3e\n          \x3c!-- macvlan-management --\x3e\n          <network-macvlan-form ng-show="config.Driver === \'macvlan\'" data="formValues.Macvlan" application-state="applicationState"></network-macvlan-form>\n          \x3c!-- !macvlan-management --\x3e\n          <div ng-hide="config.Driver === \'macvlan\' && formValues.Macvlan.Scope === \'swarm\'">\n            <div class="col-sm-12 form-section-title"> IPV4  </div>\n            \x3c!-- subnet-gateway-inputs --\x3e\n            <div class="form-group">\n              <label for="ipv4_network_subnet" class="col-sm-2 col-lg-1 control-label text-left"></label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV4.Subnet" id="ipv4_network_subnet" placeholder=" 172.20.0.0/16" />\n              </div>\n              <label for="ipv4_network_gateway" class="col-sm-2 col-lg-1 control-label text-left"></label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV4.Gateway" id="ipv4_network_gateway" placeholder=" 172.20.10.11" />\n              </div>\n            </div>\n            \x3c!-- !subnet-gateway-inputs --\x3e\n            \x3c!-- iprange-auxaddr-inputs --\x3e\n            <div class="form-group">\n              <label for="ipv4_network_iprange" class="col-sm-2 col-lg-1 control-label text-left">IP</label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV4.IPRange" id="ipv4_network_iprange" placeholder=" 172.20.10.128/25" />\n              </div>\n            </div>\n            <div ng-repeat="auxAddress in formValues.IPV4.AuxiliaryAddresses track by $index" class="form-group">\n              <label for="ipv4_network_auxaddr_{{ $index }}" class="col-sm-2 col-lg-1 control-label text-left"> IP</label>\n              <div class="col-sm-4 col-lg-5">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="formValues.IPV4.AuxiliaryAddresses[$index]"\n                  ng-change="checkIPV4AuxiliaryAddress($index)"\n                  id="ipv4_network_auxaddr_{{ $index }}"\n                  placeholder=" my-router=172.20.10.129"\n                />\n              </div>\n              <button class="btn btn-sm btn-danger" type="button" ng-click="removeIPV4AuxAddress($index)">\n                <i class="fa fa-trash" aria-hidden="true"></i>\n              </button>\n              <div class="col-sm-12 small text-warning" ng-show="state.IPV4AuxiliaryAddressesError[$index]">\n                <p><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> ip</p>\n              </div>\n            </div>\n            \x3c!-- !iprange-auxaddr-inputs --\x3e\n            <div class="form-group">\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addIPV4AuxAddress()">\n                <i class="fa fa-plus-circle" aria-hidden="true"></i> IP\n              </span>\n            </div>\n          </div>\n          <div ng-show="config.Driver === \'bridge\' || (config.Driver === \'macvlan\' && formValues.Macvlan.Scope !== \'swarm\')">\n            <div class="col-sm-12 form-section-title"> IPV6  </div>\n            \x3c!-- subnet-gateway-inputs --\x3e\n            <div class="form-group">\n              <label for="ipv6_network_subnet" class="col-sm-2 col-lg-1 control-label text-left"></label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV6.Subnet" id="ipv6_network_subnet" placeholder=" 2001:db8::/48" />\n              </div>\n              <label for="ipv6_network_gateway" class="col-sm-2 col-lg-1 control-label text-left"></label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV6.Gateway" id="ipv6_network_gateway" placeholder=" 2001:db8::1" />\n              </div>\n            </div>\n            \x3c!-- !subnet-gateway-inputs --\x3e\n            \x3c!-- iprange-auxaddr-inputs --\x3e\n            <div class="form-group">\n              <label for="ipv6_network_iprange" class="col-sm-2 col-lg-1 control-label text-left">IP</label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV6.IPRange" id="ipv6_network_iprange" placeholder=" 2001:db8::/64" />\n              </div>\n            </div>\n            <div ng-repeat="auxAddress in formValues.IPV6.AuxiliaryAddresses track by $index" class="form-group">\n              <label for="ipv6_network_auxaddr_{{ $index }}" class="col-sm-2 col-lg-1 control-label text-left"> IP</label>\n              <div class="col-sm-4 col-lg-5">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="formValues.IPV6.AuxiliaryAddresses[$index]"\n                  ng-change="checkIPV6AuxiliaryAddress($index)"\n                  id="ipv6_network_auxaddr_{{ $index }}"\n                  placeholder=" my-router=2001:db8::1"\n                />\n              </div>\n              <button class="btn btn-sm btn-danger" type="button" ng-click="removeIPV6AuxAddress($index)">\n                <i class="fa fa-trash" aria-hidden="true"></i>\n              </button>\n              <div class="col-sm-12 small text-warning" ng-show="state.IPV6AuxiliaryAddressesError[$index]">\n                <p><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> ip</p>\n              </div>\n            </div>\n            \x3c!-- !iprange-auxaddr-inputs --\x3e\n            <div class="form-group">\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addIPV6AuxAddress()">\n                <i class="fa fa-plus-circle" aria-hidden="true"></i> IP\n              </span>\n            </div>\n          </div>\n          <div class="col-sm-12 form-section-title">  </div>\n          \x3c!-- labels --\x3e\n          <div class="form-group">\n            <div class="col-sm-12" style="margin-top: 5px">\n              <label class="control-label text-left"></label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addLabel()"> <i class="fa fa-plus-circle" aria-hidden="true"></i>  </span>\n            </div>\n            \x3c!-- labels-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="label in formValues.Labels" style="margin-top: 2px">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon"></span>\n                  <input type="text" class="form-control" ng-model="label.key" placeholder=" com.example.foo" />\n                </div>\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="label.value" placeholder=" bar" />\n                </div>\n                <button class="btn btn-sm btn-danger" type="button" ng-click="removeLabel($index)">\n                  <i class="fa fa-trash" aria-hidden="true"></i>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !labels-input-list --\x3e\n          </div>\n          \x3c!-- !labels--\x3e\n          \x3c!-- internal --\x3e\n          <div class="form-group" ng-hide="config.Driver === \'macvlan\' && formValues.Macvlan.Scope === \'local\'">\n            <div class="col-sm-12">\n              <label for="ownership" class="control-label text-left">\n                \n                <portainer-tooltip position="bottom" message=""></portainer-tooltip>\n              </label>\n              <label name="ownership" class="switch" style="margin-left: 20px">\n                <input type="checkbox" ng-model="config.Internal" />\n                <i></i>\n              </label>\n            </div>\n          </div>\n          \x3c!-- !internal --\x3e\n          \x3c!-- attachable --\x3e\n          <div class="form-group" ng-hide="config.Driver === \'macvlan\' && formValues.Macvlan.Scope === \'local\'">\n            <div class="col-sm-12">\n              <label for="attachable" class="control-label text-left">  </label>\n              <label name="attachable" class="switch" style="margin-left: 20px">\n                <input type="checkbox" ng-model="config.Attachable" />\n                <i></i>\n              </label>\n            </div>\n          </div>\n          \x3c!-- !attachable --\x3e\n          <div\n            ng-if="\n              applicationState.endpoint.mode.agentProxy &&\n              applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' &&\n              config.Driver !== \'overlay\' &&\n              config.Driver !== \'macvlan\'\n            "\n          >\n            <div class="col-sm-12 form-section-title"> Deployment </div>\n            \x3c!-- node-selection --\x3e\n            <node-selector model="formValues.NodeName"> </node-selector>\n            \x3c!-- !node-selection --\x3e\n          </div>\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !config.Name || (config.Driver === \'macvlan\' && networkCreationForm.$invalid) || !isValid()"\n                ng-click="create()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress"></span>\n                <span ng-show="state.actionInProgress">...</span>\n              </button>\n              <i id="createResourceSpinner" class="fa fa-cog fa-spin" style="margin-left: 5px; display: none"></i>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},43072:e=>{var t="app/docker/views/networks/edit/network.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.networks"></a> &gt; <a ui-sref="docker.networks.network({id: network.Id})">{{ network.Name }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-sitemap" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>{{ network.Name }}</td>\n            </tr>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ network.Id }}\n                <button authorization="DockerNetworkDelete" ng-if="allowRemove()" class="btn btn-xs btn-danger" ng-click="removeNetwork(network.Id)"\n                  ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i>Delete this network</button\n                >\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ network.Driver }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ network.Scope }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ network.Attachable }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ network.Internal }}</td>\n            </tr>\n            <tr ng-if="network.IPAM.IPV4Configs.length > 0" ng-repeat-start="config in network.IPAM.IPV4Configs">\n              <td>IPV4  - {{ config.Subnet }}</td>\n              <td>IPV4  - {{ config.Gateway }}</td>\n            </tr>\n            <tr ng-if="network.IPAM.IPV4Configs.length > 0" ng-repeat-end>\n              <td>IPV4 IP - {{ config.IPRange }}</td>\n              <td\n                >IPV4 IP<span ng-repeat="auxAddress in config.AuxiliaryAddresses"> - {{ auxAddress }}</span></td\n              >\n            </tr>\n            <tr ng-if="network.IPAM.IPV6Configs.length > 0" ng-repeat-start="config in network.IPAM.IPV6Configs">\n              <td>IPV6  - {{ config.Subnet }}</td>\n              <td>IPV6 Gateway - {{ config.Gateway }}</td>\n            </tr>\n            <tr ng-if="network.IPAM.IPV6Configs.length > 0" ng-repeat-end>\n              <td>IPV6 IP - {{ config.IPRange }}</td>\n              <td\n                >IPV6 Excluded Ips<span ng-repeat="auxAddress in config.AuxiliaryAddresses"> - {{ auxAddress }}</span></td\n              >\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<por-access-control-panel\n  ng-if="network"\n  resource-id="network.Id"\n  resource-control="network.ResourceControl"\n  resource-type="\'network\'"\n  disable-ownership-change="isSystemNetwork()"\n>\n</por-access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div class="row" ng-if="!(network.Options | emptyobject)">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-cogs" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr ng-repeat="(key, value) in network.Options">\n              <td>{{ key }}</td>\n              <td>{{ value }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="containersInNetwork.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-server" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <th></th>\n            <th>IPv4 </th>\n            <th>IPv6 </th>\n            <th>Mac</th>\n            <th authorization="DockerNetworkDisconnect"></th>\n          </thead>\n          <tbody>\n            <tr ng-repeat="container in containersInNetwork">\n              <td\n                ><a ui-sref="docker.containers.container({ id: container.Id, nodeName: nodeName })">{{ container.Name }}</a></td\n              >\n              <td>{{ container.IPv4Address || \'-\' }}</td>\n              <td>{{ container.IPv6Address || \'-\' }}</td>\n              <td>{{ container.MacAddress || \'-\' }}</td>\n              <td authorization="DockerNetworkDisconnect">\n                <button type="button" class="btn btn-xs btn-danger" ng-click="containerLeaveNetwork(network, container)"\n                  ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i></button\n                >\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},5147:e=>{var t="app/docker/views/networks/networks.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.networks" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<div class="row">\n  <div class="col-sm-12">\n    <networks-datatable\n      title-text=""\n      title-icon="fa-sitemap"\n      dataset="networks"\n      table-key="networks"\n      order-by="Name"\n      remove-action="removeAction"\n      show-host-column="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      offline-mode="offlineMode"\n      refresh-callback="getNetworks"\n    ></networks-datatable>\n  </div>\n</div>\n')}]),e.exports=t},52707:e=>{var t="app/docker/views/nodes/node-browser/node-browser.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.swarm">Swarm</a> &gt; <a ui-sref="docker.nodes.node({ id: $ctrl.nodeId })">{{ $ctrl.node.Hostname }}</a> &gt; browse\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <host-browser ng-if="$ctrl.node" endpoint-id="$ctrl.endpoint.Id"></host-browser>\n  </div>\n</div>\n')}]),e.exports=t},89455:e=>{var t="app/docker/views/nodes/node-details/node-details-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<host-overview\n  agent-api-version="$ctrl.state.agentApiVersion"\n  is-agent="$ctrl.state.isAgent"\n  host-details="$ctrl.hostDetails"\n  engine-details="$ctrl.engineDetails"\n  disks="$ctrl.disks"\n  devices="$ctrl.devices"\n  refresh-url="docker.nodes.node"\n  browse-url="docker.nodes.node.browse"\n  is-job-enabled="$ctrl.state.isAdmin && $ctrl.state.isAgent"\n  host-features-enabled="$ctrl.state.enableHostManagementFeatures"\n  job-url="docker.nodes.node.job"\n  jobs="$ctrl.jobs"\n>\n  <swarm-node-details-panel details="$ctrl.nodeDetails" original-node="$ctrl.originalNode"></swarm-node-details-panel>\n</host-overview>\n')}]),e.exports=t},73675:e=>{var t="app/docker/views/registries/access/registryAccess.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.registries"></a> &gt; {{ $ctrl.registry.Name }} &gt; Access management </rd-header-content>\n</rd-header>\n\n<registry-details registry="$ctrl.registry" ng-if="$ctrl.registry"></registry-details>\n\n<por-access-management\n  ng-if="$ctrl.registry && $ctrl.endpointGroup"\n  access-controlled-entity="$ctrl.registryEndpointAccesses"\n  entity-type="registry"\n  action-in-progress="$ctrl.state.actionInProgress"\n  update-access="$ctrl.updateAccess"\n  filter-users="$ctrl.filterUsers"\n>\n</por-access-management>\n')}]),e.exports=t},13702:e=>{var t="app/docker/views/secrets/create/createsecret.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create secret"></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.secrets">Secrets</a> &gt; Add secret </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="secret_name" class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="formValues.Name" id="secret_name" placeholder=" mySecret" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- secret-data --\x3e\n          <div class="form-group">\n            <label for="secret_data" class="col-sm-1 control-label text-left">Secret</label>\n            <div class="col-sm-11">\n              <textarea class="form-control" rows="5" ng-model="formValues.Data"></textarea>\n            </div>\n          </div>\n          \x3c!-- !secret-data --\x3e\n          \x3c!-- encode-secret --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label for="encode_secret" class="control-label text-left">\n                \n                <portainer-tooltip position="bottom" message="base64base64"></portainer-tooltip>\n              </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" name="encode_secret" ng-model="formValues.encodeSecret" /><i></i> </label>\n            </div>\n          </div>\n          \x3c!-- !encode-secret --\x3e\n          \x3c!-- labels --\x3e\n          <div class="form-group">\n            <div class="col-sm-12" style="margin-top: 5px">\n              <label class="control-label text-left"></label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addLabel()"> <i class="fa fa-plus-circle" aria-hidden="true"></i>  </span>\n            </div>\n            \x3c!-- labels-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="label in formValues.Labels" style="margin-top: 2px">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon"></span>\n                  <input type="text" class="form-control" ng-model="label.key" placeholder=" com.example.foo" />\n                </div>\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="label.value" placeholder=" bar" />\n                </div>\n                <button class="btn btn-sm btn-danger" type="button" ng-click="removeLabel($index)">\n                  <i class="fa fa-trash" aria-hidden="true"></i>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !labels-input-list --\x3e\n          </div>\n          \x3c!-- !labels--\x3e\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.Name || !formValues.Data"\n                ng-click="create()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Create the secret</span>\n                <span ng-show="state.actionInProgress">Creating secret...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},12685:e=>{var t="app/docker/views/secrets/edit/secret.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Secret details">\n    <a data-toggle="tooltip" title="" ui-sref="docker.secrets.secret({id: secret.Id})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.secrets">Secrets</a> &gt; <a ui-sref="docker.secrets.secret({id: secret.Id})">{{ secret.Name }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-user-secret" title-text="Secret details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>{{ secret.Name }}</td>\n            </tr>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ secret.Id }}\n                <button authorization="DockerSecretDelete" class="btn btn-xs btn-danger" ng-click="removeSecret(secret.Id)"\n                  ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i>Delete this secret</button\n                >\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ secret.CreatedAt | getisodate }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ secret.UpdatedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="!(secret.Labels | emptyobject)">\n              <td></td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in secret.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<por-access-control-panel ng-if="secret" resource-id="secret.Id" resource-control="secret.ResourceControl" resource-type="\'secret\'"> </por-access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n')}]),e.exports=t},8809:e=>{var t="app/docker/views/secrets/secrets.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Secrets list">\n    <a data-toggle="tooltip" title="" ui-sref="docker.secrets" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Secrets</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <secrets-datatable\n      title-text="Secrets"\n      title-icon="fa-user-secret"\n      dataset="secrets"\n      table-key="secrets"\n      order-by="Name"\n      remove-action="removeAction"\n      refresh-callback="getSecrets"\n    ></secrets-datatable>\n  </div>\n</div>\n')}]),e.exports=t},53566:e=>{var t="app/docker/views/services/create/createservice.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.services"></a> &gt; Add service </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" autocomplete="off">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="service_name" class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="formValues.Name" id="service_name" placeholder=" myService" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="col-sm-12 form-section-title">  </div>\n          \x3c!-- image-and-registry --\x3e\n          <por-image-registry\n            model="formValues.RegistryModel"\n            auto-complete="true"\n            label-class="col-sm-1"\n            input-class="col-sm-11"\n            endpoint="endpoint"\n            is-admin="isAdmin"\n            check-rate-limits="true"\n            set-validity="setPullImageValidity"\n          >\n          </por-image-registry>\n          \x3c!-- !image-and-registry --\x3e\n          <div class="col-sm-12 form-section-title"> Scheduling </div>\n          \x3c!-- scheduling-mode --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label class="control-label text-left"> Scheduling mode </label>\n              <div class="btn-group btn-group-sm" style="margin-left: 20px">\n                <label class="btn btn-primary" ng-model="formValues.Mode" uib-btn-radio="\'global\'">Global</label>\n                <label class="btn btn-primary" ng-model="formValues.Mode" uib-btn-radio="\'replicated\'">Replicated</label>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-inline" ng-if="formValues.Mode === \'replicated\'">\n            <div class="col-sm-12">\n              <label class="control-label text-left"> Replicas </label>\n              <input type="number" class="form-control" ng-model="formValues.Replicas" id="replicas" placeholder=" 3" style="margin-left: 20px" />\n            </div>\n          </div>\n          \x3c!-- !scheduling-mode --\x3e\n          <div class="col-sm-12 form-section-title"> Ports configuration </div>\n          \x3c!-- port-mapping --\x3e\n          <div class="form-group">\n            <div class="col-sm-12" style="margin-top: 5px">\n              <label class="control-label text-left">Port mapping</label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addPortBinding()">\n                <i class="fa fa-plus-circle" aria-hidden="true"></i> map additional port\n              </span>\n            </div>\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="portBinding in formValues.Ports" style="margin-top: 2px">\n                \x3c!-- host-port --\x3e\n                <div class="input-group col-sm-3 input-group-sm">\n                  <span class="input-group-addon">host</span>\n                  <input type="text" class="form-control" ng-model="portBinding.PublishedPort" placeholder=" 80 or 1.2.3.4:80 (optional)" />\n                </div>\n                \x3c!-- !host-port --\x3e\n                <span style="margin: 0 10px 0 10px">\n                  <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                </span>\n                \x3c!-- container-port --\x3e\n                <div class="input-group col-sm-3 input-group-sm">\n                  <span class="input-group-addon"></span>\n                  <input type="text" class="form-control" ng-model="portBinding.TargetPort" placeholder=" 80" />\n                </div>\n                \x3c!-- !container-port --\x3e\n                \x3c!-- protocol-actions --\x3e\n                <div class="input-group col-sm-5 input-group-sm">\n                  <div class="btn-group btn-group-sm">\n                    <label class="btn btn-primary" ng-model="portBinding.Protocol" uib-btn-radio="\'tcp\'">TCP</label>\n                    <label class="btn btn-primary" ng-model="portBinding.Protocol" uib-btn-radio="\'udp\'">UDP</label>\n                  </div>\n                  <div class="btn-group btn-group-sm">\n                    <label class="btn btn-primary" ng-model="portBinding.PublishMode" uib-btn-radio="\'ingress\'">Ingress</label>\n                    <label class="btn btn-primary" ng-model="portBinding.PublishMode" uib-btn-radio="\'host\'">Host</label>\n                  </div>\n                  <button class="btn btn-sm btn-danger" type="button" ng-click="removePortBinding($index)">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                  </button>\n                </div>\n                \x3c!-- !protocol-actions --\x3e\n              </div>\n            </div>\n            \x3c!-- !port-mapping-input-list --\x3e\n          </div>\n          \x3c!-- !port-mapping --\x3e\n          \x3c!-- create-webhook --\x3e\n          <div ng-if="endpoint.Type !== 4 && hasAuthorizations([\'PortainerWebhookCreate\'])">\n            <div class="col-sm-12 form-section-title"> Webhooks </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left">\n                  Create a service webhook\n                  <portainer-tooltip\n                    position="top"\n                    message="Create a webhook (or callback URI) to automate the update of this service. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this service."\n                  ></portainer-tooltip>\n                </label>\n                <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="formValues.Webhook" /><i></i> </label>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !create-webhook  --\x3e\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.RegistryModel.Image || !volumesAreValid()"\n                ng-click="create()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Create the service</span>\n                <span ng-show="state.actionInProgress">Creating service...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <ul class="nav nav-pills nav-justified">\n          <li class="active interactive"><a data-target="#command" data-toggle="tab">Command & Logging</a></li>\n          <li class="interactive"><a data-target="#volumes" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#network" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#env" data-toggle="tab">Env</a></li>\n          <li class="interactive"><a data-target="#labels" data-toggle="tab"></a></li>\n          <li class="interactive"><a data-target="#update-config" data-toggle="tab">Update config & Restart</a></li>\n          <li class="interactive" ng-if="applicationState.endpoint.apiVersion >= 1.25"><a data-target="#secrets" data-toggle="tab">Secrets</a></li>\n          <li class="interactive"><a data-target="#configs" data-toggle="tab" ng-if="applicationState.endpoint.apiVersion >= 1.3">Configs</a></li>\n          <li class="interactive"><a data-target="#resources-placement" data-toggle="tab" ng-click="refreshSlider()">Resources & Placement</a></li>\n        </ul>\n        \x3c!-- tab-content --\x3e\n        <div class="tab-content">\n          \x3c!-- tab-command --\x3e\n          <div class="tab-pane active" id="command">\n            <form class="form-horizontal" style="margin-top: 15px">\n              <div class="col-sm-12 form-section-title"> Command </div>\n              \x3c!-- command-input --\x3e\n              <div class="form-group">\n                <label for="service_command" class="col-sm-2 col-lg-1 control-label text-left">Command</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.Command" id="service_command" placeholder=" /usr/bin/nginx -t -c /mynginx.conf" />\n                </div>\n              </div>\n              \x3c!-- !command-input --\x3e\n              \x3c!-- entrypoint-input --\x3e\n              <div class="form-group">\n                <label for="service_entrypoint" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.EntryPoint" id="service_entrypoint" placeholder=" /bin/sh -c" />\n                </div>\n              </div>\n              \x3c!-- !entrypoint-input --\x3e\n              \x3c!-- workdir-user-input --\x3e\n              <div class="form-group">\n                <label for="service_workingdir" class="col-sm-2 col-lg-1 control-label text-left">Working Dir</label>\n                <div class="col-sm-4">\n                  <input type="text" class="form-control" ng-model="formValues.WorkingDir" id="service_workingdir" placeholder=" /myapp" />\n                </div>\n                <label for="service_user" class="col-sm-1 control-label text-left"></label>\n                <div class="col-sm-4">\n                  <input type="text" class="form-control" ng-model="formValues.User" id="service_user" placeholder=" nginx" />\n                </div>\n              </div>\n              \x3c!-- !workdir-user-input --\x3e\n              <div class="col-sm-12 form-section-title"> Logging </div>\n              \x3c!-- logging-driver --\x3e\n              <div class="form-group">\n                <label for="log-driver" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-4">\n                  <select class="form-control" ng-model="formValues.LogDriverName" id="log-driver">\n                    <option selected value="">Default logging driver</option>\n                    <option ng-repeat="driver in availableLoggingDrivers" ng-value="driver">{{ driver }}</option>\n                    <option value="none">none</option>\n                  </select>\n                </div>\n                <div class="col-sm-5">\n                  <p class="small text-muted">\n                    Logging driver for service that will override the default docker daemon driver. Select Default logging driver if you don\'t want to override it. Supported\n                    logging drivers can be found\n                    <a href="https://docs.docker.com/engine/admin/logging/overview/#supported-logging-drivers" target="_blank">in the Docker documentation</a>.\n                  </p>\n                </div>\n              </div>\n              \x3c!-- !logging-driver --\x3e\n              \x3c!-- logging-opts --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">\n                    Options\n                    <portainer-tooltip\n                      position="top"\n                      message="Add button is disabled unless a driver other than none or default is selected. Options are specific to the selected driver, refer to the driver documentation."\n                    ></portainer-tooltip>\n                  </label>\n                  <span\n                    class="label label-default interactive"\n                    style="margin-left: 10px"\n                    ng-click="!formValues.LogDriverName || formValues.LogDriverName === \'none\' || addLogDriverOpt(formValues.LogDriverName)"\n                  >\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> add logging driver option\n                  </span>\n                </div>\n                \x3c!-- logging-opts-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="opt in formValues.LogDriverOpts" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">option</span>\n                      <input type="text" class="form-control" ng-model="opt.name" placeholder=" FOO" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="opt.value" placeholder=" bar" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeLogDriverOpt($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- logging-opts-input-list --\x3e\n              </div>\n              \x3c!-- !logging-opts --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-command --\x3e\n          \x3c!-- tab-volume --\x3e\n          <div class="tab-pane" id="volumes">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- volumes --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Volume mapping</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addVolume()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> map additional volume\n                  </span>\n                </div>\n                \x3c!-- volumes-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="volume in formValues.Volumes">\n                    <div class="col-sm-12" style="margin-top: 10px">\n                      \x3c!-- volume-line1 --\x3e\n                      <div class="col-sm-12 form-inline">\n                        \x3c!-- container-path --\x3e\n                        <div class="input-group col-sm-6">\n                          <div class="input-group input-group-sm w-full">\n                            <span class="input-group-addon"></span>\n                            <input type="text" class="form-control" ng-model="volume.Target" placeholder=" /path/in/container" />\n                          </div>\n                          <div class="small text-warning" ng-show="!volume.Target"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Target is required. </div>\n                        </div>\n                        \x3c!-- !container-path --\x3e\n                        \x3c!-- volume-type --\x3e\n                        <div class="input-group col-sm-5" style="margin-left: 5px; vertical-align: top">\n                          <div class="btn-group btn-group-sm" ng-if="allowBindMounts">\n                            <label class="btn btn-primary" ng-model="volume.Type" uib-btn-radio="\'volume\'" ng-click="volume.Source = null"></label>\n                            <label class="btn btn-primary" ng-model="volume.Type" uib-btn-radio="\'bind\'" ng-click="volume.Source = null"></label>\n                          </div>\n                          <button class="btn btn-sm btn-danger" type="button" ng-click="removeVolume($index)">\n                            <i class="fa fa-trash" aria-hidden="true"></i>\n                          </button>\n                        </div>\n                        \x3c!-- !volume-type --\x3e\n                      </div>\n                      \x3c!-- !volume-line1 --\x3e\n                      \x3c!-- volume-line2 --\x3e\n                      <div class="col-sm-12 form-inline" style="margin-top: 5px">\n                        <div style="height: 30px; display: inline-block; vertical-align: top; display: inline-flex; align-items: center">\n                          <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                        </div>\n                        \x3c!-- volume --\x3e\n                        <div class="col-sm-6 input-group" ng-if="volume.Type === \'volume\'" style="float: none; padding: 0">\n                          <div class="input-group input-group-sm w-full">\n                            <span class="input-group-addon"></span>\n                            <select\n                              class="form-control"\n                              ng-model="volume.Source"\n                              ng-options="vol as ((vol.Id|truncate:30) + \' - \' + (vol.Driver|truncate:30)) for vol in availableVolumes"\n                            >\n                              <option selected disabled hidden value=""></option>\n                            </select>\n                          </div>\n                          <div class="small text-warning" ng-show="!volume.Source"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Source is required. </div>\n                        </div>\n                        \x3c!-- !volume --\x3e\n                        \x3c!-- bind --\x3e\n                        <div class="input-group input-group-sm col-sm-6" ng-if="volume.Type === \'bind\'">\n                          <div class="input-group input-group-sm w-full">\n                            <span class="input-group-addon">host</span>\n                            <input type="text" class="form-control" ng-model="volume.Source" placeholder=" /path/on/host" />\n                          </div>\n                          <div class="small text-warning" ng-show="!volume.Source"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Source is required. </div>\n                        </div>\n                        \x3c!-- !bind --\x3e\n                        \x3c!-- read-only --\x3e\n                        <div class="input-group input-group-sm col-sm-5" style="margin-left: 5px; vertical-align: top">\n                          <div class="btn-group btn-group-sm">\n                            <label class="btn btn-primary" ng-model="volume.ReadOnly" uib-btn-radio="false"></label>\n                            <label class="btn btn-primary" ng-model="volume.ReadOnly" uib-btn-radio="true"></label>\n                          </div>\n                        </div>\n                        \x3c!-- !read-only --\x3e\n                      </div>\n                      \x3c!-- !volume-line2 --\x3e\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- !volumes-input-list --\x3e\n              </div>\n              \x3c!-- !volumes --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-volume --\x3e\n          \x3c!-- tab-network --\x3e\n          <div class="tab-pane" id="network">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- network-input --\x3e\n              <div class="form-group">\n                <label for="container_network" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <select class="form-control" ng-model="formValues.Network">\n                    <option selected disabled hidden value="">Select a network</option>\n                    <option ng-repeat="net in availableNetworks | orderBy: \'Name\'" ng-value="net.Name">{{ net.Name }}</option>\n                  </select>\n                </div>\n                <div class="col-sm-2"></div>\n              </div>\n              \x3c!-- !network-input --\x3e\n              \x3c!-- extra-networks --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Extra networks</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addExtraNetwork()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> add extra network\n                  </span>\n                </div>\n                \x3c!-- network-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="network in formValues.ExtraNetworks" style="margin-top: 2px">\n                    <select class="form-control" ng-model="network.Name">\n                      <option selected disabled hidden value="">Select a network</option>\n                      <option ng-repeat="net in availableNetworks" ng-value="net.Name">{{ net.Name }}</option>\n                    </select>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeExtraNetwork($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !network-input-list --\x3e\n              </div>\n              \x3c!-- !extra-networks --\x3e\n              \x3c!-- extra-hosts-variables --\x3e\n              <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.25">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left"></label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addHostsEntry()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                  </span>\n                </div>\n                \x3c!-- hosts-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="variable in formValues.HostsEntries" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="variable.value" placeholder=" host:IP" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeHostsEntry($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !hosts-input-list --\x3e\n              </div>\n              \x3c!-- !extra-hosts-variables --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-network --\x3e\n          \x3c!-- tab-env --\x3e\n          <div class="tab-pane" id="env">\n            <environment-variables-panel\n              ng-model="formValues.Env"\n              explanation="These values will be applied to the service when created"\n              on-change="(handleEnvVarChange)"\n            ></environment-variables-panel>\n          </div>\n          \x3c!-- !tab-env --\x3e\n          \x3c!-- tab-labels --\x3e\n          <div class="tab-pane" id="labels">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- labels --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Service labels</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addLabel()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> add service label\n                  </span>\n                </div>\n                \x3c!-- labels-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="label in formValues.Labels" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon"></span>\n                      <input type="text" class="form-control" ng-model="label.key" placeholder=" com.example.foo" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="label.value" placeholder=" bar" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeLabel($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !labels-input-list --\x3e\n              </div>\n              \x3c!-- !labels--\x3e\n              \x3c!-- container-labels --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Container labels</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addContainerLabel()">\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                  </span>\n                </div>\n                \x3c!-- container-labels-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="label in formValues.ContainerLabels" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon"></span>\n                      <input type="text" class="form-control" ng-model="label.key" placeholder=" com.example.foo" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="label.value" placeholder=" bar" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeContainerLabel($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !container-labels-input-list --\x3e\n              </div>\n              \x3c!-- !container-labels--\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-labels --\x3e\n          \x3c!-- tab-update-config --\x3e\n          <div class="tab-pane" id="update-config" ng-include="\'app/docker/views/services/create/includes/update-restart.html\'"></div>\n          \x3c!-- !tab-update-config --\x3e\n          \x3c!-- tab-secrets --\x3e\n          <div class="tab-pane" id="secrets" ng-if="applicationState.endpoint.apiVersion >= 1.25" ng-include="\'app/docker/views/services/create/includes/secret.html\'"></div>\n          \x3c!-- !tab-secrets --\x3e\n          \x3c!-- tab-configs --\x3e\n          <div class="tab-pane" id="configs" ng-if="applicationState.endpoint.apiVersion >= 1.3" ng-include="\'app/docker/views/services/create/includes/config.html\'"></div>\n          \x3c!-- !tab-configs --\x3e\n          \x3c!-- tab-resources-placement --\x3e\n          <div class="tab-pane" id="resources-placement" ng-include="\'app/docker/views/services/create/includes/resources-placement.html\'"></div>\n          \x3c!-- !tab-resources-placement --\x3e\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},98876:e=>{var t="app/docker/views/services/create/includes/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="form-group">\n    <div class="col-sm-12" style="margin-top: 5px">\n      <label class="control-label text-left">Configs</label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="addConfig()"> <i class="fa fa-plus-circle" aria-hidden="true"></i> add a config </span>\n    </div>\n    \x3c!-- info message --\x3e\n    <div class="form-group" ng-show="formValues.Configs.$invalid" style="margin-bottom: 0px">\n      <div class="col-sm-12 small text-warning" style="padding-left: 35px; padding-top: 20px">\n        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> {{ formValues.Configs.$error }}\n      </div>\n    </div>\n    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n      <div ng-repeat="config in formValues.Configs" style="margin-top: 2px">\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon">config</span>\n          <select class="form-control" ng-change="checkIfConfigDuplicated()" ng-model="config.model" ng-options="config.Name for config in availableConfigs | orderBy: \'Name\'">\n            <option value="" selected="selected">Select a config</option>\n          </select>\n        </div>\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon"></span>\n          <input class="form-control" ng-model="config.FileName" placeholder=" /path/in/container" />\n        </div>\n        <button class="btn btn-sm btn-danger" type="button" ng-click="removeConfig($index)">\n          <i class="fa fa-trash" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},14714:e=>{var t="app/docker/views/services/create/includes/resources-placement.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="col-sm-12 form-section-title"></div>\n  \x3c!-- memory-reservation-input --\x3e\n  <div class="form-group">\n    <label for="memory-reservation" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px">  </label>\n    <div class="col-sm-3">\n      <slider model="formValues.MemoryReservation" floor="0" ceil="state.sliderMaxMemory" step="256" ng-if="state.sliderMaxMemory"></slider>\n    </div>\n    <div class="col-sm-2">\n      <input type="number" min="0" class="form-control" ng-model="formValues.MemoryReservation" />\n    </div>\n    <div class="col-sm-4">\n      <p class="small text-muted" style="margin-top: 7px"> Minimum memory available on a node to run a task (<b>MB</b>) </p>\n    </div>\n  </div>\n  \x3c!-- !memory-reservation-input --\x3e\n  \x3c!-- memory-limit-input --\x3e\n  <div class="form-group">\n    <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px">  </label>\n    <div class="col-sm-3">\n      <slider model="formValues.MemoryLimit" floor="0" ceil="state.sliderMaxMemory" step="256" ng-if="state.sliderMaxMemory"></slider>\n    </div>\n    <div class="col-sm-2">\n      <input type="number" min="0" class="form-control" ng-model="formValues.MemoryLimit" />\n    </div>\n    <div class="col-sm-4" style="margin-top: 7px">\n      <p class="small text-muted"> Maximum memory usage per task (<b>MB</b>) </p>\n    </div>\n  </div>\n  \x3c!-- !memory-limit-input --\x3e\n  \x3c!-- cpu-reservation-input --\x3e\n  <div class="form-group">\n    <label for="cpu-reservation" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> CPU reservation </label>\n    <div class="col-sm-5">\n      <slider model="formValues.CpuReservation" floor="0" ceil="state.sliderMaxCpu" step="0.25" precision="2" ng-if="state.sliderMaxCpu"></slider>\n    </div>\n    <div class="col-sm-4" style="margin-top: 20px">\n      <p class="small text-muted"> Minimum CPU available on a node to run a task </p>\n    </div>\n  </div>\n  \x3c!-- !cpu-reservation-input --\x3e\n  \x3c!-- cpu-limit-input --\x3e\n  <div class="form-group">\n    <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> CPU  </label>\n    <div class="col-sm-5">\n      <slider model="formValues.CpuLimit" floor="0" ceil="state.sliderMaxCpu" step="0.25" precision="2" ng-if="state.sliderMaxCpu"></slider>\n    </div>\n    <div class="col-sm-4" style="margin-top: 20px">\n      <p class="small text-muted"> CPU per task </p>\n    </div>\n  </div>\n  \x3c!-- !cpu-limit-input --\x3e\n  <div class="col-sm-12 form-section-title"> Placement </div>\n  \x3c!-- placement-constraints --\x3e\n  <div class="form-group">\n    <div class="col-sm-12" style="margin-top: 5px">\n      <label class="control-label text-left">Placement constraints</label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="addPlacementConstraint()">\n        <i class="fa fa-plus-circle" aria-hidden="true"></i> placement constraint\n      </span>\n    </div>\n    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n      <div ng-repeat="constraint in formValues.PlacementConstraints" style="margin-top: 2px">\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon"></span>\n          <input type="text" class="form-control" ng-model="constraint.key" placeholder=" node.role" />\n        </div>\n        <div class="input-group col-sm-1 input-group-sm">\n          <select name="constraintOperator" class="form-control" ng-model="constraint.operator">\n            <option value="==">==</option>\n            <option value="!=">!=</option>\n          </select>\n        </div>\n        <div class="input-group col-sm-5 input-group-sm">\n          <span class="input-group-addon">value</span>\n          <input type="text" class="form-control" ng-model="constraint.value" placeholder=" manager" />\n        </div>\n        <button class="btn btn-sm btn-danger" type="button" ng-click="removePlacementConstraint($index)">\n          <i class="fa fa-trash" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !placement-constraints --\x3e\n  \x3c!-- placement-preferences --\x3e\n  <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.3">\n    <div class="col-sm-12" style="margin-top: 5px">\n      <label class="control-label text-left"></label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="addPlacementPreference()">\n        <i class="fa fa-plus-circle" aria-hidden="true"></i> placement preference\n      </span>\n    </div>\n    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n      <div ng-repeat="preference in formValues.PlacementPreferences" style="margin-top: 2px">\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon">strategy</span>\n          <input type="text" class="form-control" ng-model="preference.strategy" placeholder=" spread" />\n        </div>\n        <div class="input-group col-sm-5 input-group-sm">\n          <span class="input-group-addon">value</span>\n          <input type="text" class="form-control" ng-model="preference.value" placeholder=" node.labels.datacenter" />\n        </div>\n        <button class="btn btn-sm btn-danger" type="button" ng-click="removePlacementPreference($index)">\n          <i class="fa fa-trash" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !placement-preferences --\x3e\n</form>\n')}]),e.exports=t},61573:e=>{var t="app/docker/views/services/create/includes/secret.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="form-group">\n    <div class="col-sm-12 small text-muted">\n      By default, secrets will be available under <code>/run/secrets/$SECRET_NAME</code> in containers (Linux) or\n      <code>C:\\ProgramData\\Docker\\secrets\\$SECRET_NAME</code> (Windows).</div\n    >\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12" style="margin-top: 5px">\n      <label class="control-label text-left">Secrets</label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="addSecret()"> <i class="fa fa-plus-circle" aria-hidden="true"></i> add a secret </span>\n    </div>\n    \x3c!-- info message --\x3e\n    <div class="form-group" ng-show="formValues.Secrets.$invalid" style="margin-bottom: 0px">\n      <div class="col-sm-12 small text-warning" style="padding-left: 35px; padding-top: 20px">\n        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> {{ formValues.Secrets.$error }}\n      </div>\n    </div>\n    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n      <div ng-repeat="secret in formValues.Secrets track by $index" style="margin-top: 4px">\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon">secret</span>\n          <select class="form-control" ng-model="secret.model" ng-change="checkIfSecretDuplicated()" ng-options="secret.Name for secret in availableSecrets | orderBy: \'Name\'">\n            <option value="" selected="selected">Select a secret</option>\n          </select>\n        </div>\n        <div class="input-group col-sm-4 input-group-sm" ng-if="applicationState.endpoint.apiVersion >= 1.3 && secret.overrideTarget">\n          <span class="input-group-addon">target</span>\n          <input class="form-control" ng-model="secret.target" placeholder="/path/in/container" />\n        </div>\n        <div class="input-group col-sm-3 input-group-sm">\n          <div class="btn-group btn-group-sm" ng-if="applicationState.endpoint.apiVersion >= 1.3">\n            <label class="btn btn-primary" ng-model="secret.overrideTarget" uib-btn-radio="false">Default location</label>\n            <label class="btn btn-primary" ng-model="secret.overrideTarget" uib-btn-radio="true"></label>\n          </div>\n          <button class="btn btn-sm btn-danger" type="button" ng-click="removeSecret($index)">\n            <i class="fa fa-trash" aria-hidden="true"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},74827:e=>{var t="app/docker/views/services/create/includes/update-restart.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="col-sm-12 form-section-title"> Update config </div>\n  \x3c!-- parallelism-input --\x3e\n  <div class="form-group">\n    <label for="parallelism" class="col-sm-3 col-lg-2 control-label text-left">Update parallelism</label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="number" class="form-control" ng-model="formValues.Parallelism" id="parallelism" placeholder=" 1" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Maximum number of tasks to be updated simultaneously (0 to update all at once). </p>\n    </div>\n  </div>\n  \x3c!-- !parallelism-input --\x3e\n  \x3c!-- delay-input --\x3e\n  <div class="form-group">\n    <label for="update-delay" class="col-sm-3 col-lg-2 control-label text-left">\n      Update delay\n      <portainer-tooltip position="bottom" message="Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns."></portainer-tooltip>\n    </label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="text" class="form-control" ng-model="formValues.UpdateDelay" id="update-delay" placeholder=" 1m" ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Amount of time between updates expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0s, 0 seconds. </p>\n    </div>\n  </div>\n  \x3c!-- !delay-input --\x3e\n  \x3c!-- failureAction-input --\x3e\n  <div class="form-group">\n    <label for="failure-action" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-4 col-lg-3">\n      <div class="btn-group btn-group-sm">\n        <label class="btn btn-primary" ng-model="formValues.FailureAction" uib-btn-radio="\'continue\'">Continue</label>\n        <label class="btn btn-primary" ng-model="formValues.FailureAction" uib-btn-radio="\'pause\'">Pause</label>\n      </div>\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Action taken on failure to start after update. </p>\n    </div>\n  </div>\n  \x3c!-- !failureAction-input --\x3e\n  \x3c!-- order-input --\x3e\n  <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.29">\n    <label for="update-order" class="col-sm-3 col-lg-2 control-label text-left">Update order</label>\n    <div class="col-sm-4 col-lg-3">\n      <div class="btn-group btn-group-sm">\n        <label class="btn btn-primary" ng-model="formValues.UpdateOrder" uib-btn-radio="\'start-first\'">start-first</label>\n        <label class="btn btn-primary" ng-model="formValues.UpdateOrder" uib-btn-radio="\'stop-first\'">stop-first</label>\n      </div>\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Operation order on failure. </p>\n    </div>\n  </div>\n  \x3c!-- !order-input --\x3e\n\n  <div class="col-sm-12 form-section-title">  </div>\n  \x3c!-- restartCondition-input --\x3e\n  <div class="form-group">\n    <label for="restart-condition" class="col-sm-3 col-lg-2 control-label text-left">Restart condition</label>\n    <div class="col-sm-4 col-lg-3">\n      <div class="btn-group btn-group-sm">\n        <label class="btn btn-primary" ng-model="formValues.RestartCondition" uib-btn-radio="\'none\'">None</label>\n        <label class="btn btn-primary" ng-model="formValues.RestartCondition" uib-btn-radio="\'on-failure\'">On-failure</label>\n        <label class="btn btn-primary" ng-model="formValues.RestartCondition" uib-btn-radio="\'any\'">Any</label>\n      </div>\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Restart when condition is met (default condition "any"). </p>\n    </div>\n  </div>\n  \x3c!-- !restartCondition-input --\x3e\n  \x3c!-- restartDelay-input --\x3e\n  <div class="form-group">\n    <label for="restart-delay" class="col-sm-3 col-lg-2 control-label text-left">\n      Restart delay\n      <portainer-tooltip position="bottom" message="Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns."></portainer-tooltip>\n    </label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="text" class="form-control" ng-model="formValues.RestartDelay" id="restart-delay" placeholder=" 1m" ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Delay between restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 5s, 5 seconds. </p>\n    </div>\n  </div>\n  \x3c!-- !restartDelay-input --\x3e\n  \x3c!-- restartMaxAttempts-input --\x3e\n  <div class="form-group">\n    <label for="restart-max-attempts" class="col-sm-3 col-lg-2 control-label text-left">Restart max attempts</label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="number" class="form-control" ng-model="formValues.RestartMaxAttempts" id="restart-max-attempts" placeholder=" 0" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted">  0 </p>\n    </div>\n  </div>\n  \x3c!-- !restartMaxAttempts-input --\x3e\n  \x3c!-- restartWindow-input --\x3e\n  <div class="form-group">\n    <label for="restart-window" class="col-sm-3 col-lg-2 control-label text-left">\n      Restart window\n      <portainer-tooltip position="bottom" message="Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns."></portainer-tooltip>\n    </label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="text" class="form-control" ng-model="formValues.RestartWindow" id="restart-window" placeholder=" 1m" ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted">\n        Time window to evaluate restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0 seconds, which is unbounded.\n      </p>\n    </div>\n  </div>\n  \x3c!-- !restartWindow-input --\x3e\n</form>\n')}]),e.exports=t},74612:e=>{var t="app/docker/views/services/edit/includes/configs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form ng-if="applicationState.endpoint.apiVersion >= 1.3" id="service-configs" ng-submit="updateService(service)">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text=""> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="form-inline" style="padding: 10px" authorization="DockerServiceUpdate">\n        Add a config:\n        <select class="form-control" ng-options="config.Name for config in configs | orderBy: \'Name\'" ng-model="newConfig">\n          <option selected disabled hidden value="">Select a config</option>\n        </select>\n        <a class="btn btn-default btn-sm" ng-click="addConfig(service, newConfig)"> <i class="fa fa-plus-circle" aria-hidden="true"></i> add config </a>\n      </div>\n      <table class="table" style="margin-top: 5px">\n        <thead>\n          <tr>\n            <th></th>\n            <th></th>\n            <th>UID</th>\n            <th>GID</th>\n            <th>Mode</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="config in service.ServiceConfigs">\n            <td\n              ><a ui-sref="docker.configs.config({id: config.Id})">{{ config.Name }}</a></td\n            >\n            <td>\n              <input\n                class="form-control"\n                ng-model="config.FileName"\n                ng-change="updateConfig(service)"\n                placeholder=" /path/in/container"\n                required\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>{{ config.Uid }}</td>\n            <td>{{ config.Gid }}</td>\n            <td>{{ config.Mode }}</td>\n            <td authorization="DockerServiceUpdate">\n              <button class="btn btn-xs btn-danger pull-right" type="button" ng-click="removeConfig(service, $index)" ng-disabled="isUpdating">\n                <i class="fa fa-trash" aria-hidden="true"></i> Remove config\n              </button>\n            </td>\n          </tr>\n          <tr ng-if="service.ServiceConfigs.length === 0">\n            <td colspan="6" class="text-center text-muted">No configs associated to this service.</td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="submit" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceConfigs\'])"></button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceConfigs\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</form>\n')}]),e.exports=t},17590:e=>{var t="app/docker/views/services/edit/includes/constraints.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="service.ServiceConstraints" id="service-placement-constraints">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="Placement constraints">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating || addPlacementConstraint(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> placement constraint\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServiceConstraints.length === 0">\n      <p>There are no placement constraints for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.ServiceConstraints.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Operator</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="constraint in service.ServiceConstraints">\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="constraint.key"\n                  placeholder=" node.role"\n                  ng-change="updatePlacementConstraint(service, constraint)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <select\n                  name="constraintOperator"\n                  class="form-control"\n                  ng-model="constraint.operator"\n                  ng-change="updatePlacementConstraint(service, constraint)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                >\n                  <option value="==">==</option>\n                  <option value="!=">!=</option>\n                </select>\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="constraint.value"\n                  placeholder=" manager"\n                  ng-change="updatePlacementConstraint(service, constraint)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-sm btn-danger" type="button" ng-click="removePlacementConstraint(service, $index)" ng-disabled="isUpdating">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceConstraints\'])" ng-click="updateService(service)"></button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceConstraints\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},83431:e=>{var t="app/docker/views/services/edit/includes/container-specs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <rd-widget>\n    <rd-widget-header icon="fa-list-alt" title-text="Container spec"></rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <table class="table">\n        <tbody>\n          <tr>\n            <td>CMD</td>\n            <td\n              ><code ng-if="service.Command">{{ service.Command | command }}</code></td\n            >\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Command to execute. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Args</td>\n            <td\n              ><code ng-if="service.Arguments">{{ service.Arguments }}</code></td\n            >\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Arguments passed to command in container. </p>\n            </td>\n          </tr>\n          <tr>\n            <td></td>\n            <td>{{ service.User }}</td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Username or UID. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Working directory</td>\n            <td>{{ service.Dir }}</td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Working directory inside the container. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Stop grace period</td>\n            <td>{{ service.StopGracePeriod }}</td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Time to wait before force killing a container (default none). </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},33964:e=>{var t="app/docker/views/services/edit/includes/containerlabels.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-container-labels">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating ||addContainerLabel(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> container label\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServiceContainerLabels.length === 0">\n      <p>There are no container labels for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.ServiceContainerLabels.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Label</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="label in service.ServiceContainerLabels">\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size"></span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="label.key"\n                  placeholder=" com.example.foo"\n                  ng-change="updateContainerLabel(service, label)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">value</span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="label.value"\n                  placeholder=" bar"\n                  ng-change="updateContainerLabel(service, label)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-sm btn-danger" type="button" ng-click="removeContainerLabel(service, $index)" ng-disabled="isUpdating">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceContainerLabels\'])" ng-click="updateService(service)"\n            ></button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceContainerLabels\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},73631:e=>{var t="app/docker/views/services/edit/includes/environmentvariables.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form ng-if="service.EnvironmentVariables" id="service-env-variables" name="serviceEnvForm">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating || addEnvironmentVariable(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> environment variable\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.EnvironmentVariables.length === 0">\n      <p>There are no environment variables for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.EnvironmentVariables.length > 0">\n      <environment-variables-panel is-name-disabled="true" ng-model="service.EnvironmentVariables" on-change="(onChangeEnvVars)"></environment-variables-panel>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="!hasChanges(service, [\'EnvironmentVariables\']) || serviceEnvForm.$invalid"\n            ng-click="updateService(service)"\n          >\n            \n          </button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'EnvironmentVariables\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</ng-form>\n')}]),e.exports=t},49394:e=>{var t="app/docker/views/services/edit/includes/hosts.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating ||addHostsEntry(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> add host entry\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="!service.Hosts || service.Hosts.length === 0">\n      <p>The Hosts file has no extra entries.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.Hosts.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th></th>\n            <th>IP</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="entry in service.Hosts">\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="entry.hostname"\n                  placeholder=" example.com"\n                  ng-change="updateHostsEntry(service, entry)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="entry.ip"\n                  placeholder=" 10.0.1.1"\n                  ng-change="updateHostsEntry(service, entry)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-sm btn-danger" type="button" ng-click="removeHostsEntry(service, $index)" ng-disabled="isUpdating">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'Hosts\'])" ng-click="updateService(service)"></button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'Hosts\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},69480:e=>{var t="app/docker/views/services/edit/includes/image.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-container-image" authorization="DockerServiceUpdate">\n  <rd-widget>\n    <rd-widget-header icon="fa-clone" title-text=""> </rd-widget-header>\n    <rd-widget-body ng-if="!isUpdating">\n      <form class="form-horizontal">\n        <por-image-registry\n          model="formValues.RegistryModel"\n          auto-complete="true"\n          label-class="col-sm-1"\n          input-class="col-sm-11"\n          endpoint="endpoint"\n          is-admin="isAdmin"\n          check-rate-limits="true"\n          set-validity="setPullImageValidity"\n        >\n        </por-image-registry>\n      </form>\n    </rd-widget-body>\n    <rd-widget-body ng-if="isUpdating">\n      <p>Image modification is disabled while service is updating.</p>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'Image\'])" ng-click="updateService(service)"></button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'Image\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},47300:e=>{var t="app/docker/views/services/edit/includes/logging.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-logging-driver">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text=""> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="form-inline" style="padding: 10px" authorization="DockerServiceUpdate">\n        Driver:\n        <select class="form-control" ng-model="service.LogDriverName" ng-change="updateLogDriverName(service)" ng-disabled="isUpdating">\n          <option selected value="">Default logging driver</option>\n          <option ng-repeat="driver in availableLoggingDrivers" ng-value="driver">{{ driver }}</option>\n          <option value="none">none</option>\n        </select>\n        <a class="btn btn-default btn-sm" ng-click="!service.LogDriverName || service.LogDriverName === \'none\' || addLogDriverOpt(service)">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> add logging driver option\n        </a>\n      </div>\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Option</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="option in service.LogDriverOpts">\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size"></span>\n                <input type="text" class="form-control" ng-model="option.key" ng-disabled="option.added || isUpdating" placeholder=" FOO" />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">value</span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="option.value"\n                  ng-change="updateLogDriverOpt(service, option)"\n                  placeholder=" bar"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-sm btn-danger" type="button" ng-click="removeLogDriverOpt(service, $index)" ng-disabled="isUpdating">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n          <tr ng-if="service.LogDriverOpts.length === 0">\n            <td colspan="6" class="text-center text-muted">No options associated to this logging driver.</td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'LogDriverName\', \'LogDriverOpts\'])" ng-click="updateService(service)"\n            ></button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'LogDriverName\', \'LogDriverOpts\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},95765:e=>{var t="app/docker/views/services/edit/includes/mounts.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="service.ServiceMounts" id="service-mounts">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating ||addMount(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> mount\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServiceMounts.length === 0">\n      <p>There are no mounts for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.ServiceMounts.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th ng-if="isAdmin || allowBindMounts">Type</th>\n            <th>Source</th>\n            <th>Target</th>\n            <th authorization="DockerServiceUpdate">Read only</th>\n            <th authorization="DockerServiceUpdate"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="mount in service.ServiceMounts">\n            <td ng-if="isAdmin || allowBindMounts">\n              <select\n                name="mountType"\n                class="form-control"\n                ng-model="mount.Type"\n                ng-change="onChangeMountType(service, mount)"\n                ng-disabled="isUpdating"\n                disable-authorization="DockerServiceUpdate"\n              >\n                <option value="volume"></option>\n                <option value="bind"></option>\n              </select>\n            </td>\n            <td>\n              <select\n                class="form-control"\n                ng-model="mount.Source"\n                ng-change="updateMount(service, mount)"\n                ng-options="vol.Id as ((vol.Id|truncate:30) + \' - \' + (vol.Driver|truncate:30))  for vol in availableVolumes"\n                ng-if="mount.Type === \'volume\'"\n                disable-authorization="DockerServiceUpdate"\n              >\n                <option selected disabled hidden value=""></option>\n              </select>\n              <input\n                type="text"\n                class="form-control"\n                name=""\n                ng-model="mount.Source"\n                placeholder=" /tmp/portainer/data"\n                ng-change="updateMount(service, mount)"\n                ng-disabled="isUpdating || (!isAdmin && !allowBindMounts && mount.Type === \'bind\')"\n                ng-if="mount.Type === \'bind\'"\n              />\n              <div class="col-sm-12 small text-warning" ng-show="!mount.Source"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Source is required. </div>\n            </td>\n            <td>\n              <input\n                type="text"\n                class="form-control"\n                ng-model="mount.Target"\n                placeholder=" /tmp/portainer/data"\n                ng-change="updateMount(service, mount)"\n                ng-disabled="isUpdating"\n                disable-authorization="DockerServiceUpdate"\n              />\n              <div class="col-sm-12 small text-warning" ng-show="!mount.Target"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Target is required. </div>\n            </td>\n            <td authorization="DockerServiceUpdate">\n              <input type="checkbox" class="form-control" ng-model="mount.ReadOnly" ng-change="updateMount(service, mount)" ng-disabled="isUpdating" />\n            </td>\n            <td authorization="DockerServiceUpdate">\n              <span class="input-group-btn">\n                <button class="btn btn-sm btn-danger" type="button" ng-click="removeMount(service, $index)" ng-disabled="isUpdating">\n                  <i class="fa fa-trash" aria-hidden="true"></i>\n                </button>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!mountsAreValid() || !hasChanges(service, [\'ServiceMounts\'])" ng-click="updateService(service)">\n            \n          </button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceMounts\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},2224:e=>{var t="app/docker/views/services/edit/includes/networks.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-network-specs">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating || addNetwork(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> network\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="!service.Networks || service.Networks.length === 0">\n      <p>This service is not connected to any networks.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.Networks && service.Networks.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th></th>\n            <th>ID</th>\n            <th>IP </th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="network in service.Networks">\n            <td>\n              <select\n                ng-if="network.Editable"\n                class="form-control"\n                ng-model="network.Id"\n                ng-change="updateNetwork(service)"\n                ng-options="net.Id as net.Name for net in filterNetworks(swarmNetworks, network)"\n                disable-authorization="DockerServiceUpdate"\n                style="width: initial; min-width: 50%"\n              >\n                <option disabled value="" selected>Select a network</option>\n              </select>\n              <span ng-if="!network.Editable">{{ network.Name }}</span>\n            </td>\n            <td>\n              <a ui-sref="docker.networks.network({id: network.Id})">{{ network.Id }}</a>\n            </td>\n            <td>\n              {{ network.Addr }}\n            </td>\n            <td ng-if="network.Editable" authorization="DockerServiceUpdate">\n              <span class="input-group-btn">\n                <button class="btn btn-sm btn-danger" type="button" ng-click="removeNetwork(service, $index)" ng-disabled="isUpdating">\n                  <i class="fa fa-trash" aria-hidden="true"></i>\n                </button>\n              </span>\n            </td>\n            <td ng-if="!network.Editable"></td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="isUpdating || !hasChanges(service, [\'Networks\'])" ng-click="updateService(service)">\n            \n          </button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'Networks\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},82292:e=>{var t="app/docker/views/services/edit/includes/placementPreferences.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="service.ServicePreferences" id="service-placement-preferences">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating || addPlacementPreference(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> placement preference\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServicePreferences.length === 0">\n      <p>There are no placement preferences for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.ServicePreferences.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Strategy</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="preference in service.ServicePreferences">\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="preference.strategy"\n                  placeholder=" node.role"\n                  ng-change="updatePlacementPreference(service, preference)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="preference.value"\n                  placeholder=" manager"\n                  ng-change="updatePlacementPreference(service, preference)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-sm btn-danger" type="button" ng-click="removePlacementPreference(service, $index)" ng-disabled="isUpdating">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServicePreferences\'])" ng-click="updateService(service)"></button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServicePreferences\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},31402:e=>{var t="app/docker/views/services/edit/includes/ports.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating ||addPublishedPort(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> port mapping\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="!service.Ports || service.Ports.length === 0">\n      <p>This service has no ports published.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.Ports && service.Ports.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Host port</th>\n            <th>Container port</th>\n            <th>Protocol</th>\n            <th>Publish mode</th>\n            <th authorization="DockerServiceUpdate"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="portBinding in service.Ports">\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon">host</span>\n                <input\n                  type="number"\n                  class="form-control"\n                  ng-model="portBinding.PublishedPort"\n                  placeholder=" 8080"\n                  ng-change="updatePublishedPort(service, mapping)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon"></span>\n                <input\n                  type="number"\n                  class="form-control"\n                  ng-model="portBinding.TargetPort"\n                  placeholder=" 80"\n                  ng-change="updatePublishedPort(service, mapping)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <select\n                  class="selectpicker form-control"\n                  ng-model="portBinding.Protocol"\n                  ng-change="updatePublishedPort(service, mapping)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                >\n                  <option value="tcp">tcp</option>\n                  <option value="udp">udp</option>\n                </select>\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <select\n                  class="selectpicker form-control"\n                  ng-model="portBinding.PublishMode"\n                  ng-change="updatePublishedPort(service, mapping)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                >\n                  <option value="ingress">ingress</option>\n                  <option value="host">host</option>\n                </select>\n              </div>\n            </td>\n            <td authorization="DockerServiceUpdate">\n              <span class="input-group-btn">\n                <button class="btn btn-sm btn-danger" type="button" ng-click="removePortPublishedBinding(service, $index)" ng-disabled="isUpdating">\n                  <i class="fa fa-trash" aria-hidden="true"></i>\n                </button>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'Ports\'])" ng-click="updateService(service)"></button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'Ports\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},95266:e=>{var t="app/docker/views/services/edit/includes/resources.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-resources">\n  <rd-widget>\n    <rd-widget-header icon="fa-list-alt" title-text=""> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <table class="table">\n        <tbody>\n          <tr>\n            <td style="vertical-align: middle">  (MB) </td>\n            <td>\n              <input\n                class="input-sm"\n                type="number"\n                step="0.125"\n                min="0"\n                ng-model="service.ReservationMemoryBytes"\n                ng-change="updateServiceAttribute(service, \'ReservationMemoryBytes\')"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td style="vertical-align: middle">\n              <p class="small text-muted">  0  </p>\n            </td>\n          </tr>\n          <tr>\n            <td style="vertical-align: middle">  (MB) </td>\n            <td>\n              <input\n                class="input-sm"\n                type="number"\n                step="0.125"\n                min="0"\n                ng-model="service.LimitMemoryBytes"\n                ng-change="updateServiceAttribute(service, \'LimitMemoryBytes\')"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td style="vertical-align: middle">\n              <p class="small text-muted">  0  </p>\n            </td>\n          </tr>\n          <tr>\n            <td style="vertical-align: middle">\n              <div> CPU reservation </div>\n            </td>\n            <td>\n              <slider\n                model="service.ReservationNanoCPUs"\n                floor="0"\n                ceil="state.sliderMaxCpu"\n                step="0.25"\n                precision="2"\n                ng-if="service && state.sliderMaxCpu"\n                on-change="updateServiceAttribute(service, \'ReservationNanoCPUs\')"\n                disable-authorization="DockerServiceUpdate"\n              ></slider>\n            </td>\n            <td style="vertical-align: middle">\n              <p class="small text-muted"> Minimum CPU available on a node to run a task </p>\n            </td>\n          </tr>\n          <tr>\n            <td style="vertical-align: middle">\n              <div> CPU  </div>\n            </td>\n            <td>\n              <slider\n                model="service.LimitNanoCPUs"\n                floor="0"\n                ceil="state.sliderMaxCpu"\n                step="0.25"\n                precision="2"\n                ng-if="service && state.sliderMaxCpu"\n                on-change="updateServiceAttribute(service, \'LimitNanoCPUs\')"\n                disable-authorization="DockerServiceUpdate"\n              ></slider>\n            </td>\n            <td style="vertical-align: middle">\n              <p class="small text-muted"> CPU per task </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="!hasChanges(service, [\'LimitNanoCPUs\', \'LimitMemoryBytes\', \'ReservationNanoCPUs\', \'ReservationMemoryBytes\'])"\n            ng-click="updateService(service)"\n            ></button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'LimitNanoCPUs\', \'LimitMemoryBytes\', \'ReservationNanoCPUs\', \'ReservationMemoryBytes\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},418:e=>{var t="app/docker/views/services/edit/includes/restart.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-restart-policy">\n  <rd-widget>\n    <rd-widget-header icon="fa-list-alt" title-text=""> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <table class="table">\n        <tbody>\n          <tr>\n            <td>Restart condition</td>\n            <td>\n              <div class="input-group input-group-sm">\n                <select\n                  class="selectpicker form-control"\n                  ng-model="service.RestartCondition"\n                  ng-change="updateServiceAttribute(service, \'RestartCondition\')"\n                  disable-authorization="DockerServiceUpdate"\n                >\n                  <option value="none">None</option>\n                  <option value="on-failure">On failure</option>\n                  <option value="any">Any</option>\n                </select>\n              </div>\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Condition for restart. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Restart delay</td>\n            <td>\n              <input\n                class="input-sm"\n                type="text"\n                ng-model="service.RestartDelay"\n                ng-change="updateServiceAttribute(service, \'RestartDelay\')"\n                ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px">\n                 (ns|us|ms|s|m|h)   5s5\n              </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Restart max attempts</td>\n            <td>\n              <input\n                class="input-sm"\n                type="number"\n                ng-model="service.RestartMaxAttempts"\n                ng-change="updateServiceAttribute(service, \'RestartMaxAttempts\')"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px">  0 </p>\n            </td>\n          </tr>\n          <tr>\n            <td></td>\n            <td>\n              <input\n                class="input-sm"\n                type="text"\n                ng-model="service.RestartWindow"\n                ng-change="updateServiceAttribute(service, \'RestartWindow\')"\n                ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px">\n                Time window to evaluate restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0 seconds, which is unbounded.\n              </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="!hasChanges(service, [\'RestartCondition\', \'RestartDelay\', \'RestartMaxAttempts\', \'RestartWindow\'])"\n            ng-click="updateService(service)"\n            ></button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'RestartCondition\', \'RestartDelay\', \'RestartMaxAttempts\', \'RestartWindow\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},13269:e=>{var t="app/docker/views/services/edit/includes/secrets.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="applicationState.endpoint.apiVersion >= 1.25" id="service-secrets">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="Secrets"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="form-inline" style="padding: 10px" authorization="DockerServiceUpdate">\n        Add a secret:\n        <select class="form-control" ng-options="secret.Name for secret in secrets | orderBy: \'Name\'" ng-model="state.addSecret.secret">\n          <option selected disabled hidden value="">Select a secret</option>\n        </select>\n        <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.3 && state.addSecret.override">\n          Target:\n          <input class="form-control" ng-model="state.addSecret.target" placeholder="/path/in/container" />\n        </div>\n        <div class="btn-group btn-group-sm" ng-if="applicationState.endpoint.apiVersion >= 1.3">\n          <label class="btn btn-primary" ng-model="state.addSecret.override" uib-btn-radio="false">Default location</label>\n          <label class="btn btn-primary" ng-model="state.addSecret.override" uib-btn-radio="true"></label>\n        </div>\n        <a class="btn btn-default btn-sm" ng-click="addSecret(service, state.addSecret)"> <i class="fa fa-plus-circle" aria-hidden="true"></i> add secret </a>\n      </div>\n      <table class="table" style="margin-top: 5px">\n        <thead>\n          <tr>\n            <th></th>\n            <th>File name</th>\n            <th>UID</th>\n            <th>GID</th>\n            <th>Mode</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="secret in service.ServiceSecrets">\n            <td\n              ><a ui-sref="docker.secrets.secret({id: secret.Id})">{{ secret.Name }}</a></td\n            >\n            <td>{{ secret.FileName }}</td>\n            <td>{{ secret.Uid }}</td>\n            <td>{{ secret.Gid }}</td>\n            <td>{{ secret.Mode }}</td>\n            <td authorization="DockerServiceUpdate">\n              <button class="btn btn-xs btn-danger pull-right" type="button" ng-click="removeSecret(service, $index)" ng-disabled="isUpdating">\n                <i class="fa fa-trash" aria-hidden="true"></i> Remove secret\n              </button>\n            </td>\n          </tr>\n          <tr ng-if="service.ServiceSecrets.length === 0">\n            <td colspan="6" class="text-center text-muted">No secrets associated to this service.</td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceSecrets\'])" ng-click="updateService(service)"></button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceSecrets\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},91082:e=>{var t="app/docker/views/services/edit/includes/servicelabels.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-labels">\n  <rd-widget>\n    <rd-widget-header icon="fa-tasks" title-text="Service labels">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-default btn-sm pull-right" ng-click="isUpdating || addLabel(service)" ng-disabled="isUpdating">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> label\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServiceLabels.length === 0">\n      <p>There are no labels for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body classes="no-padding" ng-if="service.ServiceLabels.length > 0">\n      <table class="table">\n        <thead>\n          <tr>\n            <th> Label </th>\n            <th> Value </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="label in service.ServiceLabels">\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size"></span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="label.key"\n                  placeholder=" com.example.foo"\n                  ng-change="updateLabel(service, label)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">value</span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="label.value"\n                  placeholder=" bar"\n                  ng-change="updateLabel(service, label)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-sm btn-danger" type="button" ng-click="removeLabel(service, $index)" ng-disabled="isUpdating">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceLabels\'])" ng-click="updateService(service)"></button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceLabels\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},72493:e=>{var t="app/docker/views/services/edit/includes/tasks.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="tasks.length > 0 && nodes" id="service-tasks">\n  <tasks-datatable\n    title-text="Tasks"\n    title-icon="fa-tasks"\n    dataset="tasks"\n    table-key="service-tasks"\n    order-by="Updated"\n    reverse-order="true"\n    nodes="nodes"\n    show-slot-column="service.Mode !== \'global\'"\n    show-logs-button="applicationState.endpoint.apiVersion >= 1.30"\n    agent-proxy="applicationState.endpoint.mode.agentProxy"\n  ></tasks-datatable>\n</div>\n')}]),e.exports=t},87512:e=>{var t="app/docker/views/services/edit/includes/updateconfig.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-update-config">\n  <rd-widget>\n    <rd-widget-header icon="fa-list-alt" title-text="Update configuration"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <table class="table">\n        <tbody>\n          <tr>\n            <td>Update Parallelism</td>\n            <td>\n              <input\n                class="input-sm"\n                type="number"\n                ng-model="service.UpdateParallelism"\n                ng-change="updateServiceAttribute(service, \'UpdateParallelism\')"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Maximum number of tasks to be updated simultaneously (0 to update all at once). </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Update Delay</td>\n            <td>\n              <input\n                class="input-sm"\n                type="text"\n                ng-model="service.UpdateDelay"\n                ng-change="updateServiceAttribute(service, \'UpdateDelay\')"\n                ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Amount of time between updates expressed by a number followed by unit (ns|us|ms|s|m|h). Example: 1m. </p>\n            </td>\n          </tr>\n          <tr>\n            <td></td>\n            <td>\n              <div class="form-group">\n                <label class="radio-inline">\n                  <input\n                    type="radio"\n                    name="failure_action"\n                    ng-model="service.UpdateFailureAction"\n                    value="continue"\n                    ng-change="updateServiceAttribute(service, \'UpdateFailureAction\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                  Continue\n                </label>\n                <label class="radio-inline">\n                  <input\n                    type="radio"\n                    name="failure_action"\n                    ng-model="service.UpdateFailureAction"\n                    value="pause"\n                    ng-change="updateServiceAttribute(service, \'UpdateFailureAction\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                  Pause\n                </label>\n              </div>\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Action taken on failure to start after update. </p>\n            </td>\n          </tr>\n          <tr ng-if="applicationState.endpoint.apiVersion >= 1.29">\n            <td></td>\n            <td>\n              <div class="form-group">\n                <label class="radio-inline">\n                  <input\n                    type="radio"\n                    name="updateconfig_order"\n                    ng-model="service.UpdateOrder"\n                    value="start-first"\n                    ng-change="updateServiceAttribute(service, \'UpdateOrder\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                  start-first\n                </label>\n                <label class="radio-inline">\n                  <input\n                    type="radio"\n                    name="updateconfig_order"\n                    ng-model="service.UpdateOrder"\n                    value="stop-first"\n                    ng-change="updateServiceAttribute(service, \'UpdateOrder\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                  stop-first\n                </label>\n              </div>\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Operation order on failure. </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="!hasChanges(service, [\'UpdateFailureAction\', \'UpdateDelay\', \'UpdateParallelism\', \'UpdateOrder\'])"\n            ng-click="updateService(service)"\n            ></button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'UpdateFailureAction\', \'UpdateDelay\', \'UpdateParallelism\', \'UpdateOrder\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},66973:e=>{var t="app/docker/views/services/edit/service.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Service details">\n    <a data-toggle="tooltip" title="" ui-sref="docker.services.service({id: service.Id})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.services"></a> &gt; <a ui-sref="docker.services.service({id: service.Id})">{{ service.Name }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div ng-if="isUpdating" class="col-lg-12 col-md-12 col-xs-12">\n    <div class="alert alert-info" role="alert" id="service-update-alert">\n      <p>This service is being updated. Editing this service is currently disabled.</p>\n      <a ui-sref="docker.services.service({id: service.Id}, {reload: true})"></a>\n    </div>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-9 col-md-9 col-xs-9">\n    <rd-widget>\n      <rd-widget-header icon="fa-list-alt" title-text="Service details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td ng-if="applicationState.endpoint.apiVersion <= 1.24">\n                <input type="text" class="form-control" ng-model="service.Name" ng-change="updateServiceAttribute(service, \'Name\')" ng-disabled="isUpdating" />\n              </td>\n              <td ng-if="applicationState.endpoint.apiVersion >= 1.25">\n                {{ service.Name }}\n              </td>\n            </tr>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ service.Id }}\n              </td>\n            </tr>\n            <tr ng-if="service.CreatedAt">\n              <td></td>\n              <td>{{ service.CreatedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="service.UpdatedAt">\n              <td>Last updated at</td>\n              <td>{{ service.UpdatedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="service.Version">\n              <td></td>\n              <td>{{ service.Version }}</td>\n            </tr>\n            <tr>\n              <td>Scheduling mode</td>\n              <td>{{ service.Mode }}</td>\n            </tr>\n            <tr ng-if="service.Mode === \'replicated\'">\n              <td></td>\n              <td>\n                <span ng-if="service.Mode === \'replicated\'">\n                  <input\n                    class="input-sm"\n                    type="number"\n                    ng-model="service.Replicas"\n                    ng-change="updateServiceAttribute(service, \'Replicas\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                </span>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ service.Image }}</td>\n            </tr>\n            <tr ng-if="applicationState.endpoint.type !== 4 && hasAuthorizations([\'PortainerWebhookCreate\', \'PortainerWebhookList\', \'PortainerWebhookDelete\'])">\n              <td colspan="{{ webhookURL ? \'1\' : \'2\' }}">\n                Service webhook\n                <portainer-tooltip\n                  position="top"\n                  message="Webhook (or callback URI) used to automate the update of this service. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this service."\n                ></portainer-tooltip>\n                <label class="switch" style="margin-left: 20px">\n                  <input\n                    disable-authorization="DockerServiceUpdate"\n                    type="checkbox"\n                    ng-model="WebhookExists"\n                    ng-click="updateWebhook(service)"\n                    ng-disabled="disabledWebhookButton(WebhookExists)"\n                  /><i></i>\n                </label>\n              </td>\n              <td ng-if="webhookURL">\n                <span class="text-muted">{{ webhookURL | truncatelr }}</span>\n                <button type="button" class="btn btn-sm btn-primary btn-sm space-left" ng-if="webhookURL" ng-click="copyWebhook()">\n                  <span><i class="fa fa-copy space-right" aria-hidden="true"></i>Copy link</span>\n                </button>\n                <span>\n                  <i id="copyNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i>\n                </span>\n              </td>\n            </tr>\n            <tr authorization="DockerServiceLogs, DockerServiceUpdate, DockerServiceDelete">\n              <td colspan="2">\n                <p class="small text-muted" authorization="DockerServiceUpdate">\n                  Note: you can only rollback one level of changes. Clicking the rollback button without making a new change will undo your previous rollback </p\n                ><p>\n                  <a\n                    authorization="DockerServiceLogs"\n                    ng-if="applicationState.endpoint.apiVersion >= 1.3"\n                    class="btn btn-primary btn-sm"\n                    type="button"\n                    ui-sref="docker.services.service.logs({id: service.Id})"\n                    ><i class="fa fa-file-alt space-right" aria-hidden="true"></i>Service logs</a\n                  >\n                  <button\n                    authorization="DockerServiceUpdate,DockerServiceForceUpdateService"\n                    type="button"\n                    class="btn btn-primary btn-sm"\n                    ng-disabled="state.updateInProgress || isUpdating"\n                    ng-click="forceUpdateService(service)"\n                    button-spinner="state.updateInProgress"\n                    ng-if="applicationState.endpoint.apiVersion >= 1.25"\n                  >\n                    <span ng-hide="state.updateInProgress"><i class="fa fa-sync space-right" aria-hidden="true"></i>Update the service</span>\n                    <span ng-show="state.updateInProgress">...</span>\n                  </button>\n                  <button\n                    authorization="DockerServiceUpdate"\n                    type="button"\n                    class="btn btn-primary btn-sm"\n                    ng-disabled="state.rollbackInProgress || isUpdating"\n                    ng-click="rollbackService(service)"\n                    button-spinner="state.rollbackInProgress"\n                    ng-if="applicationState.endpoint.apiVersion >= 1.25"\n                  >\n                    <span ng-hide="state.rollbackInProgress"><i class="fa fa-undo space-right" aria-hidden="true"></i>Rollback the service</span>\n                    <span ng-show="state.rollbackInProgress">Rollback in progress...</span>\n                  </button>\n                  <button\n                    authorization="DockerServiceDelete"\n                    type="button"\n                    class="btn btn-danger btn-sm"\n                    ng-disabled="state.deletionInProgress || isUpdating"\n                    ng-click="removeService()"\n                    button-spinner="state.deletionInProgress"\n                  >\n                    <span ng-hide="state.deletionInProgress"><i class="fa fa-trash-alt space-right" aria-hidden="true"></i>Delete the service</span>\n                    <span ng-show="state.deletionInProgress">Deletion in progress...</span>\n                  </button>\n                </p></td\n              >\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n      <rd-widget-footer authorization="DockerServiceUpdate">\n        <p class="small text-muted">\n          Do you need help? View the Docker Service documentation <a href="https://docs.docker.com/engine/reference/commandline/service_update/" target="self">here</a>.\n        </p>\n        <div class="btn-toolbar" role="toolbar">\n          <div class="btn-group" role="group">\n            <button type="button" class="btn btn-primary" ng-disabled="!hasChanges(service, [\'Mode\', \'Replicas\', \'Name\', \'Webhooks\'])" ng-click="updateService(service)"\n              ></button\n            >\n            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu">\n              <li><a ng-click="cancelChanges(service, [\'Mode\', \'Replicas\', \'Name\'])">Reset changes</a></li>\n              <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n            </ul>\n          </div>\n        </div>\n      </rd-widget-footer>\n    </rd-widget>\n  </div>\n\n  <div class="col-lg-3 col-md-3 col-xs-3">\n    <rd-widget>\n      <rd-widget-header icon="fa-bars" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <ul class="nav nav-pills nav-stacked">\n          <li><a href ng-click="goToItem(\'service-env-variables\')"></a></li>\n          <li><a href ng-click="goToItem(\'service-container-image\')"></a></li>\n          <li><a href ng-click="goToItem(\'service-container-labels\')"></a></li>\n          <li><a href ng-click="goToItem(\'service-mounts\')">Mounts</a></li>\n          <li><a href ng-click="goToItem(\'service-network-specs\')"> &amp; </a></li>\n          <li><a href ng-click="goToItem(\'service-resources\')">Resource limits &amp; reservations</a></li>\n          <li><a href ng-click="goToItem(\'service-placement-constraints\')">Placement constraints</a></li>\n          <li ng-if="applicationState.endpoint.apiVersion >= 1.3"><a href ng-click="goToItem(\'service-placement-preferences\')"></a></li>\n          <li><a href ng-click="goToItem(\'service-restart-policy\')"></a></li>\n          <li><a href ng-click="goToItem(\'service-update-config\')">Update configuration</a></li>\n          <li><a href ng-click="goToItem(\'service-logging\')">Logging</a></li>\n          <li><a href ng-click="goToItem(\'service-labels\')">Service labels</a></li>\n          <li><a href ng-click="goToItem(\'service-configs\')">Configs</a></li>\n          <li ng-if="applicationState.endpoint.apiVersion >= 1.25"><a href ng-click="goToItem(\'service-secrets\')">Secrets</a></li>\n          <li><a href ng-click="goToItem(\'service-tasks\')">Tasks</a></li>\n        </ul>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<por-access-control-panel ng-if="service" resource-id="service.Id" resource-control="service.ResourceControl" resource-type="\'service\'"> </por-access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div class="row">\n  <hr />\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <h3 id="container-specs">Container specification</h3>\n    <div id="service-container-spec" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/container-specs.html\'"></div>\n    <div id="service-container-image" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/image.html\'"></div>\n    <div id="service-env-variables" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/environmentvariables.html\'"></div>\n    <div id="service-container-labels" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/containerlabels.html\'"></div>\n    <div id="service-mounts" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/mounts.html\'"></div>\n  </div>\n</div>\n\n<div class="row">\n  <hr />\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <h3 id="service-network-specs">Networks &amp; ports</h3>\n    <div id="service-networks" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/networks.html\'"></div>\n    <div id="service-published-ports" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/ports.html\'"></div>\n    <div id="service-hosts-entries" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/hosts.html\'"></div>\n  </div>\n</div>\n\n<div class="row">\n  <hr />\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <h3 id="service-specs">Service specification</h3>\n    <div id="service-resources" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/resources.html\'"></div>\n    <div id="service-placement-constraints" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/constraints.html\'"></div>\n    <div\n      id="service-placement-preferences"\n      ng-if="applicationState.endpoint.apiVersion >= 1.3"\n      class="padding-top"\n      ng-include="\'app/docker/views/services/edit/includes/placementPreferences.html\'"\n    ></div>\n    <div id="service-restart-policy" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/restart.html\'"></div>\n    <div id="service-update-config" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/updateconfig.html\'"></div>\n    <div id="service-logging" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/logging.html\'"></div>\n    <div id="service-labels" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/servicelabels.html\'"></div>\n    <div id="service-configs" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/configs.html\'"></div>\n    <div id="service-secrets" ng-if="applicationState.endpoint.apiVersion >= 1.25" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/secrets.html\'"></div>\n    <div id="service-tasks" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/tasks.html\'"></div>\n  </div>\n</div>\n')}]),e.exports=t},42382:e=>{var t="app/docker/views/services/logs/servicelogs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Service logs"></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.services"></a> > <a ui-sref="docker.services.service({id: service.Id})">{{ service.Name }}</a> &gt; Logs\n  </rd-header-content>\n</rd-header>\n\n<log-viewer\n  data="logs"\n  ng-if="logs"\n  log-collection-change="changeLogCollection"\n  display-timestamps="state.displayTimestamps"\n  line-count="state.lineCount"\n  since-timestamp="state.sinceTimestamp"\n  resource-name="service.Name"\n></log-viewer>\n')}]),e.exports=t},3903:e=>{var t="app/docker/views/services/services.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Service list">\n    <a data-toggle="tooltip" title="" ui-sref="docker.services" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="services">\n  <div class="col-sm-12">\n    <services-datatable\n      title-text="Services"\n      title-icon="fa-list-alt"\n      dataset="services"\n      table-key="services"\n      order-by="Name"\n      nodes="nodes"\n      agent-proxy="applicationState.endpoint.mode.agentProxy"\n      show-update-action="applicationState.endpoint.apiVersion >= 1.25"\n      show-task-logs-button="applicationState.endpoint.apiVersion >= 1.30"\n      show-add-action="true"\n      show-stack-column="true"\n      refresh-callback="getServices"\n      endpoint-public-url="endpoint.PublicURL"\n      endpoint-id="endpoint.Id"\n    ></services-datatable>\n  </div>\n</div>\n')}]),e.exports=t},12367:e=>{var t="app/docker/views/swarm/swarm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Cluster overview">\n    <a data-toggle="tooltip" title="" ui-sref="docker.swarm" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Swarm</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-object-group" title-text="Cluster status"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>{{ info.Swarm.Nodes }}</td>\n            </tr>\n            <tr>\n              <td>Docker API version</td>\n              <td>{{ docker.ApiVersion }}</td>\n            </tr>\n            <tr>\n              <td> CPU</td>\n              <td>{{ totalCPU }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ totalMemory | humansize: 2 }}</td>\n            </tr>\n            <tr>\n              <td colspan="2">\n                <div class="btn-group" role="group" aria-label="...">\n                  <a ui-sref="docker.swarm.visualizer"><i class="fa fa-object-group space-right" aria-hidden="true"></i>Go to cluster visualizer</a>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <nodes-datatable\n      title-text="Nodes"\n      title-icon="fa-hdd"\n      dataset="nodes"\n      table-key="nodes"\n      order-by="Hostname"\n      show-ip-address-column="applicationState.endpoint.apiVersion >= 1.25"\n      access-to-node-details="isAdmin"\n      refresh-callback="getNodes"\n    ></nodes-datatable>\n  </div>\n</div>\n')}]),e.exports=t},40640:e=>{var t="app/docker/views/swarm/visualizer/swarmvisualizer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Swarm visualizer">\n    <a data-toggle="tooltip" title="" ui-sref="docker.swarm.visualizer" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content> <a ui-sref="docker.swarm">Swarm</a> &gt; <a ui-sref="docker.swarm.visualizer">Cluster visualizer</a> </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-object-group" title-text="Cluster information">\n        <div class="pull-right">\n          <button type="button" class="btn btn-sm btn-primary" ng-click="changeShowInformationPanel(true)" ng-if="!state.ShowInformationPanel">Show</button>\n          <button type="button" class="btn btn-sm btn-primary" ng-click="changeShowInformationPanel(false)" ng-if="state.ShowInformationPanel">  </button>\n        </div>\n      </rd-widget-header>\n      <rd-widget-body ng-if="state.ShowInformationPanel">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>{{ nodes.length }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ services.length }}</td>\n            </tr>\n            <tr>\n              <td>Tasks</td>\n              <td>{{ tasks.length }}</td>\n            </tr>\n          </tbody>\n        </table>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Options </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label class="control-label text-left"> Only display running tasks </label>\n              <label class="switch" style="margin-left: 20px">\n                <input type="checkbox" ng-model="state.DisplayOnlyRunningTasks" ng-change="changeDisplayOnlyRunningTasks()" /><i></i>\n              </label>\n            </div>\n            <div class="col-sm-12">\n              <label class="control-label text-left"> Display node labels </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="state.DisplayNodeLabels" ng-change="changeDisplayNodeLabels()" /><i></i> </label>\n            </div>\n          </div>\n        </form>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Refresh </div>\n          <div class="form-group">\n            <label for="refreshRate" class="col-sm-1 margin-sm-top control-label text-left">\n              Rate\n              <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="display: none"></i>\n            </label>\n            <div class="col-sm-2">\n              <select id="refreshRate" ng-model="state.refreshRate" ng-change="changeUpdateRepeater()" class="form-control">\n                <option value="5">5s</option>\n                <option value="10">10s</option>\n                <option value="30">30s</option>\n                <option value="60">60s</option>\n              </select>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="visualizerData">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-object-group" title-text="Cluster visualizer"></rd-widget-header>\n      <rd-widget-body>\n        <div class="visualizer_container">\n          <div class="node" ng-repeat="node in visualizerData.nodes | orderBy : [\'Role\', \'Hostname\'] track by $index">\n            <div class="node_info">\n              <div>\n                <div>\n                  <b>{{ node.Name || node.Hostname }}</b>\n                  <span class="node_platform">\n                    <i class="fab fa-linux" aria-hidden="true" ng-if="node.PlatformOS === \'linux\'"></i>\n                    <i class="fab fa-windows" aria-hidden="true" ng-if="node.PlatformOS === \'windows\'"></i>\n                  </span>\n                </div>\n              </div>\n              <div>{{ node.Role }}</div>\n              <div>CPU: {{ node.CPUs / 1000000000 }}</div>\n              <div>Memory: {{ node.Memory | humansize: 2 }}</div>\n              <div\n                ><span class="label label-{{ node.Status | nodestatusbadge }}">{{ node.Status }}</span></div\n              >\n              <div class="node_labels" ng-if="node.Labels.length > 0 && state.DisplayNodeLabels">\n                <div></div>\n                <div class="node_label" ng-repeat="label in node.Labels">\n                  <span class="label_key">\n                    {{ label.key }}\n                  </span>\n                  <span class="label_value" ng-if="label.value"> = {{ label.value }} </span>\n                </div>\n              </div>\n            </div>\n            <div class="tasks">\n              <div\n                class="task task_{{ task.Status.State | visualizerTask }}"\n                style="border: 2px solid {{ task.ServiceId | visualizerTaskBorderColor }}"\n                ng-repeat="task in node.Tasks | orderBy: \'ServiceName\' | filter: (state.DisplayOnlyRunningTasks || \'\') && { Status: { State: \'running\' } }"\n              >\n                <div class="service_name">{{ task.ServiceName }}</div>\n                <div>Image: {{ task.Spec.ContainerSpec.Image | hideshasum }}</div>\n                <div>Status: {{ task.Status.State }}</div>\n                <div>Update: {{ task.Updated | getisodate }}</div>\n                <div ng-if="task.Spec.Resources.Limits.MemoryBytes">: {{ task.Spec.Resources.Limits.MemoryBytes | humansize: 2:2 }}</div>\n                <div ng-if="task.Spec.Resources.Limits.NanoCPUs">CPU : {{ task.Spec.Resources.Limits.NanoCPUs / 1000000000 }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},32240:e=>{var t="app/docker/views/tasks/edit/task.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Task details"></rd-header-title>\n  <rd-header-content ng-if="task && service">\n    <a ui-sref="docker.services"></a> &gt; <a ui-sref="docker.services.service({id: service.Id })">{{ service.Name }}</a> &gt; {{ task.Id }}\n  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="task && service">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-tasks" title-text="Task status"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>ID</td>\n              <td>{{ task.Id }}</td>\n            </tr>\n            <tr>\n              <td>State</td>\n              <td\n                ><span class="label label-{{ task.Status.State | taskstatusbadge }}">{{ task.Status.State }}</span></td\n              >\n            </tr>\n            <tr>\n              <td>State Message</td>\n              <td>{{ task.Status.Message }}</td>\n            </tr>\n            <tr ng-if="task.Status.Err">\n              <td>Error message</td>\n              <td\n                ><code>{{ task.Status.Err }}</code></td\n              >\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ task.Spec.ContainerSpec.Image | hideshasum }}</td>\n            </tr>\n            <tr ng-if="service.Mode !== \'global\'">\n              <td>Slot</td>\n              <td>{{ task.Slot }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ task.Created | getisodate }}</td>\n            </tr>\n            <tr ng-if="task.Status.ContainerStatus.ContainerID">\n              <td>Container ID</td>\n              <td>{{ task.Status.ContainerStatus.ContainerID }}</td>\n            </tr>\n            <tr ng-if="applicationState.endpoint.apiVersion >= 1.3 && task.Status.State | taskhaslogs">\n              <td colspan="2"\n                ><a class="btn btn-primary btn-sm" type="button" ui-sref="docker.tasks.task.logs({id: task.Id})"\n                  ><i class="fa fa-file-alt space-right" aria-hidden="true"></i>Task logs</a\n                ></td\n              >\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},62770:e=>{var t="app/docker/views/tasks/logs/tasklogs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Task details"></rd-header-title>\n  <rd-header-content ng-if="task && service">\n    <a ui-sref="docker.services"></a> &gt; <a ui-sref="docker.services.service({id: service.Id })">{{ service.Name }}</a> &gt;\n    <a ui-sref="docker.tasks.task({id: task.Id })">{{ task.Id }}</a> &gt; Logs\n  </rd-header-content>\n</rd-header>\n\n<log-viewer\n  data="logs"\n  ng-if="logs"\n  log-collection-change="changeLogCollection"\n  display-timestamps="state.displayTimestamps"\n  line-count="state.lineCount"\n  since-timestamp="state.sinceTimestamp"\n  resource-name="task.Id"\n></log-viewer>\n')}]),e.exports=t},90347:e=>{var t="app/docker/views/volumes/browse/browsevolume.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Volume browser"></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.volumes"></a> &gt; <a ui-sref="docker.volumes.volume({ id: volumeId })">{{ volumeId }}</a> &gt; browse\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <volume-browser volume-id="volumeId" node-name="nodeName" is-upload-enabled="agentApiVersion > 1" endpoint-id="endpointId"></volume-browser>\n  </div>\n</div>\n')}]),e.exports=t},9713:e=>{var t="app/docker/views/volumes/create/createvolume.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.volumes"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="volumeCreationForm">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="volume_name" class="col-sm-2 col-md-1 control-label text-left"></label>\n            <div class="col-sm-10 col-md-11">\n              <input type="text" class="form-control" ng-model="formValues.Name" id="volume_name" placeholder=" myVolume" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="col-sm-12 form-section-title">  </div>\n          \x3c!-- driver-input --\x3e\n          <div class="form-group">\n            <label for="volume_driver" class="col-sm-2 col-md-1 control-label text-left"></label>\n            <div class="col-sm-10 col-md-11">\n              <select class="form-control" ng-options="driver for driver in availableVolumeDrivers" ng-model="formValues.Driver" ng-if="availableVolumeDrivers.length > 0">\n                <option disabled hidden value="">Select a driver</option>\n              </select>\n              <input type="text" class="form-control" ng-model="formValues.Driver" id="volume_driver" placeholder=" driverName" ng-if="availableVolumeDrivers.length === 0" />\n            </div>\n          </div>\n          \x3c!-- !driver-input --\x3e\n          \x3c!-- driver-options --\x3e\n          <div class="form-group" ng-hide="formValues.CIFSData.useCIFS || formValues.NFSData.useNFS">\n            <div class="col-sm-12" style="margin-top: 5px">\n              <label class="control-label text-left">\n                \n                <portainer-tooltip\n                  position="bottom"\n                  message=" "\n                ></portainer-tooltip>\n              </label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addDriverOption()">\n                <i class="fa fa-plus-circle" aria-hidden="true"></i> \n              </span>\n            </div>\n            \x3c!-- driver-options-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="option in formValues.DriverOptions" style="margin-top: 2px">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon"></span>\n                  <input type="text" class="form-control" ng-model="option.name" placeholder=" mountpoint" />\n                </div>\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="option.value" placeholder=" /path/on/host" />\n                </div>\n                <button class="btn btn-sm btn-danger" type="button" ng-click="removeDriverOption($index)">\n                  <i class="fa fa-trash" aria-hidden="true"></i>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !driver-options-input-list --\x3e\n          </div>\n          \x3c!-- !driver-options --\x3e\n          \x3c!-- nfs-management --\x3e\n          <div class="form-group col-md-12">\n            <label for="useNFS" class="control-label text-left"> NFS </label>\n            <label class="switch" style="margin-left: 20px">\n              <input type="checkbox" name="useNFS" ng-model="formValues.NFSData.useNFS" ng-click="formValues.CIFSData.useCIFS = false" />\n              <i></i>\n            </label>\n            <div ng-if="formValues.NFSData.useNFS" class="small text-muted" style="margin-top: 10px"> Ensure <code>nfs-utils</code> are installed on your hosts. </div>\n          </div>\n          <volumes-nfs-form data="formValues.NFSData" ng-show="formValues.Driver === \'local\'"></volumes-nfs-form>\n          \x3c!-- !nfs-management --\x3e\n          \x3c!-- cifs-management --\x3e\n          <div class="form-group col-md-12">\n            <label for="useCIFS" class="control-label text-left"> CIFS </label>\n            <label class="switch" style="margin-left: 20px">\n              <input type="checkbox" name="useCIFS" ng-model="formValues.CIFSData.useCIFS" ng-click="formValues.NFSData.useNFS = false" />\n              <i></i>\n            </label>\n            <div ng-if="formValues.CIFSData.useCIFS" class="small text-muted" style="margin-top: 10px"> Ensure <code>cifs-utils</code> are installed on your hosts. </div>\n          </div>\n          <volumes-cifs-form data="formValues.CIFSData" ng-show="formValues.Driver === \'local\'"></volumes-cifs-form>\n          \x3c!-- !cifs-management --\x3e\n          <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && formValues.Driver === \'local\'">\n            <div class="col-sm-12 form-section-title"> Deployment </div>\n            \x3c!-- node-selection --\x3e\n            <node-selector model="formValues.NodeName"> </node-selector>\n            \x3c!-- !node-selection --\x3e\n          </div>\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-click="create()"\n                ng-disabled="state.actionInProgress || (formValues.NFSData.useNFS && !volumeCreationForm.nfsInformationForm.$valid) || (formValues.CIFSData.useCIFS && !volumeCreationForm.cifsInformationForm.$valid)"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress"></span>\n                <span ng-show="state.actionInProgress">Creating volume...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},10577:e=>{var t="app/docker/views/volumes/edit/volume.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="docker.volumes"></a> &gt; <a ui-sref="docker.volumes.volume({id: volume.Id})">{{ volume.Id }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="volume">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-cube" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ volume.Id }}\n                <button authorization="DockerVolumeDelete" class="btn btn-xs btn-danger" ng-click="removeVolume()"\n                  ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i></button\n                >\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ volume.CreatedAt | getisodate }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ volume.Mountpoint }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ volume.Driver }}</td>\n            </tr>\n            <tr ng-if="!(volume.Labels | emptyobject)">\n              <td></td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in volume.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<por-access-control-panel ng-if="volume" resource-id="volume.ResourceId" resource-control="volume.ResourceControl" resource-type="\'volume\'"> </por-access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div class="row" ng-if="!(volume.Options | emptyobject)">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-cogs" title-text="Volume options"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr ng-repeat="(key, value) in volume.Options">\n              <td>{{ key }}</td>\n              <td>{{ value }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row" ng-if="containersUsingVolume.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-cubes" title-text="Containers using volume"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <th></th>\n            <th>Mounted At</th>\n            <th></th>\n          </thead>\n          <tbody>\n            <tr ng-repeat="container in containersUsingVolume">\n              <td\n                ><a ui-sref="docker.containers.container({ id: container.Id, nodeName: container.NodeName })">{{ container | containername }}</a></td\n              >\n              <td>{{ container.volumeData.Destination }}</td>\n              <td>{{ !container.volumeData.RW }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},95290:e=>{var t="app/docker/views/volumes/volumes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.volumes" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<div class="row">\n  <div class="col-sm-12">\n    <volumes-datatable\n      title-text=""\n      title-icon="fa-hdd"\n      dataset="volumes"\n      table-key="volumes"\n      order-by="Id"\n      remove-action="removeAction"\n      show-host-column="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      show-browse-action="showBrowseAction"\n      offline-mode="offlineMode"\n      refresh-callback="getVolumes"\n    ></volumes-datatable>\n  </div>\n</div>\n')}]),e.exports=t},31140:e=>{var t="app/edge/components/associated-endpoints-datatable/associatedEndpointsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          auto-focus\n          placeholder="..."\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'GroupName\')">\n                  Group\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'GroupName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'GroupName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in $ctrl.state.filteredDataSet | itemsPerPage: $ctrl.state.paginatedItemLimit"\n              total-items="$ctrl.state.totalFilteredDataSet"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span>{{ item.Name }}</span>\n              </td>\n\n              <td>{{ item.GroupName }}</td>\n            </tr>\n            <tr ng-if="$ctrl.state.loading">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No environment available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="!$ctrl.state.loading">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" on-page-change="$ctrl.onPageChange(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},18514:e=>{var t="app/edge/components/edge-groups-selector/edgeGroupsSelector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- on-select/on-remove are called with model because ui-select uses 2-way-binding --\x3e\n<ui-select\n  multiple\n  ng-model="$ctrl.model"\n  close-on-select="false"\n  on-select="$ctrl.onChange($ctrl.model)"\n  on-remove="$ctrl.onChange($ctrl.model)"\n  data-cy="edgeGroupCreate-edgeGroupsSelector"\n>\n  <ui-select-match placeholder="Select one or multiple group(s)">\n    <span>\n      {{ $item.Name }}\n    </span>\n  </ui-select-match>\n  <ui-select-choices repeat="item.Id as item in $ctrl.items | filter: { Name: $select.search }">\n    <span>\n      {{ item.Name }}\n    </span>\n  </ui-select-choices>\n</ui-select>\n')}]),e.exports=t},7422:e=>{var t="app/edge/components/edge-job-form/edgeJobForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="edgeJobForm">\n  <div class="col-sm-12 form-section-title"> Edge job configuration </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="edgejob_name" class="col-sm-1 control-label text-left"></label>\n    <div class="col-sm-11">\n      <input\n        type="text"\n        class="form-control"\n        ng-model="$ctrl.model.Name"\n        ng-pattern="/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/"\n        id="edgejob_name"\n        name="edgejob_name"\n        placeholder="backup-app-prod"\n        required\n        auto-focus\n      />\n    </div>\n  </div>\n  <div class="form-group" ng-show="edgeJobForm.edgejob_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="edgeJobForm.edgejob_name.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        <p ng-message="pattern"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Allowed characters are: [a-zA-Z0-9_.-]</p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- cron-input --\x3e\n  \x3c!-- edge-job-method-select --\x3e\n  <div class="col-sm-12 form-section-title"> Edge job configuration </div>\n  <div class="form-group"></div>\n  <div class="form-group" style="margin-bottom: 0">\n    <div class="boxselector_wrapper">\n      <div>\n        <input type="radio" id="config_basic" ng-model="$ctrl.formValues.cronMethod" value="basic" />\n        <label for="config_basic">\n          <div class="boxselector_header">\n            <i class="fa fa-calendar-alt" aria-hidden="true" style="margin-right: 2px"></i>\n            Basic configuration\n          </div>\n          <p>Select date from calendar</p>\n        </label>\n      </div>\n      <div>\n        <input type="radio" id="config_advanced" ng-model="$ctrl.formValues.cronMethod" value="advanced" />\n        <label for="config_advanced">\n          <div class="boxselector_header">\n            <i class="fa fa-edit" aria-hidden="true" style="margin-right: 2px"></i>\n            Advanced configuration\n          </div>\n          <p>Write your own cron rule</p>\n        </label>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !edge-job-method-select --\x3e\n  \x3c!-- basic-edge-job --\x3e\n  <div ng-if="$ctrl.formValues.cronMethod === \'basic\'">\n    <div class="form-group">\n      <label for="recurring" class="col-sm-2 control-label text-left">Recurring Edge job</label>\n      <div class="col-sm-10">\n        <label class="switch" style="margin-left: 20px"> <input type="checkbox" name="recurring" ng-model="$ctrl.model.Recurring" /><i></i> </label>\n      </div>\n    </div>\n    \x3c!-- not-recurring --\x3e\n    <div ng-if="!$ctrl.model.Recurring">\n      <div class="form-group">\n        <label for="edgejob_cron" class="col-sm-2 control-label text-left">Schedule date</label>\n        <div class="col-sm-10">\n          <input class="form-control" moment-picker ng-model="$ctrl.formValues.datetime" format="YYYY-MM-DD HH:mm" />\n        </div>\n        <div class="col-sm-12 small text-muted" style="margin-top: 10px"> Time should be set according to the chosen environments\' timezone. </div>\n        <div ng-show="edgeJobForm.datepicker.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="edgeJobForm.datepicker.$error">\n              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !not-recurring --\x3e\n    \x3c!-- recurring --\x3e\n    <div ng-if="$ctrl.model.Recurring">\n      <div class="form-group">\n        <label for="edgejob_value" class="col-sm-2 control-label text-left">Edge job time</label>\n        <div class="col-sm-10">\n          <select\n            id="edgejob_value"\n            name="edgejob_value"\n            class="form-control"\n            ng-model="$ctrl.formValues.scheduleValue"\n            ng-options="value.displayed for value in $ctrl.scheduleValues"\n            required\n          ></select>\n        </div>\n        <div ng-show="edgeJobForm.edgejob_value.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="edgeJobForm.edgejob_value.$error">\n              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !recurring --\x3e\n  </div>\n  \x3c!-- !basic-edge-job --\x3e\n  \x3c!-- advanced-schedule --\x3e\n  <div ng-if="$ctrl.formValues.cronMethod === \'advanced\'">\n    <div class="form-group">\n      <label for="edgejob_cron" class="col-sm-2 control-label text-left">Cron rule</label>\n      <div class="col-sm-10">\n        <input\n          type="text"\n          class="form-control"\n          ng-model="$ctrl.model.CronExpression"\n          id="edgejob_cron"\n          name="edgejob_cron"\n          placeholder="0 2 * * *"\n          required\n          ng-pattern="$ctrl.cronRegex"\n        />\n      </div>\n      <div class="col-sm-12 small text-muted" style="margin-top: 10px"> Time should be set according to the chosen environments\' timezone. </div>\n    </div>\n    <div class="form-group" ng-show="edgeJobForm.edgejob_cron.$invalid && edgeJobForm.edgejob_cron.$dirty">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="edgeJobForm.edgejob_cron.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n          <p ng-message="pattern"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field format is invalid.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !advanced-schedule --\x3e\n\n  \x3c!-- execution-method --\x3e\n  <div ng-if="!$ctrl.model.Id">\n    <div class="col-sm-12 form-section-title"> Job content </div>\n    <div class="form-group"></div>\n    <div class="form-group" style="margin-bottom: 0">\n      <div class="boxselector_wrapper">\n        <div>\n          <input type="radio" id="method_editor" ng-model="$ctrl.formValues.method" value="editor" />\n          <label for="method_editor">\n            <div class="boxselector_header">\n              <i class="fa fa-edit" aria-hidden="true" style="margin-right: 2px"></i>\n              Web editor\n            </div>\n            <p>Use our Web editor</p>\n          </label>\n        </div>\n        <div>\n          <input type="radio" id="method_upload" ng-model="$ctrl.formValues.method" value="upload" />\n          <label for="method_upload">\n            <div class="boxselector_header">\n              <i class="fa fa-upload" aria-hidden="true" style="margin-right: 2px"></i>\n              Upload\n            </div>\n            <p>Upload from your computer</p>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !execution-method --\x3e\n  \x3c!-- web-editor --\x3e\n  <div ng-show="$ctrl.formValues.method === \'editor\'">\n    <div class="col-sm-12 form-section-title"> Web editor </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <code-editor\n          identifier="execute-edge-job-editor"\n          placeholder="# Define or paste the content of your script file here"\n          on-change="($ctrl.editorUpdate)"\n          value="$ctrl.model.FileContent"\n        ></code-editor>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !web-editor --\x3e\n  \x3c!-- upload --\x3e\n  <div ng-show="$ctrl.formValues.method === \'upload\'">\n    <div class="col-sm-12 form-section-title"></div>\n    <div class="form-group">\n      <span class="col-sm-12 text-muted small"> You can upload a script file from your computer. </span>\n    </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.model.File"></button>\n        <span style="margin-left: 5px">\n          {{ $ctrl.model.File.name }}\n          <i class="fa fa-times red-icon" ng-if="!$ctrl.model.File" aria-hidden="true"></i>\n        </span>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !upload --\x3e\n  <div class="col-sm-12 form-section-title"> Target environments </div>\n  \x3c!-- node-selection --\x3e\n  <associated-endpoints-selector\n    endpoint-ids="$ctrl.model.Endpoints"\n    tags="$ctrl.tags"\n    groups="$ctrl.groups"\n    has-backend-pagination="true"\n    on-associate="($ctrl.associateEndpoint)"\n    on-dissociate="($ctrl.dissociateEndpoint)"\n  ></associated-endpoints-selector>\n  \x3c!-- !node-selection --\x3e\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="button"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !edgeJobForm.$valid\n        || $ctrl.model.Endpoints.length === 0\n        || ($ctrl.formValues.method === \'upload\' && !$ctrl.model.File)\n        || ($ctrl.formValues.method === \'editor\' && !$ctrl.model.FileContent)\n        "\n        ng-click="$ctrl.action()"\n        button-spinner="$ctrl.actionInProgress"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n      <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n        {{ $ctrl.state.formValidationError }}\n      </span>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},88832:e=>{var t="app/edge/components/edge-job-results-datatable/edgeJobResultsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable edge-job-results-datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle">\n          <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i>\n          {{ $ctrl.titleText }}\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" placeholder="..." auto-focus ng-model-options="{ debounce: 300 }" />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover table-filters nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Endpoint\')">\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Endpoint\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Endpoint\' && $ctrl.state.reverseOrder"></i>\n                  \n                </a>\n              </th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                {{ item.Endpoint.Name }}\n              </td>\n              <td>\n                <button ng-if="item.LogsStatus === 0 || item.LogsStatus === 1" class="btn btn-sm btn-primary" ng-click="$ctrl.collectLogs(item.EndpointId)"> Retrieve logs </button>\n                <button ng-if="item.LogsStatus === 3" class="btn btn-sm btn-primary" ng-click="$ctrl.onDownloadLogsClick(item.EndpointId)"> Download logs </button>\n                <button ng-if="item.LogsStatus === 3" class="btn btn-sm btn-primary" ng-click="$ctrl.onClearLogsClick(item.EndpointId)"> Clear logs </button>\n                <span ng-if="item.LogsStatus === 2"> Logs marked for collection, please wait until the logs are available. </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="9" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="9" class="text-center text-muted">No result available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},14186:e=>{var t="app/edge/components/edge-jobs-datatable/edgeJobsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="edge.jobs.new"> <i class="fa fa-plus space-right" aria-hidden="true"></i>Add Edge job </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" placeholder="..." auto-focus ng-model-options="{ debounce: 300 }" />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CronExpression\')">\n                  Cron expression\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CronExpression\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CronExpression\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Created\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Created\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Created\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="edge.jobs.job({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>\n                {{ item.CronExpression }}\n              </td>\n              <td>{{ item.Created | getisodatefromtimestamp }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No Edge job available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},23423:e=>{var t="app/edge/components/edge-stack-deployment-type-selector/edge-stack-deployment-type-selector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Deployment type </div>\n<box-selector radio-name="\'deploymentType\'" value="$ctrl.value" options="$ctrl.deploymentOptions" on-change="($ctrl.onChange)"></box-selector>\n')}]),e.exports=t},77656:e=>{var t="app/edge/components/edge-stack-endpoints-datatable/edgeStackEndpointsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          auto-focus\n          placeholder="..."\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Status\')">\n                  Status\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Error\')">\n                  Error\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Error\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Error\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in $ctrl.state.filteredDataSet | itemsPerPage: $ctrl.state.paginatedItemLimit"\n              total-items="$ctrl.state.totalFilteredDataSet"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>{{ item.Name }}</td>\n              <td>{{ $ctrl.statusMap[item.Status.Type] || \'Pending\' }}</td>\n              <td>{{ item.Status.Error ? item.Status.Error : \'-\' }}</td>\n            </tr>\n            <tr ng-if="$ctrl.state.loading">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No environment available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="!$ctrl.state.loading">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" on-page-change="$ctrl.onPageChange(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},53501:e=>{var t="app/edge/components/edge-stack-status/edgeStackStatus.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span class="status" title="Acknowledged environments"><i class="acknowledged icon"></i>{{ $ctrl.status.acknowledged || 0 }}</span>\n<span class="status" title="Successful environments"><i class="ok icon"></i>{{ $ctrl.status.ok || 0 }}</span>\n<span class="status" title="Failed environments"><i class="error icon"></i>{{ $ctrl.status.error || 0 }}</span>\n')}]),e.exports=t},3942:e=>{var t="app/edge/components/edge-stacks-datatable/edgeStacksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle">\n          <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i>\n          Edge Stacks\n        </div>\n        <div class="settings" data-cy="edgeStack-stackTableSettings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle> <i class="fa fa-cog" aria-hidden="true"></i>  </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input\n                        id="setting_auto_refresh"\n                        type="checkbox"\n                        ng-model="$ctrl.settings.repeater.autoRefresh"\n                        ng-change="$ctrl.onSettingsRepeaterChange()"\n                        data-cy="edgeStack-autoRefreshCheckbox"\n                      />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">  </a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="edgeStack-removeStackButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="edge.stacks.new" data-cy="edgeStack-addStackButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="edgeStack-stackTable">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" data-cy="edgeStack-selectAllCheckbox" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th> Status </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CreationDate\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="edge.stacks.edit({ stackId: item.Id })">\n                  {{ item.Name }}\n                </a>\n              </td>\n              <td><edge-stack-status stack-status="item.Status"></edge-stack-status></td>\n              <td>{{ item.CreationDate | getisodatefromtimestamp }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset" data-cy="edgeStack-loadingRow">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0" data-cy="edgeStack-noStackRow">\n              <td colspan="4" class="text-center text-muted">  </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},51367:e=>{var t="app/edge/components/edit-edge-stack-form/editEdgeStackForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal">\n  <div class="col-sm-12 form-section-title"> Edge Groups </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <edge-groups-selector model="$ctrl.model.EdgeGroups" items="$ctrl.edgeGroups" on-change="($ctrl.onChangeGroups)"></edge-groups-selector>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="!$ctrl.validateEndpointsForDeployment()">\n    <div class="col-sm-12">\n      <div class="small text-muted space-right text-warning">\n        <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i>\n        One or more of the selected Edge group contains Edge Docker endpoints that cannot be used with a Kubernetes Edge stack.\n      </div>\n    </div>\n  </div>\n\n  <edge-stack-deployment-type-selector\n    value="$ctrl.model.DeploymentType"\n    has-docker-endpoint="$ctrl.hasDockerEndpoint"\n    on-change="($ctrl.onChangeDeploymentType)"\n  ></edge-stack-deployment-type-selector>\n\n  <div class="form-group" ng-if="$ctrl.model.DeploymentType === 0 && $ctrl.hasKubeEndpoint()">\n    <div class="col-sm-12">\n      <div class="small text-muted space-right">\n        <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i>\n        Portainer uses <a href="https://kompose.io/" target="_blank">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not all the\n        Compose format options are supported by Kompose at the moment.\n      </div>\n    </div>\n  </div>\n\n  <web-editor-form\n    ng-if="$ctrl.model.DeploymentType === 0"\n    value="$ctrl.model.StackFileContent"\n    yml="true"\n    identifier="compose-editor"\n    placeholder="#  docker-compose "\n    on-change="($ctrl.onChangeComposeConfig)"\n  >\n    <editor-description>\n      <div>\n        \n        <a href="https://docs.docker.com/compose/compose-file/" target="_blank">  </a>\n         Compose \n      </div>\n    </editor-description>\n  </web-editor-form>\n\n  <web-editor-form\n    ng-if="$ctrl.model.DeploymentType === 1"\n    value="$ctrl.model.StackFileContent"\n    yml="true"\n    identifier="kube-manifest-editor"\n    placeholder="# Define or paste the content of your manifest here"\n    on-change="($ctrl.onChangeKubeManifest)"\n  >\n    <editor-description>\n      <p>\n        You can get more information about Kubernetes file format in the\n        <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank">official documentation</a>.\n      </p>\n    </editor-description>\n  </web-editor-form>\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="button"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.isFormValid()"\n        ng-click="$ctrl.submitAction()"\n        button-spinner="$ctrl.actionInProgress"\n      >\n        <span ng-hide="$ctrl.actionInProgress">Update the stack</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},68393:e=>{var t="app/edge/components/group-form/groupForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="EdgeGroupForm" ng-submit="$ctrl.formAction()">\n  <div class="form-group">\n    <label for="group_name" class="col-sm-3 col-lg-2 control-label text-left"> Name </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="group_name" name="group_name" ng-model="$ctrl.model.Name" required auto-focus data-cy="edgeGroupCreate-groupNameInput" />\n    </div>\n  </div>\n  <div class="form-group" ng-show="EdgeGroupForm.group_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="EdgeGroupForm.group_name.$error">\n        <p ng-message="required">\n          <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n          \n        </p>\n      </div>\n    </div>\n  </div>\n\n  <div class="col-sm-12 form-section-title"> Group type </div>\n  <div class="form-group col-sm-12">\n    <div class="boxselector_wrapper">\n      <div class="boxselector">\n        <input type="radio" id="static-group" ng-model="$ctrl.model.Dynamic" ng-value="false" ng-checked="!$ctrl.model.Dynamic" />\n        <label for="static-group">\n          <div class="boxselector_header">\n            <i class="fa fa-list-ol" aria-hidden="true" style="margin-right: 2px"></i>\n            Static\n          </div>\n          <p>Manually select Edge environments</p>\n        </label>\n      </div>\n      <div class="boxselector">\n        <input type="radio" id="dynamic-group" ng-model="$ctrl.model.Dynamic" ng-value="true" ng-checked="$ctrl.model.Dynamic" />\n        <label for="dynamic-group">\n          <div class="boxselector_header">\n            <i class="fa fa-tags" aria-hidden="true" style="margin-right: 2px"></i>\n            Dynamic\n          </div>\n          <p>Automatically associate environments via tags</p>\n        </label>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- StaticGroup --\x3e\n  <div ng-if="!$ctrl.model.Dynamic">\n    <div ng-if="!$ctrl.noEndpoints">\n      \x3c!-- environments --\x3e\n      <div class="col-sm-12 form-section-title"> Associated environments </div>\n      <div class="form-group">\n        <associated-endpoints-selector\n          endpoint-ids="$ctrl.model.Endpoints"\n          tags="$ctrl.tags"\n          groups="$ctrl.groups"\n          has-backend-pagination="true"\n          on-associate="($ctrl.associateEndpoint)"\n          on-dissociate="($ctrl.dissociateEndpoint)"\n        ></associated-endpoints-selector>\n      </div>\n    </div>\n    <div class="form-group" ng-if="$ctrl.noEndpoints">\n      <div class="col-sm-12 small text-muted">\n        No Edge environments are available. Head over to the <a ui-sref="portainer.endpoints"></a> to add environments.\n      </div>\n    </div>\n  </div>\n  \x3c!-- !StaticGroup --\x3e\n\n  \x3c!-- DynamicGroup --\x3e\n  <div ng-if="$ctrl.model.Dynamic">\n    <div class="col-sm-12 form-section-title"> Tags </div>\n    <div ng-if="$ctrl.tags.length" class="form-group col-sm-12">\n      <div class="boxselector_wrapper">\n        <div class="boxselector">\n          <input type="radio" id="or-selector" ng-model="$ctrl.model.PartialMatch" ng-value="true" ng-checked="$ctrl.model.PartialMatch" />\n          <label for="or-selector">\n            <div class="boxselector_header">\n              <i class="fa fa-tag" aria-hidden="true" style="margin-right: 2px"></i>\n              Partial match\n            </div>\n            <p>Associate any environment matching at least one of the selected tags</p>\n          </label>\n        </div>\n        <div class="boxselector">\n          <input type="radio" id="and-selector" ng-model="$ctrl.model.PartialMatch" ng-value="false" ng-checked="!$ctrl.model.PartialMatch" />\n          <label for="and-selector">\n            <div class="boxselector_header">\n              <i class="fa fa-tag" aria-hidden="true" style="margin-right: 2px"></i>\n              Full match\n            </div>\n            <p>Associate any environment matching all of the selected tags</p>\n          </label>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <tag-selector ng-if="$ctrl.tags.length" tags="$ctrl.tags" model="$ctrl.model.TagIds"></tag-selector>\n      <div ng-if="$ctrl.tags && !$ctrl.tags.length" class="col-sm-12 small text-muted">\n        No tags available. Head over to the <a ui-sref="portainer.tags">Tags view</a> to add tags\n      </div>\n    </div>\n    <div class="col-sm-12 form-section-title"> Associated environments by tags </div>\n    <div class="col-sm-12 form-group">\n      <group-association-table\n        loaded="$ctrl.loaded"\n        page-type="$ctrl.pageType"\n        table-type="associated"\n        retrieve-page="$ctrl.getDynamicEndpoints"\n        dataset="$ctrl.endpoints.value"\n        pagination-state="$ctrl.endpoints.state"\n        empty-dataset-message="No associated endpoint"\n        tags="$ctrl.tags"\n        show-tags="true"\n        groups="$ctrl.groups"\n        show-groups="true"\n        has-backend-pagination="true"\n      ></group-association-table>\n    </div>\n  </div>\n  \x3c!-- !DynamicGroup --\x3e\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !EdgeGroupForm.$valid || (!$ctrl.model.Dynamic && !$ctrl.model.Endpoints.length) || ($ctrl.model.Dynamic && !$ctrl.model.TagIds.length)"\n        button-spinner="$ctrl.actionInProgress"\n        data-cy="edgeGroupCreate-addGroupButton"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},48384:e=>{var t="app/edge/components/groups-datatable/groupsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-header icon="{{ $ctrl.titleIcon }}" title-text="Edge Groups"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="actionBar">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="edgeGroup-removeEdgeGroupButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="edge.groups.new" data-cy="edgeGroup-addEdgeGroupButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Add Edge group\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n          data-cy="edgeGroup-searchInput"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="edgeGroup-edgeGroupTable">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" data-cy="edgeGroup-selectAllCheckbox" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Endpoints.length\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Endpoints.length\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Endpoints.length\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Dynamic\')">\n                  Group \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Dynamic\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Dynamic\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-disabled="item.HasEdgeStack" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="edge.groups.edit({groupId: item.Id})">{{ item.Name }}</a>\n                <span ng-if="item.HasEdgeStack" class="label label-info image-tag space-left">in use</span>\n              </td>\n              <td>{{ item.Endpoints.length }}</td>\n              <td>{{ item.Dynamic ? \'Dynamic\' : \'Static\' }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted"> No Edge group available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},72725:e=>{var t="app/edge/views/edge-devices/edgeDevicesView/edgeDevicesView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edge Devices">\n    <a data-toggle="tooltip" title="" ui-sref="edge.devices" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Edge Devices</rd-header-content>\n</rd-header>\n\n<div\n  class="row"\n  style="width: 100%; height: 100%; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center"\n  ng-if="$ctrl.loadingMessage"\n>\n  <div class="sk-fold">\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n  </div>\n  <span style="margin-top: 25px">\n    {{ $ctrl.loadingMessage }}\n    <i class="fa fa-cog fa-spin"></i>\n  </span>\n</div>\n\n<div class="row" ng-if="!$ctrl.loadingMessage">\n  <div class="col-sm-12">\n    <edge-devices-datatable\n      dataset="($ctrl.edgeDevices)"\n      is-fdo-enabled="($ctrl.isFDOEnabled)"\n      is-open-amt-enabled="($ctrl.isOpenAMTEnabled)"\n      disable-trust-on-first-connect="($ctrl.disableTrustOnFirstConnect)"\n      mps-server="($ctrl.mpsServer)"\n      on-refresh="($ctrl.getEnvironments)"\n      set-loading-message="($ctrl.setLoadingMessage)"\n    ></edge-devices-datatable>\n  </div>\n</div>\n')}]),e.exports=t},4690:e=>{var t="app/edge/views/edge-groups/createEdgeGroupView/createEdgeGroupView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create edge group"></rd-header-title>\n  <rd-header-content> <a ui-sref="edge.groups">Edge groups</a> &gt; Add edge group </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <edge-group-form\n          loaded="$ctrl.state.loaded"\n          page-type="create"\n          form-action-label="Add edge group"\n          form-action="$ctrl.createGroup"\n          groups="$ctrl.endpointGroups"\n          tags="$ctrl.tags"\n          model="$ctrl.model"\n          on-change-tags="($ctrl.onChangeTags)"\n        ></edge-group-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},52934:e=>{var t="app/edge/views/edge-groups/edgeGroupsView/edgeGroupsView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edge Groups">\n    <a data-toggle="tooltip" title="" ui-sref="edge.groups" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Edge Groups</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <edge-groups-datatable title-icon="fa-object-group" table-key="EdgeGroups" order-by="Name" dataset="$ctrl.items" remove-action="$ctrl.removeAction"></edge-groups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},25575:e=>{var t="app/edge/views/edge-groups/editEdgeGroupView/editEdgeGroupView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edit edge group"></rd-header-title>\n  <rd-header-content> <a ui-sref="edge.groups">Edge Groups</a> &gt; {{ $ctrl.model.Name }} </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="$ctrl.model">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <edge-group-form\n          loaded="$ctrl.state.loaded"\n          page-type="edit"\n          form-action-label="Save edge group"\n          form-action="$ctrl.updateGroup"\n          endpoints="$ctrl.endpoints"\n          groups="$ctrl.endpointGroups"\n          tags="$ctrl.tags"\n          model="$ctrl.model"\n        ></edge-group-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},4913:e=>{var t="app/edge/views/edge-jobs/createEdgeJobView/createEdgeJobView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create Edge job"></rd-header-title>\n  <rd-header-content> <a ui-sref="edge.jobs">Edge Jobs</a> &gt; Create Edge job </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <edge-job-form\n          model="$ctrl.model"\n          groups="$ctrl.groups"\n          tags="$ctrl.tags"\n          form-action="$ctrl.create"\n          form-action-label="Create edge job"\n          action-in-progress="$ctrl.state.actionInProgress"\n          is-editor-dirty="$ctrl.state.isEditorDirty"\n        ></edge-job-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},14399:e=>{var t="app/edge/views/edge-jobs/edgeJob/edgeJob.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edge job details">\n    <a data-toggle="tooltip" title-text="" ui-sref="edge.jobs.job({id: $ctrl.edgeJob.Id, tab: $ctrl.state.activeTab})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content> <a ui-sref="edge.jobs">Edge jobs</a> &gt; {{ ::$ctrl.edgeJob.Name }} </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <uib-tabset active="$ctrl.state.activeTab">\n          <uib-tab index="0" select="$ctrl.showEditor()">\n            <uib-tab-heading> <i class="fa fa-wrench" aria-hidden="true"></i> Configuration </uib-tab-heading>\n\n            <edge-job-form\n              ng-if="$ctrl.edgeJob && $ctrl.state.showEditorTab"\n              model="$ctrl.edgeJob"\n              endpoints="endpoints"\n              groups="$ctrl.groups"\n              tags="$ctrl.tags"\n              form-action="$ctrl.update"\n              form-action-label="Update Edge job"\n              action-in-progress="$ctrl.state.actionInProgress"\n              is-editor-dirty="$ctrl.state.isEditorDirty"\n            ></edge-job-form>\n          </uib-tab>\n\n          <uib-tab index="1">\n            <uib-tab-heading> <i class="fa fa-tasks" aria-hidden="true"></i> Results </uib-tab-heading>\n\n            <edge-job-results-datatable\n              style="display: block; margin-top: 10px"\n              ng-if="$ctrl.results"\n              title-text="Results"\n              title-icon="fa-tasks"\n              dataset="$ctrl.results"\n              table-key="edge-job-results"\n              order-by="Status"\n              reverse-order="true"\n              refresh-callback="$ctrl.refresh"\n              on-download-logs-click="($ctrl.downloadLogs)"\n              on-collect-logs-click="($ctrl.collectLogs)"\n              on-clear-logs-click="($ctrl.clearLogs)"\n            ></edge-job-results-datatable>\n          </uib-tab>\n        </uib-tabset>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},53684:e=>{var t="app/edge/views/edge-jobs/edgeJobsView/edgeJobsView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edge Jobs">\n    <a data-toggle="tooltip" title="" ui-sref="edge.jobs" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Edge Jobs</rd-header-content>\n</rd-header>\n\n<beta-panel></beta-panel>\n\n<div class="row">\n  <div class="col-sm-12">\n    <edge-jobs-datatable\n      title-text="Edge jobs"\n      title-icon="fa-clock"\n      dataset="$ctrl.edgeJobs"\n      table-key="edgeJobs"\n      order-by="Name"\n      remove-action="$ctrl.removeAction"\n    ></edge-jobs-datatable>\n  </div>\n</div>\n')}]),e.exports=t},71818:e=>{var t="app/edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create Edge stack"></rd-header-title>\n  <rd-header-content> <a ui-sref="edge.stacks">Edge Stacks</a> &gt; Create Edge stack </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.form">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="stack_name" class="col-sm-1 control-label text-left"> Name </label>\n            <div class="col-sm-11">\n              <input\n                type="text"\n                class="form-control"\n                ng-model="$ctrl.formValues.Name"\n                id="stack_name"\n                name="nameField"\n                placeholder=" mystack"\n                auto-focus\n                required\n                data-cy="edgeStackCreate-nameInput"\n              />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n\n          <div class="col-sm-12 form-section-title"> Edge Groups </div>\n          <div class="form-group" ng-if="$ctrl.edgeGroups">\n            <div class="col-sm-12">\n              <edge-groups-selector ng-if="!$ctrl.noGroups" model="$ctrl.formValues.Groups" on-change="($ctrl.onChangeGroups)" items="$ctrl.edgeGroups"></edge-groups-selector>\n            </div>\n            <div ng-if="$ctrl.noGroups" class="col-sm-12 small text-muted">\n              No Edge groups are available. Head over to the <a ui-sref="edge.groups">Edge groups view</a> to create one.\n            </div>\n          </div>\n\n          <edge-stack-deployment-type-selector\n            value="$ctrl.formValues.DeploymentType"\n            has-docker-endpoint="$ctrl.hasDockerEndpoint"\n            on-change="($ctrl.onChangeDeploymentType)"\n          ></edge-stack-deployment-type-selector>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <div class="small text-muted space-right" ng-if="$ctrl.formValues.DeploymentType === 0 && $ctrl.hasKubeEndpoint()">\n                <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i>\n                Portainer uses <a href="https://kompose.io/" target="_blank">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not all\n                the Compose format options are supported by Kompose at the moment.\n              </div>\n            </div>\n          </div>\n\n          <edge-stacks-docker-compose-form ng-if="$ctrl.formValues.DeploymentType == 0" form-values="$ctrl.formValues" state="$ctrl.state"></edge-stacks-docker-compose-form>\n\n          <edge-stacks-kube-manifest-form ng-if="$ctrl.formValues.DeploymentType == 1" form-values="$ctrl.formValues" state="$ctrl.state"></edge-stacks-kube-manifest-form>\n\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.state.actionInProgress || $ctrl.formIsInvalid()"\n                ng-click="$ctrl.createStack()"\n                button-spinner="$ctrl.state.actionInProgress"\n                analytics-on\n                analytics-event="edge-stack-creation"\n                analytics-category="edge"\n                analytics-properties="$ctrl.buildAnalyticsProperties()"\n                data-cy="edgeStackCreate-createStackButton"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress">Deploy the stack</span>\n                <span ng-show="$ctrl.state.actionInProgress">Deployment in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},2892:e=>{var t="app/edge/views/edge-stacks/createEdgeStackView/docker-compose-form/docker-compose-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Build method </div>\n<box-selector radio-name="\'method\'" value="$ctrl.state.Method" options="$ctrl.methodOptions" on-change="($ctrl.onChangeMethod)"></box-selector>\n\n<web-editor-form\n  ng-if="$ctrl.state.Method === \'editor\'"\n  identifier="stack-creation-editor"\n  value="$ctrl.formValues.StackFileContent"\n  on-change="($ctrl.onChangeFileContent)"\n  ng-required="true"\n  yml="true"\n  placeholder="#  docker-compose "\n>\n  <editor-description>\n    \n    <a href="https://docs.docker.com/compose/compose-file/" target="_blank">  </a>\n     Compose \n  </editor-description>\n</web-editor-form>\n\n<file-upload-form ng-if="$ctrl.state.Method === \'upload\'" file="$ctrl.formValues.StackFile" on-change="($ctrl.onChangeFile)" ng-required="true">\n  <file-upload-description> You can upload a Compose file from your computer. </file-upload-description>\n</file-upload-form>\n\n<git-form ng-if="$ctrl.state.Method === \'repository\'" model="$ctrl.formValues" on-change="($ctrl.onChangeFormValues)"></git-form>\n\n\x3c!-- template --\x3e\n<div ng-if="$ctrl.state.Method === \'template\'">\n  <div class="form-group">\n    <label for="stack_template" class="col-sm-1 control-label text-left"> Template </label>\n    <div class="col-sm-11">\n      <select\n        class="form-control"\n        ng-model="$ctrl.selectedTemplate"\n        ng-options="template as template.label for template in $ctrl.templates"\n        ng-change="$ctrl.onChangeTemplate($ctrl.selectedTemplate)"\n      >\n        <option value="" label="Select an Edge stack template" disabled selected="selected"> </option>\n      </select>\n    </div>\n  </div>\n  \x3c!-- description --\x3e\n  <div ng-if="$ctrl.selectedTemplate.note">\n    <div class="col-sm-12 form-section-title"> Information </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <div class="template-note" ng-bind-html="$ctrl.selectedTemplate.note"></div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !description --\x3e\n\n  <web-editor-form\n    ng-if="$ctrl.selectedTemplate && $ctrl.formValues.StackFileContent"\n    identifier="template-content-editor"\n    value="$ctrl.formValues.StackFileContent"\n    on-change="($ctrl.onChangeFileContent)"\n    yml="true"\n    placeholder="#  docker-compose "\n    ng-required="true"\n  >\n  </web-editor-form>\n\n  \x3c!-- !template --\x3e\n</div>\n')}]),e.exports=t},87700:e=>{var t="app/edge/views/edge-stacks/createEdgeStackView/kube-deploy-description/kube-deploy-description.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<p>\n  <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n  This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\n</p>\n<p>\n  \n  <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank"></a> Kubernetes \n</p>\n')}]),e.exports=t},65398:e=>{var t="app/edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/kube-manifest-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Build method </div>\n<box-selector radio-name="\'method\'" value="$ctrl.state.Method" options="$ctrl.methodOptions" on-change="($ctrl.onChangeMethod)"></box-selector>\n\n<web-editor-form\n  ng-if="$ctrl.state.Method === \'editor\'"\n  identifier="stack-creation-editor"\n  value="$ctrl.formValues.StackFileContent"\n  on-change="($ctrl.onChangeFileContent)"\n  yml="true"\n  placeholder="# "\n  ng-required="true"\n>\n  <editor-description>\n    <kube-deploy-description></kube-deploy-description>\n  </editor-description>\n</web-editor-form>\n\n<file-upload-form ng-if="$ctrl.state.Method === \'upload\'" file="$ctrl.formValues.StackFile" on-change="($ctrl.onChangeFile)" ng-required="true">\n  <file-upload-description>\n    <kube-deploy-description></kube-deploy-description>\n  </file-upload-description>\n</file-upload-form>\n\n<git-form ng-if="$ctrl.state.Method === \'repository\'" deploy-method="kubernetes" model="$ctrl.formValues" on-change="($ctrl.onChangeFormValues)"></git-form>\n')}]),e.exports=t},51919:e=>{var t="app/edge/views/edge-stacks/edgeStacksView/edgeStacksView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edge Stacks list">\n    <a data-toggle="tooltip" title="" ui-sref="edge.stacks" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Edge Stacks</rd-header-content>\n</rd-header>\n<div class="row">\n  <div class="col-sm-12">\n    <edge-stacks-datatable\n      title-text="Edge Stacks"\n      title-icon="fa-th-list"\n      dataset="$ctrl.stacks"\n      table-key="edgeStacks"\n      order-by="Name"\n      remove-action="$ctrl.removeAction"\n      refresh-callback="$ctrl.getStacks"\n    ></edge-stacks-datatable>\n  </div>\n</div>\n')}]),e.exports=t},48023:e=>{var t="app/edge/views/edge-stacks/editEdgeStackView/editEdgeStackView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edit Edge stack">\n    <a data-toggle="tooltip" title="" ui-sref="edge.stacks.edit({stackId:$ctrl.stack.Id, tab: $ctrl.state.activeTab})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content> <a ui-sref="edge.stacks">Edge Stacks</a> &gt; {{ $ctrl.stack.Name }} </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="$ctrl.stack">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body classes="no-padding">\n        <uib-tabset active="$ctrl.state.activeTab" justified="true" type="pills">\n          <uib-tab index="0" classes="btn-sm">\n            <uib-tab-heading> <i class="fa fa-layer-group space-right" aria-hidden="true"></i> Stack</uib-tab-heading>\n\n            <div style="padding: 20px">\n              <edit-edge-stack-form\n                edge-groups="$ctrl.edgeGroups"\n                model="$ctrl.formValues"\n                action-in-progress="$ctrl.state.actionInProgress"\n                submit-action="$ctrl.deployStack"\n                is-editor-dirty="$ctrl.state.isEditorDirty"\n              ></edit-edge-stack-form>\n            </div>\n          </uib-tab>\n          <uib-tab index="1" classes="btn-sm">\n            <uib-tab-heading> <i class="fa fa-plug space-right" aria-hidden="true"></i></uib-tab-heading>\n\n            <div style="margin-top: 25px">\n              <edge-stack-endpoints-datatable\n                title-text=""\n                dataset="$ctrl.endpoints"\n                title-icon="fa-plug"\n                table-key="edgeStackEndpoints"\n                order-by="Name"\n                retrieve-page="$ctrl.getPaginatedEndpoints"\n              >\n              </edge-stack-endpoints-datatable>\n            </div>\n          </uib-tab>\n        </uib-tabset>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},15879:e=>{var t="app/kubernetes/components/datatables/application/containers-datatable/containersDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div ng-if="$ctrl.refreshCallback" class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="k8sAppDetail-containerTable">\n          <thead>\n            <tr>\n              <th ng-if="!$ctrl.isPod">\n                <a ng-click="$ctrl.changeOrderBy(\'PodName\')">\n                  Pod\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PodName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PodName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Image\')">\n                  Image\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ImagePullPolicy\')">\n                  Image Pull Policy\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ImagePullPolicy\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ImagePullPolicy\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Status\')">\n                  Status\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Node\')">\n                  Node\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Node\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Node\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'IP\')">\n                  Pod IP\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IP\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IP\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CreationDate\')">\n                  Creation date\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td ng-if="!$ctrl.isPod">{{ item.PodName }}</td>\n              <td>{{ item.Name }}</td>\n              <td title="{{ item.Image }}">{{ item.Image | truncate: 64 }}</td>\n              <td>{{ item.ImagePullPolicy }}</td>\n              <td\n                ><span class="label label-{{ item.Status | kubernetesPodStatusColor }}">{{ item.Status }}</span></td\n              >\n              <td>\n                <span ng-if="item.Node">\n                  <a ng-if="$ctrl.accessNode" ui-sref="kubernetes.cluster.node({ name: item.Node })">\n                    {{ item.Node }}\n                  </a>\n                  <span ng-if="!$ctrl.accessNode">{{ item.Node }}</span>\n                </span>\n                <span ng-if="!item.Node">-</span>\n              </td>\n              <td>{{ item.PodIP }}</td>\n              <td>{{ item.CreationDate | getisodate }}</td>\n              <td>\n                <a\n                  ng-if="item.Status === \'Running\' && $ctrl.useServerMetrics"\n                  ui-sref="kubernetes.applications.application.stats({ pod: item.PodName, container: item.Name })"\n                  style="margin-right: 10px"\n                >\n                  <i class="fa fa-chart-area" aria-hidden="true"></i> Stats\n                </a>\n                <a ui-sref="kubernetes.applications.application.logs({ pod: item.PodName, container: item.Name })"> <i class="fa fa-file-alt" aria-hidden="true"></i> Logs </a>\n                <a\n                  ng-if="item.Status === \'Running\' && $ctrl.showConsole"\n                  ui-sref="kubernetes.applications.application.console({ pod: item.PodName, container: item.Name })"\n                  style="margin-left: 10px"\n                >\n                  <i class="fa fa-terminal" aria-hidden="true"></i> Console\n                </a>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="7" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="7" class="text-center text-muted">No pod available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},99055:e=>{var t="app/kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-xs-12 form-section-title"> Secrets </div>\n<table style="width: 50%">\n  <tbody>\n    <tr>\n      <td>\n        <sensitive-details ng-repeat="secret in $ctrl.state.secrets" key="{{ secret.key }}" value="{{ secret.value }}"> </sensitive-details>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),e.exports=t},57257:e=>{var t="app/kubernetes/components/datatables/applications-datatable-url/applications-datatable-url.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="published-url-container">\n  <div class="text-muted"> Published URL </div>\n  <a ng-href="{{ $ctrl.publishedUrl }}" target="_blank" class="publish-url-link"> <i class="fa fa-external-link-alt" aria-hidden="true"></i> {{ $ctrl.publishedUrl }} </a>\n</div>\n')}]),e.exports=t},69333:e=>{var t="app/kubernetes/components/datatables/applications-datatable/applicationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div ng-if="$ctrl.isPrimary" class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <span class="small text-muted" style="float: left; margin-top: 5px" authorization="K8sAccessSystemNamespaces" ng-if="!$ctrl.settings.showSystem">\n          <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n          System resources are hidden, this can be changed in the table settings.\n        </span>\n        <div class="settings" data-cy="k8sApp-tableSettings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" authorization="K8sAccessSystemNamespaces">\n                      <input id="applications_setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                      <label for="applications_setting_show_system">Show system resources</label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input\n                        id="setting_auto_refresh"\n                        type="checkbox"\n                        ng-model="$ctrl.settings.repeater.autoRefresh"\n                        ng-change="$ctrl.onSettingsRepeaterChange()"\n                        data-cy="k8sApp-autoRefreshCheckbox"\n                      />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select\n                        id="settings_refresh_rate"\n                        ng-model="$ctrl.settings.repeater.refreshRate"\n                        ng-change="$ctrl.onSettingsRepeaterChange()"\n                        class="small-select"\n                        data-cy="k8sApp-refreshRateDropdown"\n                      >\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;" data-cy="k8sApp-tableSettingsCloseButton"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div ng-if="$ctrl.isPrimary" class="actionBar" authorization="K8sApplicationsW">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="k8sApp-removeAppButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="kubernetes.applications.new" data-cy="k8sApp-addApplicationButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Add application with form\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="kubernetes.deploy" data-cy="k8sApp-deployFromManifestButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Create from manifest\n        </button>\n      </div>\n      <div ng-if="$ctrl.isPrimary" class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n          data-cy="k8sApp-searchApplicationsInput"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="k8sApp-appTable">\n          <thead ng-class="{ \'secondary-heading\': !$ctrl.isPrimary }">\n            <tr>\n              <th class="datatable-wide">\n                <span ng-if="$ctrl.isPrimary">\n                  <span class="md-checkbox" authorization="K8sApplicationsW">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" data-cy="k8sApp-selectAllCheckbox" />\n                    <label for="select_all"></label>\n                  </span>\n                  <a ng-click="$ctrl.expandAll()">\n                    <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                  </a>\n                </span>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'StackName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourcePool\')">\n                  Namespace\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourcePool\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourcePool\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Image\')">\n                  Image\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open">\n                <a ng-click="$ctrl.changeOrderBy(\'ApplicationType\')">\n                  Application \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ApplicationType\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ApplicationType\' && $ctrl.state.reverseOrder"></i>\n                </a>\n                <div>\n                  <span uib-dropdown-toggle class="table-filter" ng-if="!$ctrl.filters.state.enabled"><i class="fa fa-filter" aria-hidden="true"></i></span>\n                  <span uib-dropdown-toggle class="table-filter filter-active" ng-if="$ctrl.filters.state.enabled"><i class="fa fa-check" aria-hidden="true"></i></span>\n                </div>\n                <div class="dropdown-menu" uib-dropdown-menu>\n                  <div class="tableMenu">\n                    <div class="menuHeader"> Filter by application type </div>\n                    <div class="menuContent">\n                      <div class="md-checkbox" ng-repeat="filter in $ctrl.filters.state.values track by $index">\n                        <input id="filter_state_{{ $index }}" type="checkbox" ng-model="filter.display" ng-change="$ctrl.onStateFilterChange()" />\n                        <label for="filter_state_{{ $index }}">{{ filter.type | kubernetesApplicationTypeText }}</label>\n                      </div>\n                    </div>\n                    <div>\n                      <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;"></a>\n                    </div>\n                  </div>\n                </div>\n              </th>\n              <th> Status </th>\n              <th> Published </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CreationDate\')">\n                  \n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              ng-click="$ctrl.expandItem(item, !$ctrl.isItemExpanded(item))"\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.applyFilters | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              ng-class="{ active: item.Checked, interactive: $ctrl.isExpandable(item), \'secondary-body\': !$ctrl.isPrimary }"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td>\n                <span ng-if="$ctrl.isPrimary" class="md-checkbox" authorization="K8sApplicationsW">\n                  <input\n                    id="select_{{ $index }}"\n                    type="checkbox"\n                    ng-model="item.Checked"\n                    ng-click="$ctrl.selectItem(item, $event); $event.stopPropagation()"\n                    ng-disabled="$ctrl.isSystemNamespace(item)"\n                  />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ng-if="$ctrl.isExpandable(item)">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.isItemExpanded(item), \'fas fa-angle-right\': !$ctrl.isItemExpanded(item) }" class="space-right" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td>\n                <a ng-if="item.KubernetesApplications" ui-sref="kubernetes.helm({ name: item.Name, namespace: item.ResourcePool })" ng-click="$event.stopPropagation()"\n                  >{{ item.Name }}\n                </a>\n                <a\n                  ng-if="!item.KubernetesApplications"\n                  ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })"\n                  ng-click="$event.stopPropagation()"\n                  >{{ item.Name }}\n                </a>\n                <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n                <span class="label label-primary image-tag label-margins" ng-if="!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)">external</span>\n              </td>\n              <td>{{ item.StackName || \'-\' }}</td>\n              <td>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })" ng-click="$event.stopPropagation()">{{ item.ResourcePool }}</a>\n              </td>\n              <td title="{{ item.Image }}"\n                >{{ item.Image | truncate: 64 }} <span ng-if="item.Containers.length > 1">+ {{ item.Containers.length - 1 }}</span></td\n              >\n              <td>{{ item.ApplicationType | kubernetesApplicationTypeText }}</td>\n              <td ng-if="item.ApplicationType !== $ctrl.KubernetesApplicationTypes.POD">\n                <status-indicator ok="(item.TotalPodsCount > 0 && item.TotalPodsCount === item.RunningPodsCount) || item.Status === \'Ready\'"></status-indicator>\n                <span ng-if="item.DeploymentType === $ctrl.KubernetesApplicationDeploymentTypes.REPLICATED">Replicated</span>\n                <span ng-if="item.DeploymentType === $ctrl.KubernetesApplicationDeploymentTypes.GLOBAL">Global</span>\n                <span ng-if="item.RunningPodsCount >= 0 && item.TotalPodsCount >= 0"\n                  ><code>{{ item.RunningPodsCount }}</code> / <code>{{ item.TotalPodsCount }}</code></span\n                >\n                <span ng-if="item.KubernetesApplications">{{ item.Status }}</span>\n              </td>\n              <td ng-if="item.ApplicationType === $ctrl.KubernetesApplicationTypes.POD">\n                {{ item.Pods[0].Status }}\n              </td>\n              <td>\n                <span>\n                  {{ item.Services.length === 0 ? \'No\' : \'Yes\' }}\n                </span>\n              </td>\n              <td>{{ item.CreationDate | getisodate }} {{ item.ApplicationOwner ? \'by \' + item.ApplicationOwner : \'\' }}</td>\n            </tr>\n            <tr dir-paginate-end ng-show="$ctrl.isExpandable(item) && $ctrl.isItemExpanded(item)" ng-class="{ \'secondary-body\': $ctrl.isPrimary && !item.KubernetesApplications }">\n              <td></td>\n              <td colspan="8" class="datatable-padding-vertical">\n                <span ng-if="item.KubernetesApplications">\n                  <kubernetes-applications-datatable\n                    dataset="item.KubernetesApplications"\n                    table-key="{{ item.Id }}_table"\n                    settings-key="{{ $ctrl.tableKey }}"\n                    order-by="Name"\n                    remove-action="$ctrl.removeAction"\n                    refresh-callback="$ctrl.refreshCallback"\n                    on-publishing-mode-click="($ctrl.onPublishingModeClick)"\n                    is-primary="false"\n                  >\n                  </kubernetes-applications-datatable>\n                </span>\n                <span ng-if="!item.KubernetesApplications">\n                  <kubernetes-applications-datatable-url\n                    ng-if="$ctrl.getPublishedUrl(item)"\n                    published-url="{{ $ctrl.getPublishedUrl(item) }}"\n                  ></kubernetes-applications-datatable-url>\n                  <kubernetes-applications-datatable-details\n                    ng-if="$ctrl.hasConfigurationSecrets(item)"\n                    configurations="item.Configurations"\n                  ></kubernetes-applications-datatable-details>\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="8" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="8" class="text-center text-muted">No application available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div ng-if="$ctrl.isPrimary" class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},13181:e=>{var t="app/kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <span class="small text-muted" style="float: left; margin-top: 5px" authorization="K8sAccessSystemNamespaces" ng-if="!$ctrl.settings.showSystem">\n          <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n          System resources are hidden, this can be changed in the table settings.\n        </span>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" authorization="K8sAccessSystemNamespaces">\n                      <input id="ports_setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                      <label for="ports_setting_show_system">Show system resources</label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  Application\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th> Publishing mode </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'TargetPort\')">\n                  Exposed port\n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'TargetPort\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'TargetPort\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Port\')">\n                  Container port\n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Port\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Port\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th> HTTP route </th>\n            </tr>\n          </thead>\n          <tbody>\n            \x3c!-- main rows --\x3e\n            \x3c!-- dir-paginate-start track by $index --\x3e\n            <tr\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              pagination-id="$ctrl.tableKey"\n            >\n              \x3c!-- expandable --\x3e\n              <td>\n                <a ng-if="$ctrl.itemCanExpand(item)">\n                  <i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i>\n                </a>\n              </td>\n              \x3c!-- Application --\x3e\n              <td>\n                <a ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })">{{ item.Name }}</a>\n                <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n                <span class="label label-primary image-tag label-margins" ng-if="!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)">external</span>\n              </td>\n              \x3c!-- Publishing mode --\x3e\n              <td>\n                \x3c!-- LB --\x3e\n                <span ng-if="item.ServiceType === $ctrl.KubernetesServiceTypes.LOAD_BALANCER">\n                  <span> <i class="fa fa-project-diagram" aria-hidden="true" style="margin-right: 2px"></i> LoadBalancer </span>\n                  <span class="text-muted small" style="margin-left: 5px">\n                    <span ng-if="item.LoadBalancerIPAddress">{{ item.LoadBalancerIPAddress }}</span>\n                    <span ng-if="!item.LoadBalancerIPAddress">pending</span>\n                  </span>\n                </span>\n                \x3c!-- Internal --\x3e\n                <span ng-if="item.ServiceType === $ctrl.KubernetesServiceTypes.CLUSTER_IP">\n                  <i class="fa fa-list-alt" aria-hidden="true" style="margin-right: 2px"></i> ClusterIP\n                </span>\n                \x3c!-- Cluster --\x3e\n                <span ng-if="item.ServiceType === $ctrl.KubernetesServiceTypes.NODE_PORT"> <i class="fa fa-list" aria-hidden="true" style="margin-right: 2px"></i> NodePort </span>\n              </td>\n              \x3c!-- Exposed port --\x3e\n              <td>\n                <span ng-if="!$ctrl.itemCanExpand(item)">\n                  {{ item.Ports[0].Port }}\n                  <a ng-if="item.LoadBalancerIPAddress" ng-href="http://{{ item.LoadBalancerIPAddress }}:{{ item.Ports[0].Port }}" target="_blank" style="margin-left: 5px">\n                    <i class="fa fa-external-link-alt" aria-hidden="true"></i> access\n                  </a>\n                </span>\n              </td>\n              \x3c!-- Container port --\x3e\n              <td>\n                <span ng-if="!$ctrl.itemCanExpand(item)"> {{ item.Ports[0].TargetPort }}/{{ item.Ports[0].Protocol }} </span>\n              </td>\n              \x3c!-- HTTP route --\x3e\n              <td>\n                <span ng-if="!$ctrl.itemCanExpand(item)">\n                  <span ng-if="!$ctrl.portHasIngressRules(item.Ports[0])">-</span>\n                  <span ng-if="$ctrl.portHasIngressRules(item.Ports[0])">\n                    <span\n                      ng-if="!$ctrl.ruleCanBeDisplayed(item.Ports[0].IngressRules[0])"\n                      class="text-muted"\n                      tooltip-append-to-body="true"\n                      tooltip-placement="bottom"\n                      tooltip-class="portainer-tooltip"\n                      uib-tooltip="Ingress controller IP address not available yet"\n                      style="cursor: pointer"\n                      >pending\n                    </span>\n                    <span ng-if="$ctrl.ruleCanBeDisplayed(item.Ports[0].IngressRules[0])">\n                      <a ng-href="{{ $ctrl.buildIngressRuleURL(item.Ports[0].IngressRules[0]) }}" target="_blank">\n                        {{ $ctrl.buildIngressRuleURL(item.Ports[0].IngressRules[0]) | stripprotocol }}\n                      </a>\n                    </span>\n                  </span>\n                </span>\n              </td>\n            </tr>\n            \x3c!-- sub rows --\x3e\n            <tr ng-show="item.Expanded" ng-repeat-start="port in item.Ports" ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }">\n              <td ng-if="!$ctrl.portHasIngressRules(port)"></td>\n              <td ng-if="!$ctrl.portHasIngressRules(port)">-</td>\n              <td ng-if="!$ctrl.portHasIngressRules(port)">-</td>\n              <td ng-if="!$ctrl.portHasIngressRules(port)">\n                {{ port.Port }}\n                <a ng-if="item.LoadBalancerIPAddress" ng-href="http://{{ item.LoadBalancerIPAddress }}:{{ port.Port }}" target="_blank" style="margin-left: 5px">\n                  <i class="fa fa-external-link-alt" aria-hidden="true"></i> access\n                </a>\n              </td>\n              <td ng-if="!$ctrl.portHasIngressRules(port)">{{ port.TargetPort }}/{{ port.Protocol }}</td>\n              <td ng-if="!$ctrl.portHasIngressRules(port)">-</td>\n            </tr>\n            <tr\n              ng-show="item.Expanded"\n              ng-repeat-end\n              ng-repeat="rule in port.IngressRules"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td></td>\n              <td>-</td>\n              <td>-</td>\n              <td>\n                {{ port.Port }}\n                <a ng-if="item.LoadBalancerIPAddress" ng-href="http://{{ item.LoadBalancerIPAddress }}:{{ port.Port }}" target="_blank" style="margin-left: 5px">\n                  <i class="fa fa-external-link-alt" aria-hidden="true"></i> access\n                </a>\n              </td>\n              <td>{{ port.TargetPort }}/{{ port.Protocol }}</td>\n              <td>\n                <span\n                  ng-if="!$ctrl.ruleCanBeDisplayed(rule)"\n                  class="text-muted"\n                  tooltip-append-to-body="true"\n                  tooltip-placement="bottom"\n                  tooltip-class="portainer-tooltip"\n                  uib-tooltip="Ingress controller IP address not available yet"\n                  style="cursor: pointer"\n                  >pending\n                </span>\n                <span ng-if="$ctrl.ruleCanBeDisplayed(rule)">\n                  <a ng-href="{{ $ctrl.buildIngressRuleURL(rule) }}" target="_blank">\n                    {{ $ctrl.buildIngressRuleURL(rule) | stripprotocol }}\n                  </a>\n                </span>\n              </td>\n            </tr>\n            <tr dir-paginate-end></tr>\n            \x3c!-- no dataset --\x3e\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="6" class="text-center text-muted">...</td>\n            </tr>\n            \x3c!-- no values in filtered dataset --\x3e\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="6" class="text-center text-muted">No application port mapping available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},35558:e=>{var t="app/kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <span class="small text-muted" style="float: left; margin-top: 5px" authorization="K8sAccessSystemNamespaces" ng-if="!$ctrl.settings.showSystem">\n          <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n          System resources are hidden, this can be changed in the table settings.\n        </span>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" authorization="K8sAccessSystemNamespaces">\n                      <input id="stacks_setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                      <label for="stacks_setting_show_system">Show system resources</label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" authorization="K8sApplicationsW">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th style="width: 55px">\n                <span class="md-checkbox" authorization="K8sApplicationsW">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourcePool\')">\n                  Namespace\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourcePool\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourcePool\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Applications.length\')">\n                  Applications\n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Applications.length\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Applications.length\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td>\n                <span class="md-checkbox" authorization="K8sApplicationsW">\n                  <input\n                    id="select_{{ $index }}"\n                    type="checkbox"\n                    ng-model="item.Checked"\n                    ng-click="$ctrl.selectItem(item, $event); $event.stopPropagation();"\n                    ng-disabled="!$ctrl.allowSelection(item)"\n                  />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ng-if="$ctrl.itemCanExpand(item)">\n                  <i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td>\n                {{ item.Name }}\n              </td>\n              <td>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })" ng-click="$event.stopPropagation();">{{ item.ResourcePool }}</a>\n                <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemNamespace(item.ResourcePool)">system</span>\n              </td>\n              <td>{{ item.Applications.length }}</td>\n              <td>\n                <a ui-sref="kubernetes.stacks.stack.logs({ namespace: item.ResourcePool, name: item.Name })"> <i class="fa fa-file-alt" aria-hidden="true"></i> Logs </a>\n              </td>\n            </tr>\n            <tr\n              dir-paginate-end\n              ng-show="item.Expanded"\n              ng-repeat="app in item.Applications"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td></td>\n              <td colspan="4">\n                <a ui-sref="kubernetes.applications.application({ name: app.Name, namespace: app.ResourcePool })">{{ app.Name }}</a>\n                <span style="margin-left: 5px" class="label label-primary image-tag" ng-if="!$ctrl.isSystemNamespace(app.ResourcePool) && $ctrl.isExternalApplication(app)"\n                  >external</span\n                >\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted"></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},62178:e=>{var t="app/kubernetes/components/datatables/configurations-datatable/configurationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <span class="small text-muted" style="float: left; margin-top: 5px" authorization="K8sAccessSystemNamespaces" ng-if="!$ctrl.settings.showSystem">\n          <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n          System resources are hidden, this can be changed in the table settings.\n        </span>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle data-cy="k8sConfig-configSettingsButton"><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" authorization="K8sAccessSystemNamespaces">\n                      <input\n                        id="setting_show_system"\n                        type="checkbox"\n                        ng-model="$ctrl.settings.showSystem"\n                        ng-change="$ctrl.onSettingsShowSystemChange()"\n                        data-cy="k8sConfig-systemResourceCheckbox"\n                      />\n                      <label for="setting_show_system">Show system resources</label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;" data-cy="k8sConfig-closeSettingsButton"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" authorization="K8sConfigurationsW">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="k8sConfig-removeConfigButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="kubernetes.configurations.new" data-cy="k8sConfig-addConfigWithFormButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Add with form\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="kubernetes.deploy" data-cy="k8sConfig-deployFromManifestButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Create from manifest\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n          data-cy="k8sConfig-searchInput"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="k8sConfig-tableSettingsButtonconfigsTable">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox" authorization="K8sConfigurationsW">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Namespace\')">\n                  Namespace\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Namespace\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Namespace\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Type\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CreationDate\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                <span class="md-checkbox" authorization="K8sConfigurationsW">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="kubernetes.configurations.configuration({ name: item.Name, namespace: item.Namespace })">{{ item.Name }}</a>\n                <span class="label label-primary image-tag label-margins" ng-if="!$ctrl.isSystemConfig(item) && $ctrl.isExternalConfiguration(item)">external</span>\n                <span class="label label-warning image-tag label-margins" ng-if="!item.Used && !$ctrl.isSystemNamespace(item) && !$ctrl.isSystemConfig(item)">unused</span>\n                <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemConfig(item)">system</span>\n              </td>\n              <td>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.Namespace })">{{ item.Namespace }}</a>\n              </td>\n              <td>{{ item.Type | kubernetesConfigurationTypeText }}</td>\n              <td>{{ item.CreationDate | getisodate }} {{ item.ConfigurationOwner ? \'by \' + item.ConfigurationOwner : \'\' }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No configuration available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="k8sConfig-paginationDropdown">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},29649:e=>{var t="app/kubernetes/components/datatables/events-datatable/eventsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n          data-cy="k8sConfigDetail-eventsTableSearchInput"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="k8sConfigDetail-eventsTable">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Date\')">\n                  \n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Date\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Date\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Involved.kind\')">\n                  Kind\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Involved.kind\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Involved.kind\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Type\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Message\')">\n                  Message\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Message\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Message\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td>{{ item.Date | getisodate }}</td>\n              <td>{{ item.Involved.kind }}</td>\n              <td\n                ><span class="label label-{{ item.Type | kubernetesEventTypeColor }}">{{ item.Type }}</span></td\n              >\n              <td>{{ item.Message }}</td>\n            </tr>\n            <tr ng-if="$ctrl.loading">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="!$ctrl.loading && (!$ctrl.dataset || $ctrl.state.filteredDataSet.length === 0)">\n              <td colspan="4" class="text-center text-muted">No event available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select\n                class="form-control"\n                ng-model="$ctrl.state.paginatedItemLimit"\n                ng-change="$ctrl.changePaginationLimit()"\n                data-cy="k8sConfigDetail-eventsTablePaginationDropdown"\n              >\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},95947:e=>{var t="app/kubernetes/components/datatables/integrated-applications-datatable/integratedApplicationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle">\n          <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i>\n          {{ $ctrl.titleText }}\n        </div>\n        <div ng-if="$ctrl.refreshCallback" class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle> <i class="fa fa-cog" aria-hidden="true"></i>  </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'StackName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Image\')">\n                  Image\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td\n                ><a ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })">{{ item.Name }}</a></td\n              >\n              <td>{{ item.StackName || \'-\' }}</td>\n              <td title="{{ item.Image }}">{{ item.Image | truncate: 64 }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No application available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},33989:e=>{var t="app/kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle">\n          <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle> <i class="fa fa-cog" aria-hidden="true"></i>  </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'StackName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourcePool\')">\n                  Namespace\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourcePool\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourcePool\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Image\')">\n                  Image\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CPU\')">\n                  CPU reservation\n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CPU\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CPU\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Memory\')">\n                  \n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Memory\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Memory\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                <a ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })">{{ item.Name }}</a>\n                <span style="margin-left: 5px" class="label label-info image-tag" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n                <span style="margin-left: 5px" class="label label-primary image-tag" ng-if="!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)">external</span>\n              </td>\n              <td>{{ item.StackName || \'-\' }}</td>\n              <td>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })">{{ item.ResourcePool }}</a>\n              </td>\n              <td title="{{ item.Image }}"\n                >{{ item.Image | truncate: 64 }} <span ng-if="item.Containers.length > 1">+ {{ item.Containers.length - 1 }}</span></td\n              >\n              <td>{{ item.CPU | kubernetesApplicationCPUValue }}</td>\n              <td>{{ item.Memory | humansize }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="6" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="6" class="text-center text-muted"></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},93172:e=>{var t="app/kubernetes/components/datatables/nodes-datatable/nodesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Role\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Role\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Role\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Status\')">\n                  Status\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CPU\')">\n                  CPU\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CPU\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CPU\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Memory\')">\n                  Memory\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Memory\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Memory\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Version\')">\n                  Version\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Version\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Version\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'IPAddress\')">\n                  IP\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAddress\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'IPAddress\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.useServerMetrics"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                <a ui-sref="kubernetes.cluster.node({ name: item.Name })" ng-if="$ctrl.hasK8sClusterNodeR">\n                  {{ item.Name }}\n                </a>\n                <span ng-if="!$ctrl.hasK8sClusterNodeR">{{ item.Name }}</span>\n                <span class="label label-primary image-tag" style="margin-left: 5px" ng-if="item.Api" authorization="K8sClusterNodeR">api</span>\n              </td>\n              <td>{{ item.Role }}</td>\n              <td\n                ><span class="label label-{{ item.Status | kubernetesNodeStatusColor }}">{{ item.Status }}</span></td\n              >\n              <td>{{ item.CPU }}</td>\n              <td>{{ item.Memory | humansize }}</td>\n              <td>{{ item.Version }}</td>\n              <td>{{ item.IPAddress }}</td>\n              <td ng-if="$ctrl.useServerMetrics">\n                <a ui-sref="kubernetes.cluster.node.stats({ name: item.Name })" style="cursor: pointer"> <i class="fa fa-chart-area" aria-hidden="true"></i> Stats </a>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="7" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="7" class="text-center text-muted">No node available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},60927:e=>{var t="app/kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle">\n          <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i>\n          {{ $ctrl.titleText }}\n        </div>\n        <div ng-if="$ctrl.refreshCallback" class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle> <i class="fa fa-cog" aria-hidden="true"></i>  </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'StackName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Image\')">\n                  Image\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CPU\')">\n                  CPU reservation\n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CPU\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CPU\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Memory\')">\n                  \n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Memory\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Memory\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                <a ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })">{{ item.Name }}</a>\n                <span style="margin-left: 5px" class="label label-primary image-tag" ng-if="$ctrl.isExternalApplication(item)">external</span>\n              </td>\n              <td>{{ item.StackName || \'-\' }}</td>\n              <td title="{{ item.Image }}"\n                >{{ item.Image | truncate: 64 }} <span ng-if="item.Containers.length > 1">+ {{ item.Containers.length - 1 }}</span></td\n              >\n              <td>{{ item.CPU | kubernetesApplicationCPUValue }}</td>\n              <td>{{ item.Memory | humansize }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No application available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},70586:e=>{var t="app/kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <span class="small text-muted" style="float: left; margin-top: 5px" ng-if="!$ctrl.settings.showSystem" authorization="K8sAccessSystemNamespaces">\n          <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n          System resources are hidden, this can be changed in the table settings.\n        </span>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" authorization="K8sAccessSystemNamespaces">\n                      <input id="setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                      <label for="setting_show_system">Show system resources</label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div authorization="K8sResourcePoolDetailsW" class="actionBar">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="k8sNamespace-removeNamespaceButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="kubernetes.resourcePools.new" data-cy="k8sNamespace-addNamespaceWithFormButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Add namespace with form\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="kubernetes.deploy" data-cy="k8sNamespace-deployFromManifestButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Create from manifest\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n          data-cy="k8sNamespace-namespaceSearchInput"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span authorization="K8sResourcePoolDetailsW" class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Namespace.Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Namespace.Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Namespace.Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Namespace.Status\')">\n                  Status\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Namespace.Status\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Namespace.Status\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Quota\')">\n                  Quota\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Quota\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Quota\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'CreationDate\')">\n                  \n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th authorization="K8sResourcePoolsAccessManagementRW"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span authorization="K8sResourcePoolDetailsW" class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="$ctrl.disableRemove(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.Namespace.Name })">{{ item.Namespace.Name }}</a>\n                <span style="margin-left: 5px" class="label label-info image-tag" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n              </td>\n              <td>\n                <span class="label label-{{ $ctrl.namespaceStatusColor(item.Namespace.Status) }}">{{ item.Namespace.Status }}</span>\n              </td>\n              <td> <i class="fa {{ item.Quota ? \'fa-toggle-on\' : \'fa-toggle-off\' }}" aria-hidden="true" style="margin-right: 2px"></i> {{ item.Quota ? \'Yes\' : \'No\' }} </td>\n              <td>{{ item.Namespace.CreationDate | getisodate }} {{ item.Namespace.ResourcePoolOwner ? \'by \' + item.Namespace.ResourcePoolOwner : \'\' }}</td>\n              <td authorization="K8sResourcePoolsAccessManagementRW">\n                <a ng-if="$ctrl.canManageAccess(item)" ui-sref="kubernetes.resourcePools.resourcePool.access({id: item.Namespace.Name})">\n                  <i class="fa fa-users" aria-hidden="true"></i> Manage access\n                </a>\n                <span ng-if="!$ctrl.canManageAccess(item)">-</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No namespace available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},18491:e=>{var t="app/kubernetes/components/datatables/volumes-datatable/volumesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <span class="small text-muted" style="float: left; margin-top: 5px" authorization="K8sAccessSystemNamespaces" ng-if="!$ctrl.settings.showSystem">\n          <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n          System resources are hidden, this can be changed in the table settings.\n        </span>\n        <div class="settings">\n          <span\n            class="setting"\n            ng-class="{ \'setting-active\': $ctrl.settings.open }"\n            uib-dropdown\n            dropdown-append-to-body\n            auto-close="disabled"\n            is-open="$ctrl.settings.open"\n            data-cy="k8s-vol-table-settings"\n          >\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" authorization="K8sAccessSystemNamespaces">\n                      <input id="setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                      <label for="setting_show_system">Show system resources</label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;" data-cy="k8s-vol-table-settings-close"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" authorization="K8sVolumesW">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="kubernetes.deploy" data-cy="k8sVolume-deployFromManifestButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Create from manifest\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox" authorization="K8sVolumesW">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourcePool.Namespace.Name\')">\n                  Namespace\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourcePool.Namespace.Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourcePool.Namespace.Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.Applications[0].Name\')">\n                  Used by\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.Applications[0].Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.Applications[0].Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.StorageClass.Name\')">\n                  Storage\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.StorageClass.Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.StorageClass.Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.Storage\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.Storage\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.Storage\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.CreationDate\')">\n                  \n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.CreationDate\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PersistentVolumeClaim.CreationDate\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" authorization="K8sVolumesW">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="$ctrl.disableRemove(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="kubernetes.volumes.volume({ namespace: item.ResourcePool.Namespace.Name, name: item.PersistentVolumeClaim.Name })">{{\n                  item.PersistentVolumeClaim.\n                }}</a>\n                <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n                <span class="label label-primary image-tag label-margins" ng-if="!$ctrl.isSystemNamespace(item) && $ctrl.isExternalVolume(item)">external</span>\n                <span class="label label-warning image-tag label-margins" ng-if="!$ctrl.isSystemNamespace(item) && !$ctrl.isUsed(item)">unused</span>\n              </td>\n              <td>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.ResourcePool.Namespace.Name })">{{ item.ResourcePool.Namespace.Name }}</a>\n              </td>\n              <td>\n                <a\n                  ng-if="item.Applications.length"\n                  ui-sref="kubernetes.applications.application({ name: item.Applications[0].Name, namespace: item.ResourcePool.Namespace.Name })"\n                  >{{ item.Applications[0].Name }}</a\n                >\n                <span ng-if="item.Applications.length > 1"> + {{ item.Applications.length - 1 }}</span>\n                <span ng-if="!item.Applications.length">-</span>\n              </td>\n              <td>\n                {{ item.PersistentVolumeClaim.StorageClass.Name }}\n              </td>\n              <td>\n                {{ item.PersistentVolumeClaim.Storage }}\n              </td>\n              <td>\n                {{ item.PersistentVolumeClaim.CreationDate | getisodate }}\n                {{ item.PersistentVolumeClaim.ApplicationOwner ? \'by \' + item.PersistentVolumeClaim.ApplicationOwner : \'\' }}\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="6" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="6" class="text-center text-muted">No volume available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},46598:e=>{var t="app/kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-header icon="fa-dharmachakra" title-text=""></rd-widget-header>\n  <rd-widget-body>\n    <div class="actionBar">\n      <form class="form-horizontal" name="addUserHelmRepoForm">\n        <div class="form-group">\n          <span class="col-sm-12 text-muted small"> Add a Helm repository. All Helm charts in the repository will be added to the list. </span>\n        </div>\n\n        <div class="form-group">\n          <div class="col-sm-12">\n            <input\n              type="url"\n              name="repo"\n              class="form-control"\n              ng-model="$ctrl.state.repository"\n              placeholder="https://charts.bitnami.com/bitnami"\n              ng-pattern="/^https?:///"\n              required\n            />\n          </div>\n        </div>\n\n        <div class="form-group nomargin" ng-show="addUserHelmRepoForm.repo.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="addUserHelmRepoForm.repo.$error">\n              <p ng-message="pattern"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> A valid URL beginning with http(s) is required.</p>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group" ng-show="$ctrl.doesRepoExist()">\n          <div class="col-sm-12 small text-warning">\n            <div> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Helm repo already exists. </div>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <div class="col-sm-12">\n            <button\n              type="button"\n              class="btn btn-sm btn-default nomargin"\n              ng-click="$ctrl.addRepository()"\n              ng-disabled="$ctrl.state.isAddingRepo || addUserHelmRepoForm.repo.$invalid || $ctrl.doesRepoExist()"\n              analytics-on\n              analytics-category="kubernetes"\n              analytics-event="kubernetes-helm-add-repository"\n            >\n              Add repository\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},2894:e=>{var t="app/kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list-item/helm-templates-list-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- helm chart --\x3e\n<div ng-class="{ \'blocklist-item--selected\': $ctrl.model.Selected }" class="blocklist-item template-item" ng-click="$ctrl.onSelect($ctrl.model)">\n  <div class="blocklist-item-box">\n    \x3c!-- helmchart-image --\x3e\n    <span ng-if="$ctrl.model.icon">\n      <img class="blocklist-item-logo" ng-src="{{ $ctrl.model.icon }}" />\n    </span>\n    <span class="blocklist-item-logo" ng-if="!$ctrl.model.icon">\n      <i class="fa fa-dharmachakra fa-4x blue-icon" aria-hidden="true"></i>\n    </span>\n    \x3c!-- !helmchart-image --\x3e\n    \x3c!-- helmchart-details --\x3e\n    <div class="col-sm-12 helm-template-item-details">\n      \x3c!-- blocklist-item-line1 --\x3e\n      <div class="blocklist-item-line">\n        <span>\n          <span class="blocklist-item-title">\n            {{ $ctrl.model.name }}\n          </span>\n          <span class="space-left blocklist-item-subtitle">\n            <span>\n              <i class="fa fa-dharmachakra" aria-hidden="true"></i>\n            </span>\n            <span> Helm </span>\n          </span>\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line1 --\x3e\n      <span class="blocklist-item-actions" ng-transclude="actions"></span>\n      \x3c!-- blocklist-item-line2 --\x3e\n      <div class="blocklist-item-line helm-template-item-details-sub">\n        <span class="blocklist-item-desc">\n          {{ $ctrl.model.description }}\n        </span>\n        <span class="small text-muted" ng-if="$ctrl.model.annotations.category">\n          {{ $ctrl.model.annotations.category }}\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line2 --\x3e\n    </div>\n    \x3c!-- !helmchart-details --\x3e\n  </div>\n  \x3c!-- !helm chart --\x3e\n</div>\n')}]),e.exports=t},24633:e=>{var t="app/kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n\n      <div class="actionBar">\n        <div>\n          <span style="width: 25%">\n            <ui-select ng-model="$ctrl.state.selectedCategory" theme="bootstrap">\n              <ui-select-match placeholder="">\n                <a class="btn btn-xs btn-link pull-right" ng-click="$ctrl.clearCategory()"><i class="glyphicon glyphicon-remove"></i></a>\n                <span>{{ $select.selected }}</span>\n              </ui-select-match>\n              <ui-select-choices repeat="category in ($ctrl.state.categories | filter: $select.search)">\n                <span>{{ category }}</span>\n              </ui-select-choices>\n            </ui-select>\n          </span>\n        </div>\n      </div>\n\n      <div class="searchBar" style="border-top: 2px solid #f6f6f6">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n\n      <div class="blocklist">\n        <helm-templates-list-item\n          ng-repeat="chart in $ctrl.charts | filter:$ctrl.state.textFilter | filter: $ctrl.state.selectedCategory "\n          model="chart"\n          type-label="helm"\n          on-select="($ctrl.selectAction)"\n        >\n        </helm-templates-list-item>\n        <div ng-if="$ctrl.loading" class="text-center text-muted">\n          ...\n          <div class="text-center text-muted"> Initial download of Helm Charts can take a few minutes </div>\n        </div>\n        <div ng-if="!$ctrl.loading && $ctrl.charts.length === 0" class="text-center text-muted"> No helm charts available. </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},18236:e=>{var t="app/kubernetes/components/helm/helm-templates/helm-templates.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header id="view-top" title="Helm" state="kubernetes.templates.helm" view-ready="true"> Charts </kubernetes-view-header>\n\n<information-panel title-text="Information" ng-if="!$ctrl.state.chart">\n  <span class="small text-muted">\n    <p>\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      This is a first version for Helm charts, for more information see this <a href="https://www.portainer.io/blog/portainer-now-with-helm-support" target="_blank">blog post</a>.\n    </p>\n    <p ng-if="$ctrl.state.globalRepository === \'\'">\n      <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      <span>The Global Helm Repository is not configured.</span>\n      <a ng-if="$ctrl.state.isAdmin" ui-sref="portainer.settings">Configure Global Helm Repository in Settings</a>\n    </p>\n  </span>\n</information-panel>\n\n<div class="row">\n  \x3c!-- helmchart-form --\x3e\n  <div class="col-sm-12" ng-if="$ctrl.state.chart">\n    <rd-widget>\n      <rd-widget-custom-header icon="$ctrl.state.chart.icon" title-text="$ctrl.state.chart.name"></rd-widget-custom-header>\n      <rd-widget-body classes="padding">\n        <form class="form-horizontal" name="$ctrl.helmTemplateCreationForm">\n          \x3c!-- description --\x3e\n          <div>\n            <div class="col-sm-12 form-section-title"> Description </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <div class="template-note" ng-bind-html="$ctrl.state.chart.description"></div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !description --\x3e\n          <div class="col-sm-12 form-section-title"> Configuration </div>\n          <span ng-if="$ctrl.state.canInstallChart">\n            \x3c!-- namespace-input --\x3e\n            <div class="form-group" ng-if="$ctrl.state.resourcePool">\n              <label for="resource-pool-selector" class="col-sm-2 control-label text-left">Namespace</label>\n              <div class="col-sm-10">\n                <select\n                  class="form-control"\n                  id="resource-pool-selector"\n                  ng-model="$ctrl.state.resourcePool"\n                  ng-options="resourcePool.Namespace.Name for resourcePool in $ctrl.state.resourcePools"\n                  ng-change=""\n                  ng-disabled="$ctrl.state.isEdit"\n                ></select>\n              </div>\n            </div>\n            <div class="form-group" ng-if="!$ctrl.state.resourcePool">\n              <div class="col-sm-12 small text-muted">\n                <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                You do not have access to any namespace. Contact your administrator to get access to a namespace.\n              </div>\n            </div>\n            \x3c!-- !namespace-input --\x3e\n            \x3c!-- name-input --\x3e\n            <div class="form-group">\n              <label for="release_name" class="col-sm-2 control-label text-left"></label>\n              <div class="col-sm-10">\n                <input\n                  type="text"\n                  name="release_name"\n                  class="form-control"\n                  ng-model="$ctrl.state.appName"\n                  placeholder=" my-app"\n                  required\n                  ng-pattern="/^[a-z]([-a-z0-9]*[a-z0-9])?$/"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="$ctrl.helmTemplateCreationForm.release_name.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="$ctrl.helmTemplateCreationForm.release_name.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                  <p ng-message="pattern">\n                    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field must consist of lower case alphanumeric characters or \'-\', start with an alphabetic\n                    character, and end with an alphanumeric character ( \'my-name\', or \'abc-123\').\n                  </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !name-input --\x3e\n          </span>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <a class="small interactive" ng-if="!$ctrl.state.showCustomValues && !$ctrl.state.loadingValues" ng-click="$ctrl.state.showCustomValues = true;">\n                <i class="fa fa-plus space-right" aria-hidden="true"></i> Show custom values\n              </a>\n              <span class="small interactive" ng-if="$ctrl.state.loadingValues"> <i class="fa fa-sync-alt space-right" aria-hidden="true"></i> Loading values.yaml... </span>\n              <a class="small interactive" ng-if="$ctrl.state.showCustomValues" ng-click="$ctrl.state.showCustomValues = false;">\n                <i class="fa fa-minus space-right" aria-hidden="true"></i> Hide custom values\n              </a>\n            </div>\n          </div>\n          \x3c!-- values override --\x3e\n          <div ng-if="$ctrl.state.showCustomValues">\n            \x3c!-- web-editor --\x3e\n            <div>\n              <div class="col-sm-12 form-section-title"> Web editor </div>\n              <div class="form-group">\n                <span class="col-sm-12 text-muted small">\n                  \n                  <a href="https://helm.sh/docs/chart_template_guide/values_files/" target="_blank"></a> Helm \n                </span>\n              </div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <code-editor\n                    identifier="helm-app-creation-editor"\n                    placeholder="#  yaml "\n                    yml="true"\n                    on-change="($ctrl.editorUpdate)"\n                    value="$ctrl.state.values"\n                  ></code-editor>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !web-editor --\x3e\n          </div>\n          \x3c!-- !values override --\x3e\n          \x3c!-- helm actions --\x3e\n          <span ng-if="$ctrl.state.canInstallChart">\n            <div class="col-sm-12 form-section-title"></div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="!($ctrl.state.appName && $ctrl.state.resourcePool && !$ctrl.state.loadingValues && !$ctrl.state.actionInProgress)"\n                  ng-click="$ctrl.installHelmchart()"\n                  button-spinner="$ctrl.state.actionInProgress"\n                  data-cy="helm-install"\n                >\n                  <span ng-hide="$ctrl.state.actionInProgress">Install</span>\n                  <span ng-hide="!$ctrl.state.actionInProgress">Helm installing in progress</span>\n                </button>\n                <button type="button" class="btn btn-sm btn-default" ng-click="$ctrl.state.chart = null">  </button>\n              </div>\n            </div>\n          </span>\n          \x3c!-- !helm actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n  \x3c!-- helmchart-form --\x3e\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <helm-add-repository repos="$ctrl.state.repos"></helm-add-repository>\n  </div>\n</div>\n\n\x3c!-- Helm Charts Component --\x3e\n<div class="row">\n  <div class="col-sm-12">\n    <helm-templates-list\n      title-text="Charts"\n      title-icon="fa-rocket"\n      charts="$ctrl.state.charts"\n      table-key="$ctrl.state.charts"\n      select-action="$ctrl.selectHelmChart"\n      loading="$ctrl.state.chartsLoading || $ctrl.state.resourcePoolsLoading"\n    >\n    </helm-templates-list>\n  </div>\n</div>\n\x3c!-- !Helm Charts Component --\x3e\n')}]),e.exports=t},74226:e=>{var t="app/kubernetes/components/kube-services/kube-services-item/kube-services-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="serviceForm">\n  <div ng-if="$ctrl.isAdmin()" class="small text-warning" ng-show="$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled">\n    <p style="margin-top: 10px">\n      <i class="fa fa-exclamation-circle" aria-hidden="true"></i> No Load balancer is available in this cluster, click\n      <a ui-sref="portainer.k8sendpoint.kubernetesConfig({id: $ctrl.state.endpointId})">here</a> to configure load balancer.\n    </p>\n  </div>\n  <div ng-if="!$ctrl.isAdmin()" class="small text-warning" ng-show="$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled">\n    <p style="margin-top: 10px"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i> No Load balancer is available in this cluster, contract your administrator. </p>\n  </div>\n\n  <div\n    ng-if="\n      ($ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && $ctrl.loadbalancerEnabled) ||\n      $ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP ||\n      $ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.NODE_PORT\n    "\n  >\n    <div ng-show="!$ctrl.multiItemDisable" style="margin-top: 5px; margin-bottom: 5px">\n      <label class="control-label text-left">Published ports</label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="$ctrl.addPort()" data-cy="k8sAppCreate-addNewPortButton">\n        <i class="fa fa-plus-circle" aria-hidden="true"></i> publish a new port\n      </span>\n    </div>\n    <div ng-repeat="servicePort in $ctrl.servicePorts" style="margin-top: 10px">\n      <div class="input-group input-group-sm">\n        <span class="input-group-addon">container port</span>\n        <input\n          type="number"\n          class="form-control"\n          name="container_port_{{ $index }}"\n          ng-model="servicePort.targetPort"\n          placeholder="80"\n          ng-min="1"\n          ng-max="65535"\n          ng-change="$ctrl.servicePort($index)"\n          required\n          ng-disabled="$ctrl.originalIngresses.length === 0 || ($ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled)"\n          ng-change="$ctrl.onChangeContainerPort()"\n          data-cy="k8sAppCreate-containerPort_{{ $index }}"\n        />\n      </div>\n\n      <div class="input-group input-group-sm">\n        <span class="input-group-addon">service port</span>\n        <input\n          type="number"\n          class="form-control"\n          name="service_port_{{ $index }}"\n          ng-model="servicePort.port"\n          placeholder="80"\n          ng-min="1"\n          ng-max="65535"\n          required\n          ng-disabled="$ctrl.originalIngresses.length === 0 || ($ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled)"\n          ng-change="$ctrl.onChangeServicePort()"\n          data-cy="k8sAppCreate-servicePort_{{ $index }}"\n        />\n      </div>\n\n      <div ng-if="$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.NODE_PORT" class="input-group input-group-sm">\n        <span class="input-group-addon">nodeport</span>\n        <input\n          type="number"\n          class="form-control"\n          name="node_port_{{ $index }}"\n          ng-model="servicePort.nodePort"\n          placeholder="30080"\n          ng-min="30000"\n          ng-max="32767"\n          ng-change="$ctrl.onChangeNodePort()"\n          data-cy="k8sAppCreate-nodeportPort_{{ $index }}"\n        />\n      </div>\n\n      <div ng-if="$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER" class="input-group input-group-sm">\n        <span class="input-group-addon">loadbalancer port</span>\n        <input\n          type="number"\n          class="form-control"\n          name="loadbalancer_port_{{ $index }}"\n          ng-model="servicePort.port"\n          placeholder="80"\n          ng-min="1"\n          ng-max="65535"\n          required\n          ng-disabled="$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled"\n          data-cy="k8sAppCreate-loadbalancerPort_{{ $index }}"\n        />\n      </div>\n\n      <div ng-if="$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP && $ctrl.ingressType" class="input-group input-group-sm">\n        <span class="input-group-addon">ingress</span>\n        <select\n          class="form-control"\n          name="ingress_port_{{ $index }}"\n          ng-model="servicePort.ingress.IngressName"\n          required\n          ng-disabled="$ctrl.originalIngresses.length === 0"\n          ng-options="ingress.Name as ingress.Name for ingress in $ctrl.originalIngresses"\n          data-cy="k8sAppCreate-ingressPort_{{ $index }}"\n        >\n          <option selected disabled hidden value="">Select an ingress</option>\n        </select>\n      </div>\n\n      <div ng-if="$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP && $ctrl.ingressType" class="input-group input-group-sm">\n        <span class="input-group-addon">hostname</span>\n        <select\n          class="form-control"\n          name="hostname_port_{{ $index }}"\n          ng-model="servicePort.ingress.Host"\n          required\n          ng-disabled="$ctrl.originalIngresses.length === 0"\n          ng-options="ingress.Hosts[0] as ingress.Hosts for ingress in $ctrl.originalIngresses"\n          data-cy="k8sAppCreate-hostnamePort_{{ $index }}"\n        >\n          <option selected disabled hidden value="">Select a hostname</option>\n        </select>\n      </div>\n\n      <div ng-if="$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP && $ctrl.ingressType" class="input-group input-group-sm">\n        <span class="input-group-addon">route</span>\n        <input\n          class="form-control"\n          name="ingress_route_{{ $index }}"\n          ng-model="servicePort.ingress.Path"\n          placeholder="route"\n          required\n          ng-disabled="$ctrl.originalIngresses.length === 0"\n          ng-pattern="/^(\\/?[a-zA-Z0-9]+([a-zA-Z0-9-/_]*[a-zA-Z0-9])?|[a-zA-Z0-9]+)|(\\/){1}$/"\n          data-cy="k8sAppCreate-route_{{ $index }}"\n        />\n      </div>\n\n      <div class="input-group col-sm-2 input-group-sm">\n        <div class="btn-group btn-group-sm">\n          <label\n            class="btn btn-primary"\n            ng-model="servicePort.protocol"\n            uib-btn-radio="\'TCP\'"\n            ng-change="ctrl.onChangePortProtocol($index)"\n            ng-disabled="ctrl.isProtocolOptionDisabled($index, \'TCP\')"\n            data-cy="k8sAppCreate-TCPButton_{{ $index }}"\n            >TCP</label\n          >\n          <label\n            class="btn btn-primary"\n            ng-model="servicePort.protocol"\n            uib-btn-radio="\'UDP\'"\n            ng-change="ctrl.onChangePortProtocol($index)"\n            ng-disabled="ctrl.isProtocolOptionDisabled($index, \'UDP\')"\n            data-cy="k8sAppCreate-UDPButton_{{ $index }}"\n            >UDP</label\n          >\n        </div>\n        <button\n          ng-disabled="$ctrl.servicePorts.length === 1"\n          ng-show="!$ctrl.multiItemDisable"\n          class="btn btn-sm btn-danger"\n          type="button"\n          ng-click="$ctrl.removePort($index)"\n          data-cy="k8sAppCreate-rmPortButton_{{ $index }}"\n        >\n          <i class="fa fa-trash-alt" aria-hidden="true"></i>\n        </button>\n      </div>\n\n      <div class="col-sm-12 input-group input-group-sm">\n        <div class="col-sm-2">\n          <div class="small text-warning" style="margin-top: 5px">\n            <p ng-if="$ctrl.state.duplicates.targetPort.refs[$index] !== undefined">\n              <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This container port is already used.\n            </p>\n          </div>\n          <div class="small text-warning" ng-messages="serviceForm[\'container_port_\'+$index].$error">\n            <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Container port number is required.</p>\n            <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Container port number must be inside the range 1-65535.</p>\n            <p ng-message="max"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Container port number must be inside the range 1-65535.</p>\n          </div>\n        </div>\n\n        <div class="col-sm-2">\n          <div class="small text-warning" style="margin-top: 5px">\n            <p ng-if="$ctrl.state.duplicates.servicePort.refs[$index] !== undefined">\n              <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This service port is already used.\n            </p>\n          </div>\n          <div class="small text-warning" style="margin-top: 5px">\n            <div ng-messages="serviceForm[\'service_port_\'+$index].$error">\n              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Service port number is required.</p>\n              <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Container port number must be inside the range 1-65535.</p>\n              <p ng-message="max"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Container port number must be inside the range 1-65535.</p>\n            </div>\n          </div>\n        </div>\n\n        <div class="col-sm-6">\n          <div class="small text-warning" style="margin-top: 5px">\n            <div ng-messages="serviceForm[\'node_port_\'+$index].$error">\n              <p ng-message="min"\n                ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Node port number must be inside the range 30000-32767 or blank for system allocated.</p\n              >\n              <p ng-message="max"\n                ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Node port number must be inside the range 30000-32767 or blank for system allocated.</p\n              >\n            </div>\n          </div>\n        </div>\n\n        <div class="col-sm-2">\n          <div class="small text-warning" style="margin-top: 5px">\n            <div ng-messages="serviceForm[\'ingress_port_\'+$index].$error">\n              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Ingress selection is required.</p>\n            </div>\n          </div>\n        </div>\n\n        <div class="col-sm-2">\n          <div class="small text-warning" style="margin-top: 5px">\n            <div ng-messages="serviceForm[\'hostname_port_\'+$index].$error">\n              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Host is required.</p>\n            </div>\n          </div>\n        </div>\n        <div class="col-sm-8" ng-show="">\n          <div class="small text-warning" style="margin-top: 5px">\n            <div ng-messages="serviceForm[\'ingress_route_\'+$index].$error">\n              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Route is required.</p>\n              <p ng-message="pattern"\n                ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field must consist of alphanumeric characters or the special characters: \'-\', \'_\' or \'/\'. It\n                must start and end with an alphanumeric character ( \'my-route\', or \'route-123\').</p\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},68629:e=>{var t="app/kubernetes/components/kube-services/kube-services.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Publishing the application </div>\n\n<div class="form-group">\n  <div class="col-sm-12 form-inline">\n    <div class="col-sm-5" style="padding-left: 0px">\n      <select class="form-control" ng-model="$ctrl.state.selected" ng-options="item.typeValue as item.typeName for item in $ctrl.state.serviceType"></select>\n      <button type="button" class="btn btn-sm btn-default" style="margin-left: 0" ng-click="$ctrl.addEntry( $ctrl.state.selected )" data-cy="k8sConfigCreate-createEntryButton">\n        <i class="fa fa-plus-circle" aria-hidden="true"></i> Create service\n      </button>\n    </div>\n  </div>\n</div>\n\n<div class="form-group">\n  <div class="col-sm-12 form-inline" style="margin-top: 20px" ng-repeat="service in $ctrl.formValues.Services">\n    <div ng-if="!$ctrl.formValues.Services[$index].Ingress">\n      <div class="text-muted">\n        <i class="{{ $ctrl.iconStyle(service.Type) }}" aria-hidden="true" style="margin-right: 2px"></i>\n        {{ $ctrl.serviceType(service.Type) }}\n      </div>\n      <kube-services-item-view\n        service-routes="$ctrl.formValues.Services[$index].IngressRoute"\n        ingress-type="$ctrl.formValues.Services[$index].Ingress"\n        service-type="$ctrl.formValues.Services[$index].Type"\n        service-ports="$ctrl.formValues.Services[$index].Ports"\n        is-edit="$ctrl.isEdit"\n        loadbalancer-enabled="$ctrl.loadbalancerEnabled"\n      ></kube-services-item-view>\n      <button\n        type="button"\n        class="btn btn-sm btn-danger space-right"\n        style="margin-left: 0; margin-top: 10px"\n        ng-click="$ctrl.deleteService( $index )"\n        data-cy="k8sConfigCreate-removeButton"\n      >\n        <i class="fa fa-trash-alt" aria-hidden="true"></i> Remove\n      </button>\n    </div>\n\n    <div ng-if="$ctrl.formValues.Services[$index].Ingress && $ctrl.formValues.OriginalIngresses.length === 0">\n      <div class="text-muted">\n        <i class="fa fa-route" aria-hidden="true" style="margin-right: 2px"></i>\n        Ingress\n      </div>\n      <div ng-if="$ctrl.isAdmin()" class="small text-warning">\n        <p style="margin-top: 10px">\n          <i class="fa fa-exclamation-circle" aria-hidden="true"></i> Ingress is not configured in this namespace, select another namespace or click\n          <a ui-sref="portainer.k8sendpoint.kubernetesConfig({id: $ctrl.state.endpointId})">here</a> to configure ingress.\n        </p>\n      </div>\n      <div ng-if="!$ctrl.isAdmin()" class="small text-warning">\n        <p style="margin-top: 10px">\n          <i class="fa fa-exclamation-circle" aria-hidden="true"></i> Ingress is not configured in this namespace, select another namespace or contact your administrator.\n        </p>\n      </div>\n      <button\n        type="button"\n        class="btn btn-sm btn-danger space-right"\n        style="margin-left: 0; margin-top: 10px"\n        ng-click="$ctrl.deleteService( $index )"\n        data-cy="k8sConfigCreate-removeButton"\n      >\n        <i class="fa fa-trash-alt" aria-hidden="true"></i> Remove\n      </button>\n    </div>\n\n    <div ng-if="$ctrl.formValues.Services[$index].Ingress && $ctrl.formValues.OriginalIngresses.length !== 0">\n      <div class="text-muted">\n        <i class="fa fa-route" aria-hidden="true" style="margin-right: 2px"></i>\n        Ingress\n      </div>\n      <kube-services-item-view\n        original-ingresses="$ctrl.formValues.OriginalIngresses"\n        service-routes="$ctrl.formValues.Services[$index].IngressRoute"\n        ingress-type="$ctrl.formValues.Services[$index].Ingress"\n        service-type="$ctrl.formValues.Services[$index].Type"\n        service-ports="$ctrl.formValues.Services[$index].Ports"\n        service-name="$ctrl.formValues.Services[$index].Name"\n        multi-item-disable="true"\n      ></kube-services-item-view>\n      <button\n        type="button"\n        class="btn btn-sm btn-danger space-right"\n        style="margin-left: 0; margin-top: 10px"\n        ng-click="$ctrl.deleteService( $index )"\n        data-cy="k8sConfigCreate-removeButton"\n      >\n        <i class="fa fa-trash-alt" aria-hidden="true"></i> Remove\n      </button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},68366:e=>{var t="app/kubernetes/components/kubectl-shell/kubectl-shell.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<button\n  type="button"\n  class="btn btn-xs btn-primary"\n  ng-click="$ctrl.connectConsole()"\n  ng-disabled="$ctrl.state.shell.connected"\n  data-cy="k8sSidebar-shellButton"\n  analytics-on\n  analytics-category="kubernetes"\n  analytics-event="kubernetes-kubectl-shell"\n>\n  <i class="fa fa-terminal space-right"></i> kubectl shell\n</button>\n\n<div ng-if="$ctrl.state.shell.connected" class="{{ $ctrl.state.css }}-kubectl-shell">\n  <div class="shell-container">\n    <div class="shell-item"><i class="fas fa-terminal" style="margin-right: 5px"></i>kubectl shell</div>\n    <div class="shell-item-right">\n      <i class="fas fa-redo-alt" ng-click="$ctrl.screenClear();" data-cy="k8sShell-refreshButton"></i>\n      <i\n        class="fas {{ $ctrl.state.icon }}"\n        ng-click="$ctrl.miniRestore();"\n        data-cy="{{ $ctrl.state.icon === \'.fa-window-minimize\' ? \'k8sShell-restore\' : \'k8sShell-minimise\' }}"\n      ></i>\n      <i class="fas fa-times" ng-click="$ctrl.disconnect()" data-cy="k8sShell-closeButton"></i>\n    </div>\n  </div>\n  <div>\n    <div class="nopadding">\n      <div>\n        <div id="terminal-container" class="terminal-container">\n          <div style="position: fixed; color: #fff">Loading Terminal...</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},80331:e=>{var t="app/kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationData.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="kubernetesConfigurationDataCreationForm">\n  <div class="col-sm-12 form-section-title" style="margin-top: 10px"> Data </div>\n\n  <div class="form-group" ng-if="$ctrl.isCreation">\n    <div class="col-sm-12">\n      <p>\n        <a class="small interactive" ng-if="$ctrl.formValues.IsSimple" ng-click="$ctrl.showAdvancedMode()">\n          <i class="fa fa-list-ol space-right" aria-hidden="true"></i> \n        </a>\n        <a class="small interactive" ng-if="!$ctrl.formValues.IsSimple" ng-click="$ctrl.showSimpleMode()">\n          <i class="fa fa-edit space-right" aria-hidden="true"></i>\n        </a>\n      </p>\n    </div>\n    <div class="col-sm-12 small text-muted" ng-if="$ctrl.formValues.IsSimple">\n      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      /\n    </div>\n    <div class="col-sm-12 small text-muted" ng-if="!$ctrl.formValues.IsSimple">\n      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      Generate a configuration entry per line, use YAML format\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.formValues.IsSimple">\n    <div class="col-sm-12">\n      <button type="button" class="btn btn-sm btn-default" style="margin-left: 0" ng-click="$ctrl.addEntry()" data-cy="k8sConfigCreate-createEntryButton">\n        <i class="fa fa-plus-circle" aria-hidden="true"></i> Create entry\n      </button>\n      <button type="button" class="btn btn-sm btn-default" ngf-select="$ctrl.addEntryFromFile($file)" style="margin-left: 0" data-cy="k8sConfigCreate-createConfigsFromFileButton">\n        <i class="fa fa-file-upload" aria-hidden="true"></i> Create key/value from file\n      </button>\n    </div>\n  </div>\n\n  <div ng-repeat="(index, entry) in $ctrl.formValues.Data" ng-if="$ctrl.formValues.IsSimple">\n    <div class="form-group">\n      <label for="configuration_data_key_{{ index }}" class="col-sm-1 control-label text-left">Key</label>\n      <div class="col-sm-11">\n        <input\n          type="text"\n          class="form-control"\n          id="configuration_data_key_{{ index }}"\n          name="configuration_data_key_{{ index }}"\n          ng-model="$ctrl.formValues.Data[index].Key"\n          ng-disabled="entry.Used"\n          required\n          ng-change="$ctrl.onChangeKey(entry)"\n        />\n      </div>\n      <div\n        class="col-sm-11 small text-warning"\n        style="margin-top: 5px"\n        ng-show="\n          kubernetesConfigurationDataCreationForm[\'configuration_data_key_\' + index].$invalid ||\n          (!entry.Used && $ctrl.state.duplicateKeys[index] !== undefined) ||\n          $ctrl.state.invalidKeys[index]\n        "\n      >\n        <ng-messages for="kubernetesConfigurationDataCreationForm[\'configuration_data_key_\' + index].$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </ng-messages>\n        <p ng-if="$ctrl.state.duplicateKeys[index] !== undefined"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This key is already defined.</p>\n        <p ng-if="$ctrl.state.invalidKeys[index]"\n          ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This key is invalid. A valid key must consist of alphanumeric characters, \'-\', \'_\' or \'.\'</p\n        >\n      </div>\n    </div>\n\n    <div class="form-group" ng-if="$ctrl.formValues.IsSimple && !entry.IsBinary">\n      <label for="configuration_data_value_{{ index }}" class="col-sm-1 control-label text-left">Value</label>\n      <div class="col-sm-11">\n        <textarea\n          class="form-control"\n          rows="5"\n          id="configuration_data_value_{{ index }}"\n          name="configuration_data_value_{{ index }}"\n          ng-model="$ctrl.formValues.Data[index].Value"\n          required\n        ></textarea>\n      </div>\n      <div class="col-sm-11 small text-warning" style="margin-top: 5px" ng-show="kubernetesConfigurationDataCreationForm[\'configuration_data_value_\' + index].$invalid">\n        <ng-messages for="kubernetesConfigurationDataCreationForm[\'configuration_data_value_\' + index].$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </ng-messages>\n      </div>\n    </div>\n\n    <div class="form-group" ng-if="$ctrl.formValues.IsSimple && entry.IsBinary">\n      <label for="configuration_data_value_{{ index }}" class="col-sm-1 control-label text-left">Value</label>\n      <div class="col-sm-11 control-label small text-muted text-left"\n        >Binary data <portainer-tooltip position="bottom" message="This key holds binary data and cannot be displayed."></portainer-tooltip\n      ></div>\n    </div>\n\n    <div class="form-group" ng-if="$ctrl.formValues.IsSimple">\n      <div class="col-sm-1"></div>\n      <div class="col-sm-11">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger space-right"\n          style="margin-left: 0"\n          ng-disabled="entry.Used"\n          ng-click="$ctrl.removeEntry(index, entry)"\n          data-cy="k8sConfigDetail-removeEntryButton{{ index }}"\n        >\n          <i class="fa fa-trash-alt" aria-hidden="true"></i> Remove entry\n        </button>\n        <span class="small text-muted" ng-if="entry.Used">\n          <i class="fa fa-info-circle blue-icon space-right" aria-hidden="true"></i>\n          This key is currently used by one or more applications\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="!$ctrl.formValues.IsSimple">\n    <input type="text" ng-model="$ctrl.formValues.DataYaml" required style="display: none" />\n    <code-editor identifier="kubernetes-configuration-editor" value="$ctrl.formValues.DataYaml" read-only="false" yml="true" on-change="($ctrl.editorUpdate)"></code-editor>\n  </div>\n</ng-form>\n')}]),e.exports=t},81105:e=>{var t="app/kubernetes/components/kubernetes-sidebar/kubernetes-sidebar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<sidebar-menu-item\n  path="kubernetes.dashboard"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-tachometer-alt fa-fw"\n  class-name="sidebar-list"\n  data-cy="k8sSidebar-dashboard"\n>\n  Dashboard\n</sidebar-menu-item>\n\n<sidebar-menu-item\n  path="kubernetes.templates.custom"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-rocket fa-fw"\n  class-name="sidebar-list"\n  data-cy="k8sSidebar-customTemplates"\n>\n  \n</sidebar-menu-item>\n\n<sidebar-menu-item\n  path="kubernetes.resourcePools"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-layer-group fa-fw"\n  class-name="sidebar-list"\n  data-cy="k8sSidebar-namespaces"\n>\n  Namespaces\n</sidebar-menu-item>\n\n<sidebar-menu-item\n  path="kubernetes.templates.helm"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-dharmachakra fa-fw"\n  class-name="sidebar-list"\n  authorization="HelmInstallChart"\n  data-cy="k8sSidebar-helm"\n>\n  Helm\n</sidebar-menu-item>\n\n<sidebar-menu-item\n  path="kubernetes.applications"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-laptop-code fa-fw"\n  class-name="sidebar-list"\n  data-cy="k8sSidebar-applications"\n>\n  Applications\n</sidebar-menu-item>\n\n<sidebar-menu-item\n  path="kubernetes.configurations"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  icon-class="fa-file-code fa-fw"\n  class-name="sidebar-list"\n  data-cy="k8sSidebar-configurations"\n>\n  ConfigMaps & Secrets\n</sidebar-menu-item>\n\n<sidebar-menu-item path="kubernetes.volumes" path-params="{ endpointId: $ctrl.endpointId }" icon-class="fa-database fa-fw" class-name="sidebar-list" data-cy="k8sSidebar-volumes">\n  Volumes\n</sidebar-menu-item>\n\n<sidebar-menu\n  icon-class="fa-server fa-fw"\n  label="Cluster"\n  path="kubernetes.cluster"\n  path-params="{ endpointId: $ctrl.endpointId }"\n  is-sidebar-open="$ctrl.isSidebarOpen"\n  children-paths="[\'kubernetes.cluster\', \'portainer.k8sendpoint.kubernetesConfig\', \'kubernetes.registries\', \'kubernetes.registries.access\']"\n  data-cy="k8sSidebar-cluster"\n>\n  <sidebar-menu-item\n    authorization="K8sClusterSetupRW"\n    path="portainer.k8sendpoint.kubernetesConfig"\n    path-params="{ id: $ctrl.endpointId }"\n    class-name="sidebar-sublist"\n    data-cy="k8sSidebar-setup"\n  >\n    Setup\n  </sidebar-menu-item>\n\n  <sidebar-menu-item\n    authorization="PortainerRegistryList"\n    path="kubernetes.registries"\n    path-params="{ endpointId: $ctrl.endpointId }"\n    class-name="sidebar-sublist"\n    data-cy="k8sSidebar-registries"\n  >\n    Registries\n  </sidebar-menu-item>\n</sidebar-menu>\n')}]),e.exports=t},37751:e=>{var t="app/kubernetes/components/resource-reservation/resourceReservation.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12 form-section-title"> Resource reservation </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      <p>\n        {{ $ctrl.description }}\n      </p>\n    </span>\n  </div>\n  <div class="form-group" ng-if="$ctrl.memoryLimit !== 0">\n    <label for="memory-reservation" class="col-sm-3 col-lg-2 control-label text-left">  </label>\n    <div class="col-sm-9" style="margin-top: 4px">\n      <uib-progressbar\n        animate="false"\n        value="$ctrl.memoryReservationPercent"\n        type="{{ $ctrl.memoryReservationPercent | kubernetesUsageLevelInfo }}"\n        data-cy="k8sNamespaceDetail-memoryUsage"\n      >\n        <b style="white-space: nowrap"> {{ $ctrl.memoryReservation }} / {{ $ctrl.memoryLimit }} MB - {{ $ctrl.memoryReservationPercent }}% </b>\n      </uib-progressbar>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.displayUsage && $ctrl.memoryLimit !== 0">\n    <label for="memory-usage" class="col-sm-3 col-lg-2 control-label text-left"> Memory used </label>\n    <div class="col-sm-9" style="margin-top: 4px">\n      <uib-progressbar animate="false" value="$ctrl.memoryUsagePercent" type="{{ $ctrl.memoryUsagePercent | kubernetesUsageLevelInfo }}">\n        <b style="white-space: nowrap"> {{ $ctrl.memoryUsage }} / {{ $ctrl.memoryLimit }} MB - {{ $ctrl.memoryUsagePercent }}% </b>\n      </uib-progressbar>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.cpuLimit !== 0">\n    <label for="cpu-reservation" class="col-sm-3 col-lg-2 control-label text-left"> CPU reservation </label>\n    <div class="col-sm-9" style="margin-top: 4px">\n      <uib-progressbar animate="false" value="$ctrl.cpuReservationPercent" type="{{ $ctrl.cpuReservationPercent | kubernetesUsageLevelInfo }}">\n        <b style="white-space: nowrap"> {{ $ctrl.cpuReservation | kubernetesApplicationCPUValue }} / {{ $ctrl.cpuLimit }} - {{ $ctrl.cpuReservationPercent }}% </b>\n      </uib-progressbar>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.displayUsage && $ctrl.cpuLimit !== 0">\n    <label for="cpu-usage" class="col-sm-3 col-lg-2 control-label text-left"> CPU used </label>\n    <div class="col-sm-9" style="margin-top: 4px">\n      <uib-progressbar animate="false" value="$ctrl.cpuUsagePercent" type="{{ $ctrl.cpuUsagePercent | kubernetesUsageLevelInfo }}">\n        <b style="white-space: nowrap"> {{ $ctrl.cpuUsage | kubernetesApplicationCPUValue }} / {{ $ctrl.cpuLimit }} - {{ $ctrl.cpuUsagePercent }}% </b>\n      </uib-progressbar>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},18691:e=>{var t="app/kubernetes/components/view-header/viewHeader.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header ng-if="$ctrl.viewReady">\n  <rd-header-title title-text="{{ $ctrl.title }}">\n    <a data-toggle="tooltip" title="refresh the view" ui-sref="{{ $ctrl.state }}" ui-sref-opts="{reload: $ctrl.state}" ng-if="$ctrl.viewReady">\n      <i class="fa fa-sm fa-sync" aria-hidden="true" data-cy="component-refreshTableButton"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>\n    <ng-transclude></ng-transclude>\n  </rd-header-content>\n</rd-header>\n')}]),e.exports=t},41776:e=>{var t="app/kubernetes/components/view-loading/viewLoading.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="loading-view-area" ng-if="!$ctrl.viewReady">\n  <div class="sk-fold sk-center">\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n  </div>\n</div>\n')}]),e.exports=t},96354:e=>{var t="app/kubernetes/components/yaml-inspector/yamlInspector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <code-editor identifier="application-details-yaml" read-only="true" value="$ctrl.data"></code-editor>\n  <div style="margin: 15px">\n    <span class="btn btn-primary btn-sm" ng-click="$ctrl.copyYAML()"><i class="fa fa-copy space-right" aria-hidden="true"></i>Copy to clipboard</span>\n    <span class="btn btn-primary btn-sm space-left" ng-click="$ctrl.toggleYAMLInspectorExpansion()">\n      <i class="fa fa-{{ $ctrl.expanded ? \'minus\' : \'plus\' }} space-right" aria-hidden="true"></i>{{ $ctrl.expanded ? \'Collapse\' : \'Expand\' }}</span\n    >\n    <span id="copyNotificationYAML" style="margin-left: 7px; display: none; color: #23ae89" class="small"> <i class="fa fa-check" aria-hidden="true"></i> copied </span>\n  </div>\n</div>\n')}]),e.exports=t},21843:e=>{var t="app/kubernetes/custom-templates/kube-create-custom-template-view/kube-create-custom-template-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="kubernetes.templates.custom"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.form">\n          <custom-template-common-fields form-values="$ctrl.formValues"></custom-template-common-fields>\n\n          \x3c!-- build-method --\x3e\n          <div class="col-sm-12 form-section-title"> Build method </div>\n          <box-selector radio-name="\'method\'" value="$ctrl.state.method" options="$ctrl.methodOptions" on-change="($ctrl.onChangeMethod)"></box-selector>\n\n          <web-editor-form\n            ng-if="$ctrl.state.method === \'editor\'"\n            identifier="template-creation-editor"\n            value="$ctrl.formValues.FileContent"\n            on-change="($ctrl.onChangeFileContent)"\n            ng-required="true"\n            yml="true"\n            placeholder="# "\n          >\n            <editor-description>\n              <p>Templates allow deploying any kind of Kubernetes resource (Deployment, Secret, ConfigMap...)</p>\n              <p>\n                \n                <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank"></a> Kubernetes \n              </p>\n            </editor-description>\n          </web-editor-form>\n\n          <file-upload-form ng-if="$ctrl.state.method === \'upload\'" file="$ctrl.formValues.File" on-change="($ctrl.onChangeFile)" ng-required="true">\n            <file-upload-description> You can upload a Manifest file from your computer. </file-upload-description>\n          </file-upload-form>\n\n          <por-access-control-form form-data="$ctrl.formValues.AccessControlData"></por-access-control-form>\n\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.state.actionInProgress || $ctrl.form.$invalid || ($ctrl.state.method === \'editor\' && !$ctrl.formValues.FileContent)"\n                ng-click="$ctrl.createCustomTemplate()"\n                button-spinner="$ctrl.state.actionInProgress"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress">Create custom template</span>\n                <span ng-show="$ctrl.state.actionInProgress">Creation in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},66295:e=>{var t="app/kubernetes/custom-templates/kube-custom-templates-view/kube-custom-templates-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="" state="kubernetes.templates.custom" view-ready="true">  </kubernetes-view-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <custom-templates-list\n      ng-if="$ctrl.templates"\n      title-text=""\n      title-icon="fa-rocket"\n      templates="$ctrl.templates"\n      table-key="customTemplates"\n      is-edit-allowed="$ctrl.isEditAllowed"\n      on-select-click="($ctrl.selectTemplate)"\n      on-delete-click="($ctrl.confirmDelete)"\n      create-path="kubernetes.templates.custom.new"\n      edit-path="kubernetes.templates.custom.edit"\n    ></custom-templates-list>\n  </div>\n</div>\n')}]),e.exports=t},13968:e=>{var t="app/kubernetes/custom-templates/kube-edit-custom-template-view/kube-edit-custom-template-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edit Custom Template">\n    <a data-toggle="tooltip" title="" ui-sref="kubernetes.templates.custom.edit({id:$ctrl.formValues.Id})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content> <a ui-sref="kubernetes.templates.custom">Custom templates</a> &gt; {{ $ctrl.formValues.Title }} </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="$ctrl.formValues">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.form">\n          <custom-template-common-fields form-values="$ctrl.formValues"></custom-template-common-fields>\n\n          <web-editor-form\n            identifier="template-editor"\n            value="$ctrl.formValues.FileContent"\n            on-change="($ctrl.onChangeFileContent)"\n            ng-required="true"\n            yml="true"\n            placeholder="# "\n          >\n            <editor-description>\n              <p> Kubernetes DeploymentSecretConfigMap...</p>\n              <p>\n                \n                <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank"></a> Kubernetes \n              </p>\n            </editor-description>\n          </web-editor-form>\n\n          <por-access-control-form form-data="$ctrl.formValues.AccessControlData" resource-control="$ctrl.formValues.ResourceControl"></por-access-control-form>\n\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.actionInProgress || $ctrl.form.$invalid || !$ctrl.formValues.Title || !$ctrl.formValues.FileContent"\n                ng-click="$ctrl.submitAction()"\n                button-spinner="$ctrl.actionInProgress"\n              >\n                <span ng-hide="$ctrl.actionInProgress">Update the template</span>\n                <span ng-show="$ctrl.actionInProgress">...</span>\n              </button>\n              <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},2780:e=>{var t="app/kubernetes/registries/kube-registry-access-view/kube-registry-access-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Registry access"></rd-header-title>\n  <rd-header-content> <a ui-sref="kubernetes.registries"></a> &gt; {{ $ctrl.registry.Name }} &gt; Access management </rd-header-content>\n</rd-header>\n\n<registry-details registry="$ctrl.registry" ng-if="$ctrl.registry"></registry-details>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-user-lock" title-text="Create access"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label class="col-sm-3 col-lg-2 control-label text-left" style="padding-top: 0"> Select namespaces </label>\n            <div class="col-sm-9 col-lg-4" style="margin-bottom: 15px">\n              <span class="small text-muted" ng-if="!$ctrl.resourcePools.length"> No namespaces available. </span>\n              <span\n                isteven-multi-select\n                ng-if="$ctrl.resourcePools.length"\n                input-model="$ctrl.resourcePools"\n                output-model="$ctrl.selectedResourcePools"\n                button-label="name"\n                item-label="name"\n                tick-property="ticked"\n                helper-elements="filter"\n                search-property="name"\n                translation="{nothingSelected: \'Select one or more namespaces\', search: \'...\'}"\n              >\n              </span>\n            </div>\n            <div class="col-sm-12 small text-muted">\n              <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              Note: adding this registry will expose the registry credentials to all users of this namespace\n            </div>\n          </div>\n\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.selectedResourcePools.length === 0 || $ctrl.state.actionInProgress"\n                ng-click="$ctrl.submit()"\n                button-spinner="$ctrl.state.actionInProgress"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Create access</span>\n                <span ng-show="$ctrl.state.actionInProgress">Creating access...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row">\n  <div class="col-sm-12">\n    <strings-datatable\n      title-text="Access"\n      title-icon="fa-user-lock"\n      table-key="access_registry_resourcepools"\n      dataset="$ctrl.savedResourcePools"\n      empty-dataset-message="No namespace has been authorized yet."\n      on-remove="($ctrl.handleRemove)"\n      column-header="Namespace"\n    >\n    </strings-datatable>\n  </div>\n</div>\n')}]),e.exports=t},79573:e=>{var t="app/kubernetes/views/applications/applications.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Application list" state="kubernetes.applications" view-ready="ctrl.state.viewReady"> Applications </kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12" data-cy="k8sApp-appList">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading> <i class="fa fa-laptop-code space-right" aria-hidden="true"></i> Applications </uib-tab-heading>\n              <kubernetes-applications-datatable\n                dataset="ctrl.state.applications"\n                table-key="kubernetes.applications"\n                settings-key="kubernetes.applications"\n                order-by="Name"\n                remove-action="ctrl.removeAction"\n                refresh-callback="ctrl.getApplications"\n                on-publishing-mode-click="(ctrl.onPublishingModeClick)"\n                is-primary="true"\n              >\n              </kubernetes-applications-datatable>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading> <i class="fa fa-exchange-alt space-right" aria-hidden="true"></i> Port mappings </uib-tab-heading>\n              <kubernetes-applications-ports-datatable dataset="ctrl.state.ports" table-key="kubernetes.applications.ports" order-by="Name" refresh-callback="ctrl.getApplications">\n              </kubernetes-applications-ports-datatable>\n            </uib-tab>\n            <uib-tab index="2" classes="btn-sm" select="ctrl.selectTab(2)">\n              <uib-tab-heading> <i class="fa fa-th-list space-right" aria-hidden="true"></i> Stacks </uib-tab-heading>\n              <kubernetes-applications-stacks-datatable\n                dataset="ctrl.state.stacks"\n                table-key="kubernetes.applications.stacks"\n                order-by="Name"\n                refresh-callback="ctrl.getApplications"\n                remove-action="ctrl.removeStacksAction"\n              >\n              </kubernetes-applications-stacks-datatable>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},65998:e=>{var t="app/kubernetes/views/applications/console/console.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Application console" state="kubernetes.applications.application.console" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt;\n  <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })">{{ ctrl.application.ResourcePool }}</a> &gt;\n  <a ui-sref="kubernetes.applications">Applications</a> &gt;\n  <a ui-sref="kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })">{{ ctrl.application.Name }}</a> &gt; Pods &gt;\n  {{ ctrl.podName }} &gt; Containers &gt; {{ ctrl.containerName }} &gt; Console\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" autocomplete="off">\n            <div class="col-sm-12 form-section-title"> Console </div>\n            \x3c!-- Command --\x3e\n            <div class="form-group">\n              <label for="console_command" class="col-sm-1 control-label text-left">Command</label>\n              <div class="col-sm-10 input-group">\n                <span class="input-group-addon">\n                  <i class="fas fa-terminal" aria-hidden="true"></i>\n                </span>\n                <input\n                  type="text"\n                  class="form-control"\n                  placeholder="/bin/bash"\n                  ng-model="ctrl.state.command"\n                  name="console_command"\n                  uib-typeahead="command for command in ctrl.state.availableCommands | filter:$viewValue | limitTo:5"\n                  typeahead-show-hint="true"\n                  typeahead-min-length="0"\n                  auto-focus\n                />\n              </div>\n            </div>\n            \x3c!-- !command --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  style="margin: 0"\n                  ng-if="!ctrl.state.connected"\n                  ng-disabled="!ctrl.state.command || ctrl.state.connected"\n                  ng-click="ctrl.connectConsole()"\n                  button-spinner="ctrl.state.actionInProgress"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress">Connect</span>\n                  <span ng-show="ctrl.state.actionInProgress">Connection in progress...</span>\n                </button>\n                <button type="button" class="btn btn-primary btn-sm" style="margin: 0" ng-if="ctrl.state.connected" ng-click="ctrl.disconnect()"> Disconnect </button>\n              </div>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <div id="terminal-container" class="terminal-container"></div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},1866:e=>{var t="app/kubernetes/views/applications/create/createApplication.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header ng-if="!ctrl.state.isEdit" title="Create application" state="kubernetes.applications.new" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.applications">Applications</a> &gt; Create an application\n</kubernetes-view-header>\n<kubernetes-view-header ng-if="ctrl.state.isEdit" title="Edit application" state="kubernetes.applications.application.edit" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt;\n  <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })">{{ ctrl.application.ResourcePool }}</a> &gt;\n  <a ui-sref="kubernetes.applications">Applications</a> &gt;\n  <a ui-sref="kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })">{{ ctrl.application.Name }}</a> &gt; Edit\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-xs-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" name="kubernetesApplicationCreationForm" autocomplete="off">\n            <div ng-if="!ctrl.isExternalApplication()">\n              <git-form-info-panel\n                ng-if="ctrl.state.appType == ctrl.KubernetesDeploymentTypes.GIT"\n                class-name="text-muted"\n                url="ctrl.stack.GitConfig.URL"\n                config-file-path="ctrl.stack.GitConfig.ConfigFilePath"\n                additional-files="ctrl.stack.AdditionalFiles"\n                type="application"\n              ></git-form-info-panel>\n              <div class="col-sm-12 form-section-title" ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"> Namespace </div>\n              \x3c!-- #region NAMESPACE --\x3e\n              <div class="form-group" ng-if="ctrl.formValues.ResourcePool">\n                <label for="resource-pool-selector" class="col-sm-1 control-label text-left">Namespace</label>\n                <div class="col-sm-11">\n                  <select\n                    class="form-control"\n                    id="resource-pool-selector"\n                    ng-model="ctrl.formValues.ResourcePool"\n                    ng-options="resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools"\n                    ng-change="ctrl.onResourcePoolSelectionChange()"\n                    ng-disabled="ctrl.state.isEdit"\n                    data-cy="k8sAppCreate-nsSelect"\n                  ></select>\n                </div>\n              </div>\n              <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded() && ctrl.formValues.ResourcePool">\n                <div class="col-sm-12 small text-danger">\n                  <i class="fa fa-exclamation-circle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of the\n                  namespace.\n                </div>\n              </div>\n              <div class="form-group" ng-if="!ctrl.formValues.ResourcePool">\n                <div class="col-sm-12 small text-muted">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  You do not have access to any namespace. Contact your administrator to get access to a namespace.\n                </div>\n              </div>\n              \x3c!-- #endregion --\x3e\n\n              \x3c!-- #region Git repository --\x3e\n              <kubernetes-redeploy-app-git-form\n                ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.GIT"\n                stack="ctrl.stack"\n                namespace="ctrl.formValues.ResourcePool.Namespace.Name"\n              ></kubernetes-redeploy-app-git-form>\n              \x3c!-- #endregion --\x3e\n\n              \x3c!-- #region web editor --\x3e\n              <web-editor-form\n                ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.CONTENT"\n                value="ctrl.stackFileContent"\n                yml="true"\n                identifier="kubernetes-deploy-editor"\n                placeholder="# "\n                on-change="(ctrl.onChangeFileContent)"\n              >\n                <editor-description>\n                  <span class="text-muted small" ng-show="ctrl.stack.IsComposeFormat">\n                    <p>\n                      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      Portainer uses <a href="https://kompose.io/" target="_blank">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not\n                      all the Compose format options are supported by Kompose at the moment.\n                    </p>\n                    <p>\n                      \n                      <a href="https://docs.docker.com/compose/compose-file/" target="_blank"></a> Compose \n                    </p>\n                  </span>\n                  <span class="text-muted small" ng-show="!ctrl.stack.IsComposeFormat">\n                    <p>\n                      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\n                    </p>\n                    <p>\n                      \n                      <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank"></a> Kubernetes \n                    </p>\n                  </span>\n                </editor-description>\n              </web-editor-form>\n              \x3c!-- #endregion --\x3e\n              <div ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM">\n                <div class="col-sm-12 form-section-title"> Application </div>\n                \x3c!-- #region NAME FIELD --\x3e\n                <div class="form-group">\n                  <label for="application_name" class="col-sm-1 control-label text-left"></label>\n                  <div class="col-sm-11">\n                    <input\n                      type="text"\n                      class="form-control"\n                      name="application_name"\n                      ng-model="ctrl.formValues.Name"\n                      ng-change="ctrl.onChangeName()"\n                      placeholder="my-app"\n                      ng-pattern="/^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$/"\n                      auto-focus\n                      required\n                      ng-disabled="ctrl.state.isEdit"\n                      data-cy="k8sAppCreate-applicationName"\n                    />\n                  </div>\n                </div>\n                <div class="form-group" ng-show="kubernetesApplicationCreationForm.application_name.$invalid || ctrl.state.alreadyExists">\n                  <div class="col-sm-12 small text-warning">\n                    <div ng-messages="kubernetesApplicationCreationForm.application_name.$error">\n                      <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                      <p ng-message="pattern">\n                        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                        This field must consist of lower case alphanumeric characters or \'-\', contain at most 63 characters, start with an alphabetic character, and end with an\n                        alphanumeric character ( \'my-name\', or \'abc-123\').\n                      </p>\n                    </div>\n                    <p ng-if="ctrl.state.alreadyExists">\n                      <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                      An application with the same name already exists inside the selected namespace.\n                    </p>\n                  </div>\n                </div>\n                \x3c!-- #endregion --\x3e\n\n                \x3c!-- #region IMAGE FIELD --\x3e\n\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <por-image-registry\n                      model="ctrl.formValues.ImageModel"\n                      ng-if="ctrl.formValues.ResourcePool"\n                      auto-complete="false"\n                      label-class="col-sm-1"\n                      input-class="col-sm-11"\n                      namespace="ctrl.formValues.ResourcePool.Namespace.Name"\n                      endpoint="ctrl.endpoint"\n                      is-admin="ctrl.isAdmin"\n                      check-rate-limits="true"\n                      set-validity="ctrl.setPullImageValidity"\n                    ></por-image-registry>\n                  </div>\n                </div>\n                <div ng-if="ctrl.formValues.ResourcePool">\n                  <div class="col-sm-12 form-section-title"> Stack </div>\n                  \x3c!-- #region STACK --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12 small text-muted">\n                      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      Portainer   \n \n                    </div>\n                  </div>\n\n                  <div class="form-group">\n                    <label for="stack_name" class="col-sm-1 control-label text-left">Stack</label>\n                    <div class="col-sm-11">\n                      <input\n                        type="text"\n                        class="form-control"\n                        placeholder="myStack"\n                        ng-model="ctrl.formValues.StackName"\n                        name="stack_name"\n                        uib-typeahead="stack for stack in ctrl.stacks | filter:$viewValue | limitTo:7"\n                        typeahead-show-hint="true"\n                        typeahead-min-length="0"\n                        data-cy="k8sAppCreate-stackName"\n                      />\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Environment </div>\n                  \x3c!-- #region ENVIRONMENT VARIABLES --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12">\n                      <label class="control-label text-left"></label>\n                      <span\n                        ng-if="ctrl.formValues.Containers.length <= 1"\n                        class="label label-default interactive"\n                        style="margin-left: 10px"\n                        ng-click="ctrl.addEnvironmentVariable()"\n                        data-cy="k8sAppCreate-addEnvVarButton"\n                      >\n                        <i class="fa fa-plus-circle" aria-hidden="true"></i> add environment variable\n                      </span>\n                    </div>\n\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                      <div ng-repeat="envVar in ctrl.formValues.EnvironmentVariables | orderBy: \'NameIndex\'" style="margin-top: 2px">\n                        <div style="margin-top: 2px">\n                          <div class="col-sm-4 input-group input-group-sm">\n                            <div class="input-group col-sm-12 input-group-sm" ng-class="{ striked: envVar.NeedsDeletion }">\n                              <span class="input-group-addon"></span>\n                              <input\n                                type="text"\n                                name="environment_variable_name_{{ $index }}"\n                                class="form-control"\n                                ng-model="envVar.Name"\n                                ng-change="ctrl.onChangeEnvironmentName()"\n                                ng-pattern="/^[-._a-zA-Z][-._a-zA-Z0-9]*$/"\n                                placeholder="foo"\n                                ng-disabled="ctrl.formValues.Containers.length > 1"\n                                data-cy="k8sAppCreate-envVarName_{{ $index }}"\n                                required\n                              />\n                            </div>\n                          </div>\n\n                          <div class="col-sm-4 input-group input-group-sm" ng-class="{ striked: envVar.NeedsDeletion }">\n                            <span class="input-group-addon">value</span>\n                            <input\n                              type="text"\n                              name="environment_variable_value_{{ $index }}"\n                              class="form-control"\n                              ng-model="envVar.Value"\n                              placeholder="bar"\n                              ng-disabled="ctrl.formValues.Containers.length > 1"\n                              data-cy="k8sAppCreate-envVarValue_{{ $index }}"\n                            />\n                          </div>\n\n                          <div class="col-sm-2 input-group input-group-sm" ng-if="ctrl.formValues.Containers.length <= 1">\n                            <button ng-if="!envVar.NeedsDeletion" class="btn btn-sm btn-danger" type="button" ng-click="ctrl.removeEnvironmentVariable(envVar)">\n                              <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                            </button>\n                            <button\n                              ng-if="envVar.NeedsDeletion"\n                              class="btn btn-sm btn-primary"\n                              type="button"\n                              ng-click="ctrl.restoreEnvironmentVariable(envVar)"\n                              data-cy="k8sAppCreate-removeEnvVarButton_{{ $index }}"\n                            >\n                              <i class="fa fa-trash-restore" aria-hidden="true"></i>\n                            </button>\n                          </div>\n                        </div>\n                        <div\n                          ng-show="\n                            kubernetesApplicationCreationForm[\'environment_variable_name_\' + $index].$invalid ||\n                            ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\n                          "\n                        >\n                          <div class="col-sm-4 input-group input-group-sm">\n                            <div\n                              class="small text-warning"\n                              style="margin-top: 5px"\n                              ng-show="\n                                kubernetesApplicationCreationForm[\'environment_variable_name_\' + $index].$invalid ||\n                                ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\n                              "\n                            >\n                              <ng-messages for="kubernetesApplicationCreationForm[\'environment_variable_name_\' + $index].$error">\n                                <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Environment variable name is required.</p>\n                                <p ng-message="pattern"\n                                  ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field must consist of alphabetic characters, digits, \'_\', \'-\', or \'.\', and\n                                  must not start with a digit ( \'my.env-name\', or \'MY_ENV.NAME\', or \'MyEnvName1\'.</p\n                                >\n                              </ng-messages>\n                              <p ng-if="ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined"\n                                ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This environment variable is already defined.</p\n                              >\n                            </div>\n                          </div>\n                          <div class="col-sm-4 input-group input-group-sm"></div>\n                          <div class="col-sm-2 input-group input-group-sm"></div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Configurations </div>\n                  \x3c!-- #region CONFIGURATIONS --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12">\n                      <label class="control-label text-left">Configurations</label>\n                      <span\n                        class="label label-default interactive"\n                        style="margin-left: 10px"\n                        ng-click="ctrl.addConfiguration()"\n                        ng-if="ctrl.formValues.Containers.length <= 1"\n                        data-cy="k8sAppCreate-addConfigButton"\n                      >\n                        <i class="fa fa-plus-circle" aria-hidden="true"></i> add configuration\n                      </span>\n                    </div>\n                    <div class="col-sm-12 small text-muted" style="margin-top: 15px" ng-if="ctrl.formValues.Configurations.length">\n                      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      Portainer will automatically expose all the keys of a configuration as environment variables. This behavior can be overriden to filesystem mounts for each key\n                      via the override button.\n                    </div>\n                  </div>\n\n                  \x3c!-- config-element --\x3e\n                  <div class="form-group" ng-repeat="(index, config) in ctrl.formValues.Configurations">\n                    <label for="stack_name" class="col-md-1 col-sm-2 control-label text-left">Configuration</label>\n                    <div class="col-sm-5">\n                      <select\n                        class="form-control"\n                        ng-model="config.SelectedConfiguration"\n                        ng-options="c as c.Name for c in ctrl.configurations track by c.Name"\n                        ng-change="ctrl.resetConfiguration(index)"\n                        ng-disabled="ctrl.formValues.Containers.length > 1"\n                        data-cy="k8sAppCreate-addConfigSelect_{{ $index }}"\n                      ></select>\n                    </div>\n                    <div class="col-sm-6" style="margin-top: 2px">\n                      <button\n                        class="btn btn-sm btn-primary"\n                        type="button"\n                        ng-if="!config.Overriden"\n                        ng-click="ctrl.overrideConfiguration(index)"\n                        ng-disabled="!config.SelectedConfiguration || ctrl.formValues.Containers.length > 1"\n                        data-cy="k8sAppCreate-configOverrideButton_{{ $index }}"\n                      >\n                        <i class="fa fa-list" aria-hidden="true"></i> Override\n                      </button>\n                      <button\n                        class="btn btn-sm btn-primary"\n                        type="button"\n                        ng-if="config.Overriden"\n                        ng-click="ctrl.resetConfiguration(index)"\n                        ng-disabled="ctrl.formValues.Containers.length > 1"\n                        data-cy="k8sAppCreate-configAutoButton_{{ $index }}"\n                      >\n                        <i class="fa fa-undo" aria-hidden="true"></i> Auto\n                      </button>\n                      <button\n                        class="btn btn-sm btn-danger"\n                        type="button"\n                        ng-click="ctrl.removeConfiguration(index)"\n                        ng-if="ctrl.formValues.Containers.length <= 1"\n                        data-cy="k8sAppCreate-configRemoveButton"\n                      >\n                        <i class="fa fa-trash-alt" aria-hidden="true"></i> Remove\n                      </button>\n                    </div>\n                    \x3c!-- no-override --\x3e\n                    <div class="col-sm-12" style="margin-top: 10px" ng-if="config.SelectedConfiguration && !config.Overriden">\n                      <div class="col-md-1 col-sm-2"></div>\n                      <div class="col-md-11 col-sm-10 small text-muted" style="padding-left: 5px">\n                        The following keys will be loaded from the <code>{{ config.SelectedConfiguration.Name }}</code> configuration as environment variables:\n                        <span ng-repeat="(key, _) in config.SelectedConfiguration.Data">\n                          <code>{{ key }}</code\n                          >{{ $last ? \'\' : \', \' }}\n                        </span>\n                      </div>\n                    </div>\n                    \x3c!-- !no-override --\x3e\n\n                    \x3c!-- has-override --\x3e\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px" ng-if="config.Overriden">\n                      <div ng-repeat="(keyIndex, overridenKey) in config.OverridenKeys" style="margin-top: 2px">\n                        <div style="margin-top: 2px">\n                          <div class="col-sm-1 input-group input-group-sm" style="margin-left: 3px"></div>\n                          <div class="col-sm-3 input-group input-group-sm">\n                            <span class="input-group-addon">configuration key</span>\n                            <input type="text" class="form-control" ng-value="overridenKey.Key" disabled />\n                          </div>\n\n                          <div class="col-sm-3 input-group input-group-sm" ng-if="overridenKey.Type === ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM">\n                            <div class="col-sm-12 input-group input-group-sm">\n                              <span class="input-group-addon">path on disk</span>\n                              <input\n                                type="text"\n                                class="form-control"\n                                ng-model="overridenKey.Path"\n                                placeholder="/etc/myapp/conf.d"\n                                name="overriden_key_path_{{ index }}_{{ keyIndex }}"\n                                ng-disabled="ctrl.formValues.Containers.length > 1"\n                                required\n                                ng-change="ctrl.onChangeConfigurationPath()"\n                                data-cy="k8sAppCreate-pathOnDiskInput"\n                              />\n                            </div>\n                          </div>\n\n                          <div class="input-group col-sm-4 btn-group btn-group-sm">\n                            <label class="btn btn-primary" ng-model="overridenKey.Type" uib-btn-radio="ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT">\n                              <i class="fa fa-list" aria-hidden="true"></i> \n                            </label>\n                            <label class="btn btn-primary" ng-model="overridenKey.Type" uib-btn-radio="ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM">\n                              <i class="fa fa-file" aria-hidden="true"></i> Filesystem\n                            </label>\n                          </div>\n                        </div>\n\n                        <div\n                          ng-show="\n                            kubernetesApplicationCreationForm[\'overriden_key_path_\' + index + \'_\' + keyIndex].$invalid ||\n                            ctrl.state.duplicates.configurationPaths.refs[index + \'_\' + keyIndex] !== undefined\n                          "\n                        >\n                          <div class="col-sm-1 input-group input-group-sm" style="margin-left: 3px"></div>\n                          <div class="col-sm-3 input-group input-group-sm"></div>\n                          <div class="col-sm-3 input-group input-group-sm" ng-if="overridenKey.Type === ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM">\n                            <div\n                              class="small text-warning"\n                              style="margin-top: 5px"\n                              ng-show="\n                                kubernetesApplicationCreationForm[\'overriden_key_path_\' + index + \'_\' + keyIndex].$invalid ||\n                                ctrl.state.duplicates.configurationPaths.refs[index + \'_\' + keyIndex] !== undefined\n                              "\n                            >\n                              <ng-messages for="kubernetesApplicationCreationForm[\'overriden_key_path_\' + index + \'_\' + keyIndex].$error">\n                                <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Path is required.</p>\n                              </ng-messages>\n                              <p ng-if="ctrl.state.duplicates.configurationPaths.refs[index + \'_\' + keyIndex] !== undefined"\n                                ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This path is already used.</p\n                              >\n                            </div>\n                          </div>\n                          <div class="col-sm-4 input-group input-group-sm"></div>\n                        </div>\n                      </div>\n                    </div>\n                    \x3c!-- !has-override --\x3e\n                  </div>\n                  \x3c!-- !config-element --\x3e\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Persisting data </div>\n                  \x3c!-- #region PERSISTED FOLDERS --\x3e\n                  <div class="form-group" ng-if="!ctrl.storageClassAvailable()">\n                    <div class="col-sm-12 small text-muted">\n                      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      No storage option is available to persist data, contact your administrator to enable a storage option.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.storageClassAvailable()">\n                    <div class="col-sm-12" style="margin-top: 5px" ng-if="!ctrl.allQuotasExhaustedAndNoVolumesAvailable()">\n                      <label class="control-label text-left">Persisted folders</label>\n                      <span\n                        class="label label-default interactive"\n                        style="margin-left: 10px"\n                        ng-click="ctrl.addPersistedFolder()"\n                        ng-if="ctrl.isAddPersistentFolderButtonShowed()"\n                        data-cy="k8sAppCreate-addPersistentFolderButton"\n                      >\n                        <i class="fa fa-plus-circle" aria-hidden="true"></i> add persisted folder\n                      </span>\n                    </div>\n\n                    <div class="col-sm-12" style="margin-top: 5px" ng-if="ctrl.allQuotasExhaustedAndNoVolumesAvailable()">\n                      <span class="small text-muted">\n                        <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                        This namespace has exhausted its storage capacity. Contact your administrator to expand the capacity of the namespace.\n                      </span>\n                    </div>\n\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px" ng-repeat="persistedFolder in ctrl.formValues.PersistedFolders">\n                      <div style="margin-top: 2px">\n                        <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: persistedFolder.NeedsDeletion }">\n                          <span class="input-group-addon">path in container</span>\n                          <input\n                            type="text"\n                            class="form-control"\n                            name="persisted_folder_path_{{ $index }}"\n                            ng-model="persistedFolder.ContainerPath"\n                            ng-change="ctrl.onChangePersistedFolderPath()"\n                            ng-disabled="ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1"\n                            placeholder="/data"\n                            required\n                            data-cy="k8sAppCreate-containerPathInput_{{ $index }}"\n                          />\n                        </div>\n\n                        <div class="input-group col-sm-2 input-group-sm">\n                          <span\n                            class="btn-group btn-group-sm"\n                            ng-class="{ striked: persistedFolder.NeedsDeletion }"\n                            ng-if="\n                              !ctrl.isEditAndExistingPersistedFolder($index) &&\n                              ctrl.application.ApplicationType !== ctrl.ApplicationTypes.STATEFULSET &&\n                              ctrl.formValues.Containers.length <= 1\n                            "\n                          >\n                            <label\n                              class="btn btn-primary"\n                              ng-model="persistedFolder.UseNewVolume"\n                              uib-btn-radio="true"\n                              ng-change="ctrl.useNewVolume($index)"\n                              ng-disabled="ctrl.isNewVolumeButtonDisabled($index)"\n                              >New volume</label\n                            >\n                            <label\n                              class="btn btn-primary"\n                              ng-model="persistedFolder.UseNewVolume"\n                              uib-btn-radio="false"\n                              ng-change="ctrl.useExistingVolume($index)"\n                              ng-disabled="ctrl.isExistingVolumeButtonDisabled()"\n                              >Existing volume</label\n                            >\n                          </span>\n                        </div>\n\n                        <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: persistedFolder.NeedsDeletion }" ng-if="persistedFolder.UseNewVolume">\n                          <span class="input-group-addon">requested size</span>\n                          <input\n                            type="number"\n                            class="form-control"\n                            name="persisted_folder_size_{{ $index }}"\n                            ng-model="persistedFolder.Size"\n                            placeholder="20"\n                            ng-min="0"\n                            required\n                            ng-disabled="ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1"\n                            ng-change="ctrl.onChangeVolumeRequestedSize()"\n                          />\n                          <span class="input-group-addon" style="padding: 0">\n                            <select\n                              ng-model="persistedFolder.SizeUnit"\n                              ng-style="{ width: \'100%\', height: \'100%\', cursor: ctrl.isEditAndExistingPersistedFolder($index) ? \'not-allowed\' : \'auto\' }"\n                              ng-options="unit for unit in ctrl.state.availableSizeUnits"\n                              ng-disabled="ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1"\n                              ng-change="ctrl.onChangeVolumeRequestedSize()"\n                            ></select>\n                          </span>\n                        </div>\n\n                        <div class="input-group col-sm-2 input-group-sm" ng-class="{ striked: persistedFolder.NeedsDeletion }" ng-if="persistedFolder.UseNewVolume">\n                          <span class="input-group-addon">storage</span>\n                          <select\n                            ng-if="ctrl.hasMultipleStorageClassesAvailable()"\n                            class="form-control"\n                            ng-model="persistedFolder.StorageClass"\n                            ng-options="storageClass as storageClass.Name for storageClass in ctrl.storageClasses"\n                            ng-disabled="ctrl.state.isEdit || ctrl.formValues.Containers.length > 1"\n                            data-cy="k8sAppCreate-storageSelect_{{ $index }}"\n                          ></select>\n                          <input\n                            ng-if="!ctrl.hasMultipleStorageClassesAvailable()"\n                            type="text"\n                            class="form-control"\n                            disabled\n                            ng-model="persistedFolder.StorageClass.Name"\n                            data-cy="k8sAppCreate-storageClassNameInput_{{ $index }}"\n                          />\n                        </div>\n\n                        <div class="input-group col-sm-5 input-group-sm" ng-if="!persistedFolder.UseNewVolume" ng-class="{ striked: persistedFolder.NeedsDeletion }">\n                          <span class="input-group-addon"></span>\n                          <select\n                            class="form-control"\n                            name="existing_volumes_{{ $index }}"\n                            ng-model="ctrl.formValues.PersistedFolders[$index].ExistingVolume"\n                            ng-options="vol as vol.PersistentVolumeClaim.Name for vol in ctrl.availableVolumes"\n                            ng-change="ctrl.onChangeExistingVolumeSelection()"\n                            ng-disabled="ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1"\n                            required\n                          >\n                            <option selected disabled hidden value=""></option>\n                          </select>\n                        </div>\n\n                        <div class="input-group col-sm-1 input-group-sm">\n                          <div ng-if="!ctrl.isEditAndStatefulSet() && !ctrl.state.useExistingVolume[$index] && ctrl.formValues.Containers.length <= 1">\n                            <button\n                              ng-if="!persistedFolder.NeedsDeletion"\n                              class="btn btn-sm btn-danger"\n                              type="button"\n                              ng-click="ctrl.removePersistedFolder($index)"\n                              data-cy="k8sAppCreate-rmPersistentFolderButton"\n                            >\n                              <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                            </button>\n                            <button\n                              ng-if="persistedFolder.NeedsDeletion"\n                              class="btn btn-sm btn-primary"\n                              type="button"\n                              ng-click="ctrl.restorePersistedFolder($index)"\n                              data-cy="k8sAppCreate-restorePersistentButton"\n                            >\n                              <i class="fa fa-trash-restore" aria-hidden="true"></i>\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div\n                        ng-show="\n                          kubernetesApplicationCreationForm[\'persisted_folder_path_\' + $index].$invalid ||\n                          ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined ||\n                          kubernetesApplicationCreationForm[\'persisted_folder_size_\' + $index].$invalid ||\n                          ctrl.state.exceeded.persistedFolders.refs[$index] !== undefined ||\n                          kubernetesApplicationCreationForm[\'existing_volumes_\' + $index].$invalid ||\n                          ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined\n                        "\n                      >\n                        <div class="input-group col-sm-3 input-group-sm">\n                          <div\n                            class="small text-warning"\n                            style="margin-top: 5px"\n                            ng-show="\n                              kubernetesApplicationCreationForm[\'persisted_folder_path_\' + $index].$invalid || ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined\n                            "\n                          >\n                            <ng-messages for="kubernetesApplicationCreationForm[\'persisted_folder_path_\' + $index].$error">\n                              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Path is required.</p>\n                            </ng-messages>\n                            <p ng-if="ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined"\n                              ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This path is already defined.</p\n                            >\n                          </div>\n                        </div>\n\n                        <div class="input-group col-sm-2 input-group-sm"></div>\n\n                        <div class="input-group col-sm-5 input-group-sm">\n                          <div\n                            class="small text-warning"\n                            style="margin-top: 5px"\n                            ng-show="\n                              kubernetesApplicationCreationForm[\'persisted_folder_size_\' + $index].$invalid || ctrl.state.exceeded.persistedFolders.refs[$index] !== undefined\n                            "\n                          >\n                            <ng-messages for="kubernetesApplicationCreationForm[\'persisted_folder_size_\' + $index].$error">\n                              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Size is required.</p>\n                              <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This value must be greater than zero.</p>\n                            </ng-messages>\n                            <p ng-if="ctrl.state.exceeded.persistedFolders.refs[$index] !== undefined">\n                              <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                              You can only request up to\n                              {{ ctrl.state.storages.availabilities[persistedFolder.StorageClass.Name] | kubernetesAppStorageRequestSizeHumanReadable }} for\n                              {{ persistedFolder.StorageClass.Name }}\n                            </p>\n                          </div>\n                          <div\n                            class="small text-warning"\n                            ng-show="kubernetesApplicationCreationForm[\'existing_volumes_\' + $index].$invalid || ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined"\n                          >\n                            <ng-messages for="kubernetesApplicationCreationForm[\'existing_volumes_\' + $index].$error">\n                              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Volume is required.</p>\n                            </ng-messages>\n                            <p ng-if="ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined"\n                              ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This volume is already used.</p\n                            >\n                          </div>\n                        </div>\n\n                        <div class="input-group col-sm-1 input-group-sm"> </div>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  \x3c!-- #region DATA ACCESS POLICY --\x3e\n                  <div ng-if="ctrl.showDataAccessPolicySection()">\n                    <div class="form-group">\n                      <div class="col-sm-12">\n                        <label class="control-label text-left">Data access policy</label>\n                      </div>\n                    </div>\n\n                    <div class="form-group">\n                      <div class="col-sm-12 small text-muted"> Specify how the data will be used across instances. </div>\n                    </div>\n\n                    \x3c!-- access policy options --\x3e\n                    <div class="form-group" style="margin-bottom: 0">\n                      <div class="boxselector_wrapper">\n                        <div\n                          ng-if="\n                            (!ctrl.state.isEdit && !ctrl.state.persistedFoldersUseExistingVolumes) ||\n                            (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED)\n                          "\n                        >\n                          <input\n                            type="radio"\n                            id="data_access_isolated"\n                            ng-value="ctrl.ApplicationDataAccessPolicies.ISOLATED"\n                            ng-model="ctrl.formValues.DataAccessPolicy"\n                            ng-change="ctrl.resetDeploymentType()"\n                          />\n                          <label for="data_access_isolated">\n                            <div class="boxselector_header">\n                              <i class="fa fa-cubes" aria-hidden="true" style="margin-right: 2px"></i>\n                              Isolated\n                            </div>\n                            <p>Application will be deployed as a StatefulSet with each instantiating their own data</p>\n                          </label>\n                        </div>\n                        <div\n                          style="color: #767676"\n                          ng-if="\n                            (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED) || ctrl.state.persistedFoldersUseExistingVolumes\n                          "\n                        >\n                          <input type="radio" id="data_access_isolated" disabled />\n                          <label\n                            for="data_access_isolated"\n                            tooltip-append-to-body="true"\n                            tooltip-placement="bottom"\n                            tooltip-class="portainer-tooltip"\n                            uib-tooltip="Changing the data access policy is not allowed"\n                            style="cursor: pointer; border-color: #767676"\n                          >\n                            <div class="boxselector_header">\n                              <i class="fa fa-cubes" aria-hidden="true" style="margin-right: 2px"></i>\n                              Isolated\n                            </div>\n                            <p>Application will be deployed as a StatefulSet with each instantiating their own data</p>\n                          </label>\n                        </div>\n                        <div ng-if="!ctrl.state.isEdit || (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED)">\n                          <input\n                            type="radio"\n                            id="data_access_shared"\n                            ng-value="ctrl.ApplicationDataAccessPolicies.SHARED"\n                            ng-model="ctrl.formValues.DataAccessPolicy"\n                            ng-change="ctrl.resetDeploymentType()"\n                          />\n                          <label for="data_access_shared">\n                            <div class="boxselector_header">\n                              <i class="fa fa-cube" aria-hidden="true" style="margin-right: 2px"></i>\n                              Shared\n                            </div>\n                            <p>Application will be deployed as a Deployment with a shared storage access</p>\n                          </label>\n                        </div>\n                        <div style="color: #767676" ng-if="ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED">\n                          <input type="radio" id="data_access_shared" disabled />\n                          <label\n                            for="data_access_shared"\n                            tooltip-append-to-body="true"\n                            tooltip-placement="bottom"\n                            tooltip-class="portainer-tooltip"\n                            uib-tooltip="Changing the data access policy is not allowed"\n                            style="cursor: pointer; border-color: #767676"\n                          >\n                            <div class="boxselector_header">\n                              <i class="fa fa-cube" aria-hidden="true" style="margin-right: 2px"></i>\n                              Shared\n                            </div>\n                            <p>Application will be deployed as a Deployment with a shared storage access</p>\n                          </label>\n                        </div>\n                      </div>\n                    </div>\n                    \x3c!-- !access policy options --\x3e\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Resource reservations </div>\n                  \x3c!-- #region RESOURCE RESERVATIONS --\x3e\n                  <div class="form-group" ng-if="!ctrl.state.resourcePoolHasQuota">\n                    <div class="col-sm-12 small text-muted">\n                      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      Resource reservations are applied per instance of the application.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded()">\n                    <div class="col-sm-12 small text-muted">\n                      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      A resource quota is set on this namespace, you must specify resource reservations. Resource reservations are applied per instance of the application. Maximums\n                      are inherited from the namespace quota.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded()">\n                    <div class="col-sm-12 small text-danger">\n                      <i class="fa fa-exclamation-circle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of\n                      the namespace.\n                    </div>\n                  </div>\n\n                  \x3c!-- memory-limit-input --\x3e\n                  <div\n                    class="form-group"\n                    ng-if="\n                      (!ctrl.state.resourcePoolHasQuota || (ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded())) && ctrl.formValues.Containers.length <= 1\n                    "\n                  >\n                    <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px">\n                      Memory\n                      <portainer-tooltip\n                        position="bottom"\n                        message=" OOM"\n                      >\n                      </portainer-tooltip>\n                    </label>\n                    <div class="col-sm-3">\n                      <slider model="ctrl.formValues.MemoryLimit" floor="ctrl.state.sliders.memory.min" ceil="ctrl.state.sliders.memory.max" step="128"></slider>\n                    </div>\n                    <div class="col-sm-2">\n                      <input\n                        name="memory_limit"\n                        ng-model="ctrl.formValues.MemoryLimit"\n                        type="number"\n                        min="{{ ctrl.state.sliders.memory.min }}"\n                        max="{{ ctrl.state.sliders.memory.max }}"\n                        class="form-control"\n                        id="memory-limit"\n                        required\n                        data-cy="k8sAppCreate-memoryLimit"\n                      />\n                    </div>\n                    <div class="col-sm-4">\n                      <p class="small text-muted" style="margin-top: 7px"> Maximum memory usage (<b>MB</b>) </p>\n                    </div>\n                  </div>\n                  <div class="form-group" ng-show="kubernetesApplicationCreationForm.memory_limit.$invalid">\n                    <div class="col-sm-12 small text-warning">\n                      <div ng-messages="kubernetesApplicationCreationForm.memory_limit.$error">\n                        <p\n                          ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Value must be between {{ ctrl.state.sliders.memory.min }} and\n                          {{ ctrl.state.sliders.memory.max }}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- !memory-limit-input --\x3e\n                  \x3c!-- cpu-limit-input --\x3e\n                  <div\n                    class="form-group"\n                    ng-if="\n                      (!ctrl.state.resourcePoolHasQuota || (ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded())) && ctrl.formValues.Containers.length <= 1\n                    "\n                  >\n                    <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px">\n                      CPU\n                      <portainer-tooltip\n                        position="bottom"\n                        message=" CPU  CPU  CPU "\n                      >\n                      </portainer-tooltip>\n                    </label>\n                    <div class="col-sm-5">\n                      <slider model="ctrl.formValues.CpuLimit" floor="ctrl.state.sliders.cpu.min" ceil="ctrl.state.sliders.cpu.max" step="0.10" precision="2"></slider>\n                    </div>\n                    <div class="col-sm-4" style="margin-top: 20px">\n                      <p class="small text-muted"> CPU </p>\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.nodeLimitsOverflow()">\n                    <div class="col-sm-12 small text-danger">\n                      <i class="fa fa-exclamation-circle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      These reservations would exceed the resources currently available in the cluster.\n                    </div>\n                  </div>\n                  \x3c!-- !cpu-limit-input --\x3e\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Deployment </div>\n                  \x3c!-- #region DEPLOYMENT --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12 small text-muted"> Select how you want to deploy your application inside the cluster. </div>\n                  </div>\n\n                  \x3c!-- deployment options --\x3e\n                  <div class="form-group" style="margin-bottom: 0">\n                    <div class="boxselector_wrapper">\n                      <div>\n                        <input\n                          type="radio"\n                          id="deployment_replicated"\n                          ng-value="ctrl.ApplicationDeploymentTypes.REPLICATED"\n                          ng-model="ctrl.formValues.DeploymentType"\n                          data-cy="k8sAppCreate-replicatedDeploymentButton"\n                        />\n                        <label for="deployment_replicated">\n                          <div class="boxselector_header">\n                            <i class="fa fa-cube" aria-hidden="true" style="margin-right: 2px"></i>\n                            Replicated\n                          </div>\n                          <p>Run one or multiple instances of this container</p>\n                        </label>\n                      </div>\n                      <div style="color: #767676" ng-if="!ctrl.supportGlobalDeployment()">\n                        <input type="radio" id="deployment_global" disabled />\n                        <label\n                          for="deployment_global"\n                          tooltip-append-to-body="true"\n                          tooltip-placement="bottom"\n                          tooltip-class="portainer-tooltip"\n                          uib-tooltip="The storage or access policy used for persisted folders cannot be used with this option"\n                          style="cursor: pointer; border-color: #767676"\n                        >\n                          <div class="boxselector_header">\n                            <i class="fa fa-cubes" aria-hidden="true" style="margin-right: 2px"></i>\n                            Global\n                          </div>\n                          <p>Application will be deployed as a DaemonSet with an instance on each node of the cluster</p>\n                        </label>\n                      </div>\n                      <div ng-if="ctrl.supportGlobalDeployment()">\n                        <input\n                          type="radio"\n                          id="deployment_global"\n                          ng-value="ctrl.ApplicationDeploymentTypes.GLOBAL"\n                          ng-model="ctrl.formValues.DeploymentType"\n                          ng-click="ctrl.unselectAutoScaler()"\n                          data-cy="k8sAppCreate-globalDeployButton"\n                        />\n                        <label for="deployment_global">\n                          <div class="boxselector_header">\n                            <i class="fa fa-cubes" aria-hidden="true" style="margin-right: 2px"></i>\n                            Global\n                          </div>\n                          <p>Application will be deployed as a DaemonSet with an instance on each node of the cluster</p>\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- !deployment options --\x3e\n\n                  \x3c!-- replica count --\x3e\n                  <div class="form-group form-inline" ng-if="ctrl.formValues.DeploymentType === ctrl.ApplicationDeploymentTypes.REPLICATED">\n                    <div class="col-sm-12">\n                      <label class="control-label text-left"> Instance count </label>\n                      <input\n                        type="number"\n                        name="replica_count"\n                        class="form-control"\n                        min="1"\n                        max="9999"\n                        placeholder="1"\n                        style="margin-left: 20px"\n                        ng-model="ctrl.formValues.ReplicaCount"\n                        ng-disabled="!ctrl.supportScalableReplicaDeployment()"\n                        ng-change="ctrl.enforceReplicaCountMinimum()"\n                        required\n                        data-cy="k8sAppCreate-replicaCountInput"\n                      />\n                    </div>\n                  </div>\n                  <div class="form-group" ng-if="kubernetesApplicationCreationForm[\'replica_count\'].$invalid">\n                    <div class="col-sm-12 small text-warning">\n                      <ng-messages for="kubernetesApplicationCreationForm[\'replica_count\'].$error">\n                        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Instance count is required.</p>\n                        <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>  0</p>\n                      </ng-messages>\n                    </div>\n                  </div>\n                  \x3c!-- !replica count --\x3e\n\n                  <div\n                    class="form-group"\n                    ng-if="!ctrl.resourceReservationsOverflow() && ctrl.formValues.ReplicaCount > 1 && (ctrl.formValues.CpuLimit !== 0 || ctrl.formValues.MemoryLimit !== 0)"\n                  >\n                    <div class="col-sm-12 small text-muted">\n                      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      This application will reserve the following resources:\n                      <b>{{ ctrl.formValues.CpuLimit * ctrl.formValues.ReplicaCount | kubernetesApplicationCPUValue }} CPU</b> and\n                      <b>{{ ctrl.formValues.MemoryLimit * ctrl.formValues.ReplicaCount }} MB</b> of memory.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.resourceReservationsOverflow()">\n                    <div class="col-sm-12 small text-danger">\n                      <i class="fa fa-exclamation-circle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      This application would exceed available resources. Please review resource reservations or the instance count.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.state.storages.quotaExceeded">\n                    <div class="col-sm-12 small text-muted">\n                      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      This application would exceed available storage. Please review the persisted folders or the instance count.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="!ctrl.supportScalableReplicaDeployment()">\n                    <div class="col-sm-12 small text-muted">\n                      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      The following storage option(s) do not support concurrent access from multiples instances: <code>{{ ctrl.getNonScalableStorage() }}</code\n                      >. You will not be able to scale that application.\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  \x3c!-- #region AUTO SCALING --\x3e\n                  <div class="col-sm-12 form-section-title" ng-if="ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL"> Auto-scaling </div>\n\n                  <div class="form-group" ng-if="ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && ctrl.state.useServerMetrics">\n                    <div class="col-sm-12">\n                      <label for="enable_auto_scaling" class="control-label text-left"> Enable auto scaling for this application </label>\n                      <label class="switch" style="margin-left: 20px">\n                        <input\n                          type="checkbox"\n                          class="form-control"\n                          name="enable_auto_scaling"\n                          ng-model="ctrl.formValues.AutoScaler.IsUsed"\n                          data-cy="k8sAppCreate-autoScaleCheckbox"\n                        />\n                        <i></i>\n                      </label>\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && !ctrl.state.useServerMetrics">\n                    <div class="col-sm-12 small text-muted">\n                      <p ng-if="!ctrl.isAdmin"> This feature is currently disabled and must be enabled by an administrator user. </p>\n                      <p ng-if="ctrl.isAdmin">\n                        Server metrics features must be enabled in the\n                        <a ui-sref="portainer.k8sendpoint.kubernetesConfig({id: ctrl.endpoint.Id})" class="ctrl.isAdmin">environment configuration view</a>.\n                      </p>\n                    </div>\n                  </div>\n\n                  <div class="form-inline" ng-if="ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && ctrl.formValues.AutoScaler.IsUsed">\n                    <table class="table" style="margin-bottom: 0px">\n                      <tbody>\n                        <tr class="small">\n                          <td style="width: 33%; border: none; padding: 2px 0 2px 0">Minimum instances</td>\n                          <td style="width: 33%; border: none; padding: 2px 0 2px 0">Maximum instances</td>\n                          <td style="width: 33%; border: none; padding: 2px 0 2px 0">\n                             CPU  (<b>%</b>)\n                            <portainer-tooltip\n                              position="bottom"\n                              message=" CPU "\n                            >\n                            </portainer-tooltip>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td style="padding: 8px 5px 5px 0; border: none">\n                            <div class="input-group input-group-sm" style="width: 100%">\n                              <input\n                                type="number"\n                                class="form-control"\n                                name="auto_scaler_min"\n                                min="0"\n                                ng-max="ctrl.formValues.AutoScaler.MaxReplicas"\n                                ng-model="ctrl.formValues.AutoScaler.MinReplicas"\n                                data-cy="k8sAppCreate-autoScaleMin"\n                                required\n                              />\n                            </div>\n                            <div class="input-group input-group-sm" ng-show="kubernetesApplicationCreationForm[\'auto_scaler_min\'].$invalid">\n                              <div class="small text-warning" style="margin-top: 5px">\n                                <ng-messages for="kubernetesApplicationCreationForm[\'auto_scaler_min\'].$error">\n                                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Minimum instances is required.</p>\n                                  <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Minimum instances must be greater than 0.</p>\n                                  <p ng-message="max"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Minimum instances must be smaller than maximum instances.</p>\n                                </ng-messages>\n                              </div>\n                            </div>\n                          </td>\n                          <td style="padding: 8px 5px 5px 0; border: none">\n                            <div class="input-group input-group-sm" style="width: 100%">\n                              <input\n                                type="number"\n                                class="form-control"\n                                name="auto_scaler_max"\n                                ng-min="ctrl.formValues.AutoScaler.MinReplicas"\n                                ng-model="ctrl.formValues.AutoScaler.MaxReplicas"\n                              />\n                            </div>\n                            <div class="input-group input-group-sm" ng-show="kubernetesApplicationCreationForm[\'auto_scaler_max\'].$invalid || ctrl.autoScalerOverflow()">\n                              <div class="small text-warning" style="margin-top: 5px">\n                                <ng-messages for="kubernetesApplicationCreationForm[\'auto_scaler_max\'].$error">\n                                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Maximum instances is required.</p>\n                                  <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Maximum instances must be greater than minimum instances.</p>\n                                </ng-messages>\n                              </div>\n                            </div>\n                          </td>\n                          <td style="padding: 8px 5px 5px 0; border: none">\n                            <div class="input-group input-group-sm" style="width: 100%">\n                              <input\n                                type="number"\n                                class="form-control"\n                                name="auto_scaler_cpu"\n                                ng-model="ctrl.formValues.AutoScaler.TargetCPUUtilization"\n                                min="1"\n                                max="100"\n                                required\n                                data-cy="k8sAppCreate-targetCPUInput"\n                              />\n                            </div>\n                            <div class="input-group input-group-sm" ng-show="kubernetesApplicationCreationForm[\'auto_scaler_cpu\'].$invalid">\n                              <div class="small text-warning" style="margin-top: 5px">\n                                <ng-messages for="kubernetesApplicationCreationForm[\'auto_scaler_cpu\'].$error">\n                                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>  CPU </p>\n                                  <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>  CPU  0</p>\n                                  <p ng-message="max"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>  CPU  100</p>\n                                </ng-messages>\n                              </div>\n                            </div>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n\n                    <div class="form-group" ng-if="ctrl.autoScalerOverflow()" style="margin-bottom: 10px">\n                      <div class="col-sm-12 small text-danger">\n                        <i class="fa fa-exclamation-circle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                         \n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  <div ng-if="ctrl.formValues.DeploymentType === ctrl.ApplicationDeploymentTypes.REPLICATED">\n                    <div class="col-sm-12 form-section-title">  </div>\n\n                    \x3c!-- #region PLACEMENTS --\x3e\n                    <div class="form-group">\n                      <div class="col-sm-12">\n                        <label class="control-label text-left">Placement rules</label>\n                        <span class="label label-default interactive" style="margin-left: 10px" ng-click="ctrl.addPlacement()">\n                          <i class="fa fa-plus-circle" aria-hidden="true"></i> add rule\n                        </span>\n                      </div>\n\n                      <div class="col-sm-12 small text-muted" ng-if="ctrl.formValues.Placements.length > 0" style="margin-top: 10px">\n                        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                        Deploy this application on nodes that respect <b>ALL</b> of the following placement rules. Placement rules are based on node labels.\n                      </div>\n\n                      <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                        <div ng-repeat-start="placement in ctrl.formValues.Placements" style="margin-top: 2px">\n                          <div class="col-sm-5 input-group" ng-class="{ striked: placement.NeedsDeletion }">\n                            <select\n                              class="form-control"\n                              ng-model="placement.Label"\n                              ng-options="label as (label.Key | kubernetesNodeLabelHumanReadbleText) for label in ctrl.nodesLabels"\n                              ng-change="ctrl.onChangePlacementLabel($index)"\n                              ng-disabled="ctrl.isEditAndNotNewPlacement($index)"\n                              data-cy="k8sAppCreate-placementLabel_{{ $index }}"\n                            >\n                            </select>\n                          </div>\n                          <div class="col-sm-5 input-group" ng-class="{ striked: placement.NeedsDeletion }">\n                            <select\n                              class="form-control"\n                              ng-model="placement.Value"\n                              ng-options="value for value in placement.Label.Values"\n                              ng-disabled="ctrl.isEditAndNotNewPlacement($index)"\n                              data-cy="k8sAppCreate-placementName_{{ $index }}"\n                            >\n                            </select>\n                          </div>\n\n                          <div class="col-sm-1 input-group">\n                            <button\n                              ng-if="!placement.NeedsDeletion"\n                              class="btn btn-sm btn-danger"\n                              type="button"\n                              ng-click="ctrl.removePlacement($index)"\n                              data-cy="k8sAppCreate-deletePlacementButton"\n                            >\n                              <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                            </button>\n                            <button\n                              ng-if="placement.NeedsDeletion"\n                              class="btn btn-sm btn-primary"\n                              type="button"\n                              ng-click="ctrl.restorePlacement($index)"\n                              data-cy="k8sAppCreate-restorePlacementButton"\n                            >\n                              <i class="fa fa-trash-restore" aria-hidden="true"></i>\n                            </button>\n                          </div>\n                        </div>\n                        <div ng-repeat-end ng-show="ctrl.state.duplicates.placements.refs[$index] !== undefined">\n                          <div class="col-sm-5 input-group">\n                            <div class="small text-warning" style="margin-top: 5px" ng-if="ctrl.state.duplicates.placements.refs[$index] !== undefined">\n                              <p ng-if="ctrl.state.duplicates.placements.refs[$index] !== undefined">\n                                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This label is already defined.\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div ng-if="ctrl.showPlacementPolicySection()">\n                      <div class="form-group">\n                        <div class="col-sm-12">\n                          <label class="control-label text-left">Placement policy</label>\n                        </div>\n                      </div>\n\n                      <div class="form-group">\n                        <div class="col-sm-12 small text-muted"> Specify the policy associated to the placement rules. </div>\n                      </div>\n\n                      \x3c!-- placement policy options --\x3e\n                      <div class="form-group" style="margin-bottom: 0" ng-if="ctrl.formValues.Placements.length">\n                        <div class="boxselector_wrapper">\n                          <div>\n                            <input\n                              type="radio"\n                              id="placement_hard"\n                              ng-value="ctrl.ApplicationPlacementTypes.MANDATORY"\n                              ng-model="ctrl.formValues.PlacementType"\n                              data-cy="k8sAppCreate-mandatoryPlacementButton"\n                            />\n                            <label for="placement_hard">\n                              <div class="boxselector_header">\n                                <i class="fa fa-tasks" aria-hidden="true" style="margin-right: 2px"></i>\n                                Mandatory\n                              </div>\n                              <p>Schedule this application <b>ONLY</b> on nodes that match <b>ALL</b> Rules</p>\n                            </label>\n                          </div>\n                          <div>\n                            <input\n                              type="radio"\n                              id="placement_soft"\n                              ng-value="ctrl.ApplicationPlacementTypes.PREFERRED"\n                              ng-model="ctrl.formValues.PlacementType"\n                              data-cy="k8sAppCreate-prefferedPlacementButton"\n                            />\n                            <label for="placement_soft">\n                              <div class="boxselector_header">\n                                <i class="fa fa-list" aria-hidden="true" style="margin-right: 2px"></i>\n                                Preferred\n                              </div>\n                              <p>Schedule this application on nodes that match the rules if possible</p>\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                      \x3c!-- !placement policy options --\x3e\n                    </div>\n                    \x3c!-- #endregion --\x3e\n                  </div>\n\n                  \x3c!-- kubernetes services options --\x3e\n                  <kube-services-view form-values="ctrl.formValues" is-edit="ctrl.state.isEdit" loadbalancer-enabled="ctrl.publishViaLoadBalancerEnabled()"></kube-services-view>\n                  \x3c!-- kubernetes services options --\x3e\n\n                  \x3c!-- summary --\x3e\n                  <kubernetes-summary-view\n                    ng-if="!(!kubernetesApplicationCreationForm.$valid || ctrl.isDeployUpdateButtonDisabled() || !ctrl.state.pullImageValidity)"\n                    form-values="ctrl.formValues"\n                    old-form-values="ctrl.savedFormValues"\n                  ></kubernetes-summary-view>\n                </div>\n              </div>\n            </div>\n            <div ng-if="ctrl.isExternalApplication()">\n              <div class="col-sm-12 form-section-title" ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"> Namespace </div>\n              \x3c!-- #region NAMESPACE --\x3e\n              <div class="form-group" ng-if="ctrl.formValues.ResourcePool">\n                <label for="resource-pool-selector" class="col-sm-1 control-label text-left">Namespace</label>\n                <div class="col-sm-11">\n                  <select\n                    class="form-control"\n                    id="resource-pool-selector"\n                    ng-model="ctrl.formValues.ResourcePool"\n                    ng-options="resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools"\n                    ng-change="ctrl.onResourcePoolSelectionChange()"\n                    ng-disabled="ctrl.state.isEdit"\n                    data-cy="k8sAppCreate-nsSelect"\n                  ></select>\n                </div>\n              </div>\n              <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded() && ctrl.formValues.ResourcePool">\n                <div class="col-sm-12 small text-danger">\n                  <i class="fa fa-exclamation-circle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                   \n \n                </div>\n              </div>\n              <div class="form-group" ng-if="!ctrl.formValues.ResourcePool">\n                <div class="col-sm-12 small text-muted">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                   \n                </div>\n              </div>\n              \x3c!-- kubernetes services options --\x3e\n              <kube-services-view form-values="ctrl.formValues" is-edit="ctrl.state.isEdit" loadbalancer-enabled="ctrl.publishViaLoadBalancerEnabled()"></kube-services-view>\n              \x3c!-- kubernetes services options --\x3e\n            </div>\n\n            \x3c!-- kubernetes summary for external application --\x3e\n            <kubernetes-summary-view ng-if="ctrl.isExternalApplication()" form-values="ctrl.formValues" old-form-values="ctrl.savedFormValues"></kubernetes-summary-view>\n            \x3c!-- kubernetes summary for external application --\x3e\n            <div class="col-sm-12 form-section-title" ng-if="ctrl.state.appType !== ctrl.KubernetesDeploymentTypes.GIT"></div>\n            \x3c!-- #region ACTIONS --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="!kubernetesApplicationCreationForm.$valid || ctrl.isDeployUpdateButtonDisabled() || !ctrl.imageValidityIsValid()"\n                  ng-click="ctrl.deployApplication()"\n                  button-spinner="ctrl.state.actionInProgress"\n                  data-cy="k8sAppCreate-deployButton"\n                >\n                  <span ng-show="!ctrl.state.isEdit && !ctrl.state.actionInProgress">Deploy application</span>\n                  <span ng-show="!ctrl.state.isEdit && ctrl.state.actionInProgress">Deployment in progress...</span>\n                  <span ng-show="ctrl.state.isEdit && !ctrl.state.actionInProgress">Update application</span>\n                  <span ng-show="ctrl.state.isEdit && ctrl.state.actionInProgress">...</span>\n                </button>\n                <button\n                  ng-if="ctrl.state.isEdit && !ctrl.state.actionInProgress && ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"\n                  type="button"\n                  class="btn btn-sm btn-default"\n                  ui-sref="kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })"\n                  data-cy="k8sAppCreate-appCancelButton"\n                >\n                  \n                </button>\n                \x3c!-- #Web editor buttons --\x3e\n                <button\n                  class="btn btn-sm btn-primary"\n                  ng-click="ctrl.updateApplicationViaWebEditor()"\n                  ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.CONTENT || ctrl.state.updateWebEditorInProgress"\n                  ng-disabled="!kubernetesApplicationCreationForm.$valid || !ctrl.state.isEditorDirty || ctrl.state.updateWebEditorInProgress"\n                  style="margin-top: 7px; margin-left: 0"\n                  button-spinner="ctrl.state.updateWebEditorInProgress"\n                >\n                  <span ng-show="!ctrl.state.updateWebEditorInProgress">Update the application</span>\n                  <span ng-show="ctrl.state.updateWebEditorInProgress">...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},45758:e=>{var t="app/kubernetes/views/applications/edit/application.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Application details" state="kubernetes.applications.application" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt;\n  <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })">{{ ctrl.application.ResourcePool }}</a> &gt;\n  <a ui-sref="kubernetes.applications">Applications</a> &gt; {{ ctrl.application.Name }}\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading> <i class="fa fa-laptop-code space-right" aria-hidden="true"></i> Application </uib-tab-heading>\n              <div style="padding: 20px">\n                <table class="table">\n                  <tbody>\n                    <tr>\n                      <td></td>\n                      <td data-cy="k8sAppDetail-appName">\n                        {{ ctrl.application.Name }}\n                        <span class="label label-primary image-tag label-margins" ng-if="!ctrl.isSystemNamespace() && ctrl.isExternalApplication()">external</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Stack</td>\n                      <td data-cy="k8sAppDetail-stackName">{{ ctrl.application.StackName || \'-\' }}</td>\n                    </tr>\n                    <tr>\n                      <td>Namespace</td>\n                      <td data-cy="k8sAppDetail-resourcePoolName">\n                        <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })">{{ ctrl.application.ResourcePool }}</a>\n                        <span style="margin-left: 5px" class="label label-info image-tag" ng-if="ctrl.isSystemNamespace()">system</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Application Type</td>\n                      <td data-cy="k8sAppDetail-appType">\n                        {{ ctrl.application.ApplicationType | kubernetesApplicationTypeText }}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td ng-if="ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD">\n                        <span ng-if="ctrl.application.DeploymentType === ctrl.KubernetesApplicationDeploymentTypes.REPLICATED" data-cy="k8sAppDetail-deployType">Replicated</span>\n                        <span ng-if="ctrl.application.DeploymentType === ctrl.KubernetesApplicationDeploymentTypes.GLOBAL" data-cy="k8sAppDetail-appType">Global</span>\n                        <code data-cy="k8sAppDetail-runningPods">{{ ctrl.application.RunningPodsCount }}</code> /\n                        <code data-cy="k8sAppDetail-totalPods">{{ ctrl.application.TotalPodsCount }}</code>\n                      </td>\n                      <td ng-if="ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD">\n                        {{ ctrl.application.Pods[0].Status }}\n                      </td>\n                    </tr>\n                    <tr ng-if="ctrl.application.Requests.Cpu || ctrl.application.Requests.Memory">\n                      <td>\n                        <div>Resource reservations</div>\n                        <div ng-if="ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD" class="text-muted small"> per instance </div>\n                      </td>\n                      <td>\n                        <div ng-if="ctrl.application.Requests.Cpu" data-cy="k8sAppDetail-cpuReservation"\n                          >CPU {{ ctrl.application.Requests.Cpu | kubernetesApplicationCPUValue }}</div\n                        >\n                        <div ng-if="ctrl.application.Requests.Memory" data-cy="k8sAppDetail-memoryReservation">Memory {{ ctrl.application.Requests.Memory | humansize }}</div>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Creation</td>\n                      <td>\n                        <span ng-if="ctrl.application.ApplicationOwner" style="margin-right: 5px"> <i class="fas fa-user"></i> {{ ctrl.application.ApplicationOwner }} </span>\n                        <span> <i class="fas fa-clock"></i> {{ ctrl.application.CreationDate | getisodate }}</span>\n                        <span ng-if="ctrl.application.ApplicationOwner">\n                          <i class="fa fa-file-code space-left space-right" aria-hidden="true"></i> Deployed from {{ ctrl.state.appType }}</span\n                        >\n                      </td>\n                    </tr>\n                    <tr>\n                      <td colspan="2">\n                        <form class="form-horizontal" name="kubernetesApplicationNoteForm">\n                          <div class="form-group">\n                            <div class="col-sm-12">\n                              <i class="fa fa-edit" aria-hidden="true"></i> Note\n                              <button\n                                authorization="K8sApplicationDetailsW"\n                                class="btn btn-xs btn-primary"\n                                ng-click="ctrl.state.expandedNote = !ctrl.state.expandedNote;"\n                                data-cy="k8sAppDetail-expandNoteButton"\n                                >{{ ctrl.state.expandedNote ? \'Collapse\' : \'Expand\' }}\n                                <i class="fas {{ ctrl.state.expandedNote ? \'fa-angle-up\' : \'fa-angle-down\' }}" aria-hidden="true"></i\n                              ></button>\n                            </div>\n                          </div>\n                          <div class="form-group" ng-if="ctrl.state.expandedNote">\n                            <div class="col-sm-12">\n                              <textarea\n                                class="form-control"\n                                name="application_note"\n                                id="application_note"\n                                ng-model="ctrl.formValues.Note"\n                                rows="5"\n                                placeholder="Enter a note about this application..."\n                              ></textarea>\n                            </div>\n                          </div>\n                          <div class="form-group" ng-if="ctrl.state.expandedNote" authorization="K8sApplicationDetailsW">\n                            <div class="col-sm-12">\n                              <button\n                                class="btn btn-primary btn-sm"\n                                style="margin-left: 0px"\n                                type="button"\n                                ng-click="ctrl.updateApplication()"\n                                ng-disabled="ctrl.formValues.Note === ctrl.application.Note"\n                                data-cy="k8sAppDetail-saveNoteButton"\n                                >{{ ctrl.application.Note ? \'Update\' : \'Save\' }} note</button\n                              >\n                            </div>\n                          </div>\n                        </form>\n                      </td>\n                    </tr>\n                    \x3c!-- <tr>\n                      <td colspan="2">\n                        <form class="form-horizontal" name="KubernetesApplicationRollbackForm">\n                          <div class="form-group">\n                            <label for="resource-pool-selector" class="col-sm-2 col-lg-1 control-label text-left"></label>\n                            <div class="col-sm-2">\n                              <select class="form-control" id="resource-pool-selector" ng-model="ctrl.formValues.SelectedRevision"\n                                ng-options="revision as revision.revision for revision in ctrl.application.Revisions"></select>\n                            </div>\n                            <div class="col-sm-2">\n                              <button class="btn btn-primary btn-sm" style="margin-left: 0px;" type="button" ng-click="ctrl.rollbackApplication()"\n                                ng-disabled="ctrl.formValues.SelectedRevision.revision === ctrl.application.CurrentRevision.revision">Rollback</button>\n                            </div>\n                          </div>\n                        </form>\n                      </td>\n                    </tr> --\x3e\n                  </tbody>\n                </table>\n              </div>\n            </uib-tab>\n\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading>\n                <i class="fas fa-compress-arrows-alt space-right" aria-hidden="true"></i> Placement\n                <div ng-if="ctrl.state.placementWarning">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  warning\n                </div>\n              </uib-tab-heading>\n              <div class="small text-muted" style="padding: 20px">\n                <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                The placement component helps you understand whether or not this application can be deployed on a specific node.\n              </div>\n              <kubernetes-application-placements-datatable\n                title-text="Placement constraints/preferences"\n                title-icon="fa-compress-arrows-alt"\n                dataset="ctrl.placements"\n                table-key="kubernetes.application.placements"\n                order-by="Name"\n                reverse-order="false"\n                loading="ctrl.state.dataLoading"\n                refresh-callback="ctrl.getApplication"\n              ></kubernetes-application-placements-datatable>\n            </uib-tab>\n\n            <uib-tab index="2" classes="btn-sm" select="ctrl.selectTab(2)">\n              <uib-tab-heading>\n                <i class="fa fa-history space-right" aria-hidden="true"></i> Events\n                <div ng-if="ctrl.hasEventWarnings()">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="fa-history"\n                dataset="ctrl.events"\n                table-key="kubernetes.application.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              ></kubernetes-events-datatable>\n            </uib-tab>\n\n            <uib-tab index="3" ng-if="ctrl.application.Yaml" select="ctrl.showEditor()" classes="btn-sm">\n              <uib-tab-heading> <i class="fa fa-code space-right" aria-hidden="true"></i> YAML </uib-tab-heading>\n              <div style="padding-right: 25px" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="application-yaml" data="ctrl.application.Yaml"></kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <div ng-if="!ctrl.isSystemNamespace()" style="margin-bottom: 15px">\n            <button\n              authorization="K8sApplicationDetailsW"\n              ng-if="!ctrl.isExternalApplication()"\n              type="button"\n              class="btn btn-sm btn-primary"\n              ui-sref="kubernetes.applications.application.edit"\n              style="margin-left: 0"\n              data-cy="k8sAppDetail-editAppButton"\n            >\n              <i class="fa fa-file-code space-right" aria-hidden="true"></i>Edit this application\n            </button>\n            <button\n              authorization="K8sApplicationDetailsW"\n              ng-if="ctrl.isExternalApplication()"\n              type="button"\n              class="btn btn-sm btn-primary"\n              ui-sref="kubernetes.applications.application.edit"\n              style="margin-left: 0"\n              data-cy="k8sAppDetail-editAppButton"\n            >\n              <i class="fa fa-file-code space-right" aria-hidden="true"></i>Edit External application\n            </button>\n            <button\n              authorization="K8sPodDelete"\n              ng-if="ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD"\n              type="button"\n              class="btn btn-sm btn-primary"\n              style="margin-left: 0"\n              ng-click="ctrl.redeployApplication()"\n              data-cy="k8sAppDetail-redeployButton"\n            >\n              <i class="fa fa-redo space-right" aria-hidden="true"></i>Redeploy\n            </button>\n            <button\n              authorization="K8sApplicationDetailsW"\n              ng-if="!ctrl.isExternalApplication()"\n              type="button"\n              class="btn btn-sm btn-primary"\n              style="margin-left: 0"\n              ng-click="ctrl.rollbackApplication()"\n              ng-disabled="ctrl.application.Revisions.length < 2 || ctrl.state.appType !== ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"\n              data-cy="k8sAppDetail-rollbackButton"\n            >\n              <i class="fas fa-history space-right" aria-hidden="true"></i>Rollback to previous configuration\n            </button>\n            <a\n              ng-if="ctrl.isStack() && ctrl.stackFileContent"\n              class="btn btn-sm btn-primary space-left"\n              ui-sref="kubernetes.templates.custom.new({fileContent: ctrl.stackFileContent})"\n            >\n              <i class="fas fa-plus space-right" aria-hidden="true"></i>Create template from application\n            </a>\n          </div>\n\n          \x3c!-- ACCESSING APPLICATION --\x3e\n          <div class="text-muted" style="margin-bottom: 15px"> <i class="fa fa-external-link-alt" aria-hidden="true" style="margin-right: 2px"></i> Accessing the application </div>\n\n          <div class="small text-muted" ng-if="ctrl.application.PublishedPorts.length === 0" style="margin-bottom: 15px">\n            <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n            This application is not exposing any port.\n          </div>\n\n          <div ng-if="ctrl.application.Services.length !== 0">\n            \x3c!-- Services notice --\x3e\n            <div>\n              <div class="small text-muted">\n                <p>\n                  <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  This application is exposed through service(s) as below:\n                </p>\n              </div>\n            </div>\n\n            \x3c!-- table --\x3e\n            <kubernetes-application-services-table\n              services="ctrl.application.Services"\n              application="ctrl.application"\n              public-url="ctrl.state.publicUrl"\n            ></kubernetes-application-services-table>\n            \x3c!-- table --\x3e\n\n            \x3c!-- table --\x3e\n            <kubernetes-application-ingress-table application="ctrl.application" public-url="ctrl.state.publicUrl"></kubernetes-application-ingress-table>\n            \x3c!-- table --\x3e\n          </div>\n          \x3c!-- !ACCESSING APPLICATION --\x3e\n          \x3c!-- AUTO SCALING --\x3e\n          <div class="text-muted" style="margin-bottom: 15px"> <i class="fa fa-expand-arrows-alt" aria-hidden="true" style="margin-right: 2px"></i> Auto-scaling</div>\n\n          <div class="small text-muted" ng-if="!ctrl.application.AutoScaler" style="margin-bottom: 15px">\n            <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n            This application does not have an autoscaling policy defined.\n          </div>\n\n          <div ng-if="ctrl.application.AutoScaler">\n            <div style="margin-top: 15px; width: 50%">\n              <table class="table">\n                <tbody>\n                  <tr class="text-muted">\n                    <td style="width: 33%">Minimum instances</td>\n                    <td style="width: 33%">Maximum instances</td>\n                    <td style="width: 33%">\n                      Target CPU usage\n                      <portainer-tooltip position="bottom" message="The autoscaler will ensure enough instances are running to maintain an average CPU usage across all instances.">\n                      </portainer-tooltip>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td data-cy="k8sAppDetail-minReplicas">{{ ctrl.application.AutoScaler.MinReplicas }}</td>\n                    <td data-cy="k8sAppDetail-maxReplicas">{{ ctrl.application.AutoScaler.MaxReplicas }}</td>\n                    <td data-cy="k8sAppDetail-targetCPU">{{ ctrl.application.AutoScaler.TargetCPUUtilization }}%</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          \x3c!-- !AUTO SCALING --\x3e\n\n          \x3c!-- CONFIGURATIONS --\x3e\n          <div class="text-muted" style="margin-bottom: 15px; margin-top: 25px"> <i class="fa fa-file-code" aria-hidden="true" style="margin-right: 2px"></i> Configuration </div>\n\n          <div class="small text-muted" ng-if="!ctrl.application.Env.length > 0 && !ctrl.hasVolumeConfiguration()" style="margin-bottom: 15px">\n            <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n            This application is not using any environment variable or configuration.\n          </div>\n\n          <table class="table" ng-if="ctrl.application.Env.length > 0">\n            <tr class="text-muted">\n              <td style="width: 25%">Container</td>\n              <td style="width: 25%">Environment variable</td>\n              <td style="width: 25%">Value</td>\n              <td style="width: 25%">Configuration</td>\n            </tr>\n            <tbody ng-repeat="container in ctrl.application.Containers" style="border-top: 0">\n              <tr ng-repeat="envvar in container.Env | orderBy: \'name\'">\n                <td data-cy="k8sAppDetail-containerName">\n                  {{ container.Name }}\n                  <span ng-if="container.Type === ctrl.KubernetesPodContainerTypes.INIT"\n                    ><i class="fa fa-asterisk" aria-hidden="true"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\n                      href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/"\n                      target="_blank"\n                      >init container</a\n                    >)</span\n                  >\n                </td>\n                <td data-cy="k8sAppDetail-envVarName">{{ envvar.name }}</td>\n                <td>\n                  <span ng-if="envvar.value" data-cy="k8sAppDetail-envVarValue">{{ envvar.value }}</span>\n                  <span ng-if="envvar.valueFrom.configMapKeyRef" data-cy="k8sAppDetail-envVarValue"\n                    ><i class="fa fa-key" aria-hidden="true"></i> {{ envvar.valueFrom.configMapKeyRef.key }}</span\n                  >\n                  <span ng-if="envvar.valueFrom.secretKeyRef" data-cy="k8sAppDetail-envVarValue"\n                    ><i class="fa fa-key" aria-hidden="true"></i> {{ envvar.valueFrom.secretKeyRef.key }}</span\n                  >\n                  <span ng-if="envvar.valueFrom.fieldRef" data-cy="k8sAppDetail-envVarValue"\n                    ><i class="fa fa-asterisk" aria-hidden="true"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\n                      href="https://kubernetes.io/docs/tasks/inject-data-application/downward-api-volume-expose-pod-information/#capabilities-of-the-downward-api"\n                      target="_blank"\n                      >downward API</a\n                    >)</span\n                  >\n                  <span ng-if="!envvar.value && !envvar.valueFrom.secretKeyRef && !envvar.valueFrom.configMapKeyRef && !envvar.valueFrom.fieldRef">-</span>\n                </td>\n                <td>\n                  <span ng-if="envvar.value || envvar.valueFrom.fieldRef || (!envvar.valueFrom.secretKeyRef && !envvar.valueFrom.configMapKeyRef)">-</span>\n                  <span ng-if="envvar.valueFrom.configMapKeyRef" data-cy="k8sAppDetail-configName"\n                    ><a ui-sref="kubernetes.configurations.configuration({ name: envvar.valueFrom.configMapKeyRef.name, namespace: ctrl.application.ResourcePool })"\n                      ><i class="fa fa-file-code" aria-hidden="true"></i> {{ envvar.valueFrom.configMapKeyRef.name }}</a\n                    ></span\n                  >\n                  <span ng-if="envvar.valueFrom.secretKeyRef" data-cy="k8sAppDetail-configName"\n                    ><a ui-sref="kubernetes.configurations.configuration({ name: envvar.valueFrom.secretKeyRef.name, namespace: ctrl.application.ResourcePool })"\n                      ><i class="fa fa-file-code" aria-hidden="true"></i> {{ envvar.valueFrom.secretKeyRef.name }}</a\n                    ></span\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n\n          <table class="table" ng-if="ctrl.hasVolumeConfiguration()">\n            <tr class="text-muted">\n              <td style="width: 25%">Container</td>\n              <td style="width: 25%">Configuration path</td>\n              <td style="width: 25%">Value</td>\n              <td style="width: 25%">Configuration</td>\n            </tr>\n            <tbody ng-repeat="container in ctrl.application.Containers" style="border-top: 0">\n              <tr ng-repeat="volume in container.ConfigurationVolumes track by $index" style="border-top: 0">\n                <td>\n                  {{ container.Name }}\n                  <span ng-if="container.Type === ctrl.KubernetesPodContainerTypes.INIT"\n                    ><i class="fa fa-asterisk" aria-hidden="true"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\n                      href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/"\n                      target="_blank"\n                      >init container</a\n                    >)</span\n                  >\n                </td>\n                <td>\n                  {{ volume.fileMountPath }}\n                </td>\n                <td> <i class="fa fa-key" ng-if="volume.configurationKey" aria-hidden="true"></i> {{ volume.configurationKey ? volume.configurationKey : \'-\' }} </td>\n                <td>\n                  <a ui-sref="kubernetes.configurations.configuration({ name: volume.configurationName, namespace: ctrl.application.ResourcePool })"\n                    ><i class="fa fa-file-code" aria-hidden="true"></i> {{ volume.configurationName }}</a\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          \x3c!-- !CONFIGURATIONS --\x3e\n\n          \x3c!-- DATA PERSISTENCE --\x3e\n          <div class="text-muted" style="margin-bottom: 15px; margin-top: 25px"> <i class="fa fa-database" aria-hidden="true" style="margin-right: 2px"></i> Data persistence </div>\n\n          <div class="small text-muted" ng-if="!ctrl.hasPersistedFolders()">\n            <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n            This application has no persisted folders.\n          </div>\n\n          <div ng-if="ctrl.hasPersistedFolders()">\n            <div class="small text-muted" style="margin-bottom: 15px">\n              Data access policy: <i class="fa {{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyIcon }}" aria-hidden="true"></i>\n              {{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyText }}\n              <portainer-tooltip position="right" message="{{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyTooltip }}"> </portainer-tooltip>\n            </div>\n\n            <table class="table" ng-if="ctrl.application.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED">\n              <tr class="text-muted">\n                <td style="width: 33%">Persisted folder</td>\n                <td style="width: 66%">Persistence</td>\n              </tr>\n              <tbody ng-repeat="container in ctrl.application.Containers" style="border-top: 0">\n                <tr ng-repeat="volume in container.PersistedFolders track by $index">\n                  <td data-cy="k8sAppDetail-volMountPath">\n                    {{ volume.MountPath }}\n                  </td>\n                  <td ng-if="volume.PersistentVolumeClaimName">\n                    <a ui-sref="kubernetes.volumes.volume({ name: volume.PersistentVolumeClaimName, namespace: ctrl.application.ResourcePool })" data-cy="k8sAppDetail-volClaimName"\n                      ><i class="fa fa-database" aria-hidden="true"></i> {{ volume.PersistentVolumeClaimName }}</a\n                    >\n                  </td>\n                  <td ng-if="volume.HostPath"> {{ volume.HostPath }} on host filesystem </td>\n                </tr>\n              </tbody>\n            </table>\n\n            <table class="table" ng-if="ctrl.application.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED">\n              <thead>\n                <tr class="text-muted">\n                  <td style="width: 25%"></td>\n                  <td style="width: 25%">Pod name</td>\n                  <td style="width: 25%">Persisted folder</td>\n                  <td style="width: 25%">Persistence</td>\n                </tr>\n              </thead>\n              <tbody ng-repeat="container in ctrl.allContainers track by $index" style="border-top: none">\n                <tr ng-repeat="volume in container.PersistedFolders track by $index">\n                  <td>\n                    {{ container.Name }}\n                    <span ng-if="container.Type === ctrl.KubernetesPodContainerTypes.INIT"\n                      ><i class="fa fa-asterisk" aria-hidden="true"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\n                        href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/"\n                        target="_blank"\n                        >init container</a\n                      >)</span\n                    >\n                  </td>\n                  <td>{{ container.PodName }}</td>\n                  <td>\n                    {{ volume.MountPath }}\n                  </td>\n                  <td ng-if="volume.PersistentVolumeClaimName">\n                    <a ui-sref="kubernetes.volumes.volume({ name: volume.PersistentVolumeClaimName + \'-\' + container.PodName, namespace: ctrl.application.ResourcePool })">\n                      <i class="fa fa-database" aria-hidden="true"></i> {{ volume.PersistentVolumeClaimName + \'-\' + container.PodName }}</a\n                    >\n                  </td>\n                  <td ng-if="volume.HostPath"> {{ volume.HostPath }} on host filesystem </td>\n                </tr>\n              </tbody>\n            </table>\n            \x3c!-- !DATA PERSISTENCE --\x3e\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <kubernetes-containers-datatable\n        title-text="Application containers"\n        title-icon="fa-server"\n        dataset="ctrl.allContainers"\n        table-key="kubernetes.application.containers"\n        is-pod="ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD"\n        order-by="{{ ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD ? \'Name\' : \'PodName\' }}"\n        show-console="ctrl.state.canShowConsole"\n        access-node="ctrl.state.canAccessNode"\n        use-server-metrics="ctrl.state.useServerMetrics"\n      >\n      </kubernetes-containers-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},70881:e=>{var t="app/kubernetes/views/applications/edit/components/ingress-table/ingress-table.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div style="margin-top: 15px" ng-if="$ctrl.hasIngress">\n  <table class="table">\n    <tbody>\n      <tr class="text-muted">\n        <td style="width: 15%">Ingress name</td>\n        <td style="width: 10%">Service name</td>\n        <td style="width: 10%">Host</td>\n        <td style="width: 10%">Port</td>\n        <td style="width: 10%">Path</td>\n        <td style="width: 15%">HTTP Route</td>\n      </tr>\n      <tr ng-repeat="ingress in $ctrl.applicationIngress">\n        <td>{{ ingress.IngressName }}</td>\n        <td>{{ ingress.ServiceName }}</td>\n        <td>{{ ingress.Host }}</td>\n        <td>{{ ingress.Port }}</td>\n        <td>{{ ingress.Path }}</td>\n        <td\n          ><a target="_blank" href="http://{{ ingress.Host }}{{ ingress.Path }}">{{ ingress.Host }}{{ ingress.Path }}</a></td\n        >\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),e.exports=t},83260:e=>{var t="app/kubernetes/views/applications/edit/components/placements-datatable/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th style="width: 2%">\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th style="width: 98%">\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  Node\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td>\n                <a ng-if="$ctrl.itemCanExpand(item)">\n                  <i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i>\n                </a>\n                <i ng-if="item.AcceptsApplication" class="fa fa-check green-icon" aria-hidden="true"></i>\n                <i ng-if="!item.AcceptsApplication" class="fa fa-times red-icon" aria-hidden="true"></i>\n              </td>\n              <td>\n                {{ item.Name }}\n              </td>\n            </tr>\n            \x3c!-- (ADMIN|ENDPOINT_ADMIN|HELPDESK) + UNMET TAINTS --\x3e\n            <tr\n              authorization="K8sApplicationErrorDetailsR"\n              ng-show="item.Expanded"\n              ng-repeat="taint in item.UnmetTaints"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td colspan="2">\n                This application is missing a toleration for the taint <code>{{ taint.Key }}{{ taint.Value ? \'=\' + taint.Value : \'\' }}:{{ taint.Effect }}</code>\n              </td>\n            </tr>\n            \x3c!-- !(ADMIN|ENDPOINT_ADMIN|HELPDESK) + UNMET TAINTS --\x3e\n            \x3c!-- (STANDARD|READ_ONLY) + UNMET TAINTS --\x3e\n            <tr\n              exclude-authorization="K8sApplicationErrorDetailsR"\n              ng-if="item.UnmetTaints.length"\n              ng-show="item.Expanded"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td colspan="2"> Placement constraint not respected for that node. </td>\n            </tr>\n            \x3c!-- !(STANDARD|READ_ONLY) + UNMET TAINTS --\x3e\n            \x3c!-- (ADMIN|ENDPOINT_ADMIN|HELPDESK) + UNMET NODE SELECTOR LABELS --\x3e\n            <tr\n              authorization="K8sApplicationErrorDetailsR"\n              ng-show="item.Expanded"\n              ng-repeat="label in item.UnmatchedNodeSelectorLabels"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td colspan="2">\n                This application can only be scheduled on a node where the label <code>{{ label.key }}</code> is set to <code>{{ label.value }}</code>\n              </td>\n            </tr>\n            \x3c!-- !(ADMIN|ENDPOINT_ADMIN|HELPDESK) + UNMET NODE SELECTOR LABELS --\x3e\n            \x3c!-- (STANDARD|READ_ONLY) + UNMET NODE SELECTOR LABELS || UNMET NODE AFFINITIES --\x3e\n            <tr\n              exclude-authorization="K8sApplicationErrorDetailsR"\n              ng-if="item.UnmatchedNodeSelectorLabels.length || item.UnmatchedNodeAffinities.length"\n              ng-show="item.Expanded"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td colspan="2"> Placement label not respected for that node. </td>\n            </tr>\n            \x3c!-- !(STANDARD|READ_ONLY) + UNMET NODE SELECTOR LABELS || UNMET NODE AFFINITIES --\x3e\n            \x3c!-- (ADMIN|ENDPOINT_ADMIN|HELPDESK) + UNMET NODE AFFINITIES --\x3e\n            <tr\n              authorization="K8sApplicationErrorDetailsR"\n              ng-show="item.Expanded && item.UnmatchedNodeAffinities.length"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td colspan="2"> This application can only be scheduled on nodes respecting one of the following labels combination: </td>\n            </tr>\n            <tr\n              dir-paginate-end\n              authorization="K8sApplicationErrorDetailsR"\n              ng-show="item.Expanded"\n              ng-repeat="aff in item.UnmatchedNodeAffinities"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td></td>\n              <td>\n                <code ng-repeat-start="term in aff track by $index">\n                  {{ term.key }} {{ term.operator }} {{ term.values | kubernetesApplicationConstraintNodeAffinityValue: term.operator }}\n                </code>\n                <span ng-repeat-end>{{ $last ? \'\' : \' + \' }}</span>\n              </td>\n            </tr>\n            \x3c!-- !(ADMIN|ENDPOINT_ADMIN|HELPDESK) + UNMET NODE AFFINITIES --\x3e\n            <tr ng-if="$ctrl.loading">\n              <td colspan="2" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="!$ctrl.loading && (!$ctrl.dataset || $ctrl.state.filteredDataSet.length === 0)">\n              <td colspan="2" class="text-center text-muted">No node available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},29262:e=>{var t="app/kubernetes/views/applications/edit/components/services-table/services-table.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- table --\x3e\n<div style="margin-top: 15px">\n  <table class="table">\n    <tbody>\n      <tr class="text-muted">\n        <td style="width: 15%">Service name</td>\n        <td style="width: 10%">Type</td>\n        <td style="width: 10%">Cluster IP</td>\n        <td style="width: 10%">External IP</td>\n        <td style="width: 10%">Container port</td>\n        <td style="width: 15%">Service port(s)</td>\n      </tr>\n      <tr ng-repeat="service in $ctrl.services">\n        <td>{{ service.metadata.name }}</td>\n        <td>{{ service.spec.type }}</td>\n        <td>{{ service.spec.clusterIP }}</td>\n        <td ng-show="service.spec.type === \'LoadBalancer\'">\n          <div ng-show="service.status.loadBalancer.ingress">\n            <a target="_blank" ng-href="http://{{ service.status.loadBalancer.ingress[0].ip }}:{{ service.spec.ports[0].port }}">\n              <i class="fa fa-external-link-alt" aria-hidden="true"></i>\n              <span data-cy="k8sAppDetail-containerPort"> Access </span>\n            </a>\n          </div>\n          <div ng-show="!service.status.loadBalancer.ingress">\n            {{ service.spec.externalIP ? service.spec.externalIP : \'pending...\' }}\n          </div>\n        </td>\n        <td ng-show="service.spec.type !== \'LoadBalancer\'">{{ service.spec.externalIP ? service.spec.externalIP : \'-\' }}</td>\n\n        <td data-cy="k8sAppDetail-containerPort">\n          <div ng-repeat="port in service.spec.ports">{{ port.targetPort }}</div>\n        </td>\n        <td ng-if="!ctrl.portHasIngressRules(port)">\n          <div ng-repeat="port in service.spec.ports">\n            <a ng-if="$ctrl.publicUrl && port.nodePort" ng-href="http://{{ $ctrl.publicUrl }}:{{ port.nodePort }}" target="_blank" style="margin-left: 5px">\n              <i class="fa fa-external-link-alt" aria-hidden="true"></i>\n              <span data-cy="k8sAppDetail-containerPort">\n                {{ port.port }}\n              </span>\n              <span>{{ port.nodePort ? \':\' : \'\' }}</span>\n              <span data-cy="k8sAppDetail-nodePort"> {{ port.nodePort }}/{{ port.protocol }} </span>\n            </a>\n\n            <div ng-if="!$ctrl.publicUrl">\n              <span data-cy="k8sAppDetail-servicePort">\n                {{ port.port }}\n              </span>\n              <span>{{ port.nodePort ? \':\' : \'\' }}</span>\n              <span data-cy="k8sAppDetail-nodePort"> {{ port.nodePort }}/{{ port.protocol }} </span>\n            </div>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),e.exports=t},21152:e=>{var t="app/kubernetes/views/applications/helm/helm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Helm details" state="kubernetes.helm" view-ready="$ctrl.state.viewReady">\n  <a ui-sref="kubernetes.applications">Applications</a> &gt; {{ $ctrl.state.params.name }}\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="$ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="$ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <div class="col-sm-12 form-section-title"> Information </div>\n      <p class="text-muted">\n        <i class="fa fa-flask orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        This is a first version for Helm charts, for more information see this\n        <a href="https://www.portainer.io/blog/portainer-now-with-helm-support" target="_blank">blog post</a>.\n      </p>\n    </div>\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-dharmachakra" title-text="Release"></rd-widget-header>\n        <rd-widget-body classes="no-padding">\n          <table class="table">\n            <tbody class="release-table">\n              <tr>\n                <td></td>\n                <td>\n                  {{ $ctrl.state.release.name }}\n                </td>\n              </tr>\n              <tr>\n                <td>Chart</td>\n                <td>\n                  {{ $ctrl.state.release.chart }}\n                </td>\n              </tr>\n              <tr>\n                <td>App version</td>\n                <td>\n                  {{ $ctrl.state.release.app_version }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},28068:e=>{var t="app/kubernetes/views/applications/logs/logs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Application logs" state="kubernetes.applications.application.logs" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt;\n  <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })">{{ ctrl.application.ResourcePool }}</a> &gt;\n  <a ui-sref="kubernetes.applications">Applications</a> &gt;\n  <a ui-sref="kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })">{{ ctrl.application.Name }}</a> &gt; Pods &gt;\n  {{ ctrl.podName }} &gt; Containers &gt; {{ ctrl.containerName }} &gt; Logs\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady" style="height: 100%">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" autocomplete="off">\n            <div class="col-sm-12 form-section-title"></div>\n            \x3c!-- auto-refresh --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left">\n                  Auto-refresh\n                  <portainer-tooltip position="bottom" message="Automatically refresh logs every 5 seconds"></portainer-tooltip>\n                </label>\n                <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="ctrl.state.autoRefresh" ng-change="ctrl.updateAutoRefresh()" /><i></i> </label>\n              </div>\n            </div>\n            \x3c!-- !auto-refresh --\x3e\n            \x3c!-- search --\x3e\n            <div class="form-group">\n              <label for="logs_search" class="col-sm-1 control-label text-left">  </label>\n              <div class="col-sm-11">\n                <input\n                  class="form-control"\n                  type="text"\n                  name="logs_search"\n                  ng-model="ctrl.state.search"\n                  ng-change="ctrl.state.selectedLines.length = 0;"\n                  placeholder="..."\n                  auto-focus\n                />\n              </div>\n            </div>\n            \x3c!-- !search --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button class="btn btn-primary btn-sm" type="button" ng-click="ctrl.downloadLogs()" style="margin-left: 0"><i class="fa fa-download"></i> Download logs</button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" style="height: 54%">\n    <div class="col-sm-12" style="height: 100%">\n      <pre\n        class="log_viewer"\n      ><div ng-repeat="line in ctrl.state.filteredLogs = (ctrl.applicationLogs | filter:ctrl.state.search) track by $index" class="line" ng-if="line"><p class="inner_line">{{ line }}</p></div><div ng-if="ctrl.applicationLogs.length && !ctrl.state.filteredLogs.length" class="line"><p class="inner_line">No log line matching the \'{{ ctrl.state.search }}\' filter</p></div><div ng-if="ctrl.applicationLogs.length === 0" class="line"><p class="inner_line">No logs available</p></div></pre>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},96144:e=>{var t="app/kubernetes/views/applications/stats/stats.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Application stats" state="kubernetes.applications.application.stats" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt;\n  <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.state.transition.namespace })">{{ ctrl.state.transition.namespace }}</a> &gt;\n  <a ui-sref="kubernetes.applications">Applications</a> &gt;\n  <a ui-sref="kubernetes.applications.application({ name: ctrl.state.transition.applicationName, namespace: ctrl.state.transition.namespace })">{{\n    ctrl.state.transition.application\n  }}</a>\n  &gt; Pods &gt; {{ ctrl.state.transition.podName }} &gt; Containers &gt; {{ ctrl.state.transition.containerName }} &gt; Stats\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <information-panel ng-if="!ctrl.state.getMetrics" title-text="Unable to retrieve container metrics">\n    <span class="small text-muted">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      Portainer was unable to retrieve any metrics associated to that container. Please contact your administrator to ensure that the Kubernetes metrics feature is properly\n      configured.\n    </span>\n  </information-panel>\n  <div class="row" ng-if="ctrl.state.getMetrics">\n    <div class="col-md-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-info-circle" title-text="About statistics"> </rd-widget-header>\n        <rd-widget-body>\n          <form class="form-horizontal">\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted">\n                  This view displays real-time statistics about the container <b>{{ ctrl.state.transition.containerName | trimcontainername }}</b\n                  >.\n                </span>\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="refreshRate" class="col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left"> Refresh rate </label>\n              <div class="col-sm-3 col-md-2">\n                <select id="refreshRate" ng-model="ctrl.state.refreshRate" ng-change="ctrl.changeUpdateRepeater()" class="form-control">\n                  <option value="30">30s</option>\n                  <option value="60">60s</option>\n                </select>\n              </div>\n              <span>\n                <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n              </span>\n            </div>\n            <div class="form-group" ng-if="ctrl.state.networkStatsUnavailable">\n              <div class="col-sm-12">\n                <span class="small text-muted"> <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i> Network stats are unavailable for this container. </span>\n              </div>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.state.getMetrics">\n    <div class="col-lg-6 col-md-12 col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-chart-area" title-text="Memory usage"></rd-widget-header>\n        <rd-widget-body>\n          <div class="chart-container" style="position: relative">\n            <canvas id="memoryChart" width="770" height="300"></canvas>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n    <div class="col-lg-6 col-md-12 col-sm-12" ng-if="!ctrl.state.networkStatsUnavailable">\n      <rd-widget>\n        <rd-widget-header icon="fa-chart-area" title-text="CPU usage"></rd-widget-header>\n        <rd-widget-body>\n          <div class="chart-container" style="position: relative">\n            <canvas id="cpuChart" width="770" height="300"></canvas>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},21284:e=>{var t="app/kubernetes/views/cluster/cluster.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Cluster" state="kubernetes.cluster" view-ready="ctrl.state.viewReady"> Cluster information </kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row" authorization="K8sClusterR">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          \x3c!-- resource-reservation --\x3e\n          <form class="form-horizontal" ng-if="ctrl.resourceReservation">\n            <kubernetes-resource-reservation\n              description="Resource reservation represents the total amount of resource assigned to all the applications inside the cluster."\n              cpu-reservation="ctrl.resourceReservation.CPU"\n              cpu-limit="ctrl.CPULimit"\n              memory-reservation="ctrl.resourceReservation.Memory"\n              memory-limit="ctrl.MemoryLimit"\n              display-usage="ctrl.hasResourceUsageAccess()"\n              cpu-usage="ctrl.resourceUsage.CPU"\n              memory-usage="ctrl.resourceUsage.Memory"\n            >\n            </kubernetes-resource-reservation>\n          </form>\n          \x3c!-- !resource-reservation --\x3e\n\n          \x3c!-- leader-status --\x3e\n          <div ng-if="ctrl.systemEndpoints.length > 0">\n            <div class="col-sm-12 form-section-title"> Leader status </div>\n\n            <table class="table">\n              <tbody>\n                <tr class="text-muted">\n                  <td style="border-top: none; width: 25%">Component</td>\n                  <td style="border-top: none; width: 25%">Leader node</td>\n                </tr>\n                <tr ng-repeat="ep in ctrl.systemEndpoints">\n                  <td style="width: 25%">\n                    {{ ep.Name }}\n                  </td>\n                  <td style="width: 25%">\n                    {{ ep.HolderIdentity }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          \x3c!-- !leader-status --\x3e\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <kubernetes-nodes-datatable\n        title-text="Nodes"\n        title-icon="fa-hdd"\n        dataset="ctrl.nodes"\n        table-key="kubernetes.nodes"\n        order-by="Name"\n        has-k8s-cluster-node-r="ctrl.state.hasK8sClusterNodeR"\n        refresh-callback="ctrl.getNodes"\n        use-server-metrics="ctrl.state.useServerMetrics"\n      ></kubernetes-nodes-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},78928:e=>{var t="app/kubernetes/views/cluster/node/node.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Node details" state="kubernetes.cluster.node" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.cluster">Cluster</a> &gt; {{ ctrl.node.Name }}\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading> <i class="fa fa-hdd space-right" aria-hidden="true"></i> Node </uib-tab-heading>\n\n              <form class="form-horizontal" name="kubernetesNodeUpdateForm" style="padding: 20px" autocomplete="off">\n                <table class="table">\n                  <tbody ng-if="ctrl.node">\n                    <tr>\n                      <td></td>\n                      <td>\n                        {{ ctrl.node.Name }}\n                        <span class="label label-primary image-tag" style="margin-left: 5px" ng-if="ctrl.node.Api">api</span>\n                      </td>\n                    </tr>\n                    <tr ng-if="ctrl.node.Api">\n                      <td> Kubernetes API </td>\n                      <td>{{ ctrl.node.IPAddress }}:{{ ctrl.node.Port }}</td>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td>{{ ctrl.node.Role }}</td>\n                    </tr>\n                    <tr>\n                      <td>Kubelet version</td>\n                      <td>{{ ctrl.node.Version }}</td>\n                    </tr>\n                    <tr>\n                      <td>Creation date</td>\n                      <td>{{ ctrl.node.CreationDate | getisodate }}</td>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td>\n                        <span class="label label-{{ ctrl.node.Status | kubernetesNodeStatusColor }}">\n                          {{ ctrl.node.Status }}\n                        </span>\n                        <span ng-if="ctrl.node.Status == \'Warning\'" class="text text-warning">\n                          {{ ctrl.node.Conditions | kubernetesNodeConditionsMessage }}\n                        </span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class="col-xs-3"> Availability </td>\n                      <td class="col-xs-9" ng-if="ctrl.state.isAuthorized">\n                        <select class="form-control" name="availability" style="display: inline-block; width: 16rem" ng-model="ctrl.formValues.Availability">\n                          <option>{{ ctrl.availabilities.ACTIVE }}</option>\n                          <option>{{ ctrl.availabilities.PAUSE }}</option>\n                          <option>{{ ctrl.availabilities.DRAIN }}</option>\n                        </select>\n                        <span class="small text-warning" ng-if="ctrl.state.isDrainOperation && ctrl.formValues.Availability === ctrl.availabilities.DRAIN">\n                          <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                          Cannot use this action while another node is currently being drained.\n                        </span>\n                        <span class="small text-warning" ng-if="ctrl.state.isContainPortainer && ctrl.formValues.Availability === ctrl.availabilities.DRAIN">\n                          <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                          Cannot drain a node where this Portainer instance is running.\n                        </span>\n                      </td>\n                      <td class="col-xs-9" ng-if="!ctrl.state.isAuthorized">\n                        {{ ctrl.formValues.Availability }}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n\n                <div style="padding: 8px">\n                  <kubernetes-resource-reservation\n                    ng-if="ctrl.resourceReservation"\n                    cpu-reservation="ctrl.resourceReservation.CPU"\n                    cpu-usage="ctrl.resourceUsage.CPU"\n                    cpu-limit="ctrl.node.CPU"\n                    memory-reservation="ctrl.resourceReservation.Memory"\n                    memory-usage="ctrl.resourceUsage.Memory"\n                    memory-limit="ctrl.memoryLimit"\n                    description="Resource reservation represents the total amount of resource assigned to all the applications running on this node."\n                    display-usage="ctrl.hasResourceUsageAccess()"\n                  >\n                  </kubernetes-resource-reservation>\n                </div>\n\n                <div style="padding: 8px">\n                  \x3c!-- #region labels --\x3e\n                  <div class="col-sm-12 form-section-title"> Labels </div>\n\n                  <div style="margin-bottom: 10px" authorization="K8sClusterNodeW">\n                    <span class="label label-default interactive" ng-click="ctrl.addLabel()"> <i class="fa fa-plus-circle" aria-hidden="true"></i>  </span>\n                  </div>\n\n                  <div class="form-inline" ng-repeat="label in ctrl.formValues.Labels" style="padding: 3px 0 3px 0">\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: label.NeedsDeletion }">\n                      <span class="input-group-addon">Key</span>\n                      <input\n                        type="text"\n                        class="form-control"\n                        name="label_key_{{ $index }}"\n                        ng-model="label.Key"\n                        ng-change="ctrl.onChangeLabelKey($index)"\n                        ng-disabled="ctrl.isSystemLabel($index) || !ctrl.state.isAuthorized"\n                        required\n                      />\n                    </div>\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: label.NeedsDeletion }">\n                      <span class="input-group-addon">Value</span>\n                      <input\n                        type="text"\n                        class="form-control"\n                        name="label_value_{{ $index }}"\n                        ng-change="ctrl.onChangeLabel($index)"\n                        ng-model="label.Value"\n                        ng-disabled="ctrl.isSystemLabel($index) || !ctrl.state.isAuthorized"\n                      />\n                    </div>\n                    <div class="input-group col-sm-1 input-group-sm">\n                      <div style="white-space: nowrap">\n                        <button\n                          authorization="K8sClusterNodeW"\n                          ng-if="!ctrl.isSystemLabel($index) && !label.NeedsDeletion"\n                          class="btn btn-sm btn-danger"\n                          type="button"\n                          ng-click="ctrl.removeLabel($index)"\n                        >\n                          <i class="fa fa-times" aria-hidden="true"></i>\n                        </button>\n                        <button\n                          authorization="K8sClusterNodeW"\n                          ng-if="!ctrl.isSystemLabel($index) && label.NeedsDeletion"\n                          class="btn btn-sm btn-primary"\n                          type="button"\n                          ng-click="ctrl.restoreLabel($index)"\n                        >\n                          Restore\n                        </button>\n                        <span class="label label-warning label-sm image-tag" ng-if="label.IsUsed && !ctrl.isSystemLabel($index)" style="margin-left: 5px">used</span>\n                        <span class="label label-info image-tag" ng-if="ctrl.isSystemLabel($index)" style="margin-left: 5px">system</span>\n                      </div>\n                    </div>\n                    <div\n                      class="small text-warning"\n                      style="margin-top: 5px"\n                      ng-show="kubernetesNodeUpdateForm[\'label_key_\' + $index].$invalid || ctrl.state.duplicateLabelKeys[$index] !== undefined"\n                    >\n                      <ng-messages for="kubernetesNodeUpdateForm[\'label_key_\' + $index].$error">\n                        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Label key is required.</p>\n                      </ng-messages>\n                      <p ng-if="ctrl.state.duplicateLabelKeys[$index] !== undefined"\n                        ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This label key is already defined.</p\n                      >\n                    </div>\n                  </div>\n\n                  \x3c!-- #endregion --\x3e\n\n                  \x3c!-- #region taints --\x3e\n\n                  <div\n                    class="col-sm-12 form-section-title"\n                    style="margin-top: 20px"\n                    ng-if="ctrl.state.isAuthorized || (ctrl.formValues.Taints && ctrl.formValues.Taints.length > 0)"\n                  >\n                    Taints\n                  </div>\n\n                  <div style="margin-bottom: 10px" authorization="K8sClusterNodeW">\n                    <span class="label label-default interactive" ng-click="ctrl.addTaint()"> <i class="fa fa-plus-circle" aria-hidden="true"></i> add taint </span>\n                  </div>\n\n                  <div class="form-inline" ng-repeat="taint in ctrl.formValues.Taints" style="padding: 3px 0 3px 0">\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: taint.NeedsDeletion }">\n                      <span class="input-group-addon">Key</span>\n                      <input\n                        ng-disabled="!ctrl.state.isAuthorized"\n                        type="text"\n                        class="form-control"\n                        name="taint_key_{{ $index }}"\n                        ng-model="taint.Key"\n                        ng-change="ctrl.onChangeTaintKey($index)"\n                        required\n                      />\n                    </div>\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: taint.NeedsDeletion }">\n                      <span class="input-group-addon">Value</span>\n                      <input\n                        ng-disabled="!ctrl.state.isAuthorized"\n                        type="text"\n                        class="form-control"\n                        name="taint_value_{{ $index }}"\n                        ng-model="taint.Value"\n                        ng-change="ctrl.onChangeTaint($index)"\n                      />\n                    </div>\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: taint.NeedsDeletion }">\n                      <span class="input-group-addon">Effect</span>\n                      <select\n                        ng-disabled="!ctrl.state.isAuthorized"\n                        id="taint_effect_{{ $index }}"\n                        name="taint_effect_{{ $index }}"\n                        class="form-control"\n                        ng-model="taint.Effect"\n                        ng-change="ctrl.onChangeTaint($index)"\n                        ;\n                        ng-options="effect as effect for effect in ctrl.availableEffects"\n                      ></select>\n                    </div>\n                    <div class="input-group col-sm-1 input-group-sm">\n                      <div authorization="K8sClusterNodeW">\n                        <button ng-if="!taint.NeedsDeletion" class="btn btn-sm btn-danger" type="button" ng-click="ctrl.removeTaint($index)">\n                          <i class="fa fa-times" aria-hidden="true"></i>\n                        </button>\n                        <button ng-if="taint.NeedsDeletion" class="btn btn-sm btn-primary" type="button" ng-click="ctrl.restoreTaint($index)"> Restore </button>\n                      </div>\n                    </div>\n                    <div\n                      class="small text-warning"\n                      style="margin-top: 5px"\n                      ng-show="kubernetesNodeUpdateForm[\'taint_key_\' + $index].$invalid || ctrl.state.duplicateTaintKeys[$index] !== undefined"\n                    >\n                      <ng-messages for="kubernetesNodeUpdateForm[\'taint_key_\' + $index].$error">\n                        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Taint key is required.</p>\n                      </ng-messages>\n                      <p ng-if="ctrl.state.duplicateTaintKeys[$index] !== undefined"\n                        ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This taint key is already defined.</p\n                      >\n                    </div>\n                  </div>\n\n                  \x3c!-- #endregion --\x3e\n\n                  \x3c!-- #region actions --\x3e\n\n                  <div class="col-sm-12 form-section-title" style="margin-top: 20px" authorization="K8sClusterNodeW"></div>\n\n                  <div class="form-group">\n                    <div class="col-sm-12" authorization="K8sClusterNodeW">\n                      <button\n                        class="btn btn-primary btn-sm"\n                        type="button"\n                        style="margin-left: 0"\n                        ng-click="ctrl.updateNode()"\n                        ng-disabled="kubernetesNodeUpdateForm.$invalid || !ctrl.isFormValid()"\n                      >\n                        Update node\n                      </button>\n                      <button class="btn btn-default btn-sm" type="button" ng-click="ctrl.resetFormValues()" ng-disabled="ctrl.isNoChangesMade()">  </button>\n                    </div>\n                  </div>\n\n                  \x3c!-- #endregion --\x3e\n                </div>\n              </form>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading>\n                <i class="fa fa-history space-right" aria-hidden="true"></i> Events\n                <div ng-if="ctrl.hasEventWarnings()">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="fa-history"\n                dataset="ctrl.events"\n                table-key="kubernetes.node.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              >\n              </kubernetes-events-datatable>\n            </uib-tab>\n            <uib-tab index="2" ng-if="ctrl.node.Yaml" select="ctrl.showEditor()" classes="btn-sm">\n              <uib-tab-heading> <i class="fa fa-code space-right" aria-hidden="true"></i> YAML </uib-tab-heading>\n              <div style="padding-right: 25px" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="node-yaml" data="ctrl.node.Yaml"> </kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.applications && ctrl.applications.length > 0">\n    <div class="col-sm-12">\n      <kubernetes-node-applications-datatable\n        dataset="ctrl.applications"\n        table-key="kubernetes.node.applications"\n        order-by="Name"\n        refresh-callback="ctrl.getApplications"\n        loading="ctrl.state.applicationsLoading"\n        title-text="Applications running on this node"\n        title-icon="fa-laptop-code"\n      >\n      </kubernetes-node-applications-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},49709:e=>{var t="app/kubernetes/views/cluster/node/stats/stats.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Node stats" state="kubernetes.cluster.node.stats" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.cluster">Cluster</a> &gt; <a ui-sref="kubernetes.cluster.node({name: ctrl.state.transition.nodeName})"> {{ ctrl.state.transition.nodeName }} </a> >\n  {{ ctrl.state.transition.nodeName }}\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <information-panel ng-if="!ctrl.state.getMetrics" title-text="Unable to retrieve node metrics">\n    <span class="small text-muted">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      Portainer was unable to retrieve any metrics associated to that node. Please contact your administrator to ensure that the Kubernetes metrics feature is properly configured.\n    </span>\n  </information-panel>\n  <div class="row" ng-if="ctrl.state.getMetrics">\n    <div class="col-md-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-info-circle" title-text="About statistics"> </rd-widget-header>\n        <rd-widget-body>\n          <form class="form-horizontal">\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted">\n                  This view displays real-time statistics about the node <b>{{ ctrl.state.transition.nodeName }}</b\n                  >.\n                </span>\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="refreshRate" class="col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left"> Refresh rate </label>\n              <div class="col-sm-3 col-md-2">\n                <select id="refreshRate" ng-model="ctrl.state.refreshRate" ng-change="ctrl.changeUpdateRepeater()" class="form-control">\n                  <option value="30">30s</option>\n                  <option value="60">60s</option>\n                </select>\n              </div>\n              <span>\n                <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n              </span>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-show="ctrl.state.getMetrics">\n    <div class="col-lg-6 col-md-12 col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-chart-area" title-text="Memory usage"></rd-widget-header>\n        <rd-widget-body>\n          <div class="chart-node" style="position: relative">\n            <canvas id="memoryChart" width="770" height="300"></canvas>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n    <div class="col-lg-6 col-md-12 col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-chart-area" title-text="CPU usage"></rd-widget-header>\n        <rd-widget-body>\n          <div class="chart-node" style="position: relative">\n            <canvas id="cpuChart" width="770" height="300"></canvas>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},79773:e=>{var t="app/kubernetes/views/configurations/configurations.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="ConfigMaps & Secrets list" state="kubernetes.configurations" view-ready="ctrl.state.viewReady"> ConfigMaps & Secrets </kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <kubernetes-configurations-datatable\n        dataset="ctrl.configurations"\n        table-key="kubernetes.configurations"\n        order-by="Name"\n        refresh-callback="ctrl.refreshCallback"\n        remove-action="ctrl.removeAction"\n      ></kubernetes-configurations-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},5502:e=>{var t="app/kubernetes/views/configurations/create/createConfiguration.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Create configuration" state="kubernetes.configurations.new" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.configurations">ConfigMaps and Secrets</a> &gt; Create a configuration\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-xs-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" name="kubernetesConfigurationCreationForm" autocomplete="off">\n            \x3c!-- name --\x3e\n            <div class="form-group">\n              <label for="configuration_name" class="col-sm-1 control-label text-left"></label>\n              <div class="col-sm-11">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="configuration_name"\n                  ng-model="ctrl.formValues.Name"\n                  ng-pattern="/^[a-z0-9]([a-z0-9-.]{0,61}[a-z0-9])?$/"\n                  ng-change="ctrl.onChangeName()"\n                  placeholder="my-configuration"\n                  auto-focus\n                  required\n                  data-cy="k8sConfigCreate-nameInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="kubernetesConfigurationCreationForm.configuration_name.$invalid || ctrl.state.alreadyExist">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="kubernetesConfigurationCreationForm.configuration_name.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                  <p ng-message="pattern"\n                    ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field must consist of lower case alphanumeric characters, \'-\' or \'.\', and contain at most 63\n                    characters, and must start and end with an alphanumeric character.</p\n                  >\n                </div>\n                <p ng-if="ctrl.state.alreadyExist"\n                  ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> A configuration with the same name already exists inside the selected namespace.</p\n                >\n              </div>\n            </div>\n            \x3c!-- !name --\x3e\n\n            <div class="col-sm-12 form-section-title"> Namespace </div>\n\n            \x3c!-- resource-pool --\x3e\n            <div class="form-group" ng-if="ctrl.formValues.ResourcePool">\n              <label for="resource-pool-selector" class="col-sm-1 control-label text-left">Namespace</label>\n              <div class="col-sm-11">\n                <select\n                  class="form-control"\n                  id="resource-pool-selector"\n                  ng-model="ctrl.formValues.ResourcePool"\n                  ng-options="resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools"\n                  ng-change="ctrl.onResourcePoolSelectionChange()"\n                  data-cy="k8sConfigCreate-namespaceDropdown"\n                ></select>\n              </div>\n            </div>\n            <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded() && ctrl.formValues.ResourcePool">\n              <div class="col-sm-12 small text-warning">\n                <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                This namespace has exhausted its resource capacity and you will not be able to deploy the configuration. Contact your administrator to expand the capacity of the\n                namespace.\n              </div>\n            </div>\n            <div class="form-group" ng-if="!ctrl.formValues.ResourcePool">\n              <div class="col-sm-12 small text-muted">\n                <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                You do not have access to any namespace. Contact your administrator to get access to a namespace.\n              </div>\n            </div>\n            \x3c!-- !resource-pool --\x3e\n\n            <div ng-if="ctrl.formValues.ResourcePool">\n              <div class="col-sm-12 form-section-title"> Configuration type </div>\n\n              <div class="form-group">\n                <div class="col-sm-12 small text-muted"> Select the type of data that you want to save in the configuration. </div>\n              </div>\n\n              \x3c!-- type options --\x3e\n              <div class="form-group" style="margin-bottom: 0">\n                <div class="boxselector_wrapper">\n                  <div>\n                    <input type="radio" id="type_basic" ng-value="ctrl.KubernetesConfigurationTypes.CONFIGMAP" ng-model="ctrl.formValues.Type" />\n                    <label for="type_basic" data-cy="k8sConfigCreate-nonSensitiveButton">\n                      <div class="boxselector_header">\n                        <i class="fa fa-file-code" aria-hidden="true" style="margin-right: 2px"></i>\n                        ConfigMap\n                      </div>\n                      <p>This configuration holds non-sensitive information</p>\n                    </label>\n                  </div>\n                  <div>\n                    <input type="radio" id="type_secret" ng-value="ctrl.KubernetesConfigurationTypes.SECRET" ng-model="ctrl.formValues.Type" />\n                    <label for="type_secret" data-cy="k8sConfigCreate-sensitiveButton">\n                      <div class="boxselector_header">\n                        <i class="fa fa-user-secret" aria-hidden="true" style="margin-right: 2px"></i>\n                        Secret\n                      </div>\n                      <p>This configuration holds sensitive information</p>\n                    </label>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !type options --\x3e\n\n              <div class="col-sm-12 form-section-title" ng-if="ctrl.formValues.Type == ctrl.KubernetesConfigurationTypes.SECRET"> Information </div>\n              <div class="form-group" ng-if="ctrl.formValues.Type == ctrl.KubernetesConfigurationTypes.SECRET">\n                <div class="col-sm-12 small text-muted">\n                  Creating a sensitive configuration will create a Kubernetes Secret of type <code>Opaque</code>. You can find more information about this in the\n                  <a href="https://kubernetes.io/docs/concepts/configuration/secret/#secret-types" target="_blank">official documentation</a>.\n                </div>\n              </div>\n\n              <kubernetes-configuration-data\n                ng-if="ctrl.formValues"\n                form-values="ctrl.formValues"\n                is-valid="ctrl.state.isDataValid"\n                is-creation="true"\n                is-editor-dirty="ctrl.state.isEditorDirty"\n              ></kubernetes-configuration-data>\n            </div>\n\n            \x3c!-- summary --\x3e\n            <kubernetes-summary-view\n              ng-if="!(!kubernetesConfigurationCreationForm.$valid || !ctrl.isFormValid() || ctrl.state.actionInProgress)"\n              form-values="ctrl.formValues"\n            ></kubernetes-summary-view>\n\n            \x3c!-- actions --\x3e\n            <div class="col-sm-12 form-section-title" style="margin-top: 10px"></div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="!kubernetesConfigurationCreationForm.$valid || !ctrl.isFormValid() || ctrl.state.actionInProgress || !ctrl.formValues.ResourcePool"\n                  ng-click="ctrl.createConfiguration()"\n                  button-spinner="ctrl.state.actionInProgress"\n                  data-cy="k8sConfigCreate-CreateConfigButton"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress">Create {{ ctrl.formValues.Type | kubernetesConfigurationTypeText }}</span>\n                  <span ng-show="ctrl.state.actionInProgress">Creation in progress...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},61330:e=>{var t="app/kubernetes/views/configurations/edit/configuration.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Configuration details" state="kubernetes.configurations.configuration" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt;\n  <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.configuration.Namespace })">{{ ctrl.configuration.Namespace }}</a> &gt;\n  <a ui-sref="kubernetes.configurations">ConfigMaps and Secrets</a> &gt; {{ ctrl.configuration.Name }}\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)" data-cy="k8sConfigDetail-configTab">\n              <uib-tab-heading> <i class="fa fa-file-code space-right" aria-hidden="true"></i> Configuration </uib-tab-heading>\n              <div style="padding: 20px">\n                <table class="table" data-cy="k8sConfigDetail-configTable">\n                  <tbody>\n                    <tr>\n                      <td></td>\n                      <td>\n                        {{ ctrl.configuration.Name }}\n                        <span style="margin-left: 5px" class="label label-info image-tag" ng-if="ctrl.configuration.IsRegistrySecret">system</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Namespace</td>\n                      <td>\n                        <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.configuration.Namespace })">{{ ctrl.configuration.Namespace }}</a>\n                        <span style="margin-left: 5px" class="label label-info image-tag" ng-if="ctrl.isSystemNamespace()">system</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Configuration type</td>\n                      <td>\n                        {{ ctrl.configuration.Type | kubernetesConfigurationTypeText }}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)" data-cy="k8sConfigDetail-eventsTab">\n              <uib-tab-heading>\n                <i class="fa fa-history space-right" aria-hidden="true"></i> Events\n                <div ng-if="ctrl.hasEventWarnings()">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="fa-history"\n                dataset="ctrl.events"\n                table-key="kubernetes.configuration.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              >\n              </kubernetes-events-datatable>\n            </uib-tab>\n            <uib-tab index="2" ng-if="ctrl.configuration.Yaml" classes="btn-sm" select="ctrl.showEditor()" data-cy="k8sConfigDetail-yamlTab">\n              <uib-tab-heading> <i class="fa fa-code space-right" aria-hidden="true"></i> YAML </uib-tab-heading>\n              <div style="padding-right: 25px" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="configuration-yaml" data="ctrl.configuration.Yaml"> </kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form ng-if="!ctrl.isSystemConfig() && ctrl.state.isAuthorized" class="form-horizontal" name="kubernetesConfigurationCreationForm" autocomplete="off">\n            <kubernetes-configuration-data\n              ng-if="ctrl.formValues"\n              form-values="ctrl.formValues"\n              is-valid="ctrl.state.isDataValid"\n              is-creation="false"\n              is-editor-dirty="ctrl.state.isEditorDirty"\n            ></kubernetes-configuration-data>\n\n            \x3c!-- summary --\x3e\n            <kubernetes-summary-view\n              ng-if="!(!ctrl.isFormValid() || !kubernetesConfigurationCreationForm.$valid || ctrl.state.actionInProgress)"\n              form-values="ctrl.formValues"\n            ></kubernetes-summary-view>\n\n            \x3c!-- actions --\x3e\n            <div class="col-sm-12 form-section-title" style="margin-top: 10px"></div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="!ctrl.isFormValid() || !kubernetesConfigurationCreationForm.$valid || ctrl.state.actionInProgress"\n                  ng-click="ctrl.updateConfiguration()"\n                  button-spinner="ctrl.state.actionInProgress"\n                  data-cy="k8sConfigDetail-updateConfig"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress">Update {{ ctrl.configuration.Type | kubernetesConfigurationTypeText }}</span>\n                  <span ng-show="ctrl.state.actionInProgress">...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n          <div ng-if="ctrl.isSystemConfig() || !ctrl.state.isAuthorized">\n            <div class="col-sm-12 form-section-title" style="margin-top: 10px"> Data </div>\n            <table class="table">\n              <tbody>\n                <tr class="text-muted">\n                  <td style="width: 10%; border-top: none">Key</td>\n                  <td style="width: 90%; border-top: none">Value</td>\n                </tr>\n\n                <tr ng-repeat="item in ctrl.formValues.Data track by $index">\n                  <td>{{ item.Key }}</td>\n                  <td>\n                    <div style="white-space: pre-wrap">{{ item.Value }}</div>\n                    <div style="margin-top: 2px">\n                      <span class="btn btn-primary btn-xs" ng-click="ctrl.copyConfigurationValue($index)"> <i class="fa fa-copy space-right" aria-hidden="true"></i>Copy </span>\n                      <span id="copyValueNotification_{{ $index }}" style="display: none; color: #23ae89; margin-left: 5px" class="small">\n                        <i class="fa fa-check" aria-hidden="true"></i> copied\n                      </span>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.configuration.Used">\n    <div class="col-sm-12">\n      <kubernetes-integrated-applications-datatable\n        dataset="ctrl.configuration.Applications"\n        table-key="kubernetes.configurations.applications"\n        order-by="Name"\n        refresh-callback="ctrl.getApplications"\n        title-text="Applications using this configuration"\n        title-icon="fa-laptop-code"\n      >\n      </kubernetes-integrated-applications-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},45315:e=>{var t="app/kubernetes/views/configure/configure.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Kubernetes features configuration" state="portainer.k8sendpoint.kubernetesConfig" view-ready="ctrl.state.viewReady">\n  <a ui-sref="portainer.endpoints"></a> &gt; <a ui-sref="portainer.endpoints.endpoint({id: ctrl.endpoint.Id})">{{ ctrl.endpoint.Name }}</a> &gt; Kubernetes\n  configuration\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" name="kubernetesClusterSetupForm">\n            <div class="col-sm-12 form-section-title"> Networking </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                Enabling the load balancer feature will allow users to expose application they deploy over an external IP address assigned by cloud provider.\n                <p style="margin-top: 2px">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Ensure that your cloud provider allows you to create load balancers if you want to use this feature. Might incur costs.\n                </p>\n              </span>\n\n              <div class="col-sm-12">\n                <label class="control-label text-left"> Allow users to use external load balancer </label>\n                <label class="switch" style="margin-left: 20px">\n                  <input type="checkbox" ng-model="ctrl.formValues.UseLoadBalancer" /><i data-cy="kubeSetup-loadBalancerToggle"></i>\n                </label>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                Configuring ingress controllers will allow users to expose application they deploy over a HTTP route.<br />\n                <p style="margin-top: 2px">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Ingress classes must be manually specified for each controller you want to use in the cluster. Make sure that each controller is running inside your cluster.\n                </p>\n              </span>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left">Ingress controller</label>\n                <span class="label label-default interactive" style="margin-left: 10px" ng-click="ctrl.addIngressClass()" data-cy="kubeSetup-congifIngressButton">\n                  <i class="fa fa-plus-circle" aria-hidden="true"></i> configure ingress controller\n                </span>\n              </div>\n\n              <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                <div ng-repeat-start="ingressClass in ctrl.formValues.IngressClasses" style="margin-top: 2px">\n                  <div class="col-sm-7 input-group input-group-sm" ng-class="{ striked: ingressClass.NeedsDeletion }">\n                    <span class="input-group-addon">Ingress class</span>\n                    <input\n                      type="text"\n                      class="form-control"\n                      name="ingress_class_name_{{ $index }}"\n                      ng-model="ingressClass.Name"\n                      placeholder="nginx"\n                      ng-pattern="/^[a-z]([-a-z0-9]*[a-z0-9])?$/"\n                      ng-change="ctrl.onChangeIngressClassName($index)"\n                      required\n                      data-cy="kubeSetup-ingressClassName"\n                    />\n                  </div>\n                  <div class="col-sm-3 input-group input-group-sm" ng-class="{ striked: ingressClass.NeedsDeletion }">\n                    <span class="input-group-addon">Type</span>\n                    <select\n                      class="form-control"\n                      name="ingress_class_type_{{ $index }}"\n                      ng-model="ingressClass.Type"\n                      ng-options="value as value for (key, value) in ctrl.IngressClassTypes"\n                      required\n                      data-cy="kubeSetup-ingressType"\n                    >\n                      <option selected disabled hidden value="">Select a type</option>\n                    </select>\n                  </div>\n                  <div class="col-sm-1 input-group input-group-sm">\n                    <button\n                      ng-if="!ingressClass.NeedsDeletion"\n                      class="btn btn-sm btn-danger"\n                      type="button"\n                      ng-click="ctrl.removeIngressClass($index)"\n                      data-cy="kubeSetup-deleteIngress"\n                    >\n                      <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                    </button>\n                    <button ng-if="ingressClass.NeedsDeletion" class="btn btn-sm btn-primary" type="button" ng-click="ctrl.restoreIngressClass($index)">\n                      <i class="fa fa-trash-restore" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n\n                <div\n                  ng-repeat-end\n                  ng-show="\n                    kubernetesClusterSetupForm[\'ingress_class_name_\' + $index].$invalid ||\n                    kubernetesClusterSetupForm[\'ingress_class_type_\' + $index].$invalid ||\n                    ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined\n                  "\n                >\n                  <div class="col-sm-7 input-group">\n                    <div\n                      class="small text-warning"\n                      style="margin-top: 5px"\n                      ng-if="kubernetesClusterSetupForm[\'ingress_class_name_\' + $index].$invalid || ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined"\n                    >\n                      <div ng-messages="kubernetesClusterSetupForm[\'ingress_class_name_\'+$index].$error">\n                        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Ingress class name is required.</p>\n                        <p ng-message="pattern"\n                          ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field must consist of lower case alphanumeric characters or \'-\', start with an\n                          alphabetic character, and end with an alphanumeric character ( \'my-name\', or \'abc-123\').</p\n                        >\n                      </div>\n                      <p ng-if="ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined">\n                        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This ingress class is already defined.\n                      </p>\n                    </div>\n                  </div>\n                  <div class="col-sm-3 input-group">\n                    <div class="small text-warning" style="margin-top: 5px" ng-if="kubernetesClusterSetupForm[\'ingress_class_type_\' + $index].$invalid">\n                      <div ng-messages="kubernetesClusterSetupForm[\'ingress_class_type_\'+$index].$error">\n                        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Ingress class type is required.</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class="form-group" ng-if="ctrl.hasTraefikIngress()">\n              <span class="col-sm-12 text-muted small">\n                <p>\n                  <i class="fa fa-flask blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Traefik support is experimental.\n                </p>\n              </span>\n            </div>\n\n            \x3c!-- auto update window --\x3e\n            <div class="col-sm-12 form-section-title"> Change Window Settings </div>\n\n            <div class="form-group">\n              <div class="col-sm-12">\n                <por-switch-field\n                  checked="ctrl.state.autoUpdateSettings.Enabled"\n                  name="\'disableSysctlSettingForRegularUsers\'"\n                  label="\'Enable Change Window\'"\n                  feature-id="ctrl.limitedFeatureAutoWindow"\n                  tooltip="\'\'"\n                  on-change="(ctrl.onToggleAutoUpdate)"\n                >\n                </por-switch-field>\n              </div>\n            </div>\n\n            <time-window-picker ng-show="ctrl.state.autoUpdateSettings.Enabled" time-window="ctrl.state.autoUpdateSettings" time-zone="ctrl.state.timeZone"></time-window-picker>\n            <div class="text-muted" style="margin: 15px 0px 30px 0px; font-size: 12px" ng-show="!ctrl.state.autoUpdateSettings.Enabled"\n              ><i class="fa fa-exclamation-circle text-warning"></i> </div\n            >\n\n            \x3c!-- #region SECURITY --\x3e\n            <div class="col-sm-12 form-section-title"> Security </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                By default, all the users have access to the default namespace. Enable this option to set accesses on the default namespace.\n              </span>\n            </div>\n\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left"> Restrict access to the default namespace </label>\n                <label class="switch" style="margin-left: 20px">\n                  <input type="checkbox" ng-model="ctrl.formValues.RestrictDefaultNamespace" /><i data-cy="kubeSetup-restrictDefaultNsToggle"></i>\n                </label>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            <div class="col-sm-12 form-section-title"> Resources and Metrics </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                By ENABLING resource over-commit, you are able to assign more resources to namespaces than is physically available in the cluster. This may lead to unexpected\n                deployment failures if there is insufficient resource to service demand.\n                <p style="margin-top: 2px">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  By DISABLING resource over-commit (highly recommended), you are only able to assign resources to namespaces that are less (in aggregate) than the cluster total\n                  minus any system resource reservation.\n                </p>\n              </span>\n\n              <div class="col-sm-12">\n                <por-switch-field\n                  data-cy="\'kubeSetup-resourceOverCommitToggle\'"\n                  label="\'Allow resource over-commit\'"\n                  name="\'resource-over-commit-switch\'"\n                  feature-id="ctrl.limitedFeature"\n                  checked="ctrl.formValues.EnableResourceOverCommit"\n                  on-change="(ctrl.onChangeEnableResourceOverCommit)"\n                ></por-switch-field>\n              </div>\n            </div>\n\n            <div class="form-group" ng-if="!ctrl.formValues.EnableResourceOverCommit">\n              <label for="cluster_resource" class="col-sm-2 control-label text-left">System resource reservation %</label>\n              <div class="col-sm-10">\n                <input\n                  type="number"\n                  class="form-control"\n                  style="width: 100px"\n                  name="resource_over_commit_percentage"\n                  min="0"\n                  max="100"\n                  ng-model="ctrl.formValues.ResourceOverCommitPercentage"\n                  required\n                />\n              </div>\n            </div>\n\n            <div class="form-group" ng-show="kubernetesClusterSetupForm[\'resource_over_commit_percentage\'].$invalid && !ctrl.formValues.EnableResourceOverCommit">\n              <div class="col-sm-12 small text-warning">\n                <ng-messages for="kubernetesClusterSetupForm[\'resource_over_commit_percentage\'].$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> System resource reservation is required.</p>\n                  <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> System resource reservation must be greater than 0.</p>\n                  <p ng-message="max"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> System resource reservation must be smaller than 100.</p>\n                </ng-messages>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                Enabling this feature will allow users to use specific features like autoscaling and to see container and node resource usage.\n                <p style="margin-top: 2px">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Ensure that <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/resource-metrics-pipeline/#metrics-server" target="_blank">metrics server</a> or\n                  <a href="https://github.com/kubernetes-sigs/prometheus-adapter" target="_blank">prometheus</a> is running inside your cluster.\n                </p>\n              </span>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left"> Enable features using the metrics API </label>\n                <label class="switch" style="margin-left: 20px">\n                  <input type="checkbox" ng-model="ctrl.formValues.UseServerMetrics" ng-change="ctrl.enableMetricsServer()" /><i data-cy="kubeSetup-metricsToggle"></i>\n                </label>\n              </div>\n              <div ng-if="ctrl.state.metrics.pending && ctrl.state.metrics.userClick" class="col-sm-12 small text-muted" style="margin-top: 5px">\n                Checking metrics API... <i class="fa fa-spinner fa-spin" style="margin-left: 2px"></i>\n              </div>\n              <div\n                ng-if="!ctrl.state.metrics.pending && ctrl.state.metrics.isServerRunning && ctrl.state.metrics.userClick"\n                class="col-sm-12 small text-muted"\n                style="margin-top: 5px"\n              >\n                <i class="fa fa-check green-icon" aria-hidden="true" style="margin-right: 2px"></i> Successfully reached metrics API\n              </div>\n              <div\n                ng-if="!ctrl.state.metrics.pending && !ctrl.state.metrics.isServerRunning && ctrl.state.metrics.userClick"\n                class="col-sm-12 small text-muted"\n                style="margin-top: 5px"\n              >\n                <i class="fa fa-times red-icon" aria-hidden="true" style="margin-right: 2px"></i> Unable to reach metrics API, make sure metrics server is properly deployed inside\n                that cluster.\n              </div>\n            </div>\n\n            <div class="col-sm-12 form-section-title"> Available storage options </div>\n\n            <div class="form-group" ng-if="!ctrl.storageClassAvailable()">\n              <div class="col-sm-12 small text-muted">\n                <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                Unable to detect any storage class available to persist data. Users won\'t be able to persist application data inside this cluster.\n              </div>\n            </div>\n\n            <div class="form-group" ng-if="ctrl.storageClassAvailable()">\n              <span class="col-sm-12 text-muted small">\n                <p>\n                  Select which storage options will be available for use when deploying applications. Have a look at your storage driver documentation to figure out which access\n                  policy to configure and if the volume expansion capability is supported.\n                </p>\n                <p>\n                  You can find more information about access modes\n                  <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes" target="_blank">in the official Kubernetes documentation</a>.\n                </p>\n              </span>\n            </div>\n\n            <div class="form-group" ng-if="ctrl.storageClassAvailable()">\n              <div style="margin-top: 10px" class="col-sm-12">\n                <table class="table" style="table-layout: fixed">\n                  <tbody>\n                    <tr class="text-muted">\n                      <td>Storage</td>\n                      <td>Shared access policy</td>\n                      <td>Volume expansion</td>\n                    </tr>\n                    <tr ng-repeat="class in ctrl.StorageClasses">\n                      <td>\n                        <div style="margin: 5px">\n                          <label class="switch" style="margin-right: 10px">\n                            <input type="checkbox" ng-model="class.selected" /><i data-cy="kubeSetup-storageToggle{{ class.Name }}"></i>\n                          </label>\n                          <span>{{ class.Name }}</span>\n                        </div>\n                      </td>\n                      <td>\n                        <span\n                          isteven-multi-select\n                          input-model="class.availableAccessModes"\n                          output-model="class.AccessModes"\n                          button-label="Name"\n                          item-label="Description"\n                          tick-property="selected"\n                          directive-id="{{ class.Name }}"\n                          helper-elements=""\n                          translation="{nothingSelected: \'Not configured\'}"\n                          data-cy="kubeSetup-storageAccessSelect{{ class.Name }}"\n                        >\n                        </span>\n                      </td>\n                      <td>\n                        <div style="margin: 5px">\n                          <label class="switch"\n                            ><input type="checkbox" ng-model="class.AllowVolumeExpansion" /><i data-cy="kubeSetup-storageExpansionToggle{{ class.Name }}"></i>\n                          </label>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div class="col-sm-12">\n                <span ng-if="!ctrl.hasValidStorageConfiguration()" style="margin-left: 5px" class="text-muted small">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Shared access policy configuration required\n                </span>\n              </div>\n            </div>\n\n            <div class="col-sm-12 form-section-title"></div>\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-click="ctrl.configure()"\n                  ng-disabled="ctrl.state.actionInProgress || !kubernetesClusterSetupForm.$valid || !ctrl.hasValidStorageConfiguration()"\n                  button-spinner="ctrl.state.actionInProgress"\n                  analytics-on\n                  analytics-if="ctrl.restrictDefaultToggledOn()"\n                  analytics-category="kubernetes"\n                  analytics-event="kubernetes-configure"\n                  analytics-properties="{ metadata: { restrictAccessToDefaultNamespace: ctrl.formValues.RestrictDefaultNamespace } }"\n                  data-cy="kubeSetup-saveConfigurationButton"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress">Save configuration</span>\n                  <span ng-show="ctrl.state.actionInProgress">Saving configuration...</span>\n                </button>\n              </div>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},38947:e=>{var t="app/kubernetes/views/dashboard/dashboard.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Dashboard" state="kubernetes.dashboard" view-ready="ctrl.state.viewReady">  </kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row" ng-if="ctrl.endpoint">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-tachometer-alt" title-text=""></rd-widget-header>\n        <rd-widget-body classes="no-padding">\n          <table class="table">\n            <tbody>\n              <tr>\n                <td></td>\n                <td>\n                  {{ ctrl.endpoint.Name }}\n                </td>\n              </tr>\n              <tr>\n                <td>URL</td>\n                <td>{{ ctrl.endpoint.URL | stripprotocol }}</td>\n              </tr>\n              <tr>\n                <td></td>\n                <td>{{ ctrl.endpointTags }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-12 col-md-6" ng-if="ctrl.pools" data-cy="k8sDashboard-namespaces">\n      <a ui-sref="kubernetes.resourcePools">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-layer-group"></i>\n            </div>\n            <div class="title dashboard-item">{{ ctrl.pools.length }}</div>\n            <div class="comment dashboard-item">{{ ctrl.pools.length === 1 ? \'Namespace\' : \'Namespaces\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n    <div class="col-xs-12 col-md-6" ng-if="ctrl.applications" data-cy="k8sDashboard-applications">\n      <a ui-sref="kubernetes.applications">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-laptop-code"></i>\n            </div>\n            <div class="title dashboard-item">{{ ctrl.applications.length }}</div>\n            <div class="comment dashboard-item">{{ ctrl.applications.length === 1 ? \'Application\' : \'Applications\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n    <div class="col-xs-12 col-md-6" ng-if="ctrl.configurations" data-cy="k8sDashboard-configurations">\n      <a ui-sref="kubernetes.configurations">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-file-code"></i>\n            </div>\n            <div class="title dashboard-item">{{ ctrl.configurations.length }}</div>\n            <div class="comment dashboard-item">{{ ctrl.configurations.length === 1 ? \'Configuration\' : \'Configurations\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n    <div class="col-xs-12 col-md-6" ng-if="ctrl.volumes" data-cy="k8sDashboard-volumes">\n      <a ui-sref="kubernetes.volumes">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="widget-icon blue pull-left">\n              <i class="fa fa-database"></i>\n            </div>\n            <div class="title dashboard-item">{{ ctrl.volumes.length }}</div>\n            <div class="comment dashboard-item">{{ ctrl.volumes.length === 1 ? \'Volume\' : \'Volumes\' }}</div>\n          </rd-widget-body>\n        </rd-widget>\n      </a>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},32635:e=>{var t="app/kubernetes/views/deploy/deploy.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Advanced deployment" state="kubernetes.deploy" view-ready="ctrl.state.viewReady"> Deploy Kubernetes resources </kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <kubernetes-feedback-panel></kubernetes-feedback-panel>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0">\n              <uib-tab-heading> <i class="fa fa-code space-right" aria-hidden="true"></i> Deploy </uib-tab-heading>\n              <div class="col-sm-12 form-section-title"> Namespace </div>\n              <form class="form-horizontal" style="margin-top: 20px">\n                <div class="form-group" ng-if="ctrl.formValues.Namespace">\n                  <label for="target_node" class="col-lg-1 col-sm-2 control-label text-left">Namespace</label>\n                  <div class="col-lg-11 col-sm-10">\n                    <select class="form-control" ng-model="ctrl.formValues.Namespace" ng-options="namespace.Name as namespace.Name for namespace in ctrl.namespaces"></select>\n                  </div>\n                </div>\n                <div class="form-group" ng-if="!ctrl.formValues.Namespace">\n                  <div class="col-sm-12 small text-muted">\n                    <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                    You do not have access to any namespace. Contact your administrator to get access to a namespace.\n                  </div>\n                </div>\n\n                <div class="form-group">\n                  <label for="stack_name" class="col-sm-1 control-label text-left"></label>\n                  <div class="col-lg-11 col-sm-10">\n                    <input type="text" class="form-control" ng-model="ctrl.formValues.StackName" id="stack_name" placeholder="my-app" auto-focus />\n                  </div>\n                </div>\n\n                <div class="col-sm-12 form-section-title"> Build method </div>\n                <box-selector\n                  radio-name="\'method\'"\n                  value="ctrl.state.BuildMethod"\n                  options="ctrl.methodOptions"\n                  data-cy="k8sAppDeploy-buildSelector"\n                  on-change="(ctrl.onChangeMethod)"\n                ></box-selector>\n\n                <div ng-if="ctrl.state.BuildMethod !== ctrl.BuildMethods.CUSTOM_TEMPLATE">\n                  <div class="col-sm-12 form-section-title"> Deployment type </div>\n                  <box-selector\n                    radio-name="\'deploy\'"\n                    value="ctrl.state.DeployType"\n                    options="ctrl.deployOptions"\n                    data-cy="k8sAppDeploy-deploymentSelector"\n                    on-change="(ctrl.onChangeDeployType)"\n                  ></box-selector>\n                </div>\n\n                \x3c!-- repository --\x3e\n                <git-form\n                  ng-if="ctrl.state.BuildMethod === ctrl.BuildMethods.GIT"\n                  model="ctrl.formValues"\n                  on-change="(ctrl.onChangeFormValues)"\n                  additional-file="true"\n                  auto-update="true"\n                  show-auth-explanation="true"\n                  path-text-title="Manifest path"\n                  path-placeholder="deployment.yml"\n                  deploy-method="{{ ctrl.DeployMethod }}"\n                ></git-form>\n                \x3c!-- !repository --\x3e\n\n                <custom-template-selector\n                  ng-show="ctrl.state.BuildMethod === ctrl.BuildMethods.CUSTOM_TEMPLATE"\n                  new-template-path="kubernetes.templates.custom.new"\n                  stack-type="3"\n                  on-change="(ctrl.onChangeTemplateId)"\n                  value="ctrl.state.templateId"\n                ></custom-template-selector>\n\n                \x3c!-- editor --\x3e\n                <web-editor-form\n                  ng-if="ctrl.state.BuildMethod === ctrl.BuildMethods.WEB_EDITOR || (ctrl.state.BuildMethod === ctrl.BuildMethods.CUSTOM_TEMPLATE && ctrl.state.templateId)"\n                  identifier="kubernetes-deploy-editor"\n                  value="ctrl.formValues.EditorContent"\n                  on-change="(ctrl.onChangeFileContent)"\n                  ng-required="true"\n                  yml="true"\n                  placeholder="# "\n                >\n                  <editor-description>\n                    <span class="col-sm-12 text-muted small" ng-show="ctrl.state.DeployType === ctrl.ManifestDeployTypes.COMPOSE">\n                      <p>\n                        <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                        Portainer uses <a href="https://kompose.io/" target="_blank">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that\n                        not all the Compose format options are supported by Kompose at the moment.\n                      </p>\n                      <p>\n                        \n                        <a href="https://docs.docker.com/compose/compose-file/" target="_blank"></a> Compose \n                      </p>\n                    </span>\n                    <span class="col-sm-12 text-muted small" ng-show="ctrl.state.DeployType === ctrl.ManifestDeployTypes.KUBERNETES">\n                      <p>\n                        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                         Kubernetes  (Deployment, Secret, ConfigMap...).\n                      </p>\n                      <p>\n                        \n                        <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank"></a> Kubernetes .\n                      </p>\n                    </span>\n                  </editor-description>\n                </web-editor-form>\n\n                \x3c!-- !editor --\x3e\n\n                \x3c!-- url --\x3e\n                <div ng-show="ctrl.state.BuildMethod === ctrl.BuildMethods.URL">\n                  <div class="col-sm-12 form-section-title"> URL </div>\n                  <div class="form-group">\n                    <span class="col-sm-12 text-muted small"> Indicate the URL to the manifest. </span>\n                  </div>\n                  <div class="form-group">\n                    <label for="manifest_url" class="col-sm-1 control-label text-left">URL</label>\n                    <div class="col-sm-11">\n                      <input\n                        type="text"\n                        class="form-control"\n                        ng-model="ctrl.formValues.ManifestURL"\n                        id="manifest_url"\n                        placeholder="https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/controllers/nginx-deployment.yaml"\n                        data-cy="k8sAppDeploy-urlFileUrl"\n                      />\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- !url --\x3e\n\n                \x3c!-- actions --\x3e\n                <div class="col-sm-12 form-section-title"></div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <button\n                      type="button"\n                      class="btn btn-primary btn-sm"\n                      ng-disabled="ctrl.disableDeploy()"\n                      ng-click="ctrl.deploy()"\n                      button-spinner="ctrl.state.actionInProgress"\n                      data-cy="k8sAppDeploy-deployButton"\n                      analytics-on\n                      analytics-category="kubernetes"\n                      analytics-event="kubernetes-application-advanced-deployment"\n                      analytics-properties="ctrl.buildAnalyticsProperties()"\n                    >\n                      <span ng-hide="ctrl.state.actionInProgress">Deploy</span>\n                      <span ng-show="ctrl.state.actionInProgress">Deployment in progress...</span>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !actions --\x3e\n              </form>\n            </uib-tab>\n\n            <uib-tab index="1" disable="ctrl.state.tabLogsDisabled">\n              <uib-tab-heading> <i class="fa fa-file space-right" aria-hidden="true"></i> Logs </uib-tab-heading>\n              <form class="form-horizontal" style="margin-top: 20px">\n                <div class="form-group" ng-if="ctrl.state.activeTab === 1">\n                  <div class="col-sm-12">\n                    <code-editor identifier="kubernetes-deploy-logs" read-only="true" yml="false" value="ctrl.errorLog"></code-editor>\n                  </div>\n                </div>\n              </form>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},9273:e=>{var t="app/kubernetes/views/resource-pools/access/resourcePoolAccess.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Namespace access management" state="kubernetes.resourcePools.resourcePool.access" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt;\n  <a ui-sref="kubernetes.resourcePools.resourcePool({id: ctrl.pool.Namespace.Name})">{{ ctrl.pool.Namespace.Name }}</a> &gt; Access management\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row" ng-if="ctrl.pool">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="fa-plug" title-text="Namespace"></rd-widget-header>\n        <rd-widget-body classes="no-padding">\n          <table class="table">\n            <tbody>\n              <tr>\n                <td></td>\n                <td>\n                  {{ ctrl.pool.Namespace.Name }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget ng-if="ctrl.availableUsersAndTeams">\n        <rd-widget-header icon="fa-user-lock" title-text="Create access"></rd-widget-header>\n        <rd-widget-body>\n          <form class="form-horizontal">\n            <div class="form-group">\n              <span class="col-sm-12 small text-warning">\n                <p>\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Adding user access will require the affected user(s) to logout and login for the changes to be taken into account.\n                </p>\n              </span>\n            </div>\n            <div class="form-group">\n              <label class="col-sm-3 col-lg-2 control-label text-left"> Select user(s) and/or team(s) </label>\n              <div class="col-sm-9 col-lg-4">\n                <span class="small text-muted" ng-if="ctrl.availableUsersAndTeams.length === 0">\n                  No user nor team access has been set on the environment. Head over to the\n                  <a ui-sref="portainer.endpoints.endpoint.access({id: ctrl.endpointId})">environment access view</a> to manage them.\n                </span>\n                <span\n                  isteven-multi-select\n                  ng-if="ctrl.availableUsersAndTeams.length > 0"\n                  input-model="ctrl.availableUsersAndTeams"\n                  output-model="ctrl.formValues.multiselectOutput"\n                  button-label="icon Name | Role.Name"\n                  item-label="icon Name | Role.Name"\n                  tick-property="ticked"\n                  helper-elements="filter"\n                  search-property="Name"\n                  translation="{nothingSelected: \'/\', search: \'...\'}"\n                >\n                </span>\n              </div>\n            </div>\n\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="(ctrl.availableUsersAndTeams | filter:{ticked:true}).length === 0 || ctrl.actionInProgress"\n                  ng-click="ctrl.authorizeAccess()"\n                  button-spinner="ctrl.actionInProgress"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Create access</span>\n                  <span ng-show="ctrl.state.actionInProgress">Creating access...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <access-datatable\n        ng-if="ctrl.authorizedUsersAndTeams"\n        title-text="Access"\n        title-icon="fa-user-lock"\n        table-key="kubernetes_resourcepool_access"\n        order-by="Name"\n        dataset="ctrl.authorizedUsersAndTeams"\n        remove-action="ctrl.unauthorizeAccess"\n      >\n      </access-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},87925:e=>{var t="app/kubernetes/views/resource-pools/components/storage-class-switch/storage-class-switch.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <div class="col-sm-2">\n    <por-switch-field\n      data-cy="\'k8sNamespaceCreate-enableQuotaToggle\'"\n      label="\'Enable quota\'"\n      name="\'k8s-resourcepool-storagequota\'"\n      feature-id="$ctrl.featureId"\n      checked="$ctrl.value"\n      on-change="($ctrl.handleChange)"\n    ></por-switch-field>\n  </div>\n</div>\n')}]),e.exports=t},28134:e=>{var t="app/kubernetes/views/resource-pools/create/createResourcePool.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Create a namespace" state="kubernetes.resourcePools.new" view-ready="$ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt; Create a namespace\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="$ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="$ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-xs-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" autocomplete="off" name="resourcePoolCreationForm">\n            \x3c!-- #region NAME INPUT --\x3e\n            <div class="form-group">\n              <label for="pool_name" class="col-sm-1 control-label text-left"></label>\n              <div class="col-sm-11">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="pool_name"\n                  ng-model="$ctrl.formValues.Name"\n                  ng-pattern="/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/"\n                  ng-change="$ctrl.onChangeName()"\n                  placeholder="my-project"\n                  data-cy="k8sNamespaceCreate-namespaceNameInput"\n                  required\n                  auto-focus\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="resourcePoolCreationForm.pool_name.$invalid || $ctrl.state.isAlreadyExist || $ctrl.state.hasPrefixKube">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="resourcePoolCreationForm.pool_name.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                  <p ng-message="pattern"\n                    ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field must consist of lower case alphanumeric characters or \'-\', and contain at most 63\n                    characters, and must start and end with an alphanumeric character.</p\n                  >\n                </div>\n                <p ng-if="$ctrl.state.hasPrefixKube"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Prefix "kube-" is reserved for Kubernetes system namespaces.</p>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            <div class="col-sm-12 form-section-title"> Resource quota </div>\n            \x3c!-- #region QUOTA --\x3e\n            \x3c!-- quotas-switch --\x3e\n            <div class="form-group">\n              <div class="col-sm-12 small text-muted" ng-if="$ctrl.state.resourceOverCommitEnabled">\n                <p>\n                  <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  A namespace is a logical abstraction of a Kubernetes cluster, to provide for more flexible management of resources. Best practice is to set a quota assignment as\n                  this ensures greatest security/stability; alternatively, you can disable assigning a quota for unrestricted access (not recommended).\n                </p>\n              </div>\n              <div class="col-sm-12 small text-muted" ng-if="!$ctrl.state.resourceOverCommitEnabled">\n                <p>\n                  <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  A namespace is a logical abstraction of a Kubernetes cluster, to provide for more flexible management of resources. Resource over-commit is disabled, please\n                  assign a capped limit of resources to this namespace.\n                </p>\n              </div>\n              <div class="col-sm-12" ng-if="$ctrl.state.resourceOverCommitEnabled">\n                <label class="control-label text-left"> Resource assignment </label>\n                <label class="switch" style="margin-left: 20px">\n                  <input type="checkbox" ng-model="$ctrl.formValues.HasQuota" /><i data-cy="k8sNamespaceCreate-resourceAssignmentToggle"></i>\n                </label>\n              </div>\n            </div>\n            <div class="form-group" ng-if="$ctrl.formValues.HasQuota && $ctrl.state.sliderMaxCpu <= 0 && $ctrl.state.sliderMaxMemory <= 0">\n              <div class="col-sm-12 small text-warning">\n                <p><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Not enough resources available in the cluster to apply a resource reservation.</p>\n              </div>\n            </div>\n            <div class="form-group" ng-if="$ctrl.formValues.HasQuota && !$ctrl.isQuotaValid() && !($ctrl.state.sliderMaxCpu <= 0 && $ctrl.state.sliderMaxMemory <= 0)">\n              <span class="col-sm-12 text-warning small">\n                <p> <i class="fa fa-exclamation-triangle" aria-hidden="true" style="margin-right: 2px"></i> At least a single limit must be set for the quota to be valid. </p>\n              </span>\n            </div>\n            \x3c!-- !quotas-switch --\x3e\n            <div ng-if="$ctrl.formValues.HasQuota && !($ctrl.state.sliderMaxCpu <= 0 && $ctrl.state.sliderMaxMemory <= 0)">\n              <div class="col-sm-12 form-section-title"> Resource limits </div>\n              <div>\n                \x3c!-- memory-limit-input --\x3e\n                <div class="form-group">\n                  <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> Memory </label>\n                  <div class="col-sm-3" ng-if="$ctrl.state.sliderMaxMemory > 0">\n                    <slider\n                      model="$ctrl.formValues.MemoryLimit"\n                      floor="$ctrl.defaults.MemoryLimit"\n                      ceil="$ctrl.state.sliderMaxMemory"\n                      step="128"\n                      ng-if="$ctrl.state.sliderMaxMemory"\n                      data-cy="k8sNamespaceCreate-memoryLimitSlider"\n                    >\n                    </slider>\n                  </div>\n                  <div class="col-sm-2" ng-if="$ctrl.state.sliderMaxMemory > 0">\n                    <input\n                      name="memory_limit"\n                      type="number"\n                      min="{{ $ctrl.defaults.MemoryLimit }}"\n                      max="{{ $ctrl.state.sliderMaxMemory }}"\n                      class="form-control"\n                      ng-model="$ctrl.formValues.MemoryLimit"\n                      id="memory-limit"\n                      data-cy="k8sNamespaceCreate-memoryLimitInput"\n                      required\n                    />\n                  </div>\n                  <div class="col-sm-4" ng-if="$ctrl.state.sliderMaxMemory > 0">\n                    <p class="small text-muted" style="margin-top: 7px"> Maximum memory usage (<b>MB</b>) </p>\n                  </div>\n                  <div class="col-sm-9" ng-if="$ctrl.state.sliderMaxMemory <= 0">\n                    <p class="small text-muted" style="margin-top: 27px">\n                      <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i> Not enough memory available in the cluster to apply a reservation. Please contact\n                      your cluster administrator.\n                    </p>\n                  </div>\n                </div>\n                <div class="form-group" ng-show="resourcePoolCreationForm.memory_limit.$invalid || $ctrl.state.sliderMaxMemory <= 0">\n                  <div class="col-sm-12 small text-warning">\n                    <div ng-messages="resourcePoolCreationForm.pool_name.$error" ng-if="$ctrl.state.sliderMaxMemory > 0">\n                      <p\n                        ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Value must be between {{ $ctrl.defaults.MemoryLimit }} and {{ $ctrl.state.sliderMaxMemory }}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- !memory-limit-input --\x3e\n                \x3c!-- cpu-limit-input --\x3e\n                <div class="form-group">\n                  <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> CPU </label>\n                  <div class="col-sm-5" ng-if="$ctrl.state.sliderMaxCpu > 0">\n                    <slider\n                      model="$ctrl.formValues.CpuLimit"\n                      floor="$ctrl.defaults.CpuLimit"\n                      ceil="$ctrl.state.sliderMaxCpu"\n                      step="0.1"\n                      precision="2"\n                      ng-if="$ctrl.state.sliderMaxCpu"\n                      data-cy="k8sNamespaceCreate-cpuLimitSlider"\n                    >\n                    </slider>\n                  </div>\n                  <div class="col-sm-4" style="margin-top: 20px" ng-if="$ctrl.state.sliderMaxCpu > 0">\n                    <p class="small text-muted"> CPU </p>\n                  </div>\n                  <div class="col-sm-9" ng-if="$ctrl.state.sliderMaxCpu <= 0">\n                    <p class="small text-muted" style="margin-top: 27px">\n                      <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i> Not enough CPU available in the cluster to apply a reservation. Please contact your\n                      cluster administrator.\n                    </p>\n                  </div>\n                </div>\n                \x3c!-- !cpu-limit-input --\x3e\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            \x3c!-- #region LOADBALANCERS --\x3e\n            <div ng-if="$ctrl.state.useLoadBalancer">\n              <div class="col-sm-12 form-section-title"> Load balancers </div>\n\n              <div class="form-group">\n                <div class="col-sm-12 small text-muted">\n                  <p>\n                    <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                    You can set a quota on the amount of external load balancers that can be created inside this namespace. Set this quota to 0 to effectively disable the use of\n                    load balancers in this namespace.\n                  </p>\n                </div>\n                <div class="col-sm-12">\n                  <por-switch-field\n                    data-cy="\'k8sNamespaceCreate-loadBalancerQuotaToggle\'"\n                    label="\'Load Balancer quota\'"\n                    name="\'k8s-resourcepool-lbquota\'"\n                    feature-id="$ctrl.LBQuotaFeatureId"\n                    checked="$ctrl.formValues.UseLoadBalancersQuota"\n                    on-change="($ctrl.onToggleLoadBalancerQuota)"\n                  ></por-switch-field>\n                </div>\n              </div>\n              <div class="form-group" ng-if="$ctrl.formValues.UseLoadBalancersQuota">\n                <label for="pool_name" class="col-sm-2 control-label text-left">Max Load Balancers</label>\n                <div class="col-sm-3">\n                  <input\n                    type="number"\n                    class="form-control"\n                    name="max_load_balancers"\n                    ng-model="$ctrl.formValues.LoadBalancers"\n                    min="0"\n                    required\n                    auto-focus\n                    data-cy="k8sNamespaceCreate-maxLoadBalancerInput"\n                  />\n                </div>\n              </div>\n              <div class="form-group" ng-show="resourcePoolCreationForm.max_load_balancers.$invalid">\n                <div class="col-sm-12 small text-warning">\n                  <div ng-messages="resourcePoolCreationForm.max_load_balancers.$error">\n                    <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Max load balancers value is required. </p>\n                    <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Max load balancers value must be a positive number. </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            <div ng-if="$ctrl.state.canUseIngress">\n              <div class="col-sm-12 form-section-title"> Ingresses </div>\n              \x3c!-- #region INGRESSES --\x3e\n              <div class="form-group" ng-if="$ctrl.formValues.IngressClasses.length === 0">\n                <div class="col-sm-12 small text-muted">\n                  The ingress feature must be enabled in the\n                  <a ui-sref="portainer.k8sendpoint.kubernetesConfig({id: $ctrl.endpoint.Id})">environment configuration view</a> to be able to register ingresses inside this\n                  namespace.\n                </div>\n              </div>\n\n              <div class="form-group" ng-if="$ctrl.formValues.IngressClasses.length > 0">\n                <div class="col-sm-12 small text-muted">\n                  <p>\n                    <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                    Enable and configure ingresses available to users when deploying applications.\n                  </p>\n                </div>\n              </div>\n\n              <div class="form-group" ng-repeat-start="ic in $ctrl.formValues.IngressClasses track by ic.IngressClass.Name">\n                <div class="text-muted col-sm-12" style="width: 100%">\n                  <div style="border-bottom: 1px solid #cdcdcd; padding-bottom: 5px">\n                    <i class="fa fa-route" aria-hidden="true" style="margin-right: 2px"></i> {{ ic.IngressClass.Name }}\n                  </div>\n                </div>\n\n                <div class="col-sm-12" style="margin-top: 10px">\n                  <label class="control-label text-left"> Allow users to use this ingress </label>\n                  <label class="switch" style="margin-left: 20px">\n                    <input type="checkbox" ng-model="ic.Selected" /><i data-cy="namespaceCreate-ingressToggle{{ ic.IngressClass.Name }}"></i>\n                  </label>\n                </div>\n              </div>\n\n              <div ng-if="ic.Selected">\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <label class="control-label text-left">\n                      Hostnames\n                      <portainer-tooltip\n                        position="bottom"\n                        message="Hostnames associated to the ingress inside this namespace. Users will be able to expose and access their applications over the ingress via one of these hostname."\n                      >\n                      </portainer-tooltip>\n                    </label>\n                    <span\n                      class="label label-default interactive"\n                      style="margin-left: 10px"\n                      ng-click="$ctrl.addHostname(ic)"\n                      data-cy="namespaceCreate-addHostButton{{ ic.IngressClass.Name }}"\n                    >\n                      <i class="fa fa-plus-circle" aria-hidden="true"></i> add hostname\n                    </span>\n                  </div>\n                  <div class="col-sm-12" style="margin-top: 10px">\n                    <div ng-repeat="item in ic.Hosts track by $index" style="margin-top: 2px">\n                      <div class="form-inline">\n                        <div class="col-sm-10 input-group input-group-sm">\n                          <span class="input-group-addon"></span>\n                          <input\n                            type="text"\n                            class="form-control"\n                            name="hostname_{{ ic.IngressClass.Name }}_{{ $index }}"\n                            ng-model="item.Host"\n                            ng-change="$ctrl.onChangeIngressHostname()"\n                            placeholder="foo"\n                            pattern="[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*"\n                            required\n                            data-cy="namespaceCreate-hostnameInput{{ ic.IngressClass.Name }}_{{ $index }}"\n                          />\n                        </div>\n                        <div class="col-sm-1 input-group input-group-sm" ng-if="$index > 0">\n                          <button class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.removeHostname(ic, $index)">\n                            <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                          </button>\n                        </div>\n                      </div>\n                      <div\n                        class="small text-warning"\n                        style="margin-top: 5px"\n                        ng-show="\n                          resourcePoolCreationForm[\'hostname_\' + ic.IngressClass.Name + \'_\' + $index].$invalid ||\n                          $ctrl.state.duplicates.ingressHosts.refs[ic.IngressClass.Name][$index] !== undefined\n                        "\n                      >\n                        <ng-messages for="resourcePoolCreationForm[\'hostname_\' + ic.IngressClass.Name + \'_\' + $index].$error">\n                          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Hostname is required.</p>\n                          <p ng-message="pattern">\n                            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                            This field must consist of lower case alphanumeric characters, \'-\' or \'.\', and must start and end with an alphanumeric character ( \'example.com\').\n                          </p>\n                        </ng-messages>\n                        <p ng-if="$ctrl.state.duplicates.ingressHosts.refs[ic.IngressClass.Name][$index] !== undefined">\n                          <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This hostname is already used.\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class="form-group" ng-if="ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX">\n                  <div class="col-sm-12">\n                    <label class="control-label text-left">\n                      Redirect published routes to / in application\n                      <portainer-tooltip\n                        position="bottom"\n                        message="Enables the redirection of any route published via ingress to the root path of the application,  /path remaps to /"\n                      >\n                      </portainer-tooltip>\n                    </label>\n                    <label class="switch" style="margin-left: 20px">\n                      <input type="checkbox" ng-model="ic.RewriteTarget" /><i data-cy="namespaceCreate-redirectRoutesToggle{{ ic.IngressClass.Name }}"></i>\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div ng-repeat-end class="form-group" ng-if="ic.Selected" style="margin-bottom: 20px">\n                <div class="col-sm-12">\n                  <p>\n                    <a class="small interactive" ng-if="!ic.AdvancedConfig" ng-click="ic.AdvancedConfig = true" data-cy="namespaceCreate-advancedConfig{{ ic.IngressClass.Name }}">\n                      <i class="fa fa-plus space-right" aria-hidden="true"></i> Advanced configuration\n                    </a>\n                    <a class="small interactive" ng-if="ic.AdvancedConfig" ng-click="ic.AdvancedConfig = false" data-cy="namespaceCreate-hideConfig{{ ic.IngressClass.Name }}">\n                      <i class="fa fa-minus space-right" aria-hidden="true"></i> Hide configuration\n                    </a>\n                  </p>\n                </div>\n\n                <div class="col-sm-12 small text-muted" ng-if="ic.AdvancedConfig" style="margin-top: 5px">\n                  <p>\n                    <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                    You can specify a list of annotations that will be associated to the ingress.\n                  </p>\n                </div>\n\n                <div class="col-sm-12" ng-if="ic.AdvancedConfig">\n                  <label class="control-label text-left">Annotations</label>\n                  <span\n                    class="label label-default interactive"\n                    style="margin-left: 10px"\n                    ng-click="$ctrl.addAnnotation(ic)"\n                    data-cy="namespaceCreate-addAnnotation{{ ic.IngressClass.Name }}"\n                  >\n                    <i class="fa fa-plus-circle" aria-hidden="true"></i> add annotation\n                  </span>\n                </div>\n\n                <div class="col-sm-12 form-inline" style="margin-top: 10px" ng-if="ic.AdvancedConfig">\n                  <div ng-repeat="annotation in ic.Annotations track by $index" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">Key</span>\n                      <input\n                        type="text"\n                        class="form-control"\n                        ng-model="annotation.Key"\n                        placeholder="nginx.ingress.kubernetes.io/rewrite-target"\n                        required\n                        data-cy="namespaceCreate-annotationKey{{ ic.IngressClass.Name }}"\n                      />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">Value</span>\n                      <input\n                        type="text"\n                        class="form-control"\n                        ng-model="annotation.Value"\n                        placeholder="/$1"\n                        required\n                        data-cy="namespaceCreate-annotationValue{{ ic.IngressClass.Name }}"\n                      />\n                    </div>\n                    <div class="col-sm-1 input-group input-group-sm">\n                      <button\n                        class="btn btn-sm btn-danger"\n                        type="button"\n                        ng-click="$ctrl.removeAnnotation(ic, $index)"\n                        data-cy="namespaceCreate-deleteAnnotationButton{{ ic.IngressClass.Name }}"\n                      >\n                        <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- #endregion --\x3e\n            </div>\n\n            \x3c!-- #region REGISTRIES --\x3e\n            <div class="col-sm-12 form-section-title"> Registries </div>\n            <div class="form-group">\n              <div class="col-sm-12 small text-muted">\n                <p>\n                  <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Define which registry can be used by users who have access to this namespace.\n                </p>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label class="col-sm-3 col-lg-2 control-label text-left" style="padding-top: 0"> Select registries </label>\n              <div class="col-sm-9 col-lg-4">\n                <span class="small text-muted" ng-if="!$ctrl.registries.length && $ctrl.state.isAdmin">\n                  No registries available. Head over <a ui-sref="portainer.registries">registry view</a> to define container registry.\n                </span>\n                <span class="small text-muted" ng-if="!$ctrl.registries.length && !$ctrl.state.isAdmin">\n                  No registries available. Contact your administrator to create a container registry.\n                </span>\n                <span\n                  isteven-multi-select\n                  ng-if="$ctrl.registries.length"\n                  input-model="$ctrl.registries"\n                  output-model="$ctrl.formValues.Registries"\n                  button-label="Name"\n                  item-label="Name"\n                  tick-property="Checked"\n                  helper-elements="filter"\n                  search-property="Name"\n                  translation="{nothingSelected: \'Select one or more registry\', search: \'...\'}"\n                  data-cy="namespaceCreate-registrySelect"\n                >\n                </span>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            <div ng-if="$ctrl.formValues.StorageClasses.length">\n              <div class="col-sm-12 form-section-title"> Storage </div>\n              <div class="form-group">\n                <div class="col-sm-12 small text-muted">\n                  <p>\n                    <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                    Quotas can be set on each storage option to prevent users from exceeding a specific threshold when deploying applications. You can set a quota to 0 to\n                    effectively prevent the usage of a specific storage option inside this namespace.\n                  </p>\n                </div>\n              </div>\n\n              <div ng-repeat-start="sc in $ctrl.formValues.StorageClasses track by sc.Name">\n                <div class="form-section-title text-muted col-sm-12" style="width: 100%">\n                  <div style="border-bottom: 1px solid #cdcdcd; padding-bottom: 5px"> <i class="fa fa-route" aria-hidden="true" style="margin-right: 2px"></i> {{ sc.Name }} </div>\n                </div>\n                <storage-class-switch on-change="($ctrl.onToggleStorageQuota)" value="sc.Selected" name="sc.Name"></storage-class-switch>\n              </div>\n\n              <div ng-repeat-end ng-if="sc.Selected">\n                <div class="form-group">\n                  <label class="control-label text-left col-sm-2"> Maximum usage </label>\n                  <div class="col-sm-8">\n                    <input type="number" class="form-control" name="storage_class_size_{{ $index }}" ng-model="sc.Size" placeholder="20" min="0" ng-min="0" required />\n                  </div>\n                  <div class="col-sm-2">\n                    <select class="form-control" ng-model="sc.SizeUnit" ng-options="unit for unit in $ctrl.state.availableSizeUnits"></select>\n                  </div>\n                </div>\n\n                <div class="form-group" ng-show="resourcePoolCreationForm[\'storage_class_size_\' + $index].$invalid">\n                  <div class="col-sm-12 small text-warning">\n                    <div ng-messages="resourcePoolCreationForm[\'storage_class_size_\' + $index].$error">\n                      <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Size is required.</p>\n                      <p ng-message="number"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Invalid number.</p>\n                      <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This value must be greater than zero.</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            \x3c!-- summary --\x3e\n            <kubernetes-summary-view ng-if="resourcePoolCreationForm.$valid && !$ctrl.isCreateButtonDisabled()" form-values="$ctrl.formValues"></kubernetes-summary-view>\n            \x3c!-- !summary --\x3e\n\n            <div class="col-sm-12 form-section-title"></div>\n            \x3c!-- #region ACTIONS --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="!resourcePoolCreationForm.$valid || $ctrl.isCreateButtonDisabled()"\n                  ng-click="$ctrl.createResourcePool()"\n                  button-spinner="$ctrl.state.actionInProgress"\n                >\n                  <span ng-hide="$ctrl.state.actionInProgress" data-cy="k8sNamespace-createNamespaceButton">Create namespace</span>\n                  <span ng-show="$ctrl.state.actionInProgress">Creation in progress...</span>\n                </button>\n              </div>\n            </div>\n\n            \x3c!-- #endregion --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},23932:e=>{var t="app/kubernetes/views/resource-pools/edit/components/ingresses-datatable/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()" style="margin-right: 5px">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  Ingress\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td colspan="3">\n                <a ng-if="$ctrl.itemCanExpand(item)" style="margin-right: 5px">\n                  <i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i> </a\n                >{{ item.Name }}\n              </td>\n            </tr>\n            <tr\n              dir-paginate-end\n              ng-show="item.Expanded"\n              ng-repeat="path in item.Paths"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td>\n                <a style="margin-left: 15px" ng-href="http://{{ path.Host ? path.Host : path.IP }}{{ path.Path }}" target="_blank">\n                  {{ path.Host ? path.Host : path.IP }}{{ path.Path }}\n                </a>\n                <span ng-if="path.ApplicationName !== \'-\'">\n                  <i class="fas fa-long-arrow-alt-right" style="margin: 2px"></i>\n                  <a ui-sref="kubernetes.applications.application({ name: path.ApplicationName, namespace: item.Namespace })">{{ path.ApplicationName }}</a>\n                </span>\n                <span class="label label-warning image-tag label-margins" ng-if="path.ApplicationName === \'-\'">unused</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No ingresses available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},50856:e=>{var t="app/kubernetes/views/resource-pools/edit/resourcePool.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Namespace details" state="kubernetes.resourcePools.resourcePool" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt; {{ ctrl.pool.Namespace.Name }}\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading> <i class="fa fa-layer-group space-right" aria-hidden="true"></i> Namespace </uib-tab-heading>\n              <form class="form-horizontal" autocomplete="off" name="resourcePoolEditForm" style="padding: 20px; margin-top: 10px">\n                \x3c!-- name-input --\x3e\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <table class="table">\n                      <tbody>\n                        <tr>\n                          <td></td>\n                          <td>\n                            {{ ctrl.pool.Namespace.Name }}\n                            <span class="label label-info image-tag label-margins" ng-if="ctrl.isSystem">system</span>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n                \x3c!-- !name-input --\x3e\n                <div authorization="K8sResourcePoolDetailsW" ng-if="ctrl.isEditable" class="col-sm-12 form-section-title">Resource quota</div>\n                \x3c!-- quotas-switch --\x3e\n                <div authorization="K8sResourcePoolDetailsW" ng-if="ctrl.isEditable" class="form-group">\n                  <div class="col-sm-12 small text-muted" ng-if="ctrl.state.resourceOverCommitEnabled">\n                    <p>\n                      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      A namespace is a logical abstraction of a Kubernetes cluster, to provide for more flexible management of resources. Best practice is to set a quota assignment\n                      as this ensures greatest security/stability; alternatively, you can disable assigning a quota for unrestricted access (not recommended).\n                    </p>\n                  </div>\n                  <div class="col-sm-12 small text-muted" ng-if="!ctrl.state.resourceOverCommitEnabled">\n                    <p>\n                      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      A namespace is a logical abstraction of a Kubernetes cluster, to provide for more flexible management of resources. Resource over-commit is disabled, please\n                      assign a capped limit of resources to this pool.\n                    </p>\n                  </div>\n                  <div class="col-sm-12" ng-if="ctrl.state.resourceOverCommitEnabled">\n                    <label class="control-label text-left"> Resource assignment </label>\n                    <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="ctrl.formValues.HasQuota" /><i></i> </label>\n                  </div>\n                </div>\n                <div class="form-group" ng-if="ctrl.formValues.HasQuota && ctrl.state.sliderMaxCpu <= 0 && ctrl.state.sliderMaxMemory <= 0">\n                  <div class="col-sm-12 small text-warning">\n                    <p><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Not enough resources available in the cluster to apply a resource reservation.</p>\n                  </div>\n                </div>\n                <div class="form-group" authorization="K8sResourcePoolDetailsW" ng-if="ctrl.formValues.HasQuota && ctrl.isEditable && !ctrl.isQuotaValid()">\n                  <span class="col-sm-12 text-warning small">\n                    <p> <i class="fa fa-exclamation-triangle" aria-hidden="true" style="margin-right: 2px"></i> At least a single limit must be set for the quota to be valid. </p>\n                  </span>\n                </div>\n                <div ng-if="ctrl.formValues.HasQuota && (ctrl.formValues.CpuLimit || ctrl.formValues.MemoryLimit)">\n                  <kubernetes-resource-reservation\n                    ng-if="ctrl.pool.Quota"\n                    description="Resource reservation represents the total amount of resource assigned to all the applications deployed inside this namespace."\n                    cpu-reservation="ctrl.state.resourceReservation.CPU"\n                    memory-reservation="ctrl.state.resourceReservation.Memory"\n                    cpu-limit="ctrl.formValues.CpuLimit"\n                    memory-limit="ctrl.formValues.MemoryLimit"\n                    display-usage="ctrl.state.useServerMetrics"\n                    cpu-usage="ctrl.state.resourceUsage.CPU"\n                    memory-usage="ctrl.state.resourceUsage.Memory"\n                  >\n                  </kubernetes-resource-reservation>\n                </div>\n                \x3c!-- !quotas-switch --\x3e\n                <div authorization="K8sResourcePoolDetailsW" ng-if="ctrl.formValues.HasQuota && ctrl.isEditable">\n                  <div class="col-sm-12 form-section-title"> Resource limits </div>\n                  <div>\n                    \x3c!-- memory-limit-input --\x3e\n                    <div class="form-group">\n                      <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px">  </label>\n                      <div class="col-sm-3" ng-if="ctrl.state.sliderMaxMemory > 0">\n                        <slider\n                          model="ctrl.formValues.MemoryLimit"\n                          floor="ctrl.ResourceQuotaDefaults.MemoryLimit"\n                          ceil="ctrl.state.sliderMaxMemory"\n                          step="128"\n                          ng-if="ctrl.state.sliderMaxMemory"\n                        ></slider>\n                      </div>\n                      <div class="col-sm-2" ng-if="ctrl.state.sliderMaxMemory > 0">\n                        <input\n                          name="memory_limit"\n                          type="number"\n                          min="{{ ctrl.ResourceQuotaDefaults.MemoryLimit }}"\n                          max="{{ ctrl.state.sliderMaxMemory }}"\n                          class="form-control"\n                          ng-model="ctrl.formValues.MemoryLimit"\n                          id="memory-limit"\n                          required\n                        />\n                      </div>\n                      <div class="col-sm-4" ng-if="ctrl.state.sliderMaxMemory > 0">\n                        <p class="small text-muted" style="margin-top: 7px">  (<b>MB</b>) </p>\n                      </div>\n                      <div class="col-sm-9" ng-if="ctrl.state.sliderMaxMemory <= 0">\n                        <p class="small text-muted" style="margin-top: 27px">\n                          <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i> Not enough memory available in the cluster to apply a reservation. Please\n                          contact your cluster administrator.\n                        </p>\n                      </div>\n                    </div>\n                    <div class="form-group" ng-show="resourcePoolEditForm.memory_limit.$invalid || ctrl.state.sliderMaxMemory <= 0">\n                      <div class="col-sm-12 small text-warning">\n                        <div ng-messages="resourcePoolEditForm.pool_name.$error" ng-if="ctrl.state.sliderMaxMemory > 0">\n                          <p\n                            ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Value must be between {{ ctrl.ResourceQuotaDefaults.MemoryLimit }} and\n                            {{ ctrl.state.sliderMaxMemory }}</p\n                          >\n                        </div>\n                      </div>\n                    </div>\n                    \x3c!-- !memory-limit-input --\x3e\n                    \x3c!-- cpu-limit-input --\x3e\n                    <div class="form-group">\n                      <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> CPU  </label>\n                      <div class="col-sm-5" ng-if="ctrl.state.sliderMaxCpu > 0">\n                        <slider\n                          model="ctrl.formValues.CpuLimit"\n                          floor="ctrl.ResourceQuotaDefaults.CpuLimit"\n                          ceil="ctrl.state.sliderMaxCpu"\n                          step="0.1"\n                          precision="2"\n                          ng-if="ctrl.state.sliderMaxCpu"\n                        >\n                        </slider>\n                      </div>\n                      <div class="col-sm-4" style="margin-top: 20px" ng-if="ctrl.state.sliderMaxCpu > 0">\n                        <p class="small text-muted"> CPU </p>\n                      </div>\n                      <div class="col-sm-9" ng-if="ctrl.state.sliderMaxCpu <= 0">\n                        <p class="small text-muted" style="margin-top: 27px">\n                          <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i> Not enough CPU available in the cluster to apply a reservation. Please contact\n                          your cluster administrator.\n                        </p>\n                      </div>\n                    </div>\n                    \x3c!-- !cpu-limit-input --\x3e\n                  </div>\n                </div>\n                \x3c!-- #region LOADBALANCERS --\x3e\n                <div ng-if="ctrl.state.useLoadBalancer && ((ctrl.isEditable && ctrl.state.hasWriteAuthorization) || (ctrl.oldQuota && ctrl.oldQuota.LoadBalancers > 0))">\n                  <div class="col-sm-12 form-section-title"> Load balancers </div>\n\n                  <div authorization="K8sResourcePoolDetailsW" ng-if="ctrl.isEditable">\n                    <div class="form-group">\n                      <div class="col-sm-12 small text-muted">\n                        <p>\n                          <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                          You can set a quota on the amount of external load balancers that can be created inside this namespace. Set this quota to 0 to effectively disable the use\n                          of load balancers in this namespace.\n                        </p>\n                      </div>\n\n                      <div class="col-sm-12">\n                        <por-switch-field\n                          data-cy="\'k8sNamespaceCreate-loadBalancerQuotaToggle\'"\n                          label="\'Load Balancer quota\'"\n                          name="\'k8s-resourcepool-Lbquota\'"\n                          feature-id="ctrl.LBQuotaFeatureId"\n                          checked="ctrl.formValues.UseLoadBalancersQuota"\n                          on-change="(ctrl.onToggleLoadBalancersQuota)"\n                        ></por-switch-field>\n                      </div>\n                    </div>\n\n                    <div class="form-group" ng-if="ctrl.formValues.UseLoadBalancersQuota">\n                      <label for="pool_name" class="col-sm-2 control-label text-left">Max Load Balancers</label>\n                      <div class="col-sm-3">\n                        <input type="number" class="form-control" name="max_load_balancers" ng-model="ctrl.formValues.LoadBalancers" min="0" required auto-focus />\n                      </div>\n                    </div>\n                    <div class="form-group" ng-show="resourcePoolEditForm.max_load_balancers.$invalid || ctrl.state.loadBalancersUsed > ctrl.formValues.LoadBalancers">\n                      <div class="col-sm-12 small text-warning">\n                        <div ng-messages="resourcePoolEditForm.max_load_balancers.$error">\n                          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Max load balancers value is required. </p>\n                          <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Max load balancers value must be a positive number. </p>\n                          <p ng-if="ctrl.state.loadBalancersUsed > ctrl.formValues.LoadBalancers && ctrl.formValues.LoadBalancers >= 0">\n                            Max load balancers value must be greater than the existing number of load balancers inside this namespace.\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.oldQuota && ctrl.oldQuota.LoadBalancers > 0">\n                    <label for="cpu-usage" class="col-sm-3 col-lg-2 control-label text-left"> Load Balancers usage </label>\n                    <div class="col-sm-9" style="margin-top: 4px">\n                      <uib-progressbar animate="false" value="ctrl.state.loadBalancersUsage" type="{{ ctrl.state.loadBalancersUsage | kubernetesUsageLevelInfo }}">\n                        <b style="white-space: nowrap"> {{ ctrl.state.loadBalancersUsed }} / {{ ctrl.oldQuota.LoadBalancers }} - {{ ctrl.state.loadBalancersUsage }}% </b>\n                      </uib-progressbar>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- #endregion --\x3e\n                <div authorization="K8sResourcePoolDetailsW" ng-if="ctrl.isEditable && ctrl.state.canUseIngress">\n                  <div class="col-sm-12 form-section-title"> Ingresses </div>\n                  \x3c!-- #region INGRESSES --\x3e\n                  <div class="form-group" ng-if="ctrl.formValues.IngressClasses.length === 0">\n                    <div class="col-sm-12 small text-muted">\n                      The ingress feature must be enabled in the\n                      <a ui-sref="portainer.k8sendpoint.kubernetesConfig({id: ctrl.endpoint.Id})">environment configuration view</a> to be able to register ingresses inside this\n                      namespace.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.formValues.IngressClasses.length > 0">\n                    <div class="col-sm-12 small text-muted">\n                      <p>\n                        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                        Enable and configure ingresses available to users when deploying applications.\n                      </p>\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-repeat-start="ic in ctrl.formValues.IngressClasses track by ic.IngressClass.Name">\n                    <div class="text-muted col-sm-12" style="width: 100%">\n                      <div style="border-bottom: 1px solid #cdcdcd; padding-bottom: 5px">\n                        <i class="fa fa-route" aria-hidden="true" style="margin-right: 2px"></i> {{ ic.IngressClass.Name }}\n                      </div>\n                    </div>\n\n                    <div class="col-sm-12" style="margin-top: 10px">\n                      <label class="control-label text-left"> Allow users to use this ingress </label>\n                      <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="ic.Selected" /><i></i> </label>\n                    </div>\n                  </div>\n\n                  <div ng-if="ic.Selected">\n                    <div class="form-group">\n                      <div class="col-sm-12">\n                        <label class="control-label text-left">\n                          Hostnames\n                          <portainer-tooltip\n                            position="bottom"\n                            message="Hostnames associated to the ingress inside this namespace. Users will be able to expose and access their applications over the ingress via one of these hostname."\n                          >\n                          </portainer-tooltip>\n                        </label>\n                        <span class="label label-default interactive" style="margin-left: 10px" ng-click="ctrl.addHostname(ic)">\n                          <i class="fa fa-plus-circle" aria-hidden="true"></i> add hostname\n                        </span>\n                      </div>\n                      <div class="col-sm-12" style="margin-top: 10px">\n                        <div ng-repeat="item in ic.Hosts track by $index" style="margin-top: 2px">\n                          <div class="form-inline">\n                            <div class="col-sm-10 input-group input-group-sm" ng-class="{ striked: item.NeedsDeletion }">\n                              <span class="input-group-addon"></span>\n                              <input\n                                type="text"\n                                class="form-control"\n                                name="hostname_{{ ic.IngressClass.Name }}_{{ $index }}"\n                                ng-model="item.Host"\n                                ng-change="ctrl.onChangeIngressHostname()"\n                                placeholder="foo"\n                                pattern="[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*"\n                                required\n                              />\n                            </div>\n                            <div class="col-sm-1 input-group input-group-sm" ng-if="$index > 0">\n                              <button ng-if="!item.NeedsDeletion" class="btn btn-sm btn-danger" type="button" ng-click="ctrl.removeHostname(ic, $index)">\n                                <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                              </button>\n                              <button ng-if="item.NeedsDeletion" class="btn btn-sm btn-primary" type="button" ng-click="ctrl.restoreHostname(item)">\n                                <i class="fa fa-trash-restore" aria-hidden="true"></i>\n                              </button>\n                            </div>\n                          </div>\n                          <div\n                            class="small text-warning"\n                            style="margin-top: 5px"\n                            ng-show="resourcePoolEditForm[\'hostname_\' + ic.IngressClass.Name + \'_\' + $index].$invalid || item.Duplicate"\n                          >\n                            <ng-messages for="resourcePoolEditForm[\'hostname_\' + ic.IngressClass.Name + \'_\' + $index].$error">\n                              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Hostname is required.</p>\n                              <p ng-message="pattern">\n                                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                                This field must consist of lower case alphanumeric characters, \'-\' or \'.\', and must start and end with an alphanumeric character (\n                                \'example.com\').\n                              </p>\n                            </ng-messages>\n                            <p ng-if="item.Duplicate">\n                              <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                              This hostname is already used.\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class="form-group" ng-if="ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX">\n                      <div class="col-sm-12">\n                        <label class="control-label text-left">\n                          Redirect published routes to / in application\n                          <portainer-tooltip\n                            position="bottom"\n                            message="Enables the redirection of any route published via ingress to the root path of the application,  /path remaps to /"\n                          >\n                          </portainer-tooltip>\n                        </label>\n                        <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="ic.RewriteTarget" /><i></i> </label>\n                      </div>\n                    </div>\n                  </div>\n                  <div ng-repeat-end class="form-group" ng-if="ic.Selected" style="margin-bottom: 20px">\n                    <div class="col-sm-12">\n                      <p>\n                        <a class="small interactive" ng-if="!ic.AdvancedConfig" ng-click="ic.AdvancedConfig = true">\n                          <i class="fa fa-plus space-right" aria-hidden="true"></i> Advanced configuration\n                        </a>\n                        <a class="small interactive" ng-if="ic.AdvancedConfig" ng-click="ic.AdvancedConfig = false">\n                          <i class="fa fa-minus space-right" aria-hidden="true"></i> Hide configuration\n                        </a>\n                      </p>\n                    </div>\n\n                    <div class="col-sm-12 small text-muted" ng-if="ic.AdvancedConfig" style="margin-top: 5px">\n                      <p>\n                        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                        You can specify a list of annotations that will be associated to the ingress.\n                      </p>\n                    </div>\n\n                    <div class="col-sm-12" ng-if="ic.AdvancedConfig">\n                      <label class="control-label text-left">Annotations</label>\n                      <span class="label label-default interactive" style="margin-left: 10px" ng-click="ctrl.addAnnotation(ic)">\n                        <i class="fa fa-plus-circle" aria-hidden="true"></i> add annotation\n                      </span>\n                    </div>\n\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px" ng-if="ic.AdvancedConfig">\n                      <div ng-repeat="annotation in ic.Annotations track by $index" style="margin-top: 2px">\n                        <div class="input-group col-sm-5 input-group-sm">\n                          <span class="input-group-addon">Key</span>\n                          <input type="text" class="form-control" ng-model="annotation.Key" placeholder="nginx.ingress.kubernetes.io/rewrite-target" required />\n                        </div>\n                        <div class="input-group col-sm-5 input-group-sm">\n                          <span class="input-group-addon">Value</span>\n                          <input type="text" class="form-control" ng-model="annotation.Value" placeholder="/$1" required />\n                        </div>\n                        <div class="col-sm-1 input-group input-group-sm">\n                          <button class="btn btn-sm btn-danger" type="button" ng-click="ctrl.removeAnnotation(ic, $index)">\n                            <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n                </div>\n                \x3c!-- #region REGISTRIES --\x3e\n                <div>\n                  <div class="col-sm-12 form-section-title"> Registries </div>\n\n                  <div class="form-group" ng-if="!ctrl.canEdit || ctrl.isSystem">\n                    <label class="col-sm-3 col-lg-2 control-label text-left" style="padding-top: 0"> Selected registries </label>\n                    <div class="col-sm-9 col-lg-4">\n                      {{ ctrl.selectedRegistries ? ctrl.selectedRegistries : \'None\' }}\n                    </div>\n                  </div>\n\n                  <div authorization="K8sResourcePoolDetailsW" ng-if="!ctrl.isSystem">\n                    <div class="form-group">\n                      <div class="col-sm-12 small text-muted">\n                        <p>\n                          <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                          Define which registry can be used by users who have access to this namespace.\n                        </p>\n                      </div>\n                    </div>\n                    <div class="form-group">\n                      <label class="col-sm-3 col-lg-2 control-label text-left" style="padding-top: 0"> Select registries </label>\n                      <div class="col-sm-9 col-lg-4">\n                        <span class="small text-muted" ng-if="!ctrl.registries.length && ctrl.state.isAdmin">\n                          No registries available. Head over <a ui-sref="portainer.registries">registry view</a> to define container registry.\n                        </span>\n                        <span class="small text-muted" ng-if="!ctrl.registries.length && !ctrl.state.isAdmin">\n                          No registries available. Contact your administrator to create a container registry.\n                        </span>\n                        <span\n                          isteven-multi-select\n                          ng-if="ctrl.registries.length"\n                          input-model="ctrl.registries"\n                          output-model="ctrl.formValues.Registries"\n                          button-label="Name"\n                          item-label="Name"\n                          tick-property="Checked"\n                          helper-elements="filter"\n                          search-property="Name"\n                          translation="{nothingSelected: \'Select one or more registry\', search: \'...\'}"\n                        >\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- #endregion --\x3e\n\n                <div authorization="K8sResourcePoolDetailsR" ng-if="ctrl.isEditable && ctrl.formValues.StorageClasses.length">\n                  <div class="col-sm-12 form-section-title"> Storage </div>\n                  <div authorization="K8sResourcePoolDetailsW" class="form-group">\n                    <div class="col-sm-12 small text-muted">\n                      <p>\n                        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                        Quotas can be set on each storage option to prevent users from exceeding a specific threshold when deploying applications. You can set a quota to 0 to\n                        effectively prevent the usage of a specific storage option inside this namespace.\n                      </p>\n                    </div>\n                  </div>\n\n                  <div class="form-section-title text-muted col-sm-12 my-8" style="width: 100%" ng-repeat-start="sc in ctrl.formValues.StorageClasses">\n                    <div style="border-bottom: 1px solid #cdcdcd; padding-bottom: 5px">\n                      <i class="fa fa-route" aria-hidden="true" style="margin-right: 2px"></i> {{ sc.Name }}\n                    </div>\n                  </div>\n\n                  <storage-class-switch value="sc.Selected" name="sc.Name" on-change="(ctrl.onToggleStorageQuota)" authorization="K8sResourcePoolDetailsW"></storage-class-switch>\n\n                  <div ng-repeat-end ng-if="sc.Selected">\n                    <div class="form-group" authorization="K8sResourcePoolDetailsW">\n                      <label class="control-label text-left col-sm-2"> Maximum usage </label>\n                      <div class="col-sm-8">\n                        <input\n                          type="number"\n                          class="form-control"\n                          name="storage_class_size_{{ $index }}"\n                          ng-model="sc.Size"\n                          placeholder="20"\n                          min="0"\n                          ng-min="0"\n                          required\n                          ng-change="ctrl.computeStorageQuotaUsage(sc)"\n                        />\n                      </div>\n                      <div class="col-sm-2">\n                        <select\n                          class="form-control"\n                          ng-model="sc.SizeUnit"\n                          ng-options="unit for unit in ctrl.state.availableSizeUnits"\n                          ng-change="ctrl.computeStorageQuotaUsage(sc)"\n                        ></select>\n                      </div>\n                    </div>\n\n                    <div class="form-group" ng-show="resourcePoolEditForm[\'storage_class_size_\' + $index].$invalid">\n                      <div class="col-sm-12 small text-warning">\n                        <div ng-messages="resourcePoolEditForm[\'storage_class_size_\' + $index].$error">\n                          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Size is required.</p>\n                          <p ng-message="number"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Invalid number.</p>\n                          <p ng-message="min"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This value must be greater than zero.</p>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class="form-group">\n                      <label class="col-sm-2 control-label text-left"> Quota usage </label>\n                      <div class="col-sm-10" style="margin-top: 4px">\n                        <uib-progressbar animate="false" value="sc.Usage" type="{{ sc.Usage | kubernetesUsageLevelInfo }}">\n                          <b style="white-space: nowrap"> {{ sc.Used.Size }} {{ sc.Used.SizeUnit }} / {{ sc.Size }} {{ sc.SizeUnit }} - {{ sc.Usage }}% </b>\n                        </uib-progressbar>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                \x3c!-- summary --\x3e\n                <kubernetes-summary-view\n                  ng-if="resourcePoolEditForm.$valid && !ctrl.isUpdateButtonDisabled()"\n                  form-values="ctrl.formValues"\n                  old-form-values="ctrl.savedFormValues"\n                ></kubernetes-summary-view>\n                \x3c!-- !summary --\x3e\n\n                \x3c!-- actions --\x3e\n                <div authorization="K8sResourcePoolDetailsW" class="col-sm-12 form-section-title"></div>\n                <div authorization="K8sResourcePoolDetailsW" class="form-group">\n                  <div class="col-sm-12">\n                    <button\n                      type="button"\n                      ng-if="!ctrl.isSystem"\n                      class="btn btn-primary btn-sm"\n                      ng-disabled="!resourcePoolEditForm.$valid || ctrl.isUpdateButtonDisabled()"\n                      ng-click="ctrl.updateResourcePool()"\n                      button-spinner="ctrl.state.actionInProgress"\n                    >\n                      <span ng-hide="ctrl.state.actionInProgress" data-cy="k8sNamespaceEdit-updateNamespaceButton">Update namespace</span>\n                      <span ng-show="ctrl.state.actionInProgress">...</span>\n                    </button>\n                    <button\n                      ng-if="!ctrl.isDefaultNamespace"\n                      type="button"\n                      class="btn btn-primary btn-sm"\n                      ng-click="ctrl.markUnmarkAsSystem()"\n                      button-spinner="ctrl.state.actionInProgress"\n                    >\n                      <span ng-if="ctrl.isSystem">Unmark as system</span>\n                      <span ng-if="!ctrl.isSystem">Mark as system</span>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !actions --\x3e\n              </form>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading>\n                <i class="fa fa-history space-right" aria-hidden="true"></i> Events\n                <div ng-if="ctrl.hasEventWarnings()">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="fa-history"\n                dataset="ctrl.events"\n                table-key="kubernetes.resourcepool.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              ></kubernetes-events-datatable>\n            </uib-tab>\n            <uib-tab index="2" ng-if="ctrl.pool.Yaml" select="ctrl.showEditor()" classes="btn-sm">\n              <uib-tab-heading> <i class="fa fa-code space-right" aria-hidden="true"></i> YAML </uib-tab-heading>\n              <div style="padding-right: 25px" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="resource-pool-yaml" data="ctrl.pool.Yaml"></kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.applications && ctrl.applications.length > 0">\n    <div class="col-sm-12">\n      <kubernetes-resource-pool-applications-datatable\n        dataset="ctrl.applications"\n        table-key="kubernetes.resourcepool.applications"\n        order-by="Name"\n        refresh-callback="ctrl.getApplications"\n        loading="ctrl.state.applicationsLoading"\n        title-text="Applications running in this namespace"\n        title-icon="fa-laptop-code"\n      >\n      </kubernetes-resource-pool-applications-datatable>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.ingresses && ctrl.ingresses.length > 0">\n    <div class="col-sm-12">\n      <kubernetes-resource-pool-ingresses-datatable\n        dataset="ctrl.ingresses"\n        table-key="kubernetes.resourcepool.ingresses"\n        order-by="Name"\n        refresh-callback="ctrl.getIngresses"\n        loading="ctrl.state.ingressesLoading"\n        title-text="Ingress routes and applications"\n        title-icon="fa-route"\n      >\n      </kubernetes-resource-pool-ingresses-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},78268:e=>{var t="app/kubernetes/views/resource-pools/resourcePools.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Namespace list" state="kubernetes.resourcePools" view-ready="ctrl.state.viewReady"> Namespaces </kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <kubernetes-resource-pools-datatable\n        dataset="ctrl.resourcePools"\n        table-key="kubernetes.resourcePools"\n        order-by="Namespace.Name"\n        remove-action="ctrl.removeAction"\n        refresh-callback="ctrl.getResourcePools"\n        data-cy="k8sNamespace-namespaceTable"\n      ></kubernetes-resource-pools-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},88336:e=>{var t="app/kubernetes/views/stacks/logs/logs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="Stacks logs" state="kubernetes.stacks.stack.logs" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a>\n  &gt; <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.state.transition.namespace })">{{ ctrl.state.transition.namespace }}</a> &gt;\n  <a ui-sref="kubernetes.applications">Applications</a> &gt; Stacks &gt; {{ ctrl.state.transition.name }} &gt; Logs\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady" style="height: 100%">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" autocomplete="off">\n            <div class="col-sm-12 form-section-title"></div>\n            \x3c!-- auto-refresh --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left">\n                  Auto-refresh\n                  <portainer-tooltip position="bottom" message="Automatically refresh logs every 30 seconds"></portainer-tooltip>\n                </label>\n                <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="ctrl.state.autoRefresh" ng-change="ctrl.updateAutoRefresh()" /><i></i> </label>\n              </div>\n            </div>\n            \x3c!-- !auto-refresh --\x3e\n            \x3c!-- search --\x3e\n            <div class="form-group">\n              <label for="logs_search" class="col-sm-1 control-label text-left">  </label>\n              <div class="col-sm-11">\n                <input\n                  class="form-control"\n                  type="text"\n                  name="logs_search"\n                  ng-model="ctrl.state.search"\n                  ng-change="ctrl.state.selectedLines.length = 0;"\n                  placeholder="..."\n                  auto-focus\n                />\n              </div>\n            </div>\n            \x3c!-- !search --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button class="btn btn-primary btn-sm" type="button" ng-click="ctrl.downloadLogs()" style="margin-left: 0"><i class="fa fa-download"></i> Download logs</button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" style="height: 54%">\n    <div class="col-sm-12" style="height: 100%">\n      <pre\n        class="log_viewer"\n      ><div ng-repeat="line in ctrl.state.filteredLogs = (ctrl.stackLogs | filter:ctrl.state.search) track by $index" class="line" ng-if="line"><p class="inner_line"><span ng-style="{\'color\': line.Color, \'font-weight\': \'bold\'};">{{ line.AppName }}</span> {{ line.Line }}</p></div><div ng-if="ctrl.stackLogs.length && !ctrl.state.filteredLogs.length" class="line"><p class="inner_line">No log line matching the \'{{ ctrl.state.search }}\' filter</p></div><div ng-if="ctrl.stackLogs.length === 0" class="line"><p class="inner_line">No logs available</p></div></pre>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},17648:e=>{var t="app/kubernetes/views/summary/summary.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div\n  class="col-xs-12 form-section-title interactive"\n  ng-click="$ctrl.toggleSummary()"\n  style="display: flex; justify-content: space-between"\n  ng-if="$ctrl.state.resources.length > 0"\n>\n  Summary\n  <span class="small space-left">\n    <a ng-if="!$ctrl.state.expandedTemplate"><i class="fa fa-angle-down" aria-hidden="true"></i> expand</a>\n    <a ng-if="$ctrl.state.expandedTemplate"><i class="fa fa-angle-up" aria-hidden="true"></i> collapse</a>\n  </span>\n</div>\n\n<div class="form-group" ng-if="$ctrl.state.expandedTemplate">\n  <div class="col-sm-12 small text-muted">\n    <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n    Portainer will execute the following Kubernetes actions.\n  </div>\n\n  <div class="col-sm-12 small text-muted" style="padding-top: 1em" ng-if="$ctrl.state.resources.length > 0">\n    <ul>\n      <li ng-repeat="summary in $ctrl.state.resources" ng-if="summary.action && summary.kind && summary.name">\n        {{ summary.action }}\n        {{ $ctrl.getArticle(summary.kind, summary.action) }}\n        <span class="bold">{{ summary.kind }}</span> named <code>{{ summary.name }}</code>\n        <span ng-if="summary.type">\n          of type <code>{{ summary.type }}</code></span\n        >\n      </li>\n      <li ng-if="$ctrl.state.limits.memory">\n        Set the memory resources limits and requests to <code>{{ $ctrl.state.limits.memory }}M</code>\n      </li>\n      <li ng-if="$ctrl.state.limits.cpu">\n        Set the CPU resources limits and requests to <code>{{ $ctrl.state.limits.cpu }}</code>\n      </li>\n    </ul>\n  </div>\n</div>\n')}]),e.exports=t},71894:e=>{var t="app/kubernetes/views/volumes/components/volumes-storages-datatable/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th style="width: 20px">\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th style="width: 60%">\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  Storage\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th style="width: 38%">\n                <a ng-click="$ctrl.changeOrderBy(\'Size\')">\n                  Usage\n                  <i class="fa fa-sort-numeric-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Size\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-numeric-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Size\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td>\n                <a ng-if="$ctrl.itemCanExpand(item)">\n                  <i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td>{{ item.Name }}</td>\n              <td>{{ item.Size }}</td>\n            </tr>\n            <tr\n              dir-paginate-end\n              ng-show="item.Expanded"\n              ng-repeat="vol in item.Volumes"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td></td>\n              <td>\n                <a ui-sref="kubernetes.volumes.volume({ name: vol.PersistentVolumeClaim.Name, namespace: vol.PersistentVolumeClaim.Namespace })">\n                  {{ vol.PersistentVolumeClaim.Name }}\n                </a>\n              </td>\n              <td>\n                {{ vol.PersistentVolumeClaim.Storage }}\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No storage available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},86604:e=>{var t="app/kubernetes/views/volumes/edit/volume.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="" state="kubernetes.volumes.volume" view-ready="ctrl.state.viewReady">\n  <a ui-sref="kubernetes.resourcePools">Namespaces</a> &gt;\n  <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.volume.ResourcePool.Namespace.Name })">{{ ctrl.volume.ResourcePool.Namespace.Name }}</a> &gt;\n  <a ui-sref="kubernetes.volumes"></a> &gt; {{ ctrl.volume.PersistentVolumeClaim.Name }}\n</kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading data-cy="k8sVolDetail-volTab"> <i class="fa fa-database space-right" aria-hidden="true"></i> Volume </uib-tab-heading>\n\n              <div style="padding: 20px">\n                <table class="table">\n                  <tbody>\n                    <tr>\n                      <td></td>\n                      <td data-cy="k8sVolDetail-volName">\n                        {{ ctrl.volume.PersistentVolumeClaim.Name }}\n                        <span class="label label-primary image-tag label-margins" ng-if="!ctrl.isSystemNamespace() && ctrl.isExternalVolume()">external</span>\n                        <span class="label label-warning image-tag label-margins" ng-if="!ctrl.isSystemNamespace() && !ctrl.isUsed()">unused</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Namespace</td>\n                      <td>\n                        <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.volume.ResourcePool.Namespace.Name })" data-cy="k8sVolDetail-volNamespace">{{\n                          ctrl.volume.ResourcePool.Namespace.\n                        }}</a>\n                        <span style="margin-left: 5px" class="label label-info image-tag" ng-if="ctrl.isSystemNamespace()">system</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Storage</td>\n                      <td data-cy="k8sVolDetail-volStorageClassname">{{ ctrl.volume.PersistentVolumeClaim.StorageClass.Name }}</td>\n                    </tr>\n                    <tr>\n                      <td>Shared Access Policy</td>\n                      <td data-cy="k8sVolDetail-volAccessPolicy"\n                        >{{ ctrl.state.volumeSharedAccessPolicy }}\n                        <portainer-tooltip\n                          position="bottom"\n                          ng-if="ctrl.state.volumeSharedAccessPolicyTooltip"\n                          message="{{ ctrl.state.volumeSharedAccessPolicyTooltip }}"\n                        ></portainer-tooltip\n                      ></td>\n                    </tr>\n                    <tr>\n                      <td>Provisioner</td>\n                      <td data-cy="k8sVolDetail-volProvisioner">{{\n                        ctrl.volume.PersistentVolumeClaim.StorageClass.Provisioner ? ctrl.volume.PersistentVolumeClaim.StorageClass.Provisioner : \'-\'\n                      }}</td>\n                    </tr>\n                    <tr>\n                      <td>Creation date</td>\n                      <td data-cy="k8sVolDetail-volCreatedAt">{{ ctrl.volume.PersistentVolumeClaim.CreationDate | getisodate }}</td>\n                    </tr>\n                    <tr>\n                      <td></td>\n                      <td ng-if="!ctrl.state.increaseSize">\n                        {{ ctrl.volume.PersistentVolumeClaim.Storage }}\n                        <button\n                          authorization="K8sVolumeDetailsW"\n                          type="button"\n                          class="btn btn-sm btn-primary"\n                          ng-click="ctrl.state.increaseSize = true"\n                          ng-if="ctrl.volume.PersistentVolumeClaim.StorageClass.AllowVolumeExpansion"\n                          data-cy="k8sVolDetail-increaseSizeButton"\n                          >Increase size</button\n                        >\n                      </td>\n                      <td ng-if="ctrl.state.increaseSize" authorization="K8sVolumeDetailsW">\n                        <form name="kubernetesVolumeUpdateForm">\n                          <div class="form-inline">\n                            <div class="input-group input-group-sm">\n                              <input\n                                type="number"\n                                class="form-control"\n                                name="size"\n                                ng-model="ctrl.state.volumeSize"\n                                placeholder="20"\n                                ng-min="0"\n                                min="0"\n                                ng-change="ctrl.onChangeSize()"\n                                required\n                                data-cy="k8sVolDetail-increaseSizeInput"\n                              />\n                              <span class="input-group-addon" style="padding: 0">\n                                <select\n                                  ng-model="ctrl.state.volumeSizeUnit"\n                                  ng-change="ctrl.onChangeSize()"\n                                  ng-options="unit for unit in ctrl.state.availableSizeUnits"\n                                  style="width: 100%; height: 100%"\n                                  data-cy="k8sVolDetail-increaseSizeUnits"\n                                ></select>\n                              </span>\n                            </div>\n                            <button\n                              type="button"\n                              class="btn btn-sm btn-primary"\n                              ng-disabled="!ctrl.sizeIsValid()"\n                              ng-click="ctrl.updateVolume()"\n                              data-cy="k8sVolDetail-updateSizeConfirm"\n                            >\n                              Update size\n                            </button>\n                            <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.state.increaseSize = false" data-cy="k8sVolDetail-cancelUpdateSize">\n                              \n                            </button>\n                          </div>\n\n                          <div class="form-inline">\n                            <div\n                              class="small text-warning"\n                              style="margin-top: 5px"\n                              ng-show="ctrl.state.errors.volumeSize || ctrl.state.errors.quotaExceeded || kubernetesVolumeUpdateForm.size.$invalid"\n                            >\n                              <div ng-messages="kubernetesVolumeUpdateForm.size.$error">\n                                <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                              </div>\n                              <p ng-show="ctrl.state.errors.volumeSize"\n                                ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> The new size must be greater than the actual size.</p\n                              >\n                              <p ng-show="ctrl.state.errors.quotaExceeded"\n                                ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> The new volume size cannot exceed\n                                {{ ctrl.state.quota.maxSize | kubernetesAppStorageRequestSizeHumanReadable }}</p\n                              >\n                            </div>\n                          </div>\n                        </form>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </uib-tab>\n\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading data-cy="k8sVolDetail-volEventsTab">\n                <i class="fa fa-history space-right" aria-hidden="true"></i> Events\n                <div ng-if="ctrl.hasEventWarnings()">\n                  <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="fa-history"\n                dataset="ctrl.events"\n                table-key="kubernetes.volume.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              >\n              </kubernetes-events-datatable>\n            </uib-tab>\n\n            <uib-tab index="2" ng-if="ctrl.volume.PersistentVolumeClaim.Yaml" select="ctrl.showEditor()" classes="btn-sm">\n              <uib-tab-heading data-cy="k8sVolDetail-volYamlTab"> <i class="fa fa-code space-right" aria-hidden="true"></i> YAML </uib-tab-heading>\n              <div style="padding-right: 25px" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="volume-yaml" data="ctrl.volume.PersistentVolumeClaim.Yaml"></kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.isUsed(item)">\n    <div class="col-sm-12">\n      <kubernetes-integrated-applications-datatable\n        dataset="ctrl.volume.Applications"\n        table-key="kubernetes.volume.applications"\n        order-by="Name"\n        refresh-callback="ctrl.getVolume"\n        title-text="Applications using this volume"\n        title-icon="fa-laptop-code"\n      >\n      </kubernetes-integrated-applications-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},44e3:e=>{var t="app/kubernetes/views/volumes/volumes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<kubernetes-view-header title="" state="kubernetes.volumes" view-ready="ctrl.state.viewReady"> Volumes </kubernetes-view-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading> <i class="fa fa-database space-right" aria-hidden="true"></i> Volumes</uib-tab-heading>\n              <kubernetes-volumes-datatable\n                dataset="ctrl.volumes"\n                table-key="kubernetes.volumes"\n                order-by="PersistentVolumeClaim.Name"\n                remove-action="ctrl.removeAction"\n                refresh-callback="ctrl.getVolumes"\n                data-cy="k8s-volumes-datatable"\n              >\n              </kubernetes-volumes-datatable>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading> <i class="fa fa-hdd space-right" aria-hidden="true"></i> Storage</uib-tab-heading>\n              <kubernetes-volumes-storages-datatable dataset="ctrl.storages" table-key="kubernetes.volumes.storages" order-by="Name" refresh-callback="ctrl.getVolumes">\n              </kubernetes-volumes-storages-datatable>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},4483:e=>{var t="app/portainer/components/BEFeatureIndicator/BEFeatureIndicator.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<a class="be-indicator" href="{{ $ctrl.url }}" target="_blank" rel="noopener" ng-if="$ctrl.limitedToBE">\n  <ng-transclude></ng-transclude>\n  <i class="fas fa-briefcase space-right be-indicator-icon"></i>\n  <span class="be-indicator-label"></span>\n</a>\n')}]),e.exports=t},65973:e=>{var t="app/portainer/components/PageHeader/HeaderContainer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row header">\n  <div id="loadingbar-placeholder"></div>\n  <div class="col-xs-12">\n    <div class="meta" ng-transclude></div>\n    <license-expiration-panel></license-expiration-panel>\n  </div>\n</div>\n')}]),e.exports=t},8019:e=>{var t="app/portainer/components/PageHeader/HeaderContent.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="breadcrumb-links">\n  <div class="pull-left" ng-transclude></div>\n  <div class="pull-right" ng-if="$ctrl.username">\n  <a class="fa fa-heartbeat space-right green-icon" href="https://jq.qq.com/?_wv=1027&k=5HqPeR7" target="_blank">: ysp</a> \n  <a ui-sref="portainer.account" style="margin-right: 5px">\n      <u><i class="fa fa-wrench" aria-hidden="true"></i>  </u>\n    </a>\n    <a ui-sref="portainer.logout({performApiLogout: true})" class="text-danger" style="margin-right: 25px" data-cy="template-logoutButton">\n      <u><i class="fa fa-sign-out-alt" aria-hidden="true"></i> </u>\n    </a>\n  </div>\n</div>\n')}]),e.exports=t},75014:e=>{var t="app/portainer/components/PageHeader/HeaderTitle.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="page white-space-normal">\n  {{ $ctrl.titleText }}\n  <span class="header_title_content" ng-transclude></span>\n  <span class="pull-right user-box" ng-if="$ctrl.username"> <i class="fa fa-user-circle" aria-hidden="true"></i> {{ $ctrl.username }} </span>\n</div>\n')}]),e.exports=t},54296:e=>{var t="app/portainer/components/access-datatable/accessDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-header icon="{{ $ctrl.titleIcon }}" title-text="{{ $ctrl.titleText }}"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar small" ng-if="$ctrl.inheritFrom">\n        Access tagged as <code>inherited</code> are inherited from the group access. They cannot be removed or modified at the environment level but they can be overriden.\n      </div>\n      <div class="toolBar small" ng-if="$ctrl.inheritFrom"> Access tagged as <code>override</code> are overriding the group access for the related users/teams. </div>\n      <div class="toolBar small" ng-if="$ctrl.showWarning">\n        <span class="text-warning">\n          <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n          Updating user access will require the affected user(s) to logout and login for the changes to be taken into account.\n        </span>\n      </div>\n      <div class="actionBar">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button\n          ng-if="$ctrl.isUpdateEnabled"\n          type="button"\n          class="btn btn-sm btn-primary"\n          ng-disabled="($ctrl.dataset | filter:{ Updated: true}).length === 0 "\n          ng-click="$ctrl.updateAction()"\n        >\n          <i class="fa fa-check space-right" aria-hidden="true"></i>Update\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Type\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.showRoles">\n                <a ng-click="$ctrl.changeOrderBy(\'RoleName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'RoleName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'RoleName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-disabled="$ctrl.disableRemove(item)" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.Name }}\n                <span ng-if="$ctrl.inheritFrom && item.Inherited" class="text-muted small" style="margin-left: 2px"><code style="font-size: 85% !important">inherited</code></span>\n                <span ng-if="$ctrl.inheritFrom && item.Override" class="text-muted small" style="margin-left: 2px"><code style="font-size: 85% !important">override</code></span>\n              </td>\n              <td>{{ item.Type }}</td>\n              <td ng-if="$ctrl.showRoles">\n                <span ng-if="!item.Updated">\n                  {{ item.Role.Name }}\n                  <a ng-if="!item.Inherited" class="interactive" ng-click="item.Updated = true; item.OldRole = item.Role; $event.stopPropagation();">\n                    <i class="fa fa-edit" aria-hidden="true"></i> Edit\n                  </a>\n                </span>\n                <span ng-if="item.Updated">\n                  <select ng-model="item.Role" ng-options="role.Name for role in $ctrl.roles"> </select>\n                  <a class="interactive" ng-click="item.Updated = false; item.Role = item.OldRole; item.OldRole = null; $event.stopPropagation();"><i class="fa fa-times"></i></a>\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No authorized users or teams.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},9420:e=>{var t="app/portainer/components/access-table/accessTable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <table class="table table-hover">\n    <div class="col-sm-12">\n      <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n      <input\n        type="text"\n        class="searchInput"\n        ng-model="$ctrl.state.textFilter"\n        ng-change="$ctrl.onTextFilterChange()"\n        placeholder="..."\n        ng-model-options="{ debounce: 300 }"\n      />\n    </div>\n    <thead>\n      <tr>\n        <th>\n          <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n            \n            <span ng-show="$ctrl.state.orderBy == \'Name\' && !$ctrl.state.reverseOrder" class="glyphicon glyphicon-chevron-down"></span>\n            <span ng-show="$ctrl.state.orderBy == \'Name\' && $ctrl.state.reverseOrder" class="glyphicon glyphicon-chevron-up"></span>\n          </a>\n        </th>\n        <th>\n          <a ng-click="$ctrl.changeOrderBy(\'Type\')">\n            \n            <span ng-show="$ctrl.state.orderBy == \'Type\' && !$ctrl.state.reverseOrder" class="glyphicon glyphicon-chevron-down"></span>\n            <span ng-show="$ctrl.state.orderBy == \'Type\' && $ctrl.state.reverseOrder" class="glyphicon glyphicon-chevron-up"></span>\n          </a>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        ng-click="!item.Inherited && $ctrl.entryClick(item)"\n        ng-class="{ interactive: !item.Inherited }"\n        dir-paginate="item in $ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit"\n      >\n        <td>\n          {{ item.Name }}\n          \x3c!-- <span class="image-tag label label-">inherited</span> --\x3e\n          <span ng-if="item.Inherited" class="text-muted small" style="margin-left: 2px"><code style="font-size: 85% !important">inherited</code></span>\n        </td>\n        <td>\n          <i class="fa" ng-class="item.Type === \'user\' ? \'fa-user\' : \'fa-users\'" aria-hidden="true" style="margin-right: 2px"></i>\n          {{ item.Type }}\n        </td>\n      </tr>\n      <tr ng-if="!$ctrl.dataset">\n        <td colspan="2" class="text-center text-muted">...</td>\n      </tr>\n      <tr\n        ng-if="\n          $ctrl.dataset.length === 0 ||\n          ($ctrl.dataset | filter: $ctrl.state.textFilter | orderBy: $ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit).length === 0\n        "\n      >\n        <td colspan="2" class="text-center text-muted">{{ $ctrl.emptyDatasetMessage }}</td>\n      </tr>\n    </tbody>\n  </table>\n  <div class="footer" ng-if="$ctrl.dataset">\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px">  </span>\n          <select ng-model="$ctrl.state.paginatedItemLimit">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},62495:e=>{var t="app/portainer/components/accessControlForm/porAccessControlForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div ng-if="!$ctrl.hideTitle" class="col-sm-12 form-section-title">  </div>\n  \x3c!-- access-control-switch --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <label for="ownership" class="control-label text-left">\n        \n        <portainer-tooltip position="bottom" message=""></portainer-tooltip>\n      </label>\n      <label class="switch" style="margin-left: 20px"> <input name="ownership" type="checkbox" ng-model="$ctrl.formData.AccessControlEnabled" /><i></i> </label>\n    </div>\n  </div>\n  \x3c!-- !access-control-switch --\x3e\n  \x3c!-- restricted-access --\x3e\n  <div class="form-group" ng-if="$ctrl.formData.AccessControlEnabled" style="margin-bottom: 0">\n    <div class="boxselector_wrapper">\n      <div ng-if="$ctrl.isAdmin">\n        <input type="radio" id="access_administrators" ng-model="$ctrl.formData.Ownership" value="administrators" />\n        <label for="access_administrators">\n          <div class="boxselector_header">\n            <i ng-class="\'administrators\' | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n            Administrators\n          </div>\n          <p></p>\n        </label>\n      </div>\n      <div ng-if="$ctrl.isAdmin">\n        <input type="radio" id="access_restricted" ng-model="$ctrl.formData.Ownership" value="restricted" />\n        <label for="access_restricted">\n          <div class="boxselector_header">\n            <i ng-class="\'restricted\' | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n            Restricted\n          </div>\n          <p> / </p>\n        </label>\n      </div>\n      <div ng-if="!$ctrl.isAdmin">\n        <input type="radio" id="access_private" ng-model="$ctrl.formData.Ownership" value="private" />\n        <label for="access_private">\n          <div class="boxselector_header">\n            <i ng-class="\'private\' | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n            Private\n          </div>\n          <p> I want to this resource to be manageable by myself only </p>\n        </label>\n      </div>\n      <div ng-if="!$ctrl.isAdmin && $ctrl.availableTeams.length > 0">\n        <input type="radio" id="access_restricted" ng-model="$ctrl.formData.Ownership" value="restricted" />\n        <label for="access_restricted">\n          <div class="boxselector_header">\n            <i ng-class="\'restricted\' | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n            Restricted\n          </div>\n          <p ng-if="$ctrl.availableTeams.length === 1">\n            (<b>{{ $ctrl.availableTeams[0].Name }}</b\n            >) \n          </p>\n          <p ng-if="$ctrl.availableTeams.length > 1">  </p>\n        </label>\n      </div>\n    </div>\n  </div>\n  \x3c!-- restricted-access --\x3e\n  \x3c!-- authorized-teams --\x3e\n  <div\n    class="form-group"\n    ng-if="$ctrl.formData.AccessControlEnabled && $ctrl.formData.Ownership === $ctrl.RCO.RESTRICTED && ($ctrl.isAdmin || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1))"\n  >\n    <div class="col-sm-12">\n      <label for="group-access" class="control-label text-left">\n        \n        <portainer-tooltip\n          ng-if="$ctrl.isAdmin && $ctrl.availableTeams.length > 0"\n          position="bottom"\n          message=""\n        ></portainer-tooltip>\n        <portainer-tooltip\n          ng-if="!$ctrl.isAdmin && $ctrl.availableTeams.length > 1"\n          position="bottom"\n          message=""\n        ></portainer-tooltip>\n      </label>\n      <span ng-if="$ctrl.isAdmin && $ctrl.availableTeams.length === 0" class="small text-muted" style="margin-left: 20px">\n          <a ui-sref="portainer.teams"></a> \n      </span>\n      <span\n        isteven-multi-select\n        ng-if="($ctrl.isAdmin && $ctrl.availableTeams.length > 0) || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1)"\n        input-model="$ctrl.availableTeams"\n        output-model="$ctrl.formData.AuthorizedTeams"\n        button-label="Name"\n        item-label="Name"\n        tick-property="selected"\n        helper-elements="filter"\n        search-property="Name"\n        translation="{nothingSelected: \'\', search: \'...\'}"\n        style="margin-left: 20px"\n      >\n      </span>\n    </div>\n  </div>\n  \x3c!-- !authorized-teams --\x3e\n  \x3c!-- authorized-users --\x3e\n  <div class="form-group" ng-if="$ctrl.formData.AccessControlEnabled && $ctrl.formData.Ownership === $ctrl.RCO.RESTRICTED && $ctrl.isAdmin">\n    <div class="col-sm-12">\n      <label for="group-access" class="control-label text-left">\n        \n        <portainer-tooltip\n          ng-if="$ctrl.isAdmin && $ctrl.availableUsers.length > 0"\n          position="bottom"\n          message=""\n        ></portainer-tooltip>\n      </label>\n      <span ng-if="$ctrl.availableUsers.length === 0" class="small text-muted" style="margin-left: 20px">\n          <a ui-sref="portainer.users"></a> \n      </span>\n      <span\n        isteven-multi-select\n        ng-if="$ctrl.availableUsers.length > 0"\n        input-model="$ctrl.availableUsers"\n        output-model="$ctrl.formData.AuthorizedUsers"\n        button-label="Username"\n        item-label="Username"\n        tick-property="selected"\n        helper-elements="filter"\n        search-property="Username"\n        translation="{nothingSelected: \'\', search: \'...\'}"\n        style="margin-left: 20px"\n      >\n      </span>\n    </div>\n  </div>\n  \x3c!-- !authorized-users --\x3e\n</div>\n')}]),e.exports=t},12130:e=>{var t="app/portainer/components/accessControlPanel/porAccessControlPanel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12" ng-if="$ctrl.state.displayAccessControlPanel">\n    <rd-widget>\n      <rd-widget-header icon="fa-eye" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            \x3c!-- ownership --\x3e\n            <tr>\n              <td></td>\n              <td>\n                <i ng-class="$ctrl.resourceControl.Ownership | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n                <span ng-if="!$ctrl.resourceControl">\n                  administrators\n                  <portainer-tooltip message="" position="bottom" style="margin-left: -3px"></portainer-tooltip>\n                </span>\n                <span ng-if="$ctrl.resourceControl">\n                  {{ $ctrl.resourceControl.Ownership }}\n                  <portainer-tooltip\n                    ng-if="$ctrl.resourceControl.Ownership === $ctrl.RCO.PUBLIC"\n                    message=""\n                    position="bottom"\n                    style="margin-left: -3px"\n                  ></portainer-tooltip>\n                  <portainer-tooltip\n                    ng-if="$ctrl.resourceControl.Ownership === $ctrl.RCO.PRIVATE"\n                    message=""\n                    position="bottom"\n                    style="margin-left: -3px"\n                  ></portainer-tooltip>\n                  <portainer-tooltip\n                    ng-if="$ctrl.resourceControl.Ownership === $ctrl.RCO.RESTRICTED"\n                    message="/"\n                    position="bottom"\n                    style="margin-left: -3px"\n                  ></portainer-tooltip>\n                </span>\n              </td>\n            </tr>\n            \x3c!-- !ownership --\x3e\n            <tr ng-if="$ctrl.resourceControl.Type === $ctrl.RCTI.SERVICE && $ctrl.resourceType === $ctrl.RCTS.CONTAINER">\n              <td colspan="2">\n                <i class="fa fa-info-circle" aria-hidden="true" style="margin-right: 2px"></i>\n                \n                <a ui-sref="docker.services.service({ id: $ctrl.resourceControl.ResourceId })">{{ $ctrl.resourceControl.ResourceId | truncate }}</a>\n                <portainer-tooltip\n                  message=""\n                  position="bottom"\n                  style="margin-left: 2px"\n                ></portainer-tooltip>\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.resourceControl.Type === $ctrl.RCTI.CONTAINER && $ctrl.resourceType === $ctrl.RCTS.VOLUME">\n              <td colspan="2">\n                <i class="fa fa-info-circle" aria-hidden="true" style="margin-right: 2px"></i>\n                Access control on this resource is inherited from the following container:\n                <a ui-sref="docker.containers.container({ id: $ctrl.resourceControl.ResourceId })">{{ $ctrl.resourceControl.ResourceId | truncate }}</a>\n                <portainer-tooltip\n                  message=""\n                  position="bottom"\n                  style="margin-left: 2px"\n                ></portainer-tooltip>\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.resourceControl.Type === $ctrl.RCTI.STACK && $ctrl.resourceType !== $ctrl.RCTS.STACK">\n              <td colspan="2">\n                <i class="fa fa-info-circle" aria-hidden="true" style="margin-right: 2px"></i>\n                Access control on this resource is inherited from the following stack: {{ $ctrl.resourceControl.ResourceId }}\n                <portainer-tooltip\n                  message=""\n                  position="bottom"\n                  style="margin-left: 2px"\n                ></portainer-tooltip>\n              </td>\n            </tr>\n            \x3c!-- authorized-users --\x3e\n            <tr ng-if="$ctrl.resourceControl.UserAccesses.length > 0">\n              <td></td>\n              <td>\n                <span ng-repeat="user in $ctrl.authorizedUsers">{{ user.Username }}{{ $last ? \'\' : \', \' }} </span>\n              </td>\n            </tr>\n            \x3c!-- !authorized-users --\x3e\n            \x3c!-- authorized-teams --\x3e\n            <tr ng-if="$ctrl.resourceControl.TeamAccesses.length > 0">\n              <td></td>\n              <td>\n                <span ng-repeat="team in $ctrl.authorizedTeams">{{ team.Name }}{{ $last ? \'\' : \', \' }} </span>\n              </td>\n            </tr>\n            \x3c!-- !authorized-teams --\x3e\n            \x3c!-- edit-ownership --\x3e\n            <tr ng-if="$ctrl.canEditOwnership();">\n              <td colspan="2">\n                <a ng-click="$ctrl.state.editOwnership = true"><i class="fa fa-edit space-right" aria-hidden="true"></i></a>\n              </td>\n            </tr>\n            \x3c!-- !edit-ownership --\x3e\n            \x3c!-- edit-ownership-choices --\x3e\n            <tr ng-if="$ctrl.state.editOwnership">\n              <td colspan="2" style="white-space: inherit">\n                <div class="boxselector_wrapper">\n                  <div ng-if="$ctrl.isAdmin">\n                    <input type="radio" id="access_administrators" ng-model="$ctrl.formValues.Ownership" ng-value="$ctrl.RCO.ADMINISTRATORS" />\n                    <label for="access_administrators">\n                      <div class="boxselector_header">\n                        <i ng-class="\'administrators\' | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n                        Administrators\n                      </div>\n                      <p></p>\n                    </label>\n                  </div>\n                  <div ng-if="$ctrl.isAdmin">\n                    <input type="radio" id="access_restricted" ng-model="$ctrl.formValues.Ownership" ng-value="$ctrl.RCO.RESTRICTED" />\n                    <label for="access_restricted">\n                      <div class="boxselector_header">\n                        <i ng-class="\'restricted\' | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n                        Restricted\n                      </div>\n                      <p> / </p>\n                    </label>\n                  </div>\n                  <div ng-if="!$ctrl.isAdmin && $ctrl.state.canChangeOwnershipToTeam && $ctrl.availableTeams.length > 0">\n                    <input type="radio" id="access_restricted" ng-model="$ctrl.formValues.Ownership" ng-value="$ctrl.RCO.RESTRICTED" />\n                    <label for="access_restricted">\n                      <div class="boxselector_header">\n                        <i ng-class="\'restricted\' | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n                        Restricted\n                      </div>\n                      <p ng-if="$ctrl.availableTeams.length === 1">\n                         (<b>{{ $ctrl.availableTeams[0].Name }}</b\n                        >) \n                      </p>\n                      <p ng-if="$ctrl.availableTeams.length > 1">  </p>\n                    </label>\n                  </div>\n                  <div>\n                    <input type="radio" id="access_public" ng-model="$ctrl.formValues.Ownership" ng-value="$ctrl.RCO.PUBLIC" />\n                    <label for="access_public">\n                      <div class="boxselector_header">\n                        <i ng-class="\'public\' | ownershipicon" aria-hidden="true" style="margin-right: 2px"></i>\n                        Public\n                      </div>\n                      <p></p>\n                    </label>\n                  </div>\n                </div>\n              </td>\n            </tr>\n            \x3c!-- edit-ownership-choices --\x3e\n            \x3c!-- select-teams --\x3e\n            <tr ng-if="$ctrl.state.editOwnership && $ctrl.formValues.Ownership === $ctrl.RCO.RESTRICTED && ($ctrl.isAdmin || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1))">\n              <td colspan="2">\n                <span></span>\n                <span ng-if="$ctrl.isAdmin && $ctrl.availableTeams.length === 0" class="small text-muted" style="margin-left: 10px">\n                    <a ui-sref="portainer.teams"></a> \n                </span>\n                <span\n                  isteven-multi-select\n                  ng-if="($ctrl.isAdmin && $ctrl.availableTeams.length > 0) || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1)"\n                  input-model="$ctrl.availableTeams"\n                  output-model="$ctrl.formValues.Ownership_Teams"\n                  button-label="Name"\n                  item-label="Name"\n                  tick-property="selected"\n                  helper-elements="filter"\n                  search-property="Name"\n                  max-labels="3"\n                  translation="{nothingSelected: \'\', search: \'...\'}"\n                >\n                </span>\n              </td>\n            </tr>\n            \x3c!-- !select-teams --\x3e\n            \x3c!-- select-users --\x3e\n            <tr ng-if="$ctrl.isAdmin && $ctrl.state.editOwnership && $ctrl.formValues.Ownership === $ctrl.RCO.RESTRICTED">\n              <td colspan="2">\n                <span>Users</span>\n                <span ng-if="$ctrl.availableUsers.length === 0" class="small text-muted" style="margin-left: 10px">\n                    <a ui-sref="portainer.users"></a> \n                </span>\n                <span\n                  isteven-multi-select\n                  ng-if="$ctrl.availableUsers.length > 0"\n                  input-model="$ctrl.availableUsers"\n                  output-model="$ctrl.formValues.Ownership_Users"\n                  button-label="Username"\n                  item-label="Username"\n                  tick-property="selected"\n                  helper-elements="filter"\n                  search-property="Username"\n                  max-labels="3"\n                  translation="{nothingSelected: \'\', search: \'...\'}"\n                >\n                </span>\n              </td>\n            </tr>\n            \x3c!-- !select-users --\x3e\n            \x3c!-- ownership-actions --\x3e\n            <tr ng-if="$ctrl.state.editOwnership">\n              <td colspan="2">\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.state.editOwnership = false"></a>\n                  <a type="button" class="btn btn-primary btn-sm" ng-click="$ctrl.confirmUpdateOwnership()"></a>\n                  <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">{{ $ctrl.state.formValidationError }}</span>\n                </div>\n              </td>\n            </tr>\n            \x3c!-- !ownership-actions --\x3e\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},78049:e=>{var t="app/portainer/components/accessManagement/por-access-management-users-selector/por-access-management-users-selector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <label class="col-sm-3 col-lg-2 control-label text-left"> Select user(s) and/or team(s) </label>\n  <div class="col-sm-9 col-lg-4">\n    <span class="small text-muted" ng-if="$ctrl.options.length === 0"> No users or teams available. </span>\n    <span\n      isteven-multi-select\n      ng-if="$ctrl.options.length > 0"\n      input-model="$ctrl.options"\n      output-model="$ctrl.value"\n      button-label="icon Name"\n      item-label="icon Name"\n      tick-property="ticked"\n      helper-elements="filter"\n      search-property="Name"\n      translation="{nothingSelected: \' and/or teams\', search: \'...\'}"\n      data-cy="component-selectUser"\n    >\n    </span>\n  </div>\n</div>\n')}]),e.exports=t},63185:e=>{var t="app/portainer/components/accessManagement/porAccessManagement.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget ng-if="ctrl.availableUsersAndTeams && ctrl.accessControlledEntity">\n      <rd-widget-header icon="fa-user-lock" title-text="Create access"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div ng-if="ctrl.entityType !== \'registry\'" class="form-group">\n            <span class="col-sm-12 small text-warning">\n              <p>\n                <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                Adding user access will require the affected user(s) to logout and login for the changes to be taken into account.\n              </p>\n            </span>\n          </div>\n\n          <por-access-management-users-selector options="ctrl.availableUsersAndTeams" value="ctrl.formValues.multiselectOutput"></por-access-management-users-selector>\n\n          <div class="form-group" ng-if="ctrl.entityType !== \'registry\'">\n            <label class="col-sm-3 col-lg-2 control-label text-left"> Role </label>\n            <div class="col-sm-9 col-lg-6">\n              <div class="flex items-center">\n                <select\n                  class="form-control"\n                  ng-model="ctrl.formValues.selectedRole"\n                  ng-options="role as ctrl.roleLabel(role) disable when ctrl.isRoleLimitedToBE(role) for role in ctrl.roles"\n                >\n                </select>\n                <be-feature-indicator feature="ctrl.limitedFeature" class="space-left"></be-feature-indicator>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="(ctrl.availableUsersAndTeams | filter:{ticked:true}).length === 0 || ctrl.actionInProgress"\n                ng-click="ctrl.authorizeAccess()"\n                button-spinner="ctrl.actionInProgress"\n                data-cy="access-createAccess"\n              >\n                <span ng-hide="ctrl.state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Create access</span>\n                <span ng-show="ctrl.state.actionInProgress">Creating access...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row">\n  <div class="col-sm-12">\n    <access-datatable\n      ng-if="ctrl.authorizedUsersAndTeams"\n      title-text="Access"\n      title-icon="fa-user-lock"\n      table-key="{{ \'access_\' + ctrl.entityType }}"\n      order-by="Name"\n      show-warning="ctrl.entityType !== \'registry\'"\n      is-update-enabled="ctrl.entityType !== \'registry\'"\n      show-roles="ctrl.entityType !== \'registry\'"\n      roles="ctrl.roles"\n      inherit-from="ctrl.inheritFrom"\n      dataset="ctrl.authorizedUsersAndTeams"\n      update-action="ctrl.updateAction"\n      remove-action="ctrl.unauthorizeAccess"\n    >\n    </access-datatable>\n  </div>\n</div>\n')}]),e.exports=t},3401:e=>{var t="app/portainer/components/associated-endpoints-selector/associatedEndpointsSelector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 small text-muted">\n  You can select which environment should be part of this group by moving them to the associated environments table. Simply click on any environment entry to move it from one table\n  to the other.\n</div>\n<div class="col-sm-12" style="margin-top: 20px">\n  \x3c!-- available-endpoints --\x3e\n  <div class="col-sm-6">\n    <div class="text-center small text-muted">Available environments</div>\n    <div style="margin-top: 10px">\n      <group-association-table\n        loaded="$ctrl.loaded"\n        page-type="$ctrl.pageType"\n        table-type="available"\n        retrieve-page="$ctrl.getPaginatedEndpoints"\n        dataset="$ctrl.endpoints.available"\n        entry-click="$ctrl.associateEndpoint"\n        pagination-state="$ctrl.state.available"\n        empty-dataset-message="No environment available"\n        tags="$ctrl.tags"\n        show-tags="true"\n        groups="$ctrl.groups"\n        show-groups="true"\n        has-backend-pagination="true"\n        data-cy="edgeGroupCreate-availableEndpoints"\n      ></group-association-table>\n    </div>\n  </div>\n  \x3c!-- !available-endpoints --\x3e\n  \x3c!-- associated-endpoints --\x3e\n  <div class="col-sm-6">\n    <div class="text-center small text-muted">Associated environments</div>\n    <div style="margin-top: 10px">\n      <group-association-table\n        loaded="$ctrl.loaded"\n        page-type="$ctrl.pageType"\n        table-type="associated"\n        retrieve-page="$ctrl.getPaginatedEndpoints"\n        dataset="$ctrl.endpoints.associated"\n        entry-click="$ctrl.dissociateEndpoint"\n        pagination-state="$ctrl.state.associated"\n        empty-dataset-message="No associated environment"\n        tags="$ctrl.tags"\n        show-tags="true"\n        groups="$ctrl.groups"\n        show-groups="true"\n        has-backend-pagination="true"\n        data-cy="edgeGroupCreate-associatedEndpoints"\n      ></group-association-table>\n    </div>\n  </div>\n  \x3c!-- !associated-endpoints --\x3e\n</div>\n')}]),e.exports=t},78254:e=>{var t="app/portainer/components/beta-panel/betaPanel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<information-panel title-text="Information">\n  <span class="small">\n    <p class="text-muted">\n      <i class="fa fa-flask orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      This is a beta feature.\n    </p>\n  </span>\n</information-panel>\n')}]),e.exports=t},98778:e=>{var t="app/portainer/components/code-editor/codeEditor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<textarea id="{{ $ctrl.identifier }}" class="form-control" placeholder="{{ $ctrl.placeholder }}"></textarea>\n')}]),e.exports=t},18164:e=>{var t="app/portainer/components/copy-button/copy-button.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span>\n  <button type="button" class="btn btn-link nopadding" ng-click="$ctrl.copyValueText()" title="Copy Value"> <i class="fa fa-copy"></i> Copy </button>\n  <span ng-class="{ \'copy-button-fadeout\': $ctrl.state.isFading }" class="copy-button-copy-text"> <i class="fa fa-check" aria-hidden="true"></i> copied </span>\n</span>\n')}]),e.exports=t},48794:e=>{var t="app/portainer/components/custom-template-common-fields/customTemplateCommonFields.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="commonCustomTemplateForm">\n  \x3c!-- title-input --\x3e\n  <div class="form-group">\n    <label for="template_title" class="col-sm-3 col-lg-2 control-label text-left">  </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        ng-model="$ctrl.formValues.Title"\n        ng-pattern="$ctrl.nameRegex"\n        id="template_title"\n        name="template_title"\n        placeholder=" mytemplate"\n        auto-focus\n        required\n      />\n    </div>\n  </div>\n  <div class="form-group" ng-show="commonCustomTemplateForm.template_title.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="commonCustomTemplateForm.template_title.$error">\n        <p ng-message="pattern">\n          <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n          <span>This field must consist of lower case alphanumeric characters, \'_\' or \'-\' ( \'my-name\', or \'abc-123\').</span>\n        </p>\n      </div>\n    </div>\n  </div>\n  <div class="form-group" ng-show="commonCustomTemplateForm.template_title.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="commonCustomTemplateForm.template_title.$error">\n        <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> .</p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !title-input --\x3e\n\n  \x3c!-- description-input --\x3e\n  <div class="form-group">\n    <label for="description" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="description" ng-model="$ctrl.formValues.Description" name="description" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="commonCustomTemplateForm.description.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="commonCustomTemplateForm.description.$error">\n        <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> .</p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !description-input --\x3e\n\n  \x3c!-- note-input --\x3e\n  <div class="form-group">\n    <label for="note" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="note" ng-model="$ctrl.formValues.Note" />\n    </div>\n  </div>\n  \x3c!-- !note-input --\x3e\n\n  \x3c!-- icon-url-input --\x3e\n  <div class="form-group">\n    <label for="icon-url" class="col-sm-3 col-lg-2 control-label text-left">Icon URL</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="icon-url" ng-model="$ctrl.formValues.Logo" />\n    </div>\n  </div>\n  \x3c!-- !icon-url-input --\x3e\n\n  \x3c!-- platform-input --\x3e\n  <div ng-if="$ctrl.showPlatformField" class="form-group">\n    <label for="platform" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <select class="form-control" ng-model="$ctrl.formValues.Platform" ng-options="+(opt.value) as opt.label for opt in $ctrl.platformTypes"> </select>\n    </div>\n  </div>\n  \x3c!-- !platform-input --\x3e\n\n  \x3c!-- platform-input --\x3e\n  <div ng-if="$ctrl.showTypeField" class="form-group">\n    <label for="platform" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <select class="form-control" ng-model="$ctrl.formValues.Type" ng-options="+(opt.value) as opt.label for opt in $ctrl.templateTypes"> </select>\n    </div>\n  </div>\n  \x3c!-- !platform-input --\x3e\n</ng-form>\n')}]),e.exports=t},43921:e=>{var t="app/portainer/components/custom-template-selector/custom-template-selector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div class="form-group">\n    <label for="stack_template" class="col-sm-1 control-label text-left"> Template </label>\n    <div class="col-sm-11">\n      <select\n        ng-if="$ctrl.templates.length"\n        class="form-control"\n        ng-model="$ctrl.value"\n        ng-options="template.Id as template.label for template in $ctrl.templates"\n        ng-change="$ctrl.handleChangeTemplate($ctrl.value)"\n      >\n        <option value="" label="Select a Custom template" disabled selected="selected"> </option>\n      </select>\n      <span ng-if="!$ctrl.templates.length"> No custom templates are available. Head over to the <a ui-state="$ctrl.newTemplatePath">custom template view</a> to create one. </span>\n    </div>\n  </div>\n\n  \x3c!-- description --\x3e\n  <div ng-if="$ctrl.selectedTemplate.note">\n    <div class="col-sm-12 form-section-title"> Information </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <div class="template-note" ng-bind-html="$ctrl.selectedTemplate.note"></div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !description --\x3e\n</div>\n')}]),e.exports=t},81704:e=>{var t="app/portainer/components/custom-templates-list/customTemplatesList.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button type="button" class="btn btn-sm btn-primary" ui-state="$ctrl.createPath"> <i class="fa fa-plus space-right" aria-hidden="true"></i> </button>\n      </div>\n\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n\n      <div class="blocklist">\n        <template-item\n          ng-repeat="template in $ctrl.templates | filter:$ctrl.state.textFilter"\n          model="template"\n          type-label="{{ $ctrl.typeLabel(template.Type) }}"\n          on-select="($ctrl.onSelectClick)"\n        >\n          <template-item-actions>\n            <div ng-if="$ctrl.isEditAllowed(template)" style="display: flex">\n              <a ui-state="$ctrl.editPath" ui-state-params="{id: template.Id}" ng-click="$event.stopPropagation();" class="btn btn-primary btn-xs" style="margin-right: 10px">\n                Edit\n              </a>\n              <button class="btn btn-danger btn-xs" ng-click="$ctrl.onDeleteClick(template.Id); $event.stopPropagation();">Delete</button>\n            </div>\n          </template-item-actions>\n        </template-item>\n        <div ng-if="!$ctrl.templates" class="text-center text-muted"> ... </div>\n        <div ng-if="($ctrl.templates | filter: $ctrl.state.textFilter).length === 0" class="text-center text-muted">  </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},24122:e=>{var t="app/portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable" style="margin-top: 25px">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button\n          ng-if="!$ctrl.endpointType"\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="portainer.account.new-access-token">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'description\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'description\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'description\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'prefix\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'prefix\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'prefix\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'dateCreated\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'dateCreated\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'dateCreated\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'lastUsed\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'lastUsed\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'lastUsed\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.description }}\n              </td>\n              <td>\n                {{ item.prefix }}\n              </td>\n              <td>\n                {{ item.dateCreated | getisodatefromtimestamp }}\n              </td>\n              <td>\n                <span ng-if="item.lastUsed > 0">{{ item.lastUsed | getisodatefromtimestamp }}</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},58430:e=>{var t="app/portainer/components/datatables/datatable-columns-visibility/datatable-columns-visibility.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span class="setting" ng-class="{ \'setting-active\': $ctrl.state.isOpen }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.state.isOpen">\n  <span uib-dropdown-toggle><i class="fa fa-columns space-right" aria-hidden="true"></i></span>\n  <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n    <div class="tableMenu">\n      <div class="menuHeader"> / </div>\n      <div class="menuContent">\n        <div class="md-checkbox" ng-repeat="(key, value) in $ctrl.columns">\n          <input id="col_vis_{{::key}}" ng-change="$ctrl.onChange($ctrl.columns)" type="checkbox" ng-model="value.display" />\n          <label for="col_vis_{{::key}}">{{ value.label }}</label>\n        </div>\n      </div>\n      <div>\n        <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.state.isOpen = false;"></a>\n      </div>\n    </div>\n  </div>\n</span>\n')}]),e.exports=t},75970:e=>{var t="app/portainer/components/datatables/endpoints-datatable/endpointsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="endpoint-removeEndpointButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="portainer.endpoints.new" data-cy="endpoint-addEndpointButton">\n          <i class="fa fa-plus-circle space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          auto-focus\n          placeholder="..."\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          ng-model-options="{ debounce: 300 }"\n          data-cy="endpoint-searchInput"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="endpoint-endpointTable">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Type\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'URL\')">\n                  URL\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'URL\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'URL\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'GroupName\')">\n                  Group\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'GroupName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'GroupName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in $ctrl.state.filteredDataSet | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit"\n              total-items="$ctrl.state.totalFilteredDataSet"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.endpoints.endpoint({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>\n                <span>\n                  <i ng-class="item.Type | endpointtypeicon" aria-hidden="true" style="margin-right: 2px"></i>\n                  {{ item.Type | endpointtypename }}\n                </span>\n              </td>\n              <td>\n                <span ng-if="item.Type !== 4">{{ item.URL | stripprotocol }}</span>\n                <span ng-if="item.Type === 4">-</span>\n              </td>\n              <td>{{ item.GroupName }}</td>\n              <td>\n                <a ui-sref="portainer.endpoints.endpoint.access({id: item.Id})"> <i class="fa fa-users" aria-hidden="true"></i> Manage access </a>\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.state.loading">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No environment available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="!$ctrl.state.loading">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" on-page-change="$ctrl.onPageChange(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},29656:e=>{var t="app/portainer/components/datatables/filter/datatable-filter.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div uib-dropdown dropdown-append-to-body auto-close="outsideClick" is-open="$ctrl.isOpen">\n  <span ng-transclude></span>\n  <div class="filter-button">\n    <span uib-dropdown-toggle class="table-filter" ng-class="{ \'filter-active\': $ctrl.isEnabled() }">\n      \n      <i class="fa" ng-class="[$ctrl.isEnabled() ? \'fa-check\' : \'fa-filter\']" aria-hidden="true"></i>\n    </span>\n  </div>\n  <div class="dropdown-menu" style="min-width: 0" uib-dropdown-menu>\n    <div class="tableMenu">\n      <div class="menuContent">\n        <div class="md-checkbox" ng-repeat="filter in $ctrl.labels track by filter.value">\n          <input\n            id="filter_{{ $ctrl.filterKey }}_{{ $index }}"\n            type="checkbox"\n            ng-value="filter.value"\n            ng-checked="$ctrl.state.includes(filter.value)"\n            ng-click="$ctrl.onChangeItem(filter.value)"\n          />\n          <label for="filter_{{ $ctrl.filterKey }}_{{ $index }}">\n            {{ filter.label }}\n          </label>\n        </div>\n      </div>\n      <div>\n        <a class="btn btn-default btn-sm" ng-click="$ctrl.isOpen = false;">  </a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},34095:e=>{var t="app/portainer/components/datatables/groups-datatable/groupsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="endpointGroup-removeGroupButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="portainer.groups.new" data-cy="endpointGroup-addGroupButton">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>Add group\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n          data-cy="endpointGroup-searchInput"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="endpointGroup-endpointGroupTable">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" data-cy="endpointGroup-selectAllCheckbox" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.groups.group({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>\n                <a ui-sref="portainer.groups.group.access({id: item.Id})"> <i class="fa fa-users" aria-hidden="true"></i> Manage access </a>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No group available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},5050:e=>{var t="app/portainer/components/datatables/pagination/pagination.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="paginationControls">\n  <form class="form-inline">\n    <span class="limitSelector">\n      <span style="margin-right: 5px">  </span>\n      <select class="form-control" ng-model="$ctrl.limit" ng-change="$ctrl.onChangeLimit($ctrl.limit)">\n        <option ng-if="$ctrl.enableNoLimit" ng-value="0">All</option>\n        <option ng-value="10">10</option>\n        <option ng-value="25">25</option>\n        <option ng-value="50">50</option>\n        <option ng-value="100">100</option>\n      </select>\n    </span>\n    <dir-pagination-controls max-size="5" on-page-change="$ctrl.onChangePage(newPageNumber)"> </dir-pagination-controls>\n  </form>\n</div>\n')}]),e.exports=t},81853:e=>{var t="app/portainer/components/datatables/registries-datatable/registriesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar" ng-if="$ctrl.isAdmin">\n        <button\n          ng-if="!$ctrl.endpointType"\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="portainer.registries.new" data-cy="add-registry">\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox" ng-if="$ctrl.isAdmin && !$ctrl.endpointType">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'URL\')">\n                  URL\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'URL\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'URL\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <span class="md-checkbox" ng-if="$ctrl.isAdmin && !$ctrl.endpointType">\n                  <input id="select_{{ $index }}" type="checkbox" disabled />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <span>DockerHub ()</span>\n              </td>\n              <td> docker.io </td>\n              <td> - </td>\n            </tr>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-if="$ctrl.isAdmin && !$ctrl.endpointType">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.registries.registry({id: item.Id})" ng-if="$ctrl.enableGoToLink(item)">{{ item.Name }}</a>\n                <span ng-if="!$ctrl.enableGoToLink(item)">{{ item.Name }}</span>\n                <span ng-if="item.Authentication" style="margin-left: 5px" class="label label-info image-tag">authentication-enabled</span>\n              </td>\n              <td>\n                {{ item.URL }}\n              </td>\n              <td>\n                <a authorization="PortainerRegistryUpdateAccess" ng-if="$ctrl.canManageAccess(item)" ng-click="$ctrl.redirectToManageAccess(item)">\n                  <i class="fa fa-users" aria-hidden="true"></i> Manage access\n                </a>\n                <a ng-if="$ctrl.canBrowse(item)" ui-sref="portainer.registries.registry.repositories({id: item.Id})" class="space-left">\n                  <i class="fa fa-search" aria-hidden="true"></i> Browse\n                </a>\n                <span ng-if="!$ctrl.canBrowse(item) && !$ctrl.canManageAccess(item)"> - </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},15369:e=>{var t="app/portainer/components/datatables/searchbar/datatable-searchbar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="searchBar">\n  <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n  <input type="text" class="searchInput" ng-model="$ctrl.filter" ng-change="$ctrl.onChange($ctrl.filter)" placeholder="..." ng-model-options="{ debounce: 300 }" />\n</div>\n')}]),e.exports=t},39477:e=>{var t="app/portainer/components/datatables/sort-icon/datatable-sort-icon.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<i\n  class="fa fa-sort-alpha-down"\n  ng-class="{\n    \'fa-sort-alpha-down\': !$ctrl.reverseOrder,\n    \'fa-sort-alpha-up\': $ctrl.reverseOrder,\n  }"\n  aria-hidden="true"\n  ng-if="$ctrl.isCurrentSortOrder()"\n></i>\n')}]),e.exports=t},68861:e=>{var t="app/portainer/components/datatables/stacks-datatable/stacksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"><i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n        <div class="settings">\n          <datatable-columns-visibility columns="$ctrl.columnVisibility.columns" on-change="($ctrl.onColumnVisibilityChange)"></datatable-columns-visibility>\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader">  </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" ng-if="$ctrl.isAdmin || $ctrl.hasAccessToOrphanedStack">\n                      <input id="setting_all_orphaned_stacks" type="checkbox" ng-model="$ctrl.settings.allOrphanedStacks" ng-change="$ctrl.onSettingsAllOrphanedStacksChange()" />\n                      <label for="setting_all_orphaned_stacks"></label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh"></label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"></a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="actionBar" ng-if="!$ctrl.offlineMode" authorization="PortainerStackCreate, PortainerStackDelete">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          authorization="PortainerStackDelete"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="stack-removeStackButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button\n          ng-disabled="!$ctrl.createEnabled"\n          type="button"\n          class="btn btn-sm btn-primary"\n          ui-sref="docker.stacks.newstack"\n          authorization="PortainerStackCreate"\n          data-cy="stack-addStackButton"\n        >\n          <i class="fa fa-plus space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n          data-cy="stack-searchInput"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="stack-stackTable">\n          <thead>\n            <tr>\n              <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open">\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="PortainerStackCreate, PortainerStackDelete">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n                <div>\n                  <span uib-dropdown-toggle ng-class="[\'table-filter\', { \'filter-active\': $ctrl.filters.state.enabled }]">\n                    \n                    <i ng-class="[\'fa\', { \'fa-filter\': !$ctrl.filters.state.enabled, \'fa-check\': $ctrl.filters.state.enabled }]" aria-hidden="true"></i>\n                  </span>\n                </div>\n                <div class="dropdown-menu" uib-dropdown-menu>\n                  <div class="tableMenu">\n                    <div class="menuHeader">  </div>\n                    <div class="menuContent">\n                      <div class="md-checkbox">\n                        <input id="filter_usage_activeStacks" type="checkbox" ng-model="$ctrl.filters.state.showActiveStacks" ng-change="$ctrl.onFilterChange()" />\n                        <label for="filter_usage_activeStacks">Active stacks</label>\n                      </div>\n                      <div class="md-checkbox">\n                        <input id="filter_usage_unactiveStacks" type="checkbox" ng-model="$ctrl.filters.state.showUnactiveStacks" ng-change="$ctrl.onFilterChange()" />\n                        <label for="filter_usage_unactiveStacks">Inactive stacks</label>\n                      </div>\n                    </div>\n                    <div>\n                      <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;"></a>\n                    </div>\n                  </div>\n                </div>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Type\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th></th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.CreationDate\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.CreationDate\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.CreationDate\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th ng-if="$ctrl.columnVisibility.columns.updated.display">\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.UpdateDate\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.UpdateDate\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.UpdateDate\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="PortainerStackCreate, PortainerStackDelete">\n                  <input\n                    id="select_{{ $index }}"\n                    type="checkbox"\n                    ng-model="item.Checked"\n                    ng-click="$ctrl.selectItem(item, $event)"\n                    ng-disabled="!$ctrl.allowSelection(item) || (item.Orphaned && !$ctrl.isAdmin)"\n                  />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a\n                  ng-if="!$ctrl.offlineMode && (!item.Orphaned || (item.Orphaned && $ctrl.isAdmin))"\n                  ui-sref="docker.stacks.stack({ name: item.Name, id: item.Id, type: item.Type, regular: item.Regular, external: item.External, orphaned: item.Orphaned, orphanedRunning: item.OrphanedRunning })"\n                >\n                  {{ item.Name }}\n                </a>\n                <span ng-if="$ctrl.offlineMode || (item.Orphaned && !$ctrl.isAdmin)">{{ item.Name }}</span>\n                <span ng-if="item.Regular && item.Status == 2" style="margin-left: 10px" class="label label-warning image-tag space-left">Inactive</span>\n              </td>\n              <td>{{ item.Type === 1 ? \'Swarm\' : \'Compose\' }}</td>\n              <td>\n                <span\n                  ng-if="item.Orphaned"\n                  class="interactive"\n                  tooltip-append-to-body="true"\n                  tooltip-placement="bottom"\n                  tooltip-class="portainer-tooltip"\n                  uib-tooltip=" Portainer "\n                >\n                  Orphaned <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-left: 2px"></i>\n                </span>\n                <span\n                  ng-if="item.External"\n                  class="interactive"\n                  tooltip-append-to-body="true"\n                  tooltip-placement="bottom"\n                  tooltip-class="portainer-tooltip"\n                  uib-tooltip="This stack was created outside of Portainer. Control over this stack is limited."\n                >\n                  Limited <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-left: 2px"></i>\n                </span>\n                <span ng-if="item.Regular">Total</span>\n              </td>\n              <td>\n                <span ng-if="item.CreationDate">{{ item.CreationDate | getisodatefromtimestamp }} {{ item.CreatedBy ? \'by \' + item.CreatedBy : \'\' }}</span>\n                <span ng-if="!item.CreationDate"> - </span>\n              </td>\n              <td ng-if="$ctrl.columnVisibility.columns.updated.display">\n                <span ng-if="item.UpdateDate">{{ item.UpdateDate | getisodatefromtimestamp }} {{ item.UpdatedBy ? \'by \' + item.UpdatedBy : \'\' }}</span>\n                <span ng-if="!item.UpdateDate"> - </span>\n              </td>\n              <td>\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset" data-cy="stacks-loadingTableRow">\n              <td colspan="6" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0" data-cy="stacks-noStackTableRow">\n              <td colspan="6" class="text-center text-muted"></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0">\n          {{ $ctrl.state.selectedItemCount }}\n          \n        </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},83287:e=>{var t="app/portainer/components/datatables/strings-datatable/strings-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-header icon="{{ $ctrl.titleIcon }}" title-text="{{ $ctrl.titleText }}"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="actionBar">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.onRemove($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  {{ $ctrl.columnHeader }}\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: $ctrl.state.selectedItems.includes(item) }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input\n                    id="select_{{ $index }}"\n                    type="checkbox"\n                    ng-checked="$ctrl.state.selectedItems.includes(item)"\n                    ng-disabled="$ctrl.disableRemove(item)"\n                    ng-click="$ctrl.selectItem(item, $event)"\n                  />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.value }}\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td class="text-center text-muted">{{ $ctrl.emptyDatasetMessage }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},30908:e=>{var t="app/portainer/components/datatables/tags-datatable/tagsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.Name }}\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="1" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="1" class="text-center text-muted">No tag available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},80155:e=>{var t="app/portainer/components/datatables/teams-datatable/teamsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.teams.team({id: item.Id})">{{ item.Name }}</a>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td class="text-center text-muted"></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},10049:e=>{var t="app/portainer/components/datatables/titlebar/datatable-titlebar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="toolBar">\n  <div class="toolBarTitle">\n    <i class="fa" ng-class="$ctrl.icon" aria-hidden="true" style="margin-right: 2px"></i>\n    {{ $ctrl.title }}\n    <be-feature-indicator feature="$ctrl.feature"></be-feature-indicator>\n  </div>\n</div>\n')}]),e.exports=t},63978:e=>{var t="app/portainer/components/datatables/users-datatable/usersDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar">\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="user-removeUserButton"\n        >\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="user-userTable">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Username\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Username\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Username\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'RoleName\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'RoleName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'RoleName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'AuthenticationMethod\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'AuthenticationMethod\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'AuthenticationMethod\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.users.user({id: item.Id})">{{ item.Username }}</a>\n              </td>\n              <td>\n                <span>\n                  <i class="fa fa-user-circle" aria-hidden="true" style="margin-right: 5px" ng-if="item.Role === 1 && !item.isTeamLeader"></i>\n                  <i class="fa fa-user-plus" aria-hidden="true" style="margin-right: 5px" ng-if="item.Role !== 1 && item.isTeamLeader"></i>\n                  <i class="fa fa-user" aria-hidden="true" style="margin-right: 5px" ng-if="item.Role !== 1 && !item.isTeamLeader"></i>\n                  {{ item.RoleName ? item.RoleName : \'-\' }}\n                </span>\n              </td>\n              <td>\n                <span ng-if="item.Id === 1 || ($ctrl.authenticationMethod !== 2 && $ctrl.authenticationMethod !== 3)"></span>\n                <span ng-if="item.Id !== 1 && $ctrl.authenticationMethod === 2">LDAP</span>\n                <span ng-if="item.Id !== 1 && $ctrl.authenticationMethod === 3">OAuth</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No user available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},67333:e=>{var t="app/portainer/components/date-range-picker/date-range-picker.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<input ng-class="className" id="{{ id }}" />\n')}]),e.exports=t},24294:(e,t,n)=>{var a='<div class="blocklist-item" ng-click="$ctrl.onSelect($ctrl.model)">\n  <div class="blocklist-item-box">\n    <span ng-class="[\'blocklist-item-logo\', \'endpoint-item\', { azure: $ctrl.model.Type === 3 }]">\n      <i\n        ng-if="$ctrl.model.Type !== 4 && $ctrl.model.Type !== 5 && $ctrl.model.Type !== 6 && $ctrl.model.Type !== 7"\n        ng-class="$ctrl.model.Type | endpointtypeicon"\n        class="fa-4x blue-icon"\n        aria-hidden="true"\n      ></i>\n      <img ng-if="$ctrl.model.Type === 4" src="'+n(69962)+'" />\n      <img ng-if="$ctrl.model.Type === 5 || $ctrl.model.Type === 6" src="'+n(51070)+'" />\n      <img ng-if="$ctrl.model.Type === 7" src="'+n(94233)+'" />\n    </span>\n\n    <span class="col-sm-12">\n      <div class="blocklist-item-line endpoint-item">\n        <span>\n          <span class="blocklist-item-title endpoint-item">\n            {{ $ctrl.model.Name }}\n          </span>\n          <span class="space-left blocklist-item-subtitle">\n            <span ng-if="$ctrl.isEdgeEndpoint()">\n              <span ng-if="!$ctrl.model.EdgeID" class="label label-default"><s>associated</s></span>\n              <span ng-if="$ctrl.model.EdgeID">\n                <span class="label" ng-class="{ \'label-danger\': !$ctrl.isCheckInValid, \'label-success\': $ctrl.isCheckInValid }">heartbeat</span>\n                <span class="space-left small text-muted" ng-if="$ctrl.model.LastCheckInDate">\n                  {{ $ctrl.model.LastCheckInDate | getisodatefromtimestamp }}\n                </span>\n              </span>\n            </span>\n\n            <span ng-if="!$ctrl.isEdgeEndpoint()">\n              <span class="label label-{{ $ctrl.model.Status | endpointstatusbadge }}">\n                {{ $ctrl.model.Status === 1 ? \'up\' : \'down\' }}\n              </span>\n              <span class="space-left small text-muted" ng-if="$ctrl.model.Snapshots[0]">\n                {{ $ctrl.model.Snapshots[0].Time | getisodatefromtimestamp }}\n              </span>\n              <span class="space-left small text-muted" ng-if="$ctrl.model.Kubernetes.Snapshots[0]">\n                {{ $ctrl.model.Kubernetes.Snapshots[0].Time | getisodatefromtimestamp }}\n              </span>\n            </span>\n          </span>\n        </span>\n        <span>\n          <span class="small" ng-if="$ctrl.model.GroupName"> : {{ $ctrl.model.GroupName }} </span>\n          <button ng-if="$ctrl.isAdmin" class="btn btn-link btn-xs" ng-click="$ctrl.editEndpoint($event)"><i class="fa fa-pencil-alt"></i> </button>\n        </span>\n      </div>\n\n      <div class="blocklist-item-line endpoint-item" ng-if="$ctrl.model.Snapshots[0]">\n        <span class="blocklist-item-desc">\n          <span>\n            <span style="padding: 0 7px 0 0">\n              <i class="fa fa-th-list space-right" aria-hidden="true"></i>{{ $ctrl.model.Snapshots[0].StackCount }}\n              {{ $ctrl.model.Snapshots[0].StackCount === 1 ? \'stack\' : \'\' }}\n            </span>\n            <span style="padding: 0 7px 0 7px" ng-if="$ctrl.model.Snapshots[0].Swarm">\n              <i class="fa fa-list-alt space-right" aria-hidden="true"></i>{{ $ctrl.model.Snapshots[0].ServiceCount }}\n              {{ $ctrl.model.Snapshots[0].ServiceCount === 1 ? \'service\' : \'\' }}\n            </span>\n            <span style="padding: 0 7px 0 7px">\n              <i class="fa fa-cubes space-right" aria-hidden="true"></i>{{ $ctrl.model.Snapshots[0].RunningContainerCount + $ctrl.model.Snapshots[0].StoppedContainerCount }}\n              {{ $ctrl.model.Snapshots[0].RunningContainerCount + $ctrl.model.Snapshots[0].StoppedContainerCount === 1 ? \'container\' : \'\' }}\n              <span ng-if="$ctrl.model.Snapshots[0].RunningContainerCount > 0 || $ctrl.model.Snapshots[0].StoppedContainerCount > 0">\n                -\n                <i class="fa fa-power-off green-icon" aria-hidden="true"></i> {{ $ctrl.model.Snapshots[0].RunningContainerCount }}\n                <i class="fa fa-power-off red-icon" aria-hidden="true"></i> {{ $ctrl.model.Snapshots[0].StoppedContainerCount }}\n                /\n                <i class="fa fa-heartbeat green-icon" aria-hidden="true"></i> {{ $ctrl.model.Snapshots[0].HealthyContainerCount }}\n                <i class="fa fa-heartbeat orange-icon" aria-hidden="true"></i> {{ $ctrl.model.Snapshots[0].UnhealthyContainerCount }}\n              </span>\n            </span>\n            <span style="padding: 0 7px 0 7px">\n              <i class="fa fa-hdd space-right" aria-hidden="true"></i>{{ $ctrl.model.Snapshots[0].VolumeCount }}\n              {{ $ctrl.model.Snapshots[0].VolumeCount === 1 ? \'volume\' : \'\' }}\n            </span>\n            <span style="padding: 0 7px 0 7px">\n              <i class="fa fa-clone space-right" aria-hidden="true"></i>{{ $ctrl.model.Snapshots[0].ImageCount }}\n              {{ $ctrl.model.Snapshots[0].ImageCount === 1 ? \'image\' : \'\' }}\n            </span>\n          </span>\n        </span>\n        <span class="small text-muted">\n          {{ $ctrl.model.Snapshots[0].Swarm ? \'Swarm\' : \'Standalone\' }} {{ $ctrl.model.Snapshots[0].DockerVersion }}\n          <span ng-if="$ctrl.model.Type === 2">+ <i class="fa fa-bolt" aria-hidden="true"></i> Agent</span>\n          <span style="padding: 0 7px 0 0" ng-if="$ctrl.model.Snapshots[0].Swarm">\n            <i class="fa fa-hdd space-left space-right" aria-hidden="true"></i>{{ $ctrl.model.Snapshots[0].NodeCount }}\n            {{ $ctrl.model.Snapshots[0].NodeCount === 1 ? \'node\' : \'\' }}\n          </span>\n        </span>\n      </div>\n\n      <div class="blocklist-item-line endpoint-item" ng-if="!$ctrl.model.Snapshots[0] && $ctrl.model.Type !== 5 && $ctrl.model.Type !== 6 && $ctrl.model.Type !== 7">\n        <span class="blocklist-item-desc"> No snapshot available </span>\n      </div>\n\n      <div class="blocklist-item-line endpoint-item" ng-if="$ctrl.model.Kubernetes.Snapshots[0] && ($ctrl.model.Type === 5 || $ctrl.model.Type === 6 || $ctrl.model.Type === 7)">\n        <span class="blocklist-item-desc">\n          <span>\n            <span style="padding: 0 7px 0 0"> <i class="fa fa-microchip space-right" aria-hidden="true"></i>{{ $ctrl.model.Kubernetes.Snapshots[0].TotalCPU }} CPU </span>\n            <span style="padding: 0 7px 0 7px">\n              <i class="fa fa-memory space-right" aria-hidden="true"></i>{{ $ctrl.model.Kubernetes.Snapshots[0].TotalMemory | humansize }} RAM\n            </span>\n          </span>\n        </span>\n        <span class="small text-muted">\n          Kubernetes {{ $ctrl.model.Kubernetes.Snapshots[0].KubernetesVersion }}\n          <span style="padding: 0 0 0 7px">\n            <i class="fa fa-hdd space-left space-right" aria-hidden="true"></i>\n            {{ $ctrl.model.Kubernetes.Snapshots[0].NodeCount }} {{ $ctrl.model.Kubernetes.Snapshots[0].NodeCount === 1 ? \'node\' : \'nodes\' }}\n          </span>\n        </span>\n      </div>\n\n      <div class="blocklist-item-line endpoint-item" ng-if="!$ctrl.model.Kubernetes.Snapshots[0] && ($ctrl.model.Type === 5 || $ctrl.model.Type === 6 || $ctrl.model.Type === 7)">\n        <span class="blocklist-item-desc"> - </span>\n      </div>\n\n      <div class="blocklist-item-line endpoint-item">\n        <span class="small text-muted">\n          <span ng-if="$ctrl.model.Type === 1 || $ctrl.model.Type === 2 || $ctrl.model.Type === 4">\n            <span class="small text-muted">\n              <i class="fa fa-microchip"></i> {{ $ctrl.model.Snapshots[0].TotalCPU }}<i class="fa fa-memory space-left"></i> {{ $ctrl.model.Snapshots[0].TotalMemory | humansize }}\n            </span>\n            <span class="space-left space-right">-</span>\n          </span>\n          <span ng-if="$ctrl.endpointTags.length === 0"> <i class="fa fa-tags" aria-hidden="true"></i>  </span>\n          <span ng-if="$ctrl.endpointTags.length > 0">\n            <i class="fa fa-tags" aria-hidden="true"></i>\n            {{ $ctrl.endpointTags }}\n          </span>\n        </span>\n        <span class="small text-muted" ng-if="$ctrl.model.Type !== 4 && $ctrl.model.Type !== 7">\n          {{ $ctrl.model.URL | stripprotocol }}\n        </span>\n      </div>\n    </span>\n  </div>\n</div>\n',s="app/portainer/components/endpoint-list/endpoint-item/endpointItem.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},63779:e=>{var t="app/portainer/components/endpoint-list/endpointList.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n\n      <div class="actionBar" ng-if="$ctrl.showSnapshotAction || $ctrl.showKubeconfigButton()">\n        <div style="margin-bottom: 10px" ng-if="$ctrl.endpoints.length"\n          ><i class="fa fa-exclamation-circle blue-icon" style="margin-right: 5px"></i>\n        </div>\n        <button type="button" ng-if="$ctrl.showSnapshotAction" class="btn btn-sm btn-primary" ng-click="$ctrl.snapshotAction()" data-cy="home-refreshEndpointsButton">\n          <i class="fa fa-sync space-right" aria-hidden="true"></i>\n        </button>\n        <button\n          ng-if="$ctrl.showKubeconfigButton()"\n          type="button"\n          class="btn btn-sm btn-primary"\n          ng-click="$ctrl.showKubeconfigModal()"\n          analytics-on\n          analytics-category="kubernetes"\n          analytics-event="kubernetes-kubectl-kubeconfig-multi"\n        >\n          <i class="fas fa-download space-right"></i> kubeconfig\n        </button>\n      </div>\n\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          ng-model-options="{ debounce: 300 }"\n          placeholder="URL ..."\n          auto-focus\n          data-cy="home-endpointsSearchInput"\n        />\n      </div>\n\n      <div class="blocklist" data-cy="home-endpointList">\n        <endpoint-item\n          ng-if="$ctrl.hasBackendPagination()"\n          dir-paginate="endpoint in $ctrl.state.filteredEndpoints | itemsPerPage: $ctrl.state.paginatedItemLimit"\n          model="endpoint"\n          total-items="$ctrl.state.totalFilteredEndpoints"\n          on-select="($ctrl.dashboardAction)"\n          on-edit="($ctrl.editAction)"\n          is-admin="$ctrl.isAdmin"\n          tags="$ctrl.tags"\n          endpoint-init-time="$ctrl.endpointInitTime"\n        ></endpoint-item>\n        <endpoint-item\n          ng-if="!$ctrl.hasBackendPagination()"\n          dir-paginate="endpoint in $ctrl.state.filteredEndpoints | itemsPerPage: $ctrl.state.paginatedItemLimit"\n          model="endpoint"\n          on-select="($ctrl.dashboardAction)"\n          on-edit="($ctrl.editAction)"\n          is-admin="$ctrl.isAdmin"\n          tags="$ctrl.tags"\n          endpoint-init-time="$ctrl.endpointInitTime"\n        ></endpoint-item>\n        <div ng-if="$ctrl.state.loading" class="text-center text-muted" data-cy="home-loadingEndpoints"> ... </div>\n        <div ng-if="!$ctrl.state.loading && !$ctrl.state.filteredEndpoints.length" class="text-center text-muted" data-cy="home-noEndpoints"> No environment available. </div>\n      </div>\n\n      <div class="footer" ng-if="$ctrl.endpoints">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="home-paginationSelect">\n                <option value="0" ng-if="!$ctrl.hasBackendPagination()">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" on-page-change="$ctrl.pageChangeHandler(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},2241:e=>{var t="app/portainer/components/endpoint-selector/endpointSelector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ui-select ng-model="$ctrl.model">\n  <ui-select-match placeholder="Select an environment">\n    <span>{{ $select.selected.Name }}</span>\n  </ui-select-match>\n  <ui-select-choices group-by="$ctrl.groupEndpoints" group-filter="$ctrl.sortGroups" repeat="endpoint in ($ctrl.endpoints | filter: $select.search) track by endpoint.Id">\n    <span>{{ endpoint.Name }}</span>\n  </ui-select-choices>\n</ui-select>\n')}]),e.exports=t},9062:e=>{var t="app/portainer/components/endpointSecurity/porEndpointSecurity.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  \x3c!-- tls-checkbox --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <label for="tls" class="control-label text-left">\n        TLS\n        <portainer-tooltip position="bottom" message="Enable this option if you need to connect to the Docker environment with TLS."></portainer-tooltip>\n      </label>\n      <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.formData.TLS" /><i></i> </label>\n    </div>\n  </div>\n  \x3c!-- !tls-checkbox --\x3e\n  <div class="col-sm-12 form-section-title" ng-if="$ctrl.formData.TLS"> TLS mode </div>\n  \x3c!-- note --\x3e\n  <div class="form-group" ng-if="$ctrl.formData.TLS">\n    <div class="col-sm-12">\n      <span class="small text-muted">\n        You can find out more information about how to protect a Docker environment with TLS in the\n        <a href="https://docs.docker.com/engine/security/https/" target="_blank">Docker documentation</a>.\n      </span>\n    </div>\n  </div>\n  <div class="form-group"></div>\n  \x3c!-- endpoint-tls-mode --\x3e\n  <div class="form-group" style="margin-bottom: 0" ng-if="$ctrl.formData.TLS">\n    <div class="boxselector_wrapper">\n      <div>\n        <input type="radio" id="tls_client_ca" ng-model="$ctrl.formData.TLSMode" value="tls_client_ca" />\n        <label for="tls_client_ca">\n          <div class="boxselector_header">\n            <i class="fa fa-shield-alt" aria-hidden="true" style="margin-right: 2px"></i>\n            TLS with server and client verification\n          </div>\n          <p>Use client certificates and server verification</p>\n        </label>\n      </div>\n      <div>\n        <input type="radio" id="tls_client_noca" ng-model="$ctrl.formData.TLSMode" value="tls_client_noca" />\n        <label for="tls_client_noca">\n          <div class="boxselector_header">\n            <i class="fa fa-shield-alt" aria-hidden="true" style="margin-right: 2px"></i>\n            TLS with client verification only\n          </div>\n          <p>Use client certificates without server verification</p>\n        </label>\n      </div>\n      <div>\n        <input type="radio" id="tls_ca" ng-model="$ctrl.formData.TLSMode" value="tls_ca" />\n        <label for="tls_ca">\n          <div class="boxselector_header">\n            <i class="fa fa-shield-alt" aria-hidden="true" style="margin-right: 2px"></i>\n            TLS with server verification only\n          </div>\n          <p>Only verify the server certificate</p>\n        </label>\n      </div>\n      <div>\n        <input type="radio" id="tls_only" ng-model="$ctrl.formData.TLSMode" value="tls_only" />\n        <label for="tls_only">\n          <div class="boxselector_header">\n            <i class="fa fa-shield-alt" aria-hidden="true" style="margin-right: 2px"></i>\n            TLS only\n          </div>\n          <p>No server/client verification</p>\n        </label>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !endpoint-tls-mode --\x3e\n  <div class="col-sm-12 form-section-title" ng-if="$ctrl.formData.TLS && $ctrl.formData.TLSMode !== \'tls_only\'"> Required TLS files </div>\n  \x3c!-- tls-file-upload --\x3e\n  <div ng-if="$ctrl.formData.TLS">\n    \x3c!-- tls-file-ca --\x3e\n    <div class="form-group" ng-if="$ctrl.formData.TLSMode === \'tls_client_ca\' || $ctrl.formData.TLSMode === \'tls_ca\'">\n      <label class="col-sm-3 col-lg-2 control-label text-left">TLS CA certificate</label>\n      <div class="col-sm-9 col-lg-10">\n        <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formData.TLSCACert"></button>\n        <span style="margin-left: 5px">\n          {{ $ctrl.formData.TLSCACert.name }}\n          <i class="fa fa-check green-icon" ng-if="$ctrl.formData.TLSCACert && $ctrl.formData.TLSCACert === $ctrl.endpoint.TLSConfig.TLSCACert" aria-hidden="true"></i>\n          <i class="fa fa-times red-icon" ng-if="!$ctrl.formData.TLSCACert" aria-hidden="true"></i>\n        </span>\n      </div>\n    </div>\n    \x3c!-- !tls-file-ca --\x3e\n    \x3c!-- tls-files-cert-key --\x3e\n    <div ng-if="$ctrl.formData.TLSMode === \'tls_client_ca\' || $ctrl.formData.TLSMode === \'tls_client_noca\'">\n      \x3c!-- tls-file-cert --\x3e\n      <div class="form-group">\n        <label for="tls_cert" class="col-sm-3 col-lg-2 control-label text-left">TLS certificate</label>\n        <div class="col-sm-9 col-lg-10">\n          <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formData.TLSCert"></button>\n          <span style="margin-left: 5px">\n            {{ $ctrl.formData.TLSCert.name }}\n            <i class="fa fa-check green-icon" ng-if="$ctrl.formData.TLSCert && $ctrl.formData.TLSCert === $ctrl.endpoint.TLSConfig.TLSCert" aria-hidden="true"></i>\n            <i class="fa fa-times red-icon" ng-if="!$ctrl.formData.TLSCert" aria-hidden="true"></i>\n          </span>\n        </div>\n      </div>\n      \x3c!-- !tls-file-cert --\x3e\n      \x3c!-- tls-file-key --\x3e\n      <div class="form-group">\n        <label class="col-sm-3 col-lg-2 control-label text-left">TLS key</label>\n        <div class="col-sm-9 col-lg-10">\n          <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formData.TLSKey"></button>\n          <span style="margin-left: 5px">\n            {{ $ctrl.formData.TLSKey.name }}\n            <i class="fa fa-check green-icon" ng-if="$ctrl.formData.TLSKey && $ctrl.formData.TLSKey === $ctrl.endpoint.TLSConfig.TLSKey" aria-hidden="true"></i>\n            <i class="fa fa-times red-icon" ng-if="!$ctrl.formData.TLSKey" aria-hidden="true"></i>\n          </span>\n        </div>\n      </div>\n      \x3c!-- !tls-file-key --\x3e\n    </div>\n    \x3c!-- tls-files-cert-key --\x3e\n  </div>\n  \x3c!-- !tls-file-upload --\x3e\n</div>\n')}]),e.exports=t},94176:e=>{var t="app/portainer/components/environment-variables-panel/environment-variables-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="form-horizontal environment-variables-panel" name="$ctrl.envVarsForm">\n  <div class="form-group">\n    <div class="col-sm-12 form-section-title" style="margin-top: 10px; margin-left: 15px; width: 98%">  </div>\n    <div class="col-sm-12 environment-variables-panel--explanation">\n      {{::$ctrl.explanation}}\n    </div>\n\n    <environment-variables-simple-mode\n      ng-if="$ctrl.mode == \'simple\'"\n      ng-model="$ctrl.ngModel"\n      on-change="($ctrl.handleSimpleChange)"\n      on-switch-mode-click="($ctrl.switchEnvMode)"\n    ></environment-variables-simple-mode>\n\n    <div ng-if="$ctrl.mode == \'advanced\'" class="environment-variables-panel--advanced">\n      <div class="col-sm-12">\n        <a class="small interactive" ng-click="$ctrl.switchEnvMode()"> <i class="fa fa-list-ol space-right" aria-hidden="true"></i> </a>\n      </div>\n      <div class="col-sm-12 small text-muted">\n        <i class="fa fa-info-circle blue-icon space-right" aria-hidden="true"></i>\n        Switch to simple mode to define variables line by line, or load from .env file\n      </div>\n      <div class="form-group" style="margin-left: 1px">\n        <code-editor identifier="environment-variables-editor" placeholder=" key=value" value="$ctrl.editorText" yml="false" on-change="($ctrl.editorUpdate)"></code-editor>\n      </div>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},52927:e=>{var t="app/portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/environment-variables-simple-mode-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="env-item" name="$ctrl.{{ $ctrl.formName }}">\n  <div class="col-sm-5">\n    <div class="input-group input-group-sm env-item-key w-full">\n      <span class="input-group-addon"></span>\n      <input\n        type="text"\n        name="name"\n        class="form-control"\n        placeholder=" FOO"\n        ng-model="$ctrl.variable.name"\n        ng-disabled="$ctrl.variable.added"\n        ng-change="$ctrl.onChangeName($ctrl.variable.name)"\n        required\n      />\n    </div>\n    <div class="form-group" style="margin-top: 5px" ng-show="$ctrl[$ctrl.formName].name.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="$ctrl[$ctrl.formName].name.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Name is required. </p>\n          <p ng-message="pattern">\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n            This field must consist alphanumeric characters, \'-\' or \'_\', start with an alphabetic character, and end with an alphanumeric character ( \'my-var\', or \'MY_VAR123\').\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.hasValue()" class="col-sm-6">\n    <div class="w-full env-item-value">\n      <div class="input-group input-group-sm">\n        <span class="input-group-addon">value</span>\n        <input\n          type="text"\n          class="form-control"\n          ng-model="$ctrl.variable.value"\n          placeholder=" bar"\n          ng-trim="false"\n          name="value"\n          ng-change="$ctrl.onChangeValue($ctrl.variable.value)"\n        />\n      </div>\n      <button class="btn btn-sm btn-primary" type="button" ng-click="$ctrl.removeValue()"> <i class="fa fa-minus" aria-hidden="true"></i> Remove value </button>\n    </div>\n    <div class="form-group" ng-show="$ctrl[$ctrl.formName].value.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="$ctrl[$ctrl.formName].value.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Value is required. </p>\n          <p ng-message="pattern"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Value is invalid. </p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div>\n    <button class="btn btn-sm btn-primary" type="button" ng-if="!$ctrl.hasValue()" ng-click="$ctrl.onChangeValue(\'\')">\n      <i class="fa fa-plus" aria-hidden="true"></i> Add value\n    </button>\n    <button class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.onRemove($ctrl.index)">\n      <i class="fa fa-trash" aria-hidden="true"></i>\n    </button>\n  </div>\n</ng-form>\n')}]),e.exports=t},9277:e=>{var t="app/portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="environment-variables-simple-mode">\n  <div class="col-sm-12">\n    <a class="small interactive" ng-click="$ctrl.onSwitchModeClick()"> <i class="fa fa-list-ol space-right" aria-hidden="true"></i></a>\n  </div>\n  <div class="col-sm-12 small text-muted">\n    <i class="fa fa-info-circle blue-icon space-right" aria-hidden="true"></i>\n    \n  </div>\n  <div class="col-sm-12 environment-variables-simple-mode--actions">\n    <button type="button" class="btn btn-sm btn-default" ng-click="$ctrl.add()"> <i class="fa fa-plus-circle" aria-hidden="true"></i>  </button>\n    <button\n      type="button"\n      class="btn btn-sm btn-default"\n      ngf-select="$ctrl.addFromFile($file)"\n      ngf-accept="\'.env\'"\n      ngf-pattern="\'.env\'"\n      ngf-max-size="1MB"\n      ngf-model-invalid="errorFile"\n    >\n      <i class="fa fa-file-upload" aria-hidden="true"></i> .EVN\n    </button>\n    <span class="space-left" ng-if="errorFile.$error == \'maxSize\'">\n      <i class="fa fa-times red-icon space-right" aria-hidden="true"></i>\n      File too large! Try uploading a file smaller than 1MB\n    </span>\n  </div>\n  <div class="col-sm-12 form-inline env-items-list">\n    <environment-variables-simple-mode-item\n      ng-repeat="variable in $ctrl.ngModel"\n      variable="variable"\n      index="$index"\n      on-change="($ctrl.onChangeVariable)"\n      on-remove="($ctrl.remove)"\n    ></environment-variables-simple-mode-item>\n  </div>\n</div>\n')}]),e.exports=t},49424:e=>{var t="app/portainer/components/form-components/file-upload-form/file-upload-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="file-upload-form" name="$ctrl.fileUploadForm">\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small" ng-transclude="description"> </span>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <file-upload-field on-change="($ctrl.onChange)" required="($ctrl.ngRequired)" value="($ctrl.file)"></file-upload-field>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},57582:e=>{var t="app/portainer/components/form-components/web-editor-form/web-editor-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="$ctrl.webEditorForm">\n  <div class="col-sm-12 form-section-title"> Web editor </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small" ng-transclude="description"> </span>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <code-editor identifier="{{ $ctrl.identifier }}" placeholder="{{ $ctrl.placeholder }}" yml="$ctrl.yml" value="$ctrl.value" on-change="($ctrl.editorUpdate)"></code-editor>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},10852:e=>{var t="app/portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/git-form-additional-file-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="env-item form-horizontal" name="$ctrl.{{ $ctrl.formName }}">\n  <div class="form-group col-sm-12">\n    <div class="form-inline" style="margin-top: 10px">\n      <div class="input-group col-sm-5 input-group-sm">\n        <span class="input-group-addon">path</span>\n        <input type="text" name="name" class="form-control" ng-model="$ctrl.variable" ng-change="$ctrl.onChangePath($ctrl.variable)" required />\n      </div>\n      <button class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.removeValue()">\n        <i class="fa fa-trash" aria-hidden="true"></i>\n      </button>\n    </div>\n    <div ng-show="$ctrl[$ctrl.formName].name.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="$ctrl[$ctrl.formName].name.$error">\n          <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Path is required. </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},65568:e=>{var t="app/portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-files-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <div class="col-sm-12" style="margin-top: 5px">\n    <label class="control-label text-left">Additional paths</label>\n    <span class="label label-default interactive" style="margin-left: 10px" ng-click="$ctrl.add()"> <i class="fa fa-plus-circle" aria-hidden="true"></i>  </span>\n  </div>\n  <div class="col-sm-12 form-inline" style="margin-top: 10px">\n    <git-form-additional-file-item\n      ng-repeat="variable in $ctrl.model.AdditionalFiles track by $index"\n      variable="variable"\n      index="$index"\n      on-change="($ctrl.onChangeVariable)"\n    ></git-form-additional-file-item>\n  </div>\n</div>\n')}]),e.exports=t},98173:e=>{var t="app/portainer/components/forms/git-form/git-form-auth-fieldset/git-form-auth-fieldset.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <div class="col-sm-12">\n    <por-switch-field\n      checked="$ctrl.model.RepositoryAuthentication"\n      label="\'Authentication\'"\n      name="\'authSwitch\'"\n      on-change="($ctrl.onChangeAuth)"\n      data-cy="\'component-gitAuthToggle\'"\n    ></por-switch-field>\n  </div>\n</div>\n<div class="small text-warning" style="margin: 5px 0 15px 0" ng-if="$ctrl.model.RepositoryAuthentication && $ctrl.showAuthExplanation">\n  <i class="fa fa-exclamation-circle" aria-hidden="true"></i>\n  <span class="text-muted">Enabling authentication will store the credentials and it is advisable to use a git service account</span>\n</div>\n<div ng-if="$ctrl.model.RepositoryAuthentication">\n  <div class="form-group">\n    <label for="repository_username" class="control-label text-left inline-label">  </label>\n    <div class="inline-input">\n      <input\n        type="text"\n        class="form-control"\n        ng-model="$ctrl.model.RepositoryUsername"\n        name="repository_username"\n        placeholder="git username"\n        ng-change="$ctrl.onChangeUsername($ctrl.model.RepositoryUsername)"\n        data-cy="component-gitUsernameInput"\n      />\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="repository_password" class="control-label text-left inline-label">\n      \n      <portainer-tooltip position="bottom" message=""></portainer-tooltip>\n    </label>\n    <div class="inline-input">\n      <input\n        type="password"\n        class="form-control"\n        ng-model="$ctrl.model.RepositoryPassword"\n        name="repository_password"\n        placeholder="*******"\n        ng-change="$ctrl.onChangePassword($ctrl.model.RepositoryPassword)"\n        ng-required="!$ctrl.isEdit"\n        data-cy="component-gitPasswordInput"\n      />\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},17560:e=>{var t="app/portainer/components/forms/git-form/git-form-auto-update-fieldset/git-form-auto-update-fieldset.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="autoUpdateForm">\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field name="\'autoUpdate\'" checked="$ctrl.model.RepositoryAutomaticUpdates" label="\'Automatic Updates\'" on-change="($ctrl.onChangeAutoUpdate)"></por-switch-field>\n    </div>\n  </div>\n  <div class="small text-warning" style="margin: 5px 0 10px 0" ng-if="$ctrl.model.RepositoryAutomaticUpdates">\n    <i class="fa fa-exclamation-circle" aria-hidden="true"></i>\n    <span class="text-muted">Any changes to this stack or application made locally in Portainer will be overridden, which may cause service interruption.</span>\n  </div>\n  <div class="form-group" ng-if="$ctrl.model.RepositoryAutomaticUpdates">\n    <label for="repository_mechanism" class="col-sm-1 control-label text-left"> Mechanism </label>\n    <div class="col-sm-11">\n      <div class="input-group col-sm-10 input-group-sm">\n        <div class="btn-group btn-group-sm">\n          <label class="btn btn-primary" ng-click="$ctrl.onChangeMechanism($ctrl.model.RepositoryMechanism)" ng-model="$ctrl.model.RepositoryMechanism" uib-btn-radio="\'Interval\'"\n            >Polling</label\n          >\n          <label class="btn btn-primary" ng-click="$ctrl.onChangeMechanism($ctrl.model.RepositoryMechanism)" ng-model="$ctrl.model.RepositoryMechanism" uib-btn-radio="\'Webhook\'"\n            >Webhook</label\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.model.RepositoryAutomaticUpdates && $ctrl.model.RepositoryMechanism === \'Webhook\'">\n    <label for="repository_mechanism" class="col-sm-1 control-label text-left"> Webhook </label>\n    <div class="col-sm-11">\n      <span class="text-muted"> {{ $ctrl.model.RepositoryWebhookURL | truncatelr }} </span>\n      <button type="button" class="btn btn-sm btn-primary btn-sm space-left" ng-if="$ctrl.model.RepositoryWebhookURL" ng-click="$ctrl.copyWebhook()">\n        <span><i class="fa fa-copy space-right" aria-hidden="true"></i>Copy link</span>\n      </button>\n      <span>\n        <i id="copyNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i>\n      </span>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.model.RepositoryAutomaticUpdates && $ctrl.model.RepositoryMechanism === \'Interval\'">\n    <label for="repository_fetch_interval" class="col-sm-1 control-label text-left"> Fetch interval </label>\n    <div class="col-sm-11">\n      <input\n        type="text"\n        class="form-control"\n        ng-change="$ctrl.onChangeInterval($ctrl.model.RepositoryFetchInterval)"\n        ng-model="$ctrl.model.RepositoryFetchInterval"\n        name="repository_fetch_interval"\n        placeholder="5m"\n        required\n        interval-format\n      />\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.model.ShowForcePullImage && $ctrl.model.RepositoryAutomaticUpdates">\n    <div class="col-sm-12">\n      <por-switch-field\n        name="\'forcePullImage\'"\n        feature="$ctrl.limitedFeaturePullImage"\n        checked="$ctrl.model.ForcePullImage"\n        label="\'Pull latest image\'"\n        on-change="($ctrl.onChangeForcePullImage)"\n      ></por-switch-field>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.model.RepositoryAutomaticUpdates">\n    <div class="col-sm-12">\n      <por-switch-field\n        name="\'forceUpdate\'"\n        feature-id="$ctrl.limitedFeature"\n        checked="$ctrl.model.RepositoryAutomaticUpdatesForce"\n        label="\'Force Redeployment\'"\n        on-change="($ctrl.onChangeAutoUpdateForce)"\n      ></por-switch-field>\n    </div>\n  </div>\n  <div class="small text-warning" style="margin: 5px 0 10px 0" ng-if="$ctrl.model.RepositoryAutomaticUpdates">\n    <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true"></i>\n    <span class="text-muted">webhook</span>\n  </div>\n  <div class="form-group col-md-12" ng-show="autoUpdateForm.repository_fetch_interval.$touched && autoUpdateForm.repository_fetch_interval.$invalid">\n    <div class="small text-warning">\n      <div ng-messages="autoUpdateForm.repository_fetch_interval.$error">\n        <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        <p ng-message="invalidIntervalFormat"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter a valid time interval.</p>\n        <p ng-message="minimumInterval"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Minimum interval is 1m</p>\n      </div>\n    </div>\n  </div>\n  <div class="small text-warning" style="margin: 5px 0 10px 0" ng-if="!$ctrl.model.RepositoryAutomaticUpdates">\n    <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true"></i>\n    <span class="text-muted">gitwebhook</span>\n  </div>\n</ng-form>\n')}]),e.exports=t},6942:e=>{var t="app/portainer/components/forms/git-form/git-form-compose-path-field/git-form-compose-path-field.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <span class="col-sm-12 text-muted small"> Indicate the path to the {{ $ctrl.deployMethod == \'compose\' ? \'Compose\' : \'Manifest\' }} file from the root of your repository. </span>\n</div>\n<div class="form-group">\n  <label for="stack_repository_path" class="col-sm-2 control-label text-left">{{ $ctrl.deployMethod == \'compose\' ? \'Compose\' : \'Manifest\' }} path</label>\n  <div class="col-sm-10">\n    <input\n      type="text"\n      class="form-control"\n      name="repoPathField"\n      ng-model="$ctrl.value"\n      ng-change="$ctrl.onChange($ctrl.value)"\n      id="stack_repository_path"\n      placeholder="{{ $ctrl.deployMethod == \'compose\' ? \'docker-compose.yml\' : \'manifest.yml\' }}"\n      required\n    />\n  </div>\n</div>\n')}]),e.exports=t},48037:e=>{var t="app/portainer/components/forms/git-form/git-form-info-panel/git-form-info-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group" ng-class="$ctrl.className">\n  <div class="col-sm-12">\n    <p>\n      This {{ $ctrl.type }} was deployed from the git repository <code>{{ $ctrl.url }}</code>\n      .\n    </p>\n    <p>\n      Update\n      <code\n        >{{ $ctrl.configFilePath }}<span ng-if="$ctrl.additionalFiles.length > 0">, {{ $ctrl.additionalFiles.join(\',\') }}</span></code\n      >\n      in git and pull from here to update the {{ $ctrl.type }}.\n    </p>\n  </div>\n</div>\n')}]),e.exports=t},6605:e=>{var t="app/portainer/components/forms/git-form/git-form-ref-field/git-form-ref-field.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <span class="col-sm-12 text-muted small">\n    Specify a reference of the repository using the following syntax: branches with <code>refs/heads/branch_name</code> or tags with <code>refs/tags/tag_name</code>. If not\n    specified, will use the default <code>HEAD</code> reference normally the <code>master</code> branch.\n  </span>\n</div>\n<div class="form-group">\n  <label for="stack_repository_reference_name" class="col-sm-2 control-label text-left">Repository reference</label>\n  <div class="col-sm-10">\n    <input\n      type="text"\n      class="form-control"\n      ng-model="$ctrl.value"\n      id="stack_repository_reference_name"\n      placeholder="refs/heads/master"\n      ng-change="$ctrl.onChange($ctrl.value)"\n      data-cy="component-gitRefInput"\n    />\n  </div>\n</div>\n')}]),e.exports=t},53754:e=>{var t="app/portainer/components/forms/git-form/git-form-url-field/git-form-url-field.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <span class="col-sm-12 text-muted small"> You can use the URL of a git repository. </span>\n</div>\n<div class="form-group">\n  <label for="stack_repository_url" class="col-sm-2 control-label text-left">Repository URL</label>\n  <div class="col-sm-10">\n    <input\n      type="text"\n      name="repoUrlField"\n      class="form-control"\n      ng-model="$ctrl.value"\n      ng-change="$ctrl.onChange($ctrl.value)"\n      id="stack_repository_url"\n      placeholder="https://github.com/portainer/portainer-compose"\n      data-cy="component-gitUrlInput"\n      required\n    />\n  </div>\n</div>\n')}]),e.exports=t},23283:e=>{var t="app/portainer/components/forms/git-form/git-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="$ctrl.gitForm">\n  <div class="col-sm-12 form-section-title"> Git repository </div>\n  <git-form-url-field value="$ctrl.model.RepositoryURL" on-change="($ctrl.onChangeURL)"></git-form-url-field>\n  <git-form-ref-field value="$ctrl.model.RepositoryReferenceName" on-change="($ctrl.onChangeRefName)"></git-form-ref-field>\n  <git-form-compose-path-field\n    value="$ctrl.model.ComposeFilePathInRepository"\n    on-change="($ctrl.onChangeComposePath)"\n    deploy-method="{{ $ctrl.deployMethod }}"\n  ></git-form-compose-path-field>\n\n  <git-form-additional-files-panel ng-if="$ctrl.additionalFile" model="$ctrl.model" on-change="($ctrl.onChange)"></git-form-additional-files-panel>\n\n  <git-form-auth-fieldset model="$ctrl.model" on-change="($ctrl.onChange)"></git-form-auth-fieldset>\n\n  <git-form-auto-update-fieldset ng-if="$ctrl.autoUpdate" model="$ctrl.model" on-change="($ctrl.onChange)"></git-form-auto-update-fieldset>\n\n  <time-window-display></time-window-display>\n</ng-form>\n')}]),e.exports=t},69688:e=>{var t="app/portainer/components/forms/group-form/groupForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="endpointGroupForm">\n  \x3c!-- name-input --\x3e\n  <div class="form-group" ng-class="{ \'has-error\': endpointGroupForm.group_name.$invalid }">\n    <label for="group_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" name="group_name" ng-model="$ctrl.model.Name" placeholder=" my-group" required auto-focus />\n    </div>\n  </div>\n  <div class="form-group" ng-show="endpointGroupForm.group_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="endpointGroupForm.group_name.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- description-input --\x3e\n  <div class="form-group">\n    <label for="group_description" class="col-sm-3 col-lg-2 control-label text-left">Description</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="group_description" ng-model="$ctrl.model.Description" placeholder=" production environments..." />\n    </div>\n  </div>\n  \x3c!-- !description-input --\x3e\n  <div class="col-sm-12 form-section-title"> Metadata </div>\n  \x3c!-- tags --\x3e\n  <div class="form-group">\n    <tag-selector\n      ng-if="$ctrl.model && $ctrl.availableTags"\n      tags="$ctrl.availableTags"\n      model="$ctrl.model.TagIds"\n      allow-create="$ctrl.state.allowCreateTag"\n      on-create="($ctrl.onCreateTag)"\n    ></tag-selector>\n  </div>\n  \x3c!-- !tags --\x3e\n  \x3c!-- environments --\x3e\n  <div ng-if="$ctrl.model.Id !== 1">\n    <div class="col-sm-12 form-section-title"> Associated environments </div>\n    <div class="form-group">\n      <div class="col-sm-12 small text-muted">\n        You can select which environment should be part of this group by moving them to the associated environments table. Simply click on any environment entry to move it from one\n        table to the other.\n      </div>\n      <div class="col-sm-12" style="margin-top: 20px">\n        \x3c!-- available-endpoints --\x3e\n        <div class="col-sm-6">\n          <div class="text-center small text-muted">Available environments</div>\n          <div style="margin-top: 10px">\n            <group-association-table\n              loaded="$ctrl.loaded"\n              page-type="$ctrl.pageType"\n              table-type="available"\n              retrieve-page="$ctrl.getPaginatedEndpointsByGroup"\n              dataset="$ctrl.availableEndpoints"\n              entry-click="$ctrl.associateEndpoint"\n              pagination-state="$ctrl.state.available"\n              empty-dataset-message="No environment available"\n              cy-value="available-endpoints"\n            ></group-association-table>\n          </div>\n        </div>\n        \x3c!-- !available-endpoints --\x3e\n        \x3c!-- associated-endpoints --\x3e\n        <div class="col-sm-6">\n          <div class="text-center small text-muted">Associated environments</div>\n          <div style="margin-top: 10px">\n            <group-association-table\n              loaded="$ctrl.loaded"\n              page-type="$ctrl.pageType"\n              table-type="associated"\n              retrieve-page="$ctrl.getPaginatedEndpointsByGroup"\n              dataset="$ctrl.associatedEndpoints"\n              entry-click="$ctrl.dissociateEndpoint"\n              pagination-state="$ctrl.state.associated"\n              empty-dataset-message="No associated environment"\n              has-backend-pagination="this.pageType !== \'create\'"\n              cy-value="associated-endpoints"\n            ></group-association-table>\n          </div>\n        </div>\n        \x3c!-- !associated-endpoints --\x3e\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.model.Id === 1">\n    <div class="col-sm-12 form-section-title"> Unassociated environments </div>\n    <div style="margin-top: 10px">\n      <group-association-table\n        loaded="$ctrl.loaded"\n        page-type="$ctrl.pageType"\n        table-type="associated"\n        retrieve-page="$ctrl.getPaginatedEndpointsByGroup"\n        dataset="$ctrl.associatedEndpoints"\n        pagination-state="$ctrl.state.associated"\n        empty-dataset-message="No environment available"\n      ></group-association-table>\n    </div>\n  </div>\n  \x3c!-- !endpoints --\x3e\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="button"\n        class="btn btn-primary btn-sm"\n        ng-click="$ctrl.formAction()"\n        ng-disabled="$ctrl.actionInProgress || !endpointGroupForm.$valid"\n        button-spinner="$ctrl.actionInProgress"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},5032:e=>{var t="app/portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form name="$ctrl.redeployGitForm">\n  <div class="col-sm-12 form-section-title"> Redeploy from git repository </div>\n  <div class="form-group text-muted">\n    <div class="col-sm-12">\n      <p> Pull the latest manifest from git and redeploy the application. </p>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <p>\n        <a class="small interactive" ng-click="$ctrl.state.showConfig = !$ctrl.state.showConfig">\n          <i ng-class="[\'fa space-right\', { \'fa-minus\': $ctrl.state.showConfig, \'fa-plus\': !$ctrl.state.showConfig }]" aria-hidden="true"></i>\n          {{ $ctrl.state.showConfig ? \'Hide\' : \'Advanced\' }} configuration\n        </a>\n      </p>\n    </div>\n  </div>\n  <git-form-ref-field ng-if="$ctrl.state.showConfig" value="$ctrl.formValues.RefName" on-change="($ctrl.onChangeRef)"></git-form-ref-field>\n  <git-form-auth-fieldset\n    ng-if="$ctrl.state.showConfig"\n    model="$ctrl.formValues"\n    is-edit="$ctrl.state.isEdit"\n    on-change="($ctrl.onChange)"\n    show-auth-explanation="true"\n  ></git-form-auth-fieldset>\n\n  <div class="col-sm-12 form-section-title"></div>\n  \x3c!-- #Git buttons --\x3e\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.pullAndRedeployApplication()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="ctrl.state.redeployInProgress"\n    analytics-on\n    analytics-category="kubernetes"\n    analytics-event="kubernetes-application-edit-git-pull"\n  >\n    <span ng-show="!$ctrl.state.redeployInProgress"> <i class="fa fa-sync space-right" aria-hidden="true"></i> Pull and update application </span>\n    <span ng-show="$ctrl.state.redeployInProgress">...</span>\n  </button>\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.saveGitSettings()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.saveGitSettingsInProgress"\n  >\n    <span ng-show="!$ctrl.state.saveGitSettingsInProgress">  </span>\n    <span ng-show="$ctrl.state.saveGitSettingsInProgress">...</span>\n  </button>\n</form>\n')}]),e.exports=t},96927:e=>{var t="app/portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form name="$ctrl.redeployGitForm">\n  <div class="col-sm-12 form-section-title"> Redeploy from git repository </div>\n  <div class="form-group text-muted">\n    <div class="col-sm-12">\n      <p> Pull the latest manifest from git and redeploy the application. </p>\n    </div>\n  </div>\n  <git-form-auto-update-fieldset model="$ctrl.formValues.AutoUpdate" on-change="($ctrl.onChangeAutoUpdate)"></git-form-auto-update-fieldset>\n  <time-window-display></time-window-display>\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <p>\n        <a class="small interactive" ng-click="$ctrl.state.showConfig = !$ctrl.state.showConfig">\n          <i ng-class="[\'fa space-right\', { \'fa-minus\': $ctrl.state.showConfig, \'fa-plus\': !$ctrl.state.showConfig }]" aria-hidden="true"></i>\n          {{ $ctrl.state.showConfig ? \'Hide\' : \'Advanced\' }} configuration\n        </a>\n      </p>\n    </div>\n  </div>\n  <git-form-ref-field ng-if="$ctrl.state.showConfig" value="$ctrl.formValues.RefName" on-change="($ctrl.onChangeRef)"></git-form-ref-field>\n  <git-form-auth-fieldset\n    ng-if="$ctrl.state.showConfig"\n    model="$ctrl.formValues"\n    is-edit="$ctrl.state.isEdit"\n    on-change="($ctrl.onChange)"\n    show-auth-explanation="true"\n  ></git-form-auth-fieldset>\n\n  <div class="col-sm-12 form-section-title"></div>\n  \x3c!-- #Git buttons --\x3e\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.pullAndRedeployApplication()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || $ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.redeployInProgress"\n    analytics-on\n    analytics-category="kubernetes"\n    analytics-event="kubernetes-application-edit-git-pull"\n  >\n    <span ng-show="!$ctrl.state.redeployInProgress"> <i class="fa fa-sync space-right" aria-hidden="true"></i> Pull and update application </span>\n    <span ng-show="$ctrl.state.redeployInProgress">...</span>\n  </button>\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.saveGitSettings()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || !$ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.saveGitSettingsInProgress"\n    analytics-on\n    analytics-category="kubernetes"\n    analytics-event="kubernetes-application-edit"\n    analytics-properties="$ctrl.buildAnalyticsProperties()"\n  >\n    <span ng-show="!$ctrl.state.saveGitSettingsInProgress">  </span>\n    <span ng-show="$ctrl.state.saveGitSettingsInProgress">...</span>\n  </button>\n</form>\n')}]),e.exports=t},6693:e=>{var t="app/portainer/components/forms/registry-form-aws-ecr/registry-form-ecr.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="registryFormEcr" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      For information on how to generate an Access Key, follow the\n      <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console" target="_blank">AWS guide</a>.\n    </span>\n  </div>\n\n  <div class="col-sm-12 form-section-title"> ECR connection details </div>\n\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="my-ecr-registry" required auto-focus />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormEcr.registry_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormEcr.registry_name.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n\n  \x3c!-- url-input --\x3e\n  <div class="form-group">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n      Registry URL\n      <portainer-tooltip position="bottom" message="URL of an Amazon Elastic Container Registry, which contains an account id and region."></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        id="registry_url"\n        name="registry_url"\n        ng-model="$ctrl.model.URL"\n        placeholder="aws-account-id.dkr.ecr.us-east-1.amazonaws.com/"\n        required\n      />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormEcr.registry_url.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormEcr.registry_url.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- url-input --\x3e\n\n  \x3c!-- authentication-checkbox --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <label class="control-label text-left">\n        \n        <portainer-tooltip position="bottom" message="Enable this option if you need to specify credentials to connect to a private registry."></portainer-tooltip>\n      </label>\n      <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.model.Authentication" /><i></i> </label>\n    </div>\n  </div>\n  \x3c!-- !authentication-checkbox --\x3e\n\n  <div ng-if="$ctrl.model.Authentication">\n    \x3c!-- aws-access-key --\x3e\n    <div class="form-group">\n      <label for="registry_access_key" class="col-sm-3 col-lg-2 control-label text-left">AWS Access Key</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="registry_access_key" name="registry_access_key" ng-model="$ctrl.model.Username" required />\n      </div>\n    </div>\n    <div class="form-group" ng-show="registryFormEcr.registry_access_key.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="registryFormEcr.registry_access_key.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !aws-access-key --\x3e\n\n    \x3c!-- aws-secret-access-key --\x3e\n    <div class="form-group">\n      <label for="registry_secret_access_key" class="col-sm-3 col-lg-2 control-label text-left">AWS Secret Access Key</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="password" class="form-control" id="registry_secret_access_key" name="registry_secret_access_key" ng-model="$ctrl.model.Password" required />\n      </div>\n    </div>\n    <div class="form-group" ng-show="registryFormEcr.registry_secret_access_key.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="registryFormEcr.registry_secret_access_key.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !aws-secret-access-key --\x3e\n\n    \x3c!-- region --\x3e\n    <div class="form-group">\n      <label for="registry_region" class="col-sm-3 col-lg-2 control-label text-left">Region</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="registry_region" name="registry_region" placeholder="us-west-1" ng-model="$ctrl.model.Ecr.Region" required />\n      </div>\n    </div>\n    <div class="form-group" ng-show="registryFormEcr.registry_region.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="registryFormEcr.registry_region.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !region --\x3e\n  </div>\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !registryFormEcr.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'ecr\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},56440:e=>{var t="app/portainer/components/forms/registry-form-azure/registry-form-azure.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="registryFormAzure" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Azure registry details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="my-azure-registry" required auto-focus />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormAzure.registry_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormAzure.registry_name.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- url-input --\x3e\n  <div class="form-group">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n      Registry URL\n      <portainer-tooltip position="bottom" message="URL of an Azure Container Registry. Any protocol will be stripped."></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="myproject.azurecr.io" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormAzure.registry_url.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormAzure.registry_url.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- url-input --\x3e\n  \x3c!-- credentials-user --\x3e\n  <div class="form-group">\n    <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormAzure.registry_username.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormAzure.registry_username.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-user --\x3e\n  \x3c!-- credentials-password --\x3e\n  <div class="form-group">\n    <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left">   </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormAzure.registry_password.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormAzure.registry_password.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-password --\x3e\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !registryFormAzure.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'azure\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},35778:e=>{var t="app/portainer/components/forms/registry-form-custom/registry-form-custom.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="registryFormCustom" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      Docker requires you to connect to a <a href="https://docs.docker.com/registry/deploying/#running-a-domain-registry" target="_blank">secure registry</a>. You can find more\n      information about how to connect to an insecure registry <a href="https://docs.docker.com/registry/insecure/" target="_blank">in the Docker documentation</a>.\n    </span>\n  </div>\n  <div class="col-sm-12 form-section-title"> Custom registry details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="my-custom-registry" required auto-focus />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormCustom.registry_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormCustom.registry_name.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- url-input --\x3e\n  <div class="form-group">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n      Registry URL\n      <portainer-tooltip position="bottom" message="URL or IP address of a Docker registry. Any protocol and trailing slash will be stripped if present."></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="10.0.0.10:5000 or myregistry.domain.tld" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormCustom.registry_url.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormCustom.registry_url.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- url-input --\x3e\n  \x3c!-- authentication-checkbox --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <label for="registry_auth" class="control-label text-left">\n        \n        <portainer-tooltip position="bottom" message="Enable this option if you need to specify credentials to connect to this registry."></portainer-tooltip>\n      </label>\n      <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.model.Authentication" /><i></i> </label>\n    </div>\n  </div>\n  \x3c!-- !authentication-checkbox --\x3e\n  <div ng-if="$ctrl.model.Authentication">\n    \x3c!-- credentials-user --\x3e\n    <div class="form-group">\n      <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left"></label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n      </div>\n    </div>\n    <div class="form-group" ng-show="registryFormCustom.registry_username.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="registryFormCustom.registry_username.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !credentials-user --\x3e\n    \x3c!-- credentials-password --\x3e\n    <div class="form-group">\n      <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left">   </label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n      </div>\n    </div>\n    <div class="form-group" ng-show="registryFormCustom.registry_password.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="registryFormCustom.registry_password.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !credentials-password --\x3e\n  </div>\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !registryFormCustom.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'custom\' }}"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},85683:e=>{var t="app/portainer/components/forms/registry-form-dockerhub/registry-form-dockerhub.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="registryFormDockerhub" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> DockerHub account details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="dockerhub-prod-us" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormDockerhub.registry_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormDockerhub.registry_name.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- credentials-user --\x3e\n  <div class="form-group">\n    <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left">DockerHub username</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormDockerhub.registry_username.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormDockerhub.registry_username.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-user --\x3e\n  \x3c!-- credentials-password --\x3e\n  <div class="form-group">\n    <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left">DockerHub password</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormDockerhub.registry_password.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormDockerhub.registry_password.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-password --\x3e\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !registryFormDockerhub.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'dockerhub\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},51338:e=>{var t="app/portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" ng-change="$ctrl.onTextFilterChange()" placeholder="..." auto-focus />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Namespace\')">\n                  Namespace\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Namespace\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Namespace\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'PathWithNamespace\')">\n                  Path with namespace\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PathWithNamespace\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'PathWithNamespace\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>Description</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="$ctrl.disableSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.Namespace }}\n              </td>\n              <td>\n                {{ item.Name }}\n              </td>\n              <td>\n                {{ item.PathWithNamespace }}\n              </td>\n              <td>\n                {{ item.Description }}\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No projects available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},62796:e=>{var t="app/portainer/components/forms/registry-form-gitlab/registry-form-gitlab.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="registryFormGitlab" ng-submit="$ctrl.retrieveRegistries()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      <p>\n        For information on how to generate a Gitlab Personal Access Token, follow the\n        <a href="https://gitlab.com/help/user/profile/personal_access_tokens.md" target="_blank">gitlab guide</a>.\n      </p>\n    </span>\n  </div>\n  <div class="col-sm-12 form-section-title"> Gitlab registry connection details </div>\n  \x3c!-- credentials-user --\x3e\n  <div class="form-group">\n    <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormGitlab.registry_username.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormGitlab.registry_username.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-user --\x3e\n  \x3c!-- credentials-pat --\x3e\n  <div class="form-group">\n    <label for="registry_perso_acc_token" class="col-sm-3 col-lg-2 control-label text-left">Personal Access Token </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="registry_perso_acc_token" name="registry_perso_acc_token" ng-model="$ctrl.model.Token" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormGitlab.registry_perso_acc_token.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormGitlab.registry_perso_acc_token.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-pat --\x3e\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <a class="small interactive" ng-if="!$ctrl.state.overrideConfiguration" ng-click="$ctrl.state.overrideConfiguration = true;">\n        <i class="fa fa-wrench space-right" aria-hidden="true"></i> Override default configuration\n      </a>\n      <a class="small interactive" ng-if="$ctrl.state.overrideConfiguration" ng-click="$ctrl.state.overrideConfiguration = false; $ctrl.resetDefaults()">\n        <i class="fa fa-cogs space-right" aria-hidden="true"></i> Use default configuration\n      </a>\n    </div>\n  </div>\n\n  \x3c!-- url-input --\x3e\n  <div class="form-group" ng-if="$ctrl.state.overrideConfiguration">\n    <label for="instance_url" class="col-sm-3 col-lg-2 control-label text-left">\n      Instance URL\n      <portainer-tooltip position="bottom" message="URL of Gitlab instance."></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="instance_url" name="instance_url" ng-model="$ctrl.model.Gitlab.InstanceURL" placeholder="https://gitlab.com" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormGitlab.instance_url.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormGitlab.instance_url.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !url-input --\x3e\n  \x3c!-- url-input --\x3e\n  <div class="form-group" ng-if="$ctrl.state.overrideConfiguration">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n      Registry URL\n      <portainer-tooltip position="bottom" message="URL of Gitlab registry instance."></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="https://registry.gitlab.com" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormGitlab.registry_url.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormGitlab.registry_url.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !url-input --\x3e\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button type="submit" class="btn btn-primary btn-sm" ng-disabled="$ctrl.actionInProgress || !registryFormGitlab.$valid" button-spinner="$ctrl.actionInProgress">\n        <span ng-hide="$ctrl.actionInProgress">Retrieve projects</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n</form>\n<div class="form-horizontal" ng-if="$ctrl.projects">\n  <div class="col-sm-12 form-section-title"> Gitlab projects </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">  Portainer  </span>\n    <span class="col-sm-12 text-muted small">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      If you can\'t select a project, make sure that registry feature is activated on it.\n    </span>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <gitlab-projects-datatable\n        title-text="Gitlab projects"\n        title-icon="fa-project-diagram"\n        dataset="$ctrl.projects"\n        table-key="gitlab_projects"\n        state="$ctrl.state.gitlab"\n        order-by="Name"\n      ></gitlab-projects-datatable>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        ng-click="$ctrl.createRegistries()"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.state.gitlab.selectedItemCount"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'gitlab\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">Create registries</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</div>\n')}]),e.exports=t},64837:e=>{var t="app/portainer/components/forms/registry-form-proget/registry-form-proget.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="registryFormProGet" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <div class="col-sm-12 text-muted small">\n      Any Portainer user that has access to this registry will be able to use the Registry Manager features against the content of any Feed in the ProGet registry that the ProGet\n      user has access to.\n    </div>\n  </div>\n  <div class="col-sm-12 form-section-title"> ProGet registry details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="proget-registry" required auto-focus />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormProGet.registry_name.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormProGet.registry_name.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- url-input --\x3e\n  <div class="form-group">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n      Registry URL\n      <portainer-tooltip position="bottom" message="The URL of the ProGet registry including the Feed name"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="proget.example.com/example-registry" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormProGet.registry_url.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormProGet.registry_url.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- url-input --\x3e\n  \x3c!-- base-url-input --\x3e\n  <div class="form-group">\n    <label for="registry_base_url" class="col-sm-3 col-lg-2 control-label text-left">\n      Base URL\n      <portainer-tooltip position="bottom" message="The base URL of the ProGet registry"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_base_url" name="registry_base_url" ng-model="$ctrl.model.BaseURL" placeholder="proget.example.com" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormProGet.registry_base_url.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormProGet.registry_base_url.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !base-url-input --\x3e\n  <div>\n    \x3c!-- credentials-user --\x3e\n    <div class="form-group">\n      <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left"></label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n      </div>\n    </div>\n    <div class="form-group" ng-show="registryFormProGet.registry_username.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="registryFormProGet.registry_username.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !credentials-user --\x3e\n    \x3c!-- credentials-password --\x3e\n    <div class="form-group">\n      <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left">   </label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n      </div>\n    </div>\n    <div class="form-group" ng-show="registryFormProGet.registry_password.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="registryFormProGet.registry_password.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !credentials-password --\x3e\n  </div>\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !registryFormProGet.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'proget\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},26548:e=>{var t="app/portainer/components/forms/registry-form-quay/registry-form-quay.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="registryFormQuay" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Quay account details </div>\n  \x3c!-- credentials-user --\x3e\n  <div class="form-group">\n    <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left"></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required auto-focus />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormQuay.registry_username.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormQuay.registry_username.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-user --\x3e\n  \x3c!-- credentials-password --\x3e\n  <div class="form-group">\n    <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left">   </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n    </div>\n  </div>\n  <div class="form-group" ng-show="registryFormQuay.registry_password.$invalid">\n    <div class="col-sm-12 small text-warning">\n      <div ng-messages="registryFormQuay.registry_password.$error">\n        <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-password --\x3e\n\n  \x3c!-- organisation-checkbox --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <label class="control-label text-left"> Use organisation registry </label>\n      <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.model.Quay.useOrganisation" /><i></i> </label>\n    </div>\n  </div>\n  \x3c!-- !organisation-checkbox --\x3e\n  <div ng-if="$ctrl.model.Quay.useOrganisation">\n    \x3c!-- organisation_name --\x3e\n    <div class="form-group">\n      <label for="organisation_name" class="col-sm-3 col-lg-2 control-label text-left">Organisation name</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="organisation_name" name="organisation_name" ng-model="$ctrl.model.Quay.organisationName" required />\n      </div>\n    </div>\n    <div class="form-group" ng-show="registryFormQuay.organisation_name.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="registryFormQuay.organisation_name.$error">\n          <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !organisation_name --\x3e\n  </div>\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !registryFormQuay.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'quay\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},11361:e=>{var t="app/portainer/components/forms/stack-from-template-form/stackFromTemplateForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12">\n  <rd-widget>\n    <rd-widget-custom-header icon="$ctrl.template.Logo" title-text="$ctrl.template.Title"></rd-widget-custom-header>\n    <rd-widget-body classes="padding">\n      <form class="form-horizontal" name="stackTemplateForm">\n        \x3c!-- description --\x3e\n        <div ng-if="$ctrl.template.Note">\n          <div class="col-sm-12 form-section-title"> Information </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <div class="template-note" ng-bind-html="$ctrl.template.Note"></div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- !description --\x3e\n        <div class="col-sm-12 form-section-title"> Configuration </div>\n        \x3c!-- name-input --\x3e\n        <div class="form-group">\n          <label for="template_name" class="col-sm-2 control-label text-left"></label>\n          <div class="col-sm-10">\n            <input type="text" name="template_name" class="form-control" ng-model="$ctrl.formValues.name" ng-pattern="$ctrl.nameRegex" placeholder=" myStack" required />\n          </div>\n        </div>\n        <div class="form-group" ng-show="stackTemplateForm.template_name.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="stackTemplateForm.template_name.$error">\n              <p ng-message="pattern">\n                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                <span>This field must consist of lower case alphanumeric characters, \'_\' or \'-\' ( \'my-name\', or \'abc-123\').</span>\n              </p>\n            </div>\n          </div>\n        </div>\n        \x3c!-- !name-input --\x3e\n        \x3c!-- env --\x3e\n        <div ng-repeat="var in $ctrl.template.Env" ng-if="!var.preset || var.select" class="form-group">\n          <label for="field_{{ $index }}" class="col-sm-2 control-label text-left">\n            {{ var.label }}\n            <portainer-tooltip ng-if="var.description" position="bottom" message="{{ var.description }}"></portainer-tooltip>\n          </label>\n          <div class="col-sm-10">\n            <input type="text" class="form-control" ng-if="!var.select" ng-model="var.value" id="field_{{ $index }}" />\n            <select class="form-control" ng-if="var.select" ng-model="var.value" id="field_{{ $index }}">\n              <option selected disabled hidden value="">Select value</option>\n              <option ng-repeat="choice in var.select" value="{{ choice.value }}">{{ choice.text }}</option>\n            </select>\n          </div>\n        </div>\n        \x3c!-- !env --\x3e\n        <ng-transclude ng-transclude-slot="advanced"></ng-transclude>\n\n        \x3c!-- access-control --\x3e\n        <por-access-control-form form-data="$ctrl.formValues.AccessControlData"></por-access-control-form>\n        \x3c!-- !access-control --\x3e\n        \x3c!-- actions --\x3e\n        <div class="col-sm-12 form-section-title"></div>\n        <div class="form-group">\n          <div class="col-sm-12">\n            <button\n              type="button"\n              class="btn btn-primary btn-sm"\n              ng-disabled="$ctrl.state.actionInProgress || !$ctrl.formValues.name || !$ctrl.state.deployable"\n              ng-click="$ctrl.createTemplate()"\n              button-spinner="$ctrl.state.actionInProgress"\n            >\n              <span ng-hide="$ctrl.state.actionInProgress">Deploy the stack</span>\n              <span ng-show="$ctrl.state.actionInProgress">Deployment in progress...</span>\n            </button>\n            <button type="button" class="btn btn-sm btn-default" ng-click="$ctrl.unselectTemplate($ctrl.template)">  </button>\n            <div class="cols-sm-12 small text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px; margin-top: 5px">{{ $ctrl.state.formValidationError }}</div>\n            <div class="cols-sm-12 small text-danger" ng-if="!$ctrl.state.deployable" style="margin-left: 5px; margin-top: 5px"\n              >This template type cannot be deployed on this environment.</div\n            >\n          </div>\n        </div>\n        \x3c!-- !actions --\x3e\n      </form>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},8849:e=>{var t="app/portainer/components/forms/stack-redeploy-git-form/stack-redeploy-git-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form name="$ctrl.redeployGitForm" class="form-horizontal my-8">\n  <div class="col-sm-12 form-section-title"> Redeploy from git repository </div>\n  <git-form-info-panel\n    class-name="text-muted small"\n    url="$ctrl.model.URL"\n    type="stack"\n    config-file-path="$ctrl.model.ConfigFilePath"\n    additional-files="$ctrl.stack.AdditionalFiles"\n  ></git-form-info-panel>\n  <git-form-auto-update-fieldset model="$ctrl.formValues.AutoUpdate" on-change="($ctrl.onChangeAutoUpdate)"></git-form-auto-update-fieldset>\n  <time-window-display></time-window-display>\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <p>\n        <a class="small interactive" ng-click="$ctrl.state.showConfig = !$ctrl.state.showConfig">\n          <i ng-class="{ \'fa fa-minus space-right\': $ctrl.state.showConfig, \'fa fa-plus space-right\': !$ctrl.state.showConfig }" aria-hidden="true"></i>\n          {{ $ctrl.state.showConfig ? \'Hide\' : \'Advanced\' }} configuration\n        </a>\n      </p>\n    </div>\n  </div>\n  <git-form-ref-field ng-if="$ctrl.state.showConfig" value="$ctrl.formValues.RefName" on-change="($ctrl.onChangeRef)"></git-form-ref-field>\n  <git-form-auth-fieldset\n    ng-if="$ctrl.state.showConfig"\n    model="$ctrl.formValues"\n    is-edit="$ctrl.state.isEdit"\n    on-change="($ctrl.onChange)"\n    show-auth-explanation="true"\n  ></git-form-auth-fieldset>\n  <environment-variables-panel\n    ng-model="$ctrl.formValues.Env"\n    explanation=""\n    on-change="($ctrl.onChangeEnvVar)"\n  ></environment-variables-panel>\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.submit()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || $ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.redeployInProgress"\n    analytics-on\n    analytics-event="docker-stack-pull-redeploy"\n    analytics-category="docker"\n  >\n    <span ng-hide="$ctrl.state.redeployInProgress"> <i class="fa fa-sync space-right" aria-hidden="true"></i> Pull and redeploy </span>\n    <span ng-show="$ctrl.state.redeployInProgress">...</span>\n  </button>\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.saveGitSettings()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || !$ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.inProgress"\n    analytics-on\n    analytics-event="docker-stack-update-git-settings"\n    analytics-category="docker"\n    analytics-properties="$ctrl.buildAnalyticsProperties()"\n  >\n    <span ng-hide="$ctrl.state.inProgress">  </span>\n    <span ng-show="$ctrl.state.inProgress">...</span>\n  </button>\n</form>\n')}]),e.exports=t},17775:e=>{var t="app/portainer/components/group-association-table/groupAssociationTable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <table class="table table-hover" data-cy="{{ $ctrl.cyValue }}">\n    <div class="col-sm-12">\n      <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n      <input\n        type="text"\n        class="searchInput"\n        ng-model="$ctrl.paginationState.filter"\n        ng-change="$ctrl.onTextFilterChange()"\n        ng-model-options="{ debounce: 300 }"\n        placeholder="..."\n      />\n    </div>\n    <thead>\n      <tr>\n        <th> Name </th>\n        <th ng-if="$ctrl.showGroups"> Group </th>\n        <th ng-if="$ctrl.showTags"> Tags </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        ng-if="!$ctrl.hasBackendPagination"\n        ng-click="$ctrl.entryClick(item)"\n        class="interactive"\n        dir-paginate="item in $ctrl.dataset | filter:$ctrl.paginationState.filter | itemsPerPage: $ctrl.paginationState.limit"\n        pagination-id="$ctrl.tableType"\n      >\n        <td>\n          {{ item.Name | truncate: 64 }}\n        </td>\n        <td ng-if="$ctrl.showGroups">\n          {{ $ctrl.groupIdToGroupName(item.GroupId) | truncate: 64 }}\n        </td>\n        <td ng-if="$ctrl.showTags">\n          {{ $ctrl.tagIdsToTagNames(item.TagIds) | arraytostr | truncate: 64 }}\n        </td>\n      </tr>\n      <tr\n        ng-if="$ctrl.hasBackendPagination"\n        ng-click="$ctrl.entryClick(item)"\n        class="interactive"\n        dir-paginate="item in $ctrl.dataset | itemsPerPage: $ctrl.paginationState.limit"\n        pagination-id="$ctrl.tableType"\n        total-items="$ctrl.paginationState.totalCount"\n      >\n        <td>\n          {{ item.Name | truncate: 64 }}\n        </td>\n        <td ng-if="$ctrl.showGroups">\n          {{ $ctrl.groupIdToGroupName(item.GroupId) | truncate: 64 }}\n        </td>\n        <td ng-if="$ctrl.showTags">\n          {{ $ctrl.tagIdsToTagNames(item.TagIds) | truncate: 64 }}\n        </td>\n      </tr>\n\n      <tr ng-if="!$ctrl.dataset">\n        <td colspan="3" class="text-center text-muted">...</td>\n      </tr>\n      <tr ng-if="$ctrl.dataset.length === 0">\n        <td colspan="3" class="text-center text-muted">{{ $ctrl.emptyDatasetMessage }}</td>\n      </tr>\n    </tbody>\n  </table>\n  <div class="footer" ng-if="$ctrl.dataset">\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px">  </span>\n          <select ng-model="$ctrl.paginationState.limit" ng-change="$ctrl.onPaginationLimitChanged()">\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls pagination-id="$ctrl.tableType" max-size="5" on-page-change="$ctrl.onPageChanged(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},94081:e=>{var t="app/portainer/components/information-panel-offline/informationPanelOffline.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<information-panel title-text="Offline mode" cant-dismiss="true">\n  <span class="small">\n    <p class="text-muted">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      This environment is currently offline (read-only). Data shown is based on the latest available snapshot.\n    </p>\n    <p class="text-muted">\n      <i class="fa fa-clock" aria-hidden="true" style="margin-right: 2px"></i>\n      Last snapshot: {{ $ctrl.snapshotTime | getisodatefromtimestamp }}\n    </p>\n    <button type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.triggerSnapshot()" ng-if="$ctrl.showRefreshButton">\n      <i class="fa fa-sync space-right" aria-hidden="true"></i>\n    </button>\n  </span>\n</information-panel>\n')}]),e.exports=t},86960:e=>{var t="app/portainer/components/information-panel/informationPanel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <div class="col-sm-12 form-section-title">\n          <span style="float: left">\n            {{ $ctrl.titleText }}\n          </span>\n          <span class="small" style="float: right" ng-if="$ctrl.dismissAction">\n            <a ng-click="$ctrl.dismissAction()"><i class="fa fa-times"></i> dismiss</a>\n          </span>\n        </div>\n        <div class="form-group">\n          <ng-transclude></ng-transclude>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},83297:e=>{var t="app/portainer/components/motd-panel/motdPanel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body classes="motd-body">\n        <style ng-if="$ctrl.motd.Style">\n          {{ $ctrl.motd.Style }}\n        </style>\n        <div ng-style="{{ $ctrl.motd.ContentLayout ? $ctrl.motd.ContentLayout : {} }}">\n          <div class="col-sm-12 form-section-title">\n            <span style="float: left">\n              {{ $ctrl.motd.Title }}\n            </span>\n            <span class="small" style="float: right" ng-if="$ctrl.dismissAction">\n              <a ng-click="$ctrl.dismissAction()"><i class="fa fa-times"></i> dismiss</a>\n            </span>\n          </div>\n          <div class="form-group">\n            <span class="text-muted">\n              <p ng-bind-html="$ctrl.motd.Message"></p>\n            </span>\n          </div>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},52273:(e,t,n)=>{var a='\x3c!-- extension --\x3e\n<div class="blocklist-item" ng-click="$ctrl.goTo($ctrl.model)">\n  <div class="blocklist-item-box">\n    \x3c!-- extension-image --\x3e\n    <span class="blocklist-item-logo">\n      <img class="blocklist-item-logo" ng-if="$ctrl.model.Id == 1 || $ctrl.model.Id == 2 || $ctrl.model.Id == 3" src="'+n(21306)+'" />\n      <img class="blocklist-item-logo" ng-if="$ctrl.model.Id == 4 || $ctrl.model.Id == 5" src="'+n(6186)+'" />\n    </span>\n    \x3c!-- !extension-image --\x3e\n    \x3c!-- extension-details --\x3e\n    <span class="col-sm-12">\n      \x3c!-- blocklist-item-line1 --\x3e\n      <div class="blocklist-item-line">\n        <span>\n          <span class="blocklist-item-title">\n            {{ $ctrl.model.Name }}\n          </span>\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line1 --\x3e\n      \x3c!-- blocklist-item-line2 --\x3e\n      <div class="blocklist-item-line">\n        <span>\n          <span class="blocklist-item-desc">\n            {{ $ctrl.model.ShortDescription }}\n          </span>\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line2 --\x3e\n    </span>\n    \x3c!-- !extension-details --\x3e\n  </div>\n  \x3c!-- !extension --\x3e\n</div>\n',s="app/portainer/components/product-list/product-item/productItem.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},2050:e=>{var t="app/portainer/components/product-list/productList.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa fa-bolt" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n\n      <div class="blocklist">\n        <product-item ng-repeat="product in $ctrl.products" model="product" go-to="$ctrl.goTo"></product-item>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},22746:e=>{var t="app/portainer/components/registry-details/registry-details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row" ng-if="$ctrl.registry">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-plug" title-text="Registry"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>\n                {{ $ctrl.registry.Name }}\n              </td>\n            </tr>\n            <tr>\n              <td>URL</td>\n              <td>\n                {{ $ctrl.registry.URL }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},63010:e=>{var t="app/portainer/components/sensitive-details/sensitive-details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="sensitive-details-container">\n  <div class="text-wrap">{{ $ctrl.key }}</div>\n  <show-hide class="show-hide-container" value="$ctrl.value" use-asterisk="true"></show-hide>\n  <copy-button value="$ctrl.value"></copy-button>\n</div>\n')}]),e.exports=t},39773:e=>{var t="app/portainer/components/show-hide/show-hide.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="small text-muted text-wrap">\n  <span ng-if="!$ctrl.show && $ctrl.useAsterisk">********</span>\n  <span ng-if="$ctrl.show">{{ $ctrl.value }}</span>\n</div>\n\n<button type="button" class="btn btn-link nopadding" ng-click="$ctrl.show = !$ctrl.show" title="Show/Hide value">\n  <div ng-if="!$ctrl.show"> <i class="fa fa-eye-slash"></i> Show</div>\n  <div ng-if="$ctrl.show"> <i class="fa fa-eye"></i> Hide</div>\n</button>\n')}]),e.exports=t},77728:e=>{var t="app/portainer/components/sidebar/sidebar-menu-item/sidebar-menu-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<li class="sidebar-menu-item" ng-class="$ctrl.className">\n  <a ui-state="$ctrl.path" ui-state-params="$ctrl.pathParams" ui-sref-active="active">\n    <ng-transclude></ng-transclude>\n    <span ng-if="$ctrl.iconClass" class="menu-icon fa" ng-class="$ctrl.iconClass"></span>\n  </a>\n</li>\n')}]),e.exports=t},81740:e=>{var t="app/portainer/components/sidebar/sidebar-menu/sidebar-menu.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<li class="sidebar-list sidebar-menu">\n  <sidebar-menu-item path="{{::$ctrl.path }}" path-params="$ctrl.pathParams" icon-class="{{::$ctrl.iconClass}}" data-cy="portainerSidebar-{{ ::$ctrl.label }}">\n    <div class="sidebar-menu-head">\n      <button ng-click="$ctrl.onClickArrow($event)" class="small sidebar-menu-indicator">\n        <i class="fas" ng-class="$ctrl.isOpen() ? \'fa-chevron-down\' : \'fa-chevron-right\'"></i>\n      </button>\n      {{ ::$ctrl.label }}\n    </div>\n  </sidebar-menu-item>\n\n  <div class="sidebar-list-items" ng-if="$ctrl.isOpen()">\n    <ng-transclude></ng-transclude>\n  </div>\n</li>\n')}]),e.exports=t},39835:e=>{var t="app/portainer/components/sidebar/sidebar-section/sidebar-section.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="sidebar-section">\n  <li class="sidebar-title">\n    <span>{{ ::$ctrl.title }}</span>\n  </li>\n\n  <div class="sidebar-section-items" ng-transclude> </div>\n</div>\n')}]),e.exports=t},55419:e=>{var t="app/portainer/components/slider/slider.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <rzslider rz-slider-options="$ctrl.options" rz-slider-model="$ctrl.model"></rzslider>\n</div>\n')}]),e.exports=t},78196:e=>{var t="app/portainer/components/stack-duplication-form/stack-duplication-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div authorization="PortainerStackMigrate">\n  <div class="col-sm-12 form-section-title"> Stack duplication / migration </div>\n  <rd-widget>\n    <rd-widget-body>\n      <form class="form-horizontal" name="dupStackForm">\n        <div class="form-group">\n          <span class="small" style="margin-top: 10px">\n            <p class="text-muted"> This feature allows you to duplicate or migrate this stack. </p>\n          </span>\n        </div>\n\n        <div class="form-group">\n          <input\n            class="form-control"\n            placeholder="Stack name (optional for migration)"\n            aria-placeholder="Stack name"\n            name="new_stack_name"\n            ng-pattern="$ctrl.STACK_NAME_VALIDATION_REGEX"\n            ng-model="$ctrl.formValues.newName"\n          />\n        </div>\n        <div class="form-group" ng-show="dupStackForm.new_stack_name.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="dupStackForm.new_stack_name.$error">\n              <p ng-message="pattern">\n                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                <span>This field must consist of lower case alphanumeric characters, \'_\' or \'-\' ( \'my-name\', or \'abc-123\').</span>\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <endpoint-selector ng-if="$ctrl.endpoints && $ctrl.groups" model="$ctrl.formValues.endpoint" endpoints="$ctrl.endpoints" groups="$ctrl.groups"></endpoint-selector>\n        </div>\n\n        <div class="form-group">\n          <button\n            class="btn btn-sm btn-primary"\n            ng-click="$ctrl.migrateStack()"\n            ng-disabled="$ctrl.isMigrationButtonDisabled()"\n            style="margin-top: 7px; margin-left: 0"\n            button-spinner="$ctrl.state.migrationInProgress"\n          >\n            <span ng-hide="$ctrl.state.migrationInProgress"> <i class="fa fa-long-arrow-alt-right space-right" aria-hidden="true"></i> Migrate </span>\n            <span ng-show="$ctrl.state.migrationInProgress">Migration in progress...</span>\n          </button>\n          <button\n            class="btn btn-sm btn-primary"\n            ng-click="$ctrl.duplicateStack()"\n            ng-disabled="!$ctrl.isFormValidForDuplication() || $ctrl.state.duplicationInProgress || $ctrl.state.migrationInProgress"\n            style="margin-top: 7px; margin-left: 0"\n            button-spinner="$ctrl.state.duplicationInProgress"\n          >\n            <span ng-hide="$ctrl.state.duplicationInProgress"> <i class="fa fa-clone space-right" aria-hidden="true"></i> Duplicate </span>\n            <span ng-show="$ctrl.state.duplicationInProgress">Duplication in progress...</span>\n          </button>\n        </div>\n\n        <div class="form-group">\n          <div ng-if="$ctrl.yamlError && $ctrl.isEndpointSelected()">\n            <span class="text-danger small">{{ $ctrl.yamlError }}</span>\n          </div>\n        </div>\n      </form>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},80240:e=>{var t="app/portainer/components/status-indicator/status-indicator.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<i aria-hidden="true" ng-class="[\'status-indicator\', { ok: $ctrl.ok }]"></i>\n')}]),e.exports=t},17565:e=>{var t="app/portainer/components/tag-selector/tagSelector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-show="$ctrl.model.length > 0" class="col-sm-12" style="padding: 0; margin-bottom: 15px">\n  <label class="col-sm-3 col-lg-2 control-label text-left"> Selected tags </label>\n  <div class="col-sm-9 col-lg-10" style="padding-top: 4px">\n    <span class="tag space-right interactive" ng-repeat="tag in $ctrl.state.selectedTags" ng-click="$ctrl.removeTag(tag)">\n      {{ tag.Name }}\n      <a title="Remove tag" ng-click="$ctrl.removeTag(tag)" style="margin-left: 2px">\n        <span class="fa fa-trash-alt white-icon" aria-hidden="true"></span>\n      </a>\n    </span>\n  </div>\n</div>\n<div class="col-sm-12" style="padding: 0">\n  <label for="tags" class="col-sm-3 col-lg-2 control-label text-left"> Tags </label>\n  <div class="col-sm-9 col-lg-10" ng-if="$ctrl.allowCreate || $ctrl.tags.length > 0">\n    <input\n      type="text"\n      ng-model="$ctrl.state.selectedValue"\n      id="tags"\n      class="form-control"\n      placeholder="Select tags..."\n      uib-typeahead="tag.Id as tag.Name for tag in $ctrl.filterTags($viewValue)"\n      typeahead-on-select="$ctrl.selectTag($item, $model, $label)"\n      typeahead-no-results="$ctrl.state.noResult"\n      typeahead-show-hint="true"\n      typeahead-min-length="0"\n      data-cy="tags-tagInput"\n    />\n  </div>\n  <div class="col-sm-9 col-lg-10" ng-if="!$ctrl.allowCreate && $ctrl.tags.length === 0">\n    <span class="small text-muted"> No tags available. </span>\n  </div>\n</div>\n<div class="col-sm-offset-3 col-lg-offset-2 col-sm-12" ng-if="!$ctrl.allowCreate && $ctrl.state.noResult" style="margin-top: 2px">\n  <span class="small text-muted"> No tags matching your filter. </span>\n</div>\n')}]),e.exports=t},76339:e=>{var t="app/portainer/components/template-list/template-item/templateItem.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- template --\x3e\n<div ng-class="{ \'blocklist-item--selected\': $ctrl.model.Selected }" class="blocklist-item template-item" ng-click="$ctrl.onSelect($ctrl.model)">\n  <div class="blocklist-item-box">\n    \x3c!-- template-image --\x3e\n    <span ng-if="$ctrl.model.Logo">\n      <img class="blocklist-item-logo" ng-src="{{ $ctrl.model.Logo }}" />\n    </span>\n    <span class="blocklist-item-logo" ng-if="!$ctrl.model.Logo">\n      <i class="fa fa-rocket fa-4x blue-icon" aria-hidden="true"></i>\n    </span>\n    \x3c!-- !template-image --\x3e\n    \x3c!-- template-details --\x3e\n    <div class="col-sm-12 template-item-details">\n      \x3c!-- blocklist-item-line1 --\x3e\n      <div class="blocklist-item-line">\n        <span>\n          <span class="blocklist-item-title">\n            {{ $ctrl.model.Title }}\n          </span>\n          <span class="space-left blocklist-item-subtitle">\n            <span ng-if="$ctrl.model.Type != 3">\n              <i class="fab fa-linux" aria-hidden="true" ng-if="$ctrl.model.Platform === 1 || $ctrl.model.Platform === \'linux\' || !$ctrl.model.Platform"></i>\n              <span ng-if="!$ctrl.model.Platform"> &amp; </span>\n              <i class="fab fa-windows" aria-hidden="true" ng-if="$ctrl.model.Platform === 2 || $ctrl.model.Platform === \'windows\' || !$ctrl.model.Platform"></i>\n            </span>\n            <span ng-if="$ctrl.model.Type === 3">\n              <i class="fa fa-dharmachakra" aria-hidden="true"></i>\n            </span>\n            <span>\n              {{ $ctrl.typeLabel }}\n            </span>\n          </span>\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line1 --\x3e\n      <span class="blocklist-item-actions" ng-transclude="actions"></span>\n      \x3c!-- blocklist-item-line2 --\x3e\n      <div class="blocklist-item-line template-item-details-sub">\n        <span class="blocklist-item-desc">\n          {{ $ctrl.model.Description }}\n        </span>\n        <span class="small text-muted" ng-if="$ctrl.model.Categories.length > 0">\n          {{ $ctrl.model.Categories.join(\', \') }}\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line2 --\x3e\n    </div>\n    \x3c!-- !template-details --\x3e\n  </div>\n  \x3c!-- !template --\x3e\n</div>\n')}]),e.exports=t},14309:e=>{var t="app/portainer/components/template-list/templateList.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n\n      <div class="actionBar">\n        <div>\n          <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.templates.new" ng-if="$ctrl.showAddAction">\n            <i class="fa fa-plus space-right" aria-hidden="true"></i>Add template\n          </button>\n          <span ng-class="{ \'pull-right\': $ctrl.showAddAction }" style="width: 25%">\n            <ui-select ng-model="$ctrl.state.selectedCategory">\n              <ui-select-match placeholder="" allow-clear="true">\n                <span>{{ $select.selected }}</span>\n              </ui-select-match>\n              <ui-select-choices repeat="category in ($ctrl.state.categories | filter: $select.search)">\n                <span>{{ category }}</span>\n              </ui-select-choices>\n            </ui-select>\n          </span>\n        </div>\n\n        <div class="small text-muted" style="margin: 15px 0 0 5px">\n          <label for="show_stacks" class="control-label text-left">  </label>\n          <label class="switch" style="margin-left: 20px">\n            <input type="checkbox" name="show_stacks" ng-model="$ctrl.state.showContainerTemplates" ng-change="$ctrl.updateCategories()" /><i></i>\n          </label>\n        </div>\n      </div>\n\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n\n      <div class="blocklist">\n        <template-item\n          ng-repeat="template in $ctrl.templates | filter: $ctrl.filterByTemplateType | filter:$ctrl.filterByCategory | filter:$ctrl.state.textFilter"\n          model="template"\n          type-label="{{ template.Type === 1 ? \'container\' : \'stack\' }}"\n          on-select="($ctrl.selectAction)"\n        >\n          <template-item-actions ng-if="template.Type === 2 || template.Type === 3">\n            <button ng-click="$event.stopPropagation(); $ctrl.duplicateTemplate(template)" class="btn btn-primary btn-xs"> Copy as Custom </button>\n          </template-item-actions>\n        </template-item>\n        <div ng-if="!$ctrl.templates" class="text-center text-muted"> ... </div>\n        <div\n          ng-if="($ctrl.templates | filter: $ctrl.filterByTemplateType | filter: $ctrl.filterByCategory | filter: $ctrl.state.textFilter).length === 0"\n          class="text-center text-muted"\n        >\n          No templates available.\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},42662:e=>{var t="app/portainer/components/theme/theme-settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<information-panel class="theme-information" title-text="">\n  <span class="small text-muted">\n    <p>\n      <i class="fa fa-flask orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        UI \n    </p>\n  </span>\n</information-panel>\n<rd-widget>\n  <rd-widget-header icon="fa-palette" title-text=""></rd-widget-header>\n  <rd-widget-body>\n    <form class="theme-panel">\n      \x3c!-- Theme Selector--\x3e\n      <box-selector radio-name="\'theme\'" value="$ctrl.state.userTheme" options="$ctrl.state.availableThemes" on-change="($ctrl.setTheme)"></box-selector>\n      <button ng-click="$ctrl.updateTheme()" class="btn btn-primary btn-sm"></button>\n      \x3c!-- !Theme --\x3e\n    </form>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},5468:e=>{var t="app/portainer/components/time-window-display/time-window-display.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div ng-if=\"$ctrl.state.timeWindow.Enabled\" class=\"form-group\">\n  <span class=\"col-sm-12 text-muted small\">\n    <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\"></i>\n    A change window is enabled, automatic updates will not occur outside of\n    <span style=\"font-weight: bold\"\n      >{{ $ctrl.state.startTimeUtc | date: 'shortTime' }} - {{ $ctrl.state.endTimeUtc | date: 'shortTime' }} UTC ({{ $ctrl.state.startTimeUser | date: 'shortTime' }} -\n      {{ $ctrl.state.endTimeUser | date: 'shortTime' }} {{ $ctrl.state.dst ? 'DST' : '' }} {{ $ctrl.state.timezone }})</span\n    >.\n  </span>\n</div>\n")}]),e.exports=t},31856:e=>{var t="app/portainer/components/time-window-picker/time-window-picker.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="time-window-wrapper">\n  <div ng-if="$ctrl.state.changeWindow || !$ctrl.state.timeSet">\n    <div class="time-window-container" ng-if="!$ctrl.readOnly">\n      <div\n        class="time-window-item"\n        uib-timepicker\n        readonly-input="true"\n        ng-model="$ctrl.state.setStartTime"\n        hour-step="$ctrl.state.hstep"\n        minute-step="$ctrl.state.mstep"\n        show-meridian="$ctrl.state.ismeridian"\n        ng-change="$ctrl.timeWindowUpdate()"\n      ></div>\n      <div class="time-window-item">to </div>\n      <div\n        class="time-window-item"\n        uib-timepicker\n        readonly-input="true"\n        ng-model="$ctrl.state.setEndTime"\n        hour-step="$ctrl.state.hstep"\n        minute-step="$ctrl.state.mstep"\n        show-meridian="$ctrl.state.ismeridian"\n        ng-change="$ctrl.timeWindowUpdate()"\n      ></div>\n      <div class="time-window-item">\n        <select class="form-control" ng-model="$ctrl.state.timeZoneSelected" ng-options="opt for opt in $ctrl.state.options.timezones" ng-change="$ctrl.timeWindowUpdate()">\n        </select>\n      </div>\n    </div>\n    <div class="time-window-warning">\n      <span><i class="fa fa-exclamation-circle text-warning"></i> </span>\n      <div style="padding: 8px 0px" class="text-warning" ng-show="$ctrl.state.timeError">\n        <i class="fa fa-exclamation-triangle text-warning" aria-hidden="true"></i>\n        The chosen time configuration is invalid\n      </div>\n    </div>\n  </div>\n</div>\n<div class="time-window-warning">\n  <span ng-show="!$ctrl.state.changeWindow && $ctrl.state.timeSet"\n    ><i class="fa fa-exclamation-circle text-warning"></i> \n    <span style="font-weight: bold; color: var(--black-color)">\n      {{ $ctrl.state.utcStartTime | date: \'shortTime\' }} - {{ $ctrl.state.utcEndTime | date: \'shortTime\' }} UTC ({{ $ctrl.state.setStartTime | date: \'shortTime\' }} -\n      {{ $ctrl.state.setEndTime | date: \'shortTime\' }} {{ $ctrl.state.dst ? \'DST\' : \'\' }} {{ $ctrl.state.timeZoneSelected }})\n    </span>\n    will not occur.\n  </span>\n  <div ng-show="$ctrl.state.timeSet" class="action-link-container">\n    <button type="button" class="btn btn-primary btn-sm" ng-click="$ctrl.toggleChangeWindow()">{{ $ctrl.state.changeWindow ? \'\' : \'\' }}</button>\n  </div>\n</div>\n')}]),e.exports=t},38491:e=>{var t="app/portainer/license-management/add-license.view/add-license.view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""> </rd-header-title>\n  <rd-header-content><a ui-sref="portainer.licenses"></a> &gt; Add Licenses</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <licenses-form licenses="$ctrl.licenses" on-submit-success="($ctrl.onSubmitSuccess)"></licenses-form>\n  </div>\n</div>\n')}]),e.exports=t},12979:e=>{var t="app/portainer/license-management/add-license.view/licenses-form/license-item/license-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="$ctrl.form">\n  <div class="form-group">\n    <div class="col-sm-12 license-item">\n      <div class="license-input-wrapper">\n        <div class="license-input">\n          <input type="text" name="licenseInput" class="form-control" ng-model="$ctrl.value" required ng-change="$ctrl.onChange({license:$ctrl.value, index:$ctrl.index})" />\n          <i class="fa license-validation fa-check green-icon space-left" ng-if="$ctrl.keyValidation && $ctrl.keyValidation.status"></i>\n        </div>\n        <div class="small text-warning" style="margin-top: 5px" ng-if="$ctrl.isInvalid()">\n          <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n          <span ng-if="$ctrl.keyValidation && !$ctrl.keyValidation.status"> {{ $ctrl.keyValidation.message }}</span>\n\n          <span ng-if="$ctrl.form.licenseInput.$invalid">\n            <span ng-messages="$ctrl.form.licenseInput.$error">\n              <span ng-message="required"></span>\n            </span>\n          </span>\n        </div>\n        <div class="small text-warning" ng-show=""> </div>\n      </div>\n      <button class="btn btn-sm btn-danger" ng-disabled="$first && $last" ng-click="$ctrl.onRemoveClick({index:$ctrl.index})">\n        <i class="fa fa-trash-alt"></i>\n      </button>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},15507:e=>{var t="app/portainer/license-management/add-license.view/licenses-form/licenses-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-body>\n    <form class="form-horizontal" name="$ctrl.form" novalidate>\n      <div class="form-group">\n        <div class="col-sm-12">\n          <div class="col-sm-12 form-section-title">  </div>\n\n          <div class="small text-muted">  </div>\n          <button class="label label-default interactive" style="border: 0; margin-left: 0; margin-top: 10px" ng-click="$ctrl.addLicense()">\n            <i class="fa fa-plus-circle" aria-hidden="true"></i> \n          </button>\n        </div>\n      </div>\n\n      <license-form-item\n        ng-repeat="license in $ctrl.licenses track by $index"\n        key-validation="$ctrl.keyValidations[license]"\n        value="license"\n        index="$index"\n        on-change="$ctrl.onLicenseChange(license, index)"\n        on-remove-click="$ctrl.removeLicense(index)"\n      ></license-form-item>\n\n      <div class="form-group">\n        <div class="col-sm-12">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-click="$ctrl.submit()"\n            ng-disabled="$ctrl.state.actionInProgress || !$ctrl.isFormValid()"\n            button-spinner="$ctrl.state.actionInProgress"\n            style="margin-left: 0"\n          >\n            <span ng-hide="$ctrl.state.actionInProgress"></span>\n            <span ng-show="$ctrl.state.actionInProgress">...</span>\n          </button>\n          <span class="text-danger" ng-if="$ctrl.state.formError" style="margin-left: 5px">{{ $ctrl.state.formError }}</span>\n        </div>\n      </div>\n    </form>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},25852:e=>{var t="app/portainer/license-management/license-node-panel.component/license-node-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<information-panel ng-if="$ctrl.numberOfNodesExceeded" title-text="License node allowance exceeded">\n  <span class="text-muted small">\n    <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n    The number of nodes for your license has been exceeded. Please contact your administrator.\n  </span>\n</information-panel>\n')}]),e.exports=t},84497:e=>{var t="app/portainer/license-management/licenses.view/license-info/license-info.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<information-panel title-text="">\n  <div ng-if="$ctrl.info.valid" class="text-muted small">\n    <p>\n      Portainer {{ $ctrl.productEdition() }}  {{ $ctrl.info.company }}\n      <span ng-if="$ctrl.info.type !== 1">  {{ $ctrl.info.nodes }} {{ $ctrl.info.nodes !== 1 ? \'\' : \'Node\' }}</span>\n    </p>\n    <p>\n      :\n      <b\n        ><span ng-class="{ \'text-danger\': $ctrl.overUsage() }">{{ $ctrl.usedNodes }}</span\n        >/{{ $ctrl.info.nodes }}</b\n      >\n    </p>\n    <p>\n       <b>{{ $ctrl.expiresAt() }}</b> \n    </p>\n  </div>\n  <p ng-if="!$ctrl.info.valid" class="text-danger small">   </p>\n\n  <div>\n    <a class="btn btn-primary btn-sm" href="https://www.portainer.io/portainer-business-buy-more" target="_blank"> / </a>\n  </div>\n</information-panel>\n')}]),e.exports=t},92856:e=>{var t="app/portainer/license-management/licenses.view/licenses-datatable/licenses-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable licenses-datatable">\n  <rd-widget>\n    <rd-widget-header icon="{{ $ctrl.titleIcon }}" title-text="Licenses"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="actionBar">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n        <button type="button" class="btn btn-sm btn-primary" ui-sref="portainer.licenses.new"> <i class="fa fa-plus space-right" aria-hidden="true"></i>  </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'company\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'company\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'company\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'type\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'type\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'type\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th class="w-md">\n                <a ng-click="$ctrl.changeOrderBy(\'nodes\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'nodes\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'nodes\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th class="w-md">\n                <a ng-click="$ctrl.changeOrderBy(\'expiresAt\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'expiresAt\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'expiresAt\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th class="w-sm">  </th>\n              <th class="w-sm"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.company }}\n              </td>\n              <td>{{ item.type === 1 ? \'Trial\' : \'Subscription\' }}</td>\n              <td>{{ item.nodes ? item.nodes : \'-\' }}</td>\n              <td>{{ item.showExpiresAt }}</td>\n              <td class="center">\n                <i\n                  class="fa"\n                  ng-class="{\n                    \'fa-check text-success\': item.valid,\n                    \'fa-times text-danger\': !item.valid\n                  }"\n                ></i>\n              </td>\n              <td class="center">\n                <button ng-if="item.valid" type="button" class="btn btn-link" style="padding: 0" ng-click="$ctrl.copyLicenseKey(item)" title="">\n                  <i class="fa fa-copy"></i>\n                </button>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted"> No licenses available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},94845:e=>{var t="app/portainer/license-management/licenses.view/licenses.view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Licenses">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.licenses" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="$ctrl.info">\n  <license-info info="$ctrl.info"></license-info>\n</div>\n\n<div class="row" ng-if="$ctrl.licenses">\n  <div class="col-sm-12">\n    <licenses-datatable\n      title-icon="fa-file-signature"\n      table-key="Licenses"\n      order-by="company"\n      dataset="$ctrl.licenses"\n      remove-action="$ctrl.removeAction"\n      copy-license-key="$ctrl.copyLicenseKey"\n    ></licenses-datatable>\n  </div>\n</div>\n')}]),e.exports=t},59154:e=>{var t="app/portainer/oauth/components/oauth-providers-selector/oauth-providers-selector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Provider </div>\n\n<box-selector value="$ctrl.value" options="$ctrl.options" on-change="($ctrl.onChange)" radio-name="\'oauth_provider\'"></box-selector>\n')}]),e.exports=t},11318:e=>{var t="app/portainer/oauth/components/oauth-settings/oauth-settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="oauthSettingsForm">\n  <div class="col-sm-12 form-section-title"> Single Sign-On </div>\n\n  \x3c!-- SSO --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Use SSO\'"\n        tooltip="\'When using SSO the OAuth provider is not forced to prompt for credentials.\'"\n        name="\'use-sso\'"\n        checked="$ctrl.settings.SSO"\n        on-change="($ctrl.updateSSO)"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !SSO --\x3e\n\n  \x3c!-- HideInternalAuth --\x3e\n  <div class="form-group" ng-if="$ctrl.settings.SSO">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Hide internal authentication prompt\'"\n        name="\'hide-internal-auth\'"\n        feature-id="$ctrl.limitedFeature"\n        checked="$ctrl.settings.HideInternalAuth"\n        on-change="($ctrl.onChangeHideInternalAuth)"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !HideInternalAuth --\x3e\n\n  <auto-user-provision-toggle ng-model="$ctrl.settings.OAuthAutoCreateUsers">\n    <field-description>\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with the standard user role. If disabled, users must be created beforehand in Portainer\n      in order to login.\n    </field-description>\n  </auto-user-provision-toggle>\n\n  <div ng-if="$ctrl.settings.OAuthAutoCreateUsers">\n    <div class="form-group">\n      <span class="col-sm-12 text-muted small">\n        <p>The users created by the automatic provisioning feature can be added to a default team on creation.</p>\n        <p>\n          By assigning newly created users to a team, they will be able to access the environments associated to that team. This setting is optional and if not set, newly created\n          users won\'t be able to access any environments.\n        </p>\n      </span>\n    </div>\n    <div class="form-group">\n      <label class="col-sm-3 col-lg-2 control-label text-left">Default team</label>\n      <span class="small text-muted" style="margin-left: 20px" ng-if="$ctrl.teams.length === 0">\n          <a ui-sref="portainer.teams"></a> \n      </span>\n\n      <div class="col-sm-9" ng-if="$ctrl.teams.length > 0">\n        <div class="col-sm-12 small text-muted">\n          <p>\n            <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n            The default team option will be disabled when automatic team membership is enabled\n          </p>\n        </div>\n        <div class="col-xs-11">\n          <select\n            class="form-control"\n            ng-disabled="$ctrl.settings.OAuthAutoMapTeamMemberships"\n            ng-model="$ctrl.settings.DefaultTeamID"\n            ng-options="team.Id as team.Name for team in $ctrl.teams"\n          >\n            <option value="">No team</option>\n          </select>\n        </div>\n        <button\n          type="button"\n          class="btn btn-sm btn-danger"\n          ng-click="$ctrl.settings.DefaultTeamID = null"\n          ng-disabled="!$ctrl.settings.DefaultTeamID || $ctrl.settings.OAuthAutoMapTeamMemberships"\n          ng-if="$ctrl.teams.length > 0"\n        >\n          <i class="fa fa-times" aria-hidden="true"> </i\n        ></button>\n      </div>\n    </div>\n  </div>\n\n  <div class="col-sm-12 form-section-title"> Team membership </div>\n  <div class="form-group">\n    <div class="col-sm-12 text-muted small"> Automatic team membership synchronizes the team membership based on a custom claim in the token from the OAuth provider. </div>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Automatic team membership\'"\n        name="\'tls\'"\n        feature-id="$ctrl.limitedFeature"\n        checked="$ctrl.settings.OAuthAutoMapTeamMemberships"\n        on-change="($ctrl.onToggleAutoTeamMembership)"\n      ></por-switch-field>\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.settings.OAuthAutoMapTeamMemberships">\n    <div class="form-group">\n      <label class="col-sm-3 col-lg-2 control-label text-left">\n        Claim name\n        <portainer-tooltip position="bottom" message="The OpenID Connect UserInfo Claim name that contains the team identifier the user belongs to."></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <div class="col-xs-11 col-lg-10">\n          <input type="text" class="form-control" id="oauth_token_claim_name" ng-model="$ctrl.settings.TeamMemberships.OAuthClaimName" placeholder="groups" />\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-sm-3 col-lg-2 control-label text-left"> Statically assigned teams </label>\n      <div class="col-sm-9 col-lg-10">\n        <span class="label label-default interactive" style="margin-left: 1.4em" ng-click="$ctrl.addTeamMembershipMapping()">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> add team mapping\n        </span>\n\n        <div class="col-sm-12 form-inline" ng-repeat="mapping in $ctrl.settings.TeamMemberships.OAuthClaimMappings" style="margin-top: 0.75em">\n          <div class="input-group input-group-sm col-sm-5">\n            <span class="input-group-addon">claim value regex</span>\n            <input type="text" class="form-control" ng-model="mapping.ClaimValRegex" />\n          </div>\n          <span style="margin: 0px 0.5em">maps to</span>\n          <div class="input-group input-group-sm col-sm-3 col-lg-4">\n            <span class="input-group-addon">team</span>\n            <select\n              class="form-control"\n              ng-init="mapping.Team = mapping.Team || $ctrl.settings.DefaultTeamID"\n              ng-model="mapping.Team"\n              ng-options="team.Id as team.Name for team in $ctrl.teams"\n            >\n              <option selected value="">Select a team</option>\n            </select>\n          </div>\n          <button type="button" class="btn btn-sm btn-danger" ng-click="$ctrl.removeTeamMembership($index)"> <i class="fa fa-trash" aria-hidden="true"> </i></button>\n\n          <div class="small text-warning" ng-show="!mapping.ClaimValRegex" style="margin-top: 0.4em">\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Claim value regex is required.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-sm-12 text-muted small" style="margin-bottom: 0.5em"> The default team will be assigned when the user does not belong to any other team </div>\n      <label class="col-sm-3 col-lg-2 control-label text-left">Default team</label>\n      <span class="small text-muted" style="margin-left: 20px" ng-if="$ctrl.teams.length === 0">\n          <a ui-sref="portainer.teams"></a> \n      </span>\n\n      <div class="col-sm-9" ng-if="$ctrl.teams.length > 0">\n        <div class="col-xs-11">\n          <select class="form-control" ng-model="$ctrl.settings.DefaultTeamID" ng-options="team.Id as team.Name for team in $ctrl.teams">\n            <option value="">No team</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-sm-12 control-label text-left">Admin mapping</label>\n    </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <label for="admin-auto-populate" class="text-muted small" style="margin-bottom: 0.5em; vertical-align: top">\n          Assign admin rights to group(s) <portainer-tooltip position="bottom" message="Complete OAuth configuration below"></portainer-tooltip\n        ></label>\n        <label class="switch" style="margin: 0 30px; vertical-align: top">\n          <input id="admin-auto-populate" type="checkbox" ng-model="$ctrl.settings.TeamMemberships.AdminAutoPopulate" /><i></i>\n        </label>\n        <div style="display: inline-block" ng-if="$ctrl.settings.TeamMemberships.AdminAutoPopulate">\n          <span class="label label-default interactive" ng-click="$ctrl.addAdminClaimRegex()"> <i class="fa fa-plus-circle" aria-hidden="true"></i> add admin mapping </span>\n\n          <div class="form-inline" ng-repeat="mapping in $ctrl.settings.TeamMemberships.AdminGroupClaimsRegexList track by $index" style="margin-top: 0.75em">\n            <div class="input-group input-group-sm">\n              <span class="input-group-addon">claim value regex</span>\n              <input\n                style="min-width: 300px"\n                id="admin-claims_regex_{{ $index }}"\n                type="text"\n                class="form-control"\n                ng-model="$ctrl.settings.TeamMemberships.AdminGroupClaimsRegexList[$index]"\n              />\n            </div>\n            <button type="button" class="btn btn-sm btn-danger" ng-click="$ctrl.removeAdminClaimRegex($index)"> <i class="fa fa-trash" aria-hidden="true"> </i></button>\n            <div class="small text-warning" ng-show="!$ctrl.settings.TeamMemberships.AdminGroupClaimsRegexList[$index]" style="margin-top: 0.4em">\n              <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Claim value regex is required.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <oauth-providers-selector on-change="($ctrl.onSelectProvider)" value="$ctrl.state.provider"></oauth-providers-selector>\n\n  <div class="col-sm-12 form-section-title">OAuth Configuration</div>\n\n  <div class="form-group" ng-if="$ctrl.state.provider == \'microsoft\'">\n    <label for="oauth_microsoft_tenant_id" class="col-sm-3 col-lg-2 control-label text-left">\n      Tenant ID\n      <portainer-tooltip position="bottom" message="ID of the Azure Directory you wish to authenticate against. Also known as the Directory ID"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        id="oauth_microsoft_tenant_id"\n        placeholder="xxxxxxxxxxxxxxxxxxxx"\n        ng-model="$ctrl.state.microsoftTenantID"\n        ng-change="$ctrl.onMicrosoftTenantIDChange()"\n        limited-feature-dir="{{::$ctrl.limitedFeature}}"\n        limited-feature-class="limited-be"\n        limited-feature-disabled\n        limited-feature-tabindex="-1"\n        required\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="oauth_client_id" class="col-sm-3 col-lg-2 control-label text-left">\n      {{ $ctrl.state.provider == \'microsoft\' ? \'Application ID\' : \'Client ID\' }}\n      <portainer-tooltip position="bottom" message="Public identifier of the OAuth application"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        id="oauth_client_id"\n        ng-model="$ctrl.settings.ClientID"\n        placeholder="xxxxxxxxxxxxxxxxxxxx"\n        ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n        ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        tabindex="{{ $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' ? -1 : 0 }}"\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="oauth_client_secret" class="col-sm-3 col-lg-2 control-label text-left">\n      {{ $ctrl.state.provider == \'microsoft\' ? \'Application key\' : \'Client secret\' }}\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="password"\n        class="form-control"\n        id="oauth_client_secret"\n        ng-model="$ctrl.settings.ClientSecret"\n        placeholder="xxxxxxxxxxxxxxxxxxxx"\n        autocomplete="new-password"\n        ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n        ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        tabindex="{{ $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' ? -1 : 0 }}"\n      />\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.state.provider == \'custom\' || $ctrl.state.overrideConfiguration">\n    <div class="form-group">\n      <label for="oauth_authorization_uri" class="col-sm-3 col-lg-2 control-label text-left">\n        Authorization URL\n        <portainer-tooltip\n          position="bottom"\n          message="URL used to authenticate against the OAuth provider. Will redirect the user to the OAuth provider login view"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_authorization_uri"\n          ng-model="$ctrl.settings.AuthorizationURI"\n          placeholder="https://example.com/oauth/authorize"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_access_token_uri" class="col-sm-3 col-lg-2 control-label text-left">\n         URL\n        <portainer-tooltip position="bottom" message="PortainerOAuthURL"></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_access_token_uri"\n          ng-model="$ctrl.settings.AccessTokenURI"\n          placeholder="https://example.com/oauth/token"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_resource_uri" class="col-sm-3 col-lg-2 control-label text-left">\n        Resource URL\n        <portainer-tooltip position="bottom" message="URL used by Portainer to retrieve information about the authenticated user"></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_resource_uri"\n          ng-model="$ctrl.settings.ResourceURI"\n          placeholder="https://example.com/user"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_redirect_uri" class="col-sm-3 col-lg-2 control-label text-left">\n        Redirect URL\n        <portainer-tooltip\n          position="bottom"\n          message="URL used by the OAuth provider to redirect the user after successful authentication. Should be set to your Portainer instance URL"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_redirect_uri"\n          ng-model="$ctrl.settings.RedirectURI"\n          placeholder="http://yourportainer.com/"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_logout_url" class="col-sm-3 col-lg-2 control-label text-left">\n        Logout URL\n        <portainer-tooltip\n          position="bottom"\n          message="URL used by Portainer to redirect the user to the OAuth provider in order to log the user out of the identity provider session."\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_logout_url"\n          ng-model="$ctrl.settings.LogoutURI"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_user_identifier" class="col-sm-3 col-lg-2 control-label text-left">\n        User identifier\n        <portainer-tooltip\n          position="bottom"\n          message="Identifier that will be used by Portainer to create an account for the authenticated user. Retrieved from the resource server specified via the Resource URL field"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_user_identifier"\n          ng-model="$ctrl.settings.UserIdentifier"\n          placeholder="id"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_scopes" class="col-sm-3 col-lg-2 control-label text-left">\n        Scopes\n        <portainer-tooltip\n          position="bottom"\n          message="Scopes required by the OAuth provider to retrieve information about the authenticated user. Refer to your OAuth provider documentation for more information about this"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_scopes"\n          ng-model="$ctrl.settings.Scopes"\n          placeholder="id,email,name"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.state.provider != \'custom\'">\n    <div class="col-sm-12">\n      <a class="small interactive" ng-if="!$ctrl.state.overrideConfiguration" ng-click="$ctrl.state.overrideConfiguration = true;">\n        <i class="fa fa-wrench space-right" aria-hidden="true"></i> Override default configuration\n      </a>\n      <a class="small interactive" ng-if="$ctrl.state.overrideConfiguration" ng-click="$ctrl.useDefaultProviderConfiguration($ctrl.state.provider)">\n        <i class="fa fa-cogs space-right" aria-hidden="true"></i> Use default configuration\n      </a>\n    </div>\n  </div>\n\n  <save-auth-settings-button\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    save-button-disabled="!$ctrl.isOAuthTeamMembershipFormValid() || !$ctrl.isOAuthAdminMappingFormValid() || oauthSettingsForm.$invalid"\n    limited-feature-id="$ctrl.limitedFeature"\n    limited-feature-class="$ctrl.limitedFeatureClass"\n    class-name="\'oauth-save-settings-button\'"\n  ></save-auth-settings-button>\n</ng-form>\n')}]),e.exports=t},27707:e=>{var t="app/portainer/rbac/components/access-viewer/access-viewer-datatable/access-viewer-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <div class="searchBar">\n    <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n    <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" ng-change="$ctrl.onTextFilterChange()" placeholder="..." ng-model-options="{ debounce: 300 }" />\n  </div>\n  <div class="table-responsive">\n    <table class="table table-hover nowrap-cells">\n      <thead>\n        <tr>\n          <th>\n            <a ng-click="$ctrl.changeOrderBy(\'EndpointName\')">\n              \n              <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'EndpointName\' && !$ctrl.state.reverseOrder"></i>\n              <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'EndpointName\' && $ctrl.state.reverseOrder"></i>\n            </a>\n          </th>\n          <th>\n            <a ng-click="$ctrl.changeOrderBy(\'RoleName\')">\n              \n              <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'RoleName\' && !$ctrl.state.reverseOrder"></i>\n              <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'RoleName\' && $ctrl.state.reverseOrder"></i>\n            </a>\n          </th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n        >\n          <td>{{ item.EndpointName }}</td>\n          <td>{{ item.RoleName }}</td>\n          <td\n            >{{ item.TeamName ? \'Team\' : \'User\' }} <code ng-if="item.TeamName">{{ item.TeamName }}</code> access defined on {{ item.AccessLocation }}\n            <code ng-if="item.GroupName">{{ item.GroupName }}</code>\n            <a ng-if="!item.GroupName" ui-sref="portainer.endpoints.endpoint.access({id: item.EndpointId})"\n              ><i style="margin-left: 5px" class="fa fa-users" aria-hidden="true"></i> Manage access\n            </a>\n            <a ng-if="item.GroupName" ui-sref="portainer.groups.group.access({id: item.GroupId})"\n              ><i style="margin-left: 5px" class="fa fa-users" aria-hidden="true"></i> Manage access\n            </a>\n          </td>\n        </tr>\n        <tr ng-if="!$ctrl.dataset">\n          <td colspan="3" class="text-center text-muted"></td>\n        </tr>\n        <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n          <td colspan="3" class="text-center text-muted">The selected user does not have access to any environment(s)</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="footer" ng-if="$ctrl.dataset">\n    <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px">  </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},98538:e=>{var t="app/portainer/rbac/components/access-viewer/access-viewer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12" style="margin-bottom: 0px">\n  <rd-widget>\n    <rd-widget-header icon="fa-user-lock">\n      <header-title>\n        \n        <be-feature-indicator feature="$ctrl.limitedFeature" class="space-left"></be-feature-indicator>\n      </header-title>\n    </rd-widget-header>\n    <rd-widget-body>\n      <form class="form-horizontal">\n        <div class="col-sm-12 form-section-title">  </div>\n        <div class="form-group">\n          <div class="col-sm-12">\n            <span class="small text-muted" ng-if="$ctrl.users.length === 0">  </span>\n            <ui-select ng-if="$ctrl.users.length > 0" ng-model="$ctrl.selectedUser" ng-change="$ctrl.onUserSelect()">\n              <ui-select-match placeholder="">\n                <span>{{ $select.selected.Username }}</span>\n              </ui-select-match>\n              <ui-select-choices repeat="item in ($ctrl.users | filter: $select.search)">\n                <span>{{ item.Username }}</span>\n              </ui-select-choices>\n            </ui-select>\n          </div>\n        </div>\n\n        <div class="col-sm-12 form-section-title">  </div>\n        <div>\n          <div class="small text-muted" style="margin-bottom: 15px">\n            <i class="fa fa-info-circle blue-icon space-right" aria-hidden="true"></i>\n            \n          </div>\n        </div>\n        <access-viewer-datatable table-key="access_viewer" dataset="$ctrl.userRoles" order-by="EndpointName"> </access-viewer-datatable>\n      </form>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},71450:e=>{var t="app/portainer/rbac/components/roles-datatable/roles-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Description\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Description\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Description\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th class="be-visual-indicator-col"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>{{ item.Name }}</td>\n              <td>{{ item.Description }}</td>\n              <td class="be-visual-indicator-col" ng-switch on="$ctrl.isDefaultItem(item)">\n                <span ng-switch-when="false">\n                  <be-feature-indicator feature="$ctrl.limitedFeature"></be-feature-indicator>\n                </span>\n                <b ng-switch-when="true"></b>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No role available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},49458:e=>{var t="app/portainer/rbac/views/roles/roles.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Roles">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.roles" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Role management</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <roles-datatable title-text="Roles" title-icon="fa-file-code" dataset="$ctrl.roles" table-key="roles"></roles-datatable>\n  </div>\n</div>\n\n<div class="row">\n  <access-viewer> </access-viewer>\n</div>\n')}]),e.exports=t},31117:e=>{var t="app/portainer/registry-management/components/registries-repositories-datatable/registryRepositoriesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-model-options="{ debounce: 300 }"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover table-filters nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  Repository\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th> Tags count </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              ng-hide="$ctrl.loading"\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <a ui-sref="portainer.registries.registry.repository({repository: item.Name})" title="{{ item.Name }}">{{ item.Name }}</a>\n              </td>\n              <td>{{ item.TagsCount }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset || $ctrl.loading">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No repository available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},61873:e=>{var t="app/portainer/registry-management/components/registries-repository-tags-datatable/registriesRepositoryTagsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="actionBar" ng-if="$ctrl.advancedFeaturesAvailable">\n        <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n          <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n        </button>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-model-options="{ debounce: 300 }"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>Os/Architecture</th>\n              <th>Image ID</th>\n              <th>Compressed size</th>\n              <th ng-if="$ctrl.advancedFeaturesAvailable"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              ng-hide="$ctrl.loading"\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.registries.registry.repository.tag({tag: item.Name})" title="{{ item.Name }}">{{ item.Name }}</a>\n              </td>\n              <td>{{ item.Os }}/{{ item.Architecture }}</td>\n              <td>{{ item.ImageId | trimshasum }}</td>\n              <td>{{ item.Size | humansize }}</td>\n              <td ng-if="$ctrl.advancedFeaturesAvailable">\n                <span ng-if="!item.Modified">\n                  <a class="interactive" ng-click="item.Modified = true; item.NewName = item.Name; $event.stopPropagation();">\n                    <i class="fa fa-tag" aria-hidden="true"></i> Retag\n                  </a>\n                </span>\n                <span ng-if="item.Modified">\n                  <portainer-tooltip\n                    position="bottom"\n                    message="Tag can only contain alphanumeric (a-zA-Z0-9) and special _ . - characters. Tag must not start with . - characters."\n                  ></portainer-tooltip>\n                  <input class="input-sm" type="text" ng-model="item.NewName" on-enter-key="$ctrl.retagAction(item)" auto-focus ng-click="$event.stopPropagation();" />\n                  <a class="interactive" ng-click="item.Modified = false; $event.stopPropagation();"><i class="fa fa-times"></i></a>\n                  <a class="interactive" ng-click="$ctrl.retagAction(item); $event.stopPropagation();"><i class="fa fa-check-square"></i></a>\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.loading">\n              <td colspan="5" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="!$ctrl.loading && $ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No tag available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }}  </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},54235:e=>{var t="app/portainer/registry-management/views/configure/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Configure registry"></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.registries"></a> &gt; <a ui-sref="portainer.registries.registry({id: $ctrl.registry.Id})">{{ $ctrl.registry.Name }}</a> &gt; Management\n    configuration\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Information </div>\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small">\n              The following configuration will be used to access this <a href="https://docs.docker.com/registry/spec/api/" target="_blank">registry API</a> to provide Portainer\n              management features.\n            </span>\n          </div>\n          <div class="col-sm-12 form-section-title"> Registry details </div>\n          \x3c!-- registry-url-input --\x3e\n          <div class="form-group">\n            <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left"> Registry URL </label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" id="registry_url" ng-model="$ctrl.registry.URL" disabled />\n            </div>\n          </div>\n          \x3c!-- !registry-url-input --\x3e\n          \x3c!-- authentication-checkbox --\x3e\n          <div\n            class="form-group"\n            ng-if="\n              $ctrl.registry.Type === $ctrl.RegistryTypes.CUSTOM ||\n              $ctrl.registry.Type === $ctrl.RegistryTypes.GITLAB ||\n              $ctrl.registry.Type === $ctrl.RegistryTypes.PROGET ||\n              $ctrl.registry.Type === $ctrl.RegistryTypes.ECR\n            "\n          >\n            <div class="col-sm-12">\n              <label for="registry_auth" class="control-label text-left">\n                \n                <portainer-tooltip position="bottom" message="Enable this option if you need to specify credentials to connect to this registry."></portainer-tooltip>\n              </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.model.Authentication" /><i></i> </label>\n            </div>\n          </div>\n          \x3c!-- !authentication-checkbox --\x3e\n          \x3c!-- authentication-credentials --\x3e\n          <div ng-if="$ctrl.model.Authentication">\n            \x3c!-- credentials-user --\x3e\n            <div class="form-group">\n              <label for="credentials_username" class="col-sm-3 col-lg-2 control-label text-left">\n                {{ $ctrl.registry.Type === $ctrl.RegistryTypes.ECR ? \'AWS Access Key\' : \'Username\' }}\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" class="form-control" id="credentials_username" ng-model="$ctrl.model.Username" />\n              </div>\n            </div>\n            \x3c!-- !credentials-user --\x3e\n            \x3c!-- credentials-password --\x3e\n            <div class="form-group">\n              <label for="credentials_password" class="col-sm-3 col-lg-2 control-label text-left">\n                {{ $ctrl.registry.Type === $ctrl.RegistryTypes.ECR ? \'AWS Secret Access Key\' : \'Password\' }}\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="password" class="form-control" id="credentials_password" ng-model="$ctrl.model.Password" placeholder="*******" />\n              </div>\n            </div>\n            \x3c!-- !credentials-password --\x3e\n\n            \x3c!-- region --\x3e\n            <div class="form-group" ng-if="$ctrl.registry.Type == $ctrl.RegistryTypes.ECR">\n              <label for="registry_region" class="col-sm-3 col-lg-2 control-label text-left">Region</label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" class="form-control" id="registry_region" name="registry_region" placeholder="us-west-1" ng-model="$ctrl.model.Region" required />\n              </div>\n            </div>\n            \x3c!-- !region --\x3e\n          </div>\n          \x3c!-- !authentication-credentials --\x3e\n\n          \x3c!-- tls --\x3e\n          <div\n            ng-if="\n              $ctrl.registry.Type === $ctrl.RegistryTypes.CUSTOM ||\n              $ctrl.registry.Type === $ctrl.RegistryTypes.GITLAB ||\n              $ctrl.registry.Type === $ctrl.RegistryTypes.PROGET ||\n              $ctrl.registry.Type === $ctrl.RegistryTypes.ECR\n            "\n          >\n            \x3c!-- tls-checkbox --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label for="tls" class="control-label text-left">\n                  TLS\n                  <portainer-tooltip position="bottom" message="Enable this option if you need to connect to the registry API with TLS."></portainer-tooltip>\n                </label>\n                <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.model.TLS" /><i></i> </label>\n              </div>\n            </div>\n            \x3c!-- !tls-checkbox --\x3e\n            \x3c!-- tls-skip-verify --\x3e\n            <div class="form-group" ng-if="$ctrl.model.TLS">\n              <div class="col-sm-12">\n                <label for="tls" class="control-label text-left">\n                  Skip certificate verification\n                  <portainer-tooltip position="bottom" message="Skip the verification of the server TLS certificate. Not recommended on unsecured networks."></portainer-tooltip>\n                </label>\n                <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.model.TLSSkipVerify" /><i></i> </label>\n              </div>\n            </div>\n            \x3c!-- !tls-skip-verify --\x3e\n            <div class="col-sm-12 form-section-title" ng-if="$ctrl.model.TLS && !$ctrl.model.TLSSkipVerify"> Required TLS files </div>\n            \x3c!-- tls-file-upload --\x3e\n            <div ng-if="$ctrl.model.TLS && !$ctrl.model.TLSSkipVerify">\n              \x3c!-- tls-ca-file-cert --\x3e\n              <div class="form-group">\n                <label for="tls_cert" class="col-sm-3 col-lg-2 control-label text-left">TLS CA certificate</label>\n                <div class="col-sm-9 col-lg-10">\n                  <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.model.TLSCACertFile"></button>\n                  <span style="margin-left: 5px">\n                    {{ $ctrl.model.TLSCACertFile.name }}\n                    <i\n                      class="fa fa-check green-icon"\n                      ng-if="$ctrl.model.TLSCACertFile && $ctrl.model.TLSCACertFile === $ctrl.registry.ManagementConfiguration.TLSConfig.TLSCACertFile"\n                      aria-hidden="true"\n                    ></i>\n                    <i class="fa fa-times red-icon" ng-if="!$ctrl.model.TLSCACertFile" aria-hidden="true"></i>\n                  </span>\n                </div>\n              </div>\n              \x3c!-- !tls-ca-file-cert --\x3e\n              \x3c!-- tls-file-cert --\x3e\n              <div class="form-group">\n                <label for="tls_cert" class="col-sm-3 col-lg-2 control-label text-left">TLS certificate</label>\n                <div class="col-sm-9 col-lg-10">\n                  <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.model.TLSCertFile"></button>\n                  <span style="margin-left: 5px">\n                    {{ $ctrl.model.TLSCertFile.name }}\n                    <i\n                      class="fa fa-check green-icon"\n                      ng-if="$ctrl.model.TLSCertFile && $ctrl.model.TLSCertFile === $ctrl.registry.ManagementConfiguration.TLSConfig.TLSCertFile"\n                      aria-hidden="true"\n                    ></i>\n                    <i class="fa fa-times red-icon" ng-if="!$ctrl.model.TLSCertFile" aria-hidden="true"></i>\n                  </span>\n                </div>\n              </div>\n              \x3c!-- !tls-file-cert --\x3e\n              \x3c!-- tls-file-key --\x3e\n              <div class="form-group">\n                <label class="col-sm-3 col-lg-2 control-label text-left">TLS key</label>\n                <div class="col-sm-9 col-lg-10">\n                  <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.model.TLSKeyFile"></button>\n                  <span style="margin-left: 5px">\n                    {{ $ctrl.model.TLSKeyFile.name }}\n                    <i\n                      class="fa fa-check green-icon"\n                      ng-if="$ctrl.model.TLSKeyFile && $ctrl.model.TLSKeyFile === $ctrl.registry.ManagementConfiguration.TLSConfig.TLSKeyFile"\n                      aria-hidden="true"\n                    ></i>\n                    <i class="fa fa-times red-icon" ng-if="!$ctrl.model.TLSKeyFile" aria-hidden="true"></i>\n                  </span>\n                </div>\n              </div>\n              \x3c!-- !tls-file-key --\x3e\n            </div>\n          </div>\n          \x3c!-- !tls --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.state.testInProgress"\n                ng-click="$ctrl.testConfiguration()"\n                button-spinner="$ctrl.state.testInProgress"\n              >\n                <span ng-hide="$ctrl.state.testInProgress">Test configuration</span>\n                <span ng-show="$ctrl.state.testInProgress">Test in progress...</span>\n              </button>\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.state.updateInProgress || !$ctrl.state.validConfiguration"\n                ng-click="$ctrl.updateConfiguration()"\n                button-spinner="$ctrl.state.updateInProgress"\n              >\n                <span ng-hide="$ctrl.state.updateInProgress">Save configuration</span>\n                <span ng-show="$ctrl.state.updateInProgress">Saving configuration...</span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},36466:e=>{var t="app/portainer/registry-management/views/repositories/edit/progression-modal/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-body>\n    <span class="small text-muted">\n      <p>\n        <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        {{ $ctrl.resolve.message }}\n      </p>\n    </span>\n    <span> &nbsp; {{ $ctrl.resolve.progressLabel }} : {{ $ctrl.resolve.context.progression }}% - {{ $ctrl.resolve.context.elapsedTime | number: 0 }}s </span>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},86133:e=>{var t="app/portainer/registry-management/views/repositories/edit/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.registries.registry.repository" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.registries"></a> &gt; <a ui-sref="portainer.registries.registry.repositories({id: registry.Id})">{{ registry.Name }}</a> &gt;\n    <a ui-sref="portainer.registries.registry.repository()">{{ repository.Name }} </a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <information-panel ng-if="!state.tagsRetrieval.auto" title-text="">\n    <span class="small text-muted">\n      <p>\n        <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        Portainer needs to retrieve additional information to enable <code>tags modifications (addition, removal, rename)</code> and <code>repository removal</code> features.<br />\n        As this repository contains more than <code>{{ state.tagsRetrieval.limit }}</code> tags, the additional retrieval wasn\'t started automatically.<br />\n        Once started you can still navigate this page, leaving the page will cancel the retrieval process.<br />\n        <br />\n        <span style="font-weight: 700">Note:</span> on very large repositories or high latency environments the retrieval process can take a few minutes.\n      </p>\n      <button class="btn btn-sm btn-primary" ng-if="!state.tagsRetrieval.running && short.Tags.length === 0" ng-click="startStopRetrieval()">Start</button>\n      <button class="btn btn-sm btn-danger" ng-if="state.tagsRetrieval.running" ng-click="startStopRetrieval()"></button>\n    </span>\n    <span ng-if="state.tagsRetrieval.running && state.tagsRetrieval.progression !== \'100\'">\n      &nbsp; Retrieval progress : {{ state.tagsRetrieval.progression }}% - {{ state.tagsRetrieval.elapsedTime | number: 0 }}s\n    </span>\n    <span ng-if="!state.tagsRetrieval.running && state.tagsRetrieval.progression === \'100\'">\n      <i class="fa fa-check-circle green-icon"></i> Retrieval completed in {{ state.tagsRetrieval.elapsedTime | number: 0 }}s\n    </span>\n  </information-panel>\n</div>\n\n<div class="row">\n  <div class="col-sm-8">\n    <rd-widget>\n      <rd-widget-header icon="fa-info" title-text=""> </rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Repository</td>\n              <td>\n                {{ repository.Name }}\n              </td>\n              <td>\n                <button class="btn btn-xs btn-danger" ng-if="!state.tagsRetrieval.running && state.tagsRetrieval.progression !== 0" ng-click="removeRepository()">\n                  <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>Delete this repository\n                </button>\n              </td>\n            </tr>\n            <tr>\n              <td>Tags count</td>\n              <td>{{ repository.Tags.length }}</td>\n              <td></td>\n            </tr>\n            <tr ng-if="short.Images.length">\n              <td>Images count</td>\n              <td>{{ short.Images.length }}</td>\n              <td></td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  <div class="col-sm-4" ng-if="short.Images.length > 0">\n    <rd-widget>\n      <rd-widget-header icon="fa-plus" title-text=""> </rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="tag" class="col-sm-3 col-lg-2 control-label text-left"\n              >Tag\n              <portainer-tooltip\n                position="bottom"\n                message="Tag can only contain alphanumeric (a-zA-Z0-9) and special _ . - characters. Tag must not start with . - characters."\n              ></portainer-tooltip>\n            </label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" id="tag" ng-model="formValues.Tag" />\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="image" class="col-sm-3 col-lg-2 control-label text-left"></label>\n            <ui-select class="col-sm-9 col-lg-10" ng-model="formValues.SelectedImage" id="image">\n              <ui-select-match placeholder="" allow-clear="true">\n                <span>{{ $select.selected | trimshasum }}</span>\n              </ui-select-match>\n              <ui-select-choices repeat="image in (short.Images | filter: $select.search)">\n                <span>{{ image | trimshasum }}</span>\n              </ui-select-choices>\n            </ui-select>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.Tag || !formValues.SelectedImage"\n                ng-click="addTag()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Add tag</span>\n                <span ng-show="state.actionInProgress">Adding tag...</span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <registries-repository-tags-datatable\n      title-text=""\n      title-icon="fa-tags"\n      dataset="tags"\n      table-key="registryRepositoryTags"\n      order-by="Name"\n      remove-action="removeTags"\n      retag-action="retagAction"\n      advanced-features-available="short.Images.length > 0"\n      pagination-action="paginationAction"\n      loading="state.loading"\n    >\n    </registries-repository-tags-datatable>\n  </div>\n</div>\n')}]),e.exports=t},51358:e=>{var t="app/portainer/registry-management/views/repositories/tag/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Tag">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.registries.registry.repository.tag" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.registries"></a> &gt; <a ui-sref="portainer.registries.registry.repositories()">{{ $ctrl.registry.Name }}</a> &gt;\n    <a ui-sref="portainer.registries.registry.repository()">{{ $ctrl.context.repository }} </a> &gt;\n    {{ $ctrl.context.tag }}\n  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="$ctrl.details.RepoTags.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa fa-tags" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="row">\n              <div class="pull-left" ng-repeat="tag in $ctrl.details.RepoTags" style="display: table">\n                <div class="input-group col-md-1" style="padding: 0 15px">\n                  <span class="input-group-addon">{{ tag }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="$ctrl.details">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-clone" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ $ctrl.details.Id }}\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.details.Parent">\n              <td>Parent</td>\n              <td>{{ $ctrl.details.Parent }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ $ctrl.details.Created | getisodate }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>Docker {{ $ctrl.details.DockerVersion }} on {{ $ctrl.details.Os }}, {{ $ctrl.details.Architecture }}</td>\n            </tr>\n            <tr ng-if="$ctrl.details.Author">\n              <td></td>\n              <td>{{ $ctrl.details.Author }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="$ctrl.details">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-clone" title-text="Dockerfile details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>CMD</td>\n              <td\n                ><code>{{ $ctrl.details.Command | command }}</code></td\n              >\n            </tr>\n            <tr ng-if="$ctrl.details.Entrypoint">\n              <td></td>\n              <td\n                ><code>{{ $ctrl.details.Entrypoint | command }}</code></td\n              >\n            </tr>\n            <tr ng-if="$ctrl.details.ExposedPorts.length > 0">\n              <td></td>\n              <td>\n                <span class="label label-default space-right" ng-repeat="port in $ctrl.details.ExposedPorts">\n                  {{ port }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.details.Volumes.length > 0">\n              <td></td>\n              <td>\n                <span class="label label-default space-right" ng-repeat="volume in $ctrl.details.Volumes">\n                  {{ volume }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.details.Env.length > 0">\n              <td></td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="var in $ctrl.details.Env">\n                    <td>{{ var|key: \'=\' }}</td>\n                    <td>{{ var|value: \'=\' }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="$ctrl.tag">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-clone" title-text="Image layers"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table id="image-layers" class="table">\n          <thead>\n            <th style="white-space: nowrap">\n              <a ng-click="$ctrl.order(\'Order\')">\n                Order\n                <span ng-show="$ctrl.Sort.Type == \'Order\' && !$ctrl.Sort.Reverse" class="glyphicon glyphicon-chevron-down"></span>\n                <span ng-show="$ctrl.Sort.Type == \'Order\' && $ctrl.Sort.Reverse" class="glyphicon glyphicon-chevron-up"></span>\n              </a>\n            </th>\n            <th>\n              <a ng-click="$ctrl.order(\'CreatedBy\')">\n                Layer\n                <span ng-show="$ctrl.Sort.Type == \'CreatedBy\' && !$ctrl.Sort.Reverse" class="glyphicon glyphicon-chevron-down"></span>\n                <span ng-show="$ctrl.Sort.Type == \'CreatedBy\' && $ctrl.Sort.Reverse" class="glyphicon glyphicon-chevron-up"></span>\n              </a>\n            </th>\n          </thead>\n          <tbody>\n            <tr ng-repeat="layer in $ctrl.history | orderBy:$ctrl.Sort.Type:$ctrl.Sort.Reverse">\n              <td style="white-space: nowrap">\n                {{ layer.Order }}\n              </td>\n              <td class="expand">\n                <div ng-if="layer.CreatedBy.length > 130">\n                  <span id="layer-command-{{ $index }}-full" style="display: none">\n                    {{ layer.CreatedBy }}\n                  </span>\n                  <span id="layer-command-{{ $index }}-short">\n                    {{ layer.CreatedBy | truncate: 130 }}\n                    <span ng-if="layer.CreatedBy.length > 130" style="margin-left: 5px">\n                      <a id="layer-command-expander{{ $index }}" class="btn" ng-click="$ctrl.toggleLayerCommand($index)">\n                        <i class="fa fa-plus-circle" aria-hidden="true"></i>\n                      </a>\n                    </span>\n                  </span>\n                </div>\n                <div ng-if="layer.CreatedBy.length <= 130">\n                  <span id="layer-command-{{ $index }}-full">\n                    {{ layer.CreatedBy }}\n                  </span>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},53617:e=>{var t="app/portainer/registry-management/views/repositories/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Registry repositories">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.registries.registry.repositories" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.registries"></a> &gt;\n    <a ng-if="$ctrl.isAdmin" ui-sref="portainer.registries.registry({id: $ctrl.registry.Id})" ui-sref-opts="{reload:true}">{{ $ctrl.registry.Name }}</a>\n    <span ng-if="!$ctrl.isAdmin">{{ $ctrl.registry.Name }}</span> &gt; Repositories\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <information-panel ng-if="$ctrl.state.displayInvalidConfigurationMessage" title-text="Registry management configuration required">\n    <span class="small text-muted">\n      <p>\n        <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        Portainer was not able to use this registry management features. You might need to update the configuration used by Portainer to access this registry.\n      </p>\n      <p>\n        Note: Portainer registry management features are only supported with registries exposing the\n        <a href="https://docs.docker.com/registry/spec/api/" target="_blank">v2 registry API</a>.\n      </p>\n      <div style="margin-top: 7px">\n        <a ui-sref="portainer.registries.registry.configure({id: $ctrl.registry.Id})"> <i class="fa fa-wrench" aria-hidden="true"></i> Configure this registry </a>\n      </div>\n    </span>\n  </information-panel>\n</div>\n\n<div class="row" ng-if="$ctrl.repositories">\n  <div class="col-sm-12">\n    <registry-repositories-datatable\n      title-text="Repositories"\n      title-icon="fa-book"\n      dataset="$ctrl.repositories"\n      table-key="registryRepositories"\n      order-by="Name"\n      pagination-action="$ctrl.paginationAction"\n      loading="$ctrl.state.loading"\n    >\n    </registry-repositories-datatable>\n  </div>\n</div>\n')}]),e.exports=t},50551:e=>{var t="app/portainer/settings/authentication/auto-user-provision-toggle/auto-user-provision-toggle.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Automatic user provisioning </div>\n<div class="form-group">\n  <span class="col-sm-12 text-muted small" ng-transclude="description"> </span>\n</div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <label for="tls" class="control-label text-left"> Automatic user provisioning </label>\n    <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.ngModel" /><i></i> </label>\n  </div>\n</div>\n')}]),e.exports=t},96677:e=>{var t="app/portainer/settings/authentication/internal-auth/internal-auth.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Information </div>\n<div class="form-group col-sm-12 text-muted small"> When using internal authentication, Portainer will encrypt user passwords and store credentials locally. </div>\n\n<save-auth-settings-button on-save-settings="($ctrl.onSaveSettings)" save-button-state="($ctrl.saveButtonState)"></save-auth-settings-button>\n')}]),e.exports=t},22555:e=>{var t="app/portainer/settings/authentication/ldap/ad-settings/ad-settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="ad-settings" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-class="limited-be">\n  <be-feature-indicator feature="$ctrl.limitedFeatureId" class="my-8 block"></be-feature-indicator>\n\n  <auto-user-provision-toggle ng-model="$ctrl.settings.AutoCreateUsers">\n    <field-description>\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with standard user role and assign them to team(s) which matches to LDAP group name(s).\n      If disabled, users must be created in Portainer beforehand.\n    </field-description>\n  </auto-user-provision-toggle>\n\n  <div>\n    <div class="col-sm-12 form-section-title"> Information </div>\n    <div class="form-group col-sm-12 text-muted small">\n      When using Microsoft AD authentication, Portainer will delegate user authentication to the Domain Controller(s) configured below; if there is no connectivity, Portainer will\n      fallback to internal authentication.\n    </div>\n  </div>\n\n  <div class="col-sm-12 form-section-title"> AD configuration </div>\n\n  <div class="form-group">\n    <div class="col-sm-12 small text-muted">\n      <p>\n        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        You can configure multiple AD Controllers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use\n        the same certificates).\n      </p>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="ldap_url" class="col-sm-3 col-lg-2 control-label text-left" style="display: flex; flex-wrap: wrap">\n      AD Controller\n      <button\n        type="button"\n        class="label label-default interactive"\n        style="border: 0"\n        ng-click="$ctrl.addLDAPUrl()"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      >\n        <i class="fa fa-plus-circle" aria-hidden="true"></i> Add additional server\n      </button>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <div ng-repeat="url in $ctrl.settings.URLs track by $index" style="display: flex; margin-bottom: 10px">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_url"\n          ng-model="$ctrl.settings.URLs[$index]"\n          placeholder=" 10.0.0.10:389 or myldap.domain.tld:389"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        />\n        <button\n          ng-if="$index > 0"\n          class="btn btn-sm btn-danger"\n          type="button"\n          ng-click="$ctrl.removeLDAPUrl($index)"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        >\n          <i class="fa fa-trash" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="ldap_username" class="col-sm-3 control-label text-left">\n      Service Account\n      <portainer-tooltip position="bottom" message="Account that will be used to search for users."></portainer-tooltip>\n    </label>\n    <div class="col-sm-9">\n      <input\n        type="text"\n        class="form-control"\n        id="ldap_username"\n        ng-model="$ctrl.settings.ReaderDN"\n        placeholder="reader@domain.tld"\n        ng-change="$ctrl.onAccountChange($ctrl.settings.ReaderDN)"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="ldap_password" class="col-sm-3 control-label text-left">\n      Service Account Password\n      <portainer-tooltip position="bottom" message="Portainer "></portainer-tooltip>\n    </label>\n    <div class="col-sm-9">\n      <input\n        type="password"\n        class="form-control"\n        id="ldap_password"\n        ng-model="$ctrl.settings.Password"\n        placeholder="password"\n        autocomplete="new-password"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      />\n    </div>\n  </div>\n\n  <ldap-connectivity-check\n    ng-if="!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS"\n    settings="$ctrl.settings"\n    state="$ctrl.state"\n    connectivity-check="$ctrl.connectivityCheck"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-connectivity-check>\n\n  <ldap-settings-security\n    title="AD Connectivity Security"\n    settings="$ctrl.settings"\n    tlsca-cert="$ctrl.tlscaCert"\n    upload-in-progress="$ctrl.state.uploadInProgress"\n    on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-settings-security>\n\n  <ldap-connectivity-check\n    ng-if="$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS"\n    settings="$ctrl.settings"\n    state="$ctrl.state"\n    connectivity-check="$ctrl.connectivityCheck"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-connectivity-check>\n\n  <ldap-user-search\n    style="margin-top: 5px"\n    show-username-format="true"\n    settings="$ctrl.settings.SearchSettings"\n    domain-suffix="{{ $ctrl.domainSuffix }}"\n    base-filter="(objectClass=user)"\n    on-search-click="($ctrl.searchUsers)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-user-search>\n\n  <ldap-group-search\n    style="margin-top: 5px"\n    settings="$ctrl.settings.GroupSearchSettings"\n    domain-suffix="{{ $ctrl.domainSuffix }}"\n    base-filter="(objectClass=group)"\n    on-search-click="($ctrl.searchGroups)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-group-search>\n\n  <ldap-custom-admin-group\n    style="margin-top: 5px"\n    settings="$ctrl.settings"\n    on-search-click="($ctrl.searchAdminGroups)"\n    selected-admin-groups="$ctrl.selectedAdminGroups"\n    default-admin-group-search-filter="\'(objectClass=group)\'"\n  ></ldap-custom-admin-group>\n\n  <ldap-settings-test-login settings="$ctrl.settings" limited-feature-id="$ctrl.limitedFeatureId"></ldap-settings-test-login>\n  <save-auth-settings-button\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n    save-button-disabled="($ctrl.isSaveSettingButtonDisabled())"\n  ></save-auth-settings-button>\n</ng-form>\n')}]),e.exports=t},10386:e=>{var t="app/portainer/settings/authentication/ldap/ldap-connectivity-check/ldap-connectivity-check.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <label for="ldap_password" class="col-sm-3 control-label text-left">\n    Connectivity check\n    <i class="fa fa-check green-icon" style="margin-left: 5px" ng-if="$ctrl.state.successfulConnectivityCheck"></i>\n    <i class="fa fa-times red-icon" style="margin-left: 5px" ng-if="$ctrl.state.failedConnectivityCheck"></i>\n  </label>\n  <div class="col-sm-9">\n    <button\n      type="button"\n      class="btn btn-primary btn-sm"\n      ng-disabled="($ctrl.state.connectivityCheckInProgress) || (!$ctrl.settings.URLs.length) || ((!$ctrl.settings.ReaderDN || !$ctrl.settings.Password) && !$ctrl.settings.AnonymousMode)"\n      ng-click="$ctrl.connectivityCheck()"\n      button-spinner="$ctrl.state.connectivityCheckInProgress"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <span ng-hide="$ctrl.state.connectivityCheckInProgress">Test connectivity</span>\n      <span ng-show="$ctrl.state.connectivityCheckInProgress">Testing connectivity...</span>\n    </button>\n  </div>\n</div>\n')}]),e.exports=t},57498:e=>{var t="app/portainer/settings/authentication/ldap/ldap-custom-admin-group/ldap-custom-admin-group.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> Auto-populate team admins </div>\n\n<rd-widget ng-repeat="config in $ctrl.settings.AdminGroupSearchSettings | limitTo: (1 - $ctrl.settings.AdminGroupSearchSettings)" style="display: block; margin-bottom: 10px">\n  <rd-widget-body>\n    <div class="form-group" ng-if="$index > 0" style="margin-bottom: 10px">\n      <span class="col-sm-12 text-muted small"> Extra search configuration </span>\n    </div>\n\n    <div class="form-group">\n      <label for="ldap_admin_group_basedn_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Base DN\n        <portainer-tooltip position="bottom" message="The distinguished name of the element from which the LDAP server will search for groups."></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_admin_group_basedn_{{ $index }}"\n          ng-model="config.GroupBaseDN"\n          placeholder="dc=ldap,dc=domain,dc=tld"\n          limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n          limited-feature-class="limited-be no-border"\n          limited-feature-disabled\n          limited-feature-tabindex="-1"\n        />\n      </div>\n\n      <label for="ldap_admin_group_att_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Membership Attribute\n        <portainer-tooltip position="bottom" message="LDAP attribute which denotes the group membership."></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_admin_group_att_{{ $index }}"\n          ng-model="config.GroupAttribute"\n          placeholder="member"\n          limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n          limited-feature-class="limited-be no-border"\n          limited-feature-disabled\n          limited-feature-tabindex="-1"\n        />\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="ldap_admin_group_filter_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group \n        <portainer-tooltip position="bottom" message="The LDAP search filter used to select group elements, optional."></portainer-tooltip>\n      </label>\n      <div ng-class="{ \'col-sm-7 col-md-9\': $index, \'col-sm-8 col-md-10\': !$index }">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_admin_group_filter_{{ $index }}"\n          ng-model="config.GroupFilter"\n          placeholder="(objectClass=groupOfNames)"\n          limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n          limited-feature-class="limited-be no-border"\n          limited-feature-disabled\n          limited-feature-tabindex="-1"\n        />\n      </div>\n      <div class="col-sm-1" ng-if="$index > 0">\n        <button class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.onRemoveClick($index)">\n          <i class="fa fa-trash" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button class="label label-default interactive" style="border: 0" ng-click="$ctrl.onAddClick()">\n      <i class="fa fa-plus-circle" aria-hidden="true"></i> add group search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button\n      class="btn btm-sm btn-primary"\n      type="button"\n      ng-click="$ctrl.search()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-tabindex="-1"\n      limited-feature-disabled\n      limited-feature-class="limited-be"\n    >\n      Fetch Admin Group(s)\n    </button>\n    <span ng-if="$ctrl.groups && $ctrl.groups.length === 0" style="margin-left: 30px">\n      <i class="fa fa-exclamation-triangle text-warning" aria-hidden="true"></i> No groups found</span\n    >\n  </div>\n</div>\n\n<div class="form-group">\n  <div class="col-sm-12">\n    <label for="admin-auto-populate" class="control-label text-left text-muted" ng-class="{ \'text-muted\': !$ctrl.enableAssignAdminGroup }"> Assign admin rights to group(s) </label>\n    <label class="switch" style="margin-left: 20px">\n      <input id="admin-auto-populate" ng-disabled="!$ctrl.enableAssignAdminGroup" name="admin-auto-populate" type="checkbox" ng-model="$ctrl.settings.AdminAutoPopulate" /><i></i>\n    </label>\n  </div>\n</div>\n\n<div class="form-group" ng-if="$ctrl.settings.AdminAutoPopulate">\n  <div class="col-sm-12">\n    <label for="group-access" class="control-label text-left"> Select Group(s) </label>\n    <span\n      isteven-multi-select\n      ng-if="$ctrl.enableAssignAdminGroup"\n      input-model="$ctrl.groups"\n      output-model="$ctrl.selectedAdminGroups"\n      button-label="name"\n      item-label="name"\n      tick-property="selected"\n      helper-elements="filter"\n      search-property="name"\n      translation="{nothingSelected: \'Select one or more groups\', search: \'...\'}"\n      style="margin-left: 20px"\n    >\n    </span>\n  </div>\n</div>\n')}]),e.exports=t},64042:e=>{var t="app/portainer/settings/authentication/ldap/ldap-custom-group-search/ldap-custom-group-search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> Group search configurations </div>\n\n<rd-widget ng-repeat="config in $ctrl.settings | limitTo: (1 - $ctrl.settings)" style="display: block; margin-bottom: 10px">\n  <rd-widget-body>\n    <div class="form-group" ng-if="$index > 0" style="margin-bottom: 10px">\n      <span class="col-sm-12 text-muted small"> Extra search configuration </span>\n    </div>\n\n    <div class="form-group">\n      <label for="ldap_group_basedn_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Base DN\n        <portainer-tooltip position="bottom" message="The distinguished name of the element from which the LDAP server will search for groups."></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input type="text" class="form-control" id="ldap_group_basedn_{{ $index }}" ng-model="config.GroupBaseDN" placeholder="dc=ldap,dc=domain,dc=tld" />\n      </div>\n\n      <label for="ldap_group_att_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Membership Attribute\n        <portainer-tooltip position="bottom" message="LDAP attribute which denotes the group membership."></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input type="text" class="form-control" id="ldap_group_att_{{ $index }}" ng-model="config.GroupAttribute" placeholder="member" />\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="ldap_group_filter_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group \n        <portainer-tooltip position="bottom" message="The LDAP search filter used to select group elements, optional."></portainer-tooltip>\n      </label>\n      <div ng-class="{ \'col-sm-7 col-md-9\': $index, \'col-sm-8 col-md-10\': !$index }">\n        <input type="text" class="form-control" id="ldap_group_filter_{{ $index }}" ng-model="config.GroupFilter" placeholder="(objectClass=account)" />\n      </div>\n      <div class="col-sm-1" ng-if="$index > 0">\n        <button class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.onRemoveClick($index)">\n          <i class="fa fa-trash" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button class="label label-default interactive" style="border: 0" ng-click="$ctrl.onAddClick()">\n      <i class="fa fa-plus-circle" aria-hidden="true"></i> add group search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button\n      class="btn btm-sm btn-primary"\n      type="button"\n      ng-click="$ctrl.search()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-tabindex="-1"\n      limited-feature-disabled\n      limited-feature-class="limited-be"\n    >\n      Display User/Group matching\n    </button>\n    <be-feature-indicator feature="$ctrl.limitedFeatureId" class="space-left"></be-feature-indicator>\n  </div>\n</div>\n\n<div ng-if="$ctrl.showTable">\n  <div class="form-group">\n    <ldap-groups-datatable dataset="$ctrl.groups" title-text="Groups" title-icon="fa-users" table-key="ldapGroups"></ldap-groups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},65048:e=>{var t="app/portainer/settings/authentication/ldap/ldap-custom-user-search/ldap-custom-user-search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> User search configurations </div>\n\n<rd-widget ng-repeat="config in $ctrl.settings | limitTo: (1 - $ctrl.settings)" style="display: block; margin-bottom: 10px">\n  <rd-widget-body>\n    <div class="form-group" ng-if="$index > 0" style="margin-bottom: 10px">\n      <span class="col-sm-12 text-muted small"> Extra search configuration </span>\n    </div>\n\n    <div class="form-group">\n      <label for="ldap_basedn_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Base DN\n        <portainer-tooltip position="bottom" message="The distinguished name of the element from which the LDAP server will search for users."></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input type="text" class="form-control" id="ldap_basedn_{{ $index }}" ng-model="config.BaseDN" placeholder="dc=ldap,dc=domain,dc=tld" />\n      </div>\n\n      <label for="ldap_username_att_{{ $index }}" class="col-sm-4 col-md-3 col-lg-2 control-label text-left">\n        Username attribute\n        <portainer-tooltip position="bottom" message="LDAP attribute which denotes the username."></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-3 col-lg-4">\n        <input type="text" class="form-control" id="ldap_username_att_{{ $index }}" ng-model="config.UserNameAttribute" placeholder="uid" />\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="ldap_filter_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        \n        <portainer-tooltip position="bottom" message="The LDAP search filter used to select user elements, optional."></portainer-tooltip>\n      </label>\n      <div ng-class="{ \'col-sm-7 col-md-9\': $index, \'col-sm-8 col-md-10\': !$index }">\n        <input type="text" class="form-control" id="ldap_filter_{{ $index }}" ng-model="config.Filter" placeholder="(objectClass=account)" />\n      </div>\n      <div class="col-sm-1" ng-if="$index > 0">\n        <button class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.onRemoveClick($index)">\n          <i class="fa fa-trash" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button class="label label-default interactive" style="border: 0" ng-click="$ctrl.onAddClick()">\n      <i class="fa fa-plus-circle" aria-hidden="true"></i> add user search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button\n      class="btn btm-sm btn-primary"\n      type="button"\n      ng-click="$ctrl.search()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-disabled\n      limited-feature-class="limited-be"\n      limited-feature-tabindex="-1"\n    >\n      Display Users\n    </button>\n    <be-feature-indicator feature="$ctrl.limitedFeatureId" class="space-left"></be-feature-indicator>\n  </div>\n</div>\n\n<div ng-if="$ctrl.showTable">\n  <div class="form-group">\n    <ldap-users-datatable dataset="$ctrl.users" title-text="" title-icon="fa-users" table-key="ldapUsers" order-by="" reverse-order=""></ldap-users-datatable>\n  </div>\n</div>\n')}]),e.exports=t},79557:e=>{var t="app/portainer/settings/authentication/ldap/ldap-group-search-item/ldap-group-search-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-body>\n    <div ng-if="$ctrl.index > 0" style="margin-bottom: 10px">\n      <span class="text-muted small"> Extra search configuration </span>\n      <button\n        class="btn btn-sm btn-danger"\n        type="button"\n        ng-click="$ctrl.onRemoveClick($ctrl.index)"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      >\n        <i class="fa fa-trash" aria-hidden="true"></i>\n      </button>\n    </div>\n\n    <ldap-settings-dn-builder\n      label="Group Search Path (optional)"\n      suffix="{{ $ctrl.domainSuffix }}"\n      ng-model="$ctrl.config.GroupBaseDN"\n      on-change="($ctrl.onChangeBaseDN)"\n      limited-feature-id="$ctrl.limitedFeatureId"\n    ></ldap-settings-dn-builder>\n\n    <div class="form-group">\n      <label class="col-sm-4 col-md-2 control-label text-left"> Group Base DN </label>\n      <div class="col-sm-8 col-md-10">\n        {{ $ctrl.config.GroupBaseDN }}\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-sm-12" style="margin-bottom: 5px">\n        <label class="control-label text-left"></label>\n        <span class="label label-default interactive" style="margin-left: 10px" ng-click="$ctrl.addGroup()">\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> add another group\n        </span>\n      </div>\n      <div class="col-sm-12" ng-if="$ctrl.groups.length">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="form-group no-margin-last-child" ng-repeat="entry in $ctrl.groups">\n              <div class="col-sm-4">\n                <select\n                  class="form-control"\n                  ng-model="entry.type"\n                  ng-change="$ctrl.onGroupsChange()"\n                  limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n                  limited-feature-tabindex="-1"\n                >\n                  <option value="ou">OU Name</option>\n                  <option value="cn">Folder Name</option>\n                </select>\n              </div>\n              <div class="col-sm-5">\n                <input\n                  class="form-control"\n                  ng-model="entry.value"\n                  ng-change="$ctrl.onGroupsChange()"\n                  limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n                  limited-feature-tabindex="-1"\n                />\n              </div>\n              <div class="col-sm-3 text-right">\n                <button\n                  class="btn btn-sm btn-danger"\n                  type="button"\n                  ng-click="$ctrl.removeGroup($index)"\n                  limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n                  limited-feature-tabindex="-1"\n                >\n                  <i class="fa fa-trash-alt" aria-hidden="true"></i>\n                </button>\n              </div>\n            </div>\n          </rd-widget-body>\n        </rd-widget>\n      </div>\n    </div>\n\n    <div class="form-group no-margin-last-child">\n      <label class="col-sm-4 col-md-2 control-label text-left"> Group Filter </label>\n      <div class="col-sm-8 col-md-10">\n        {{ $ctrl.config.GroupFilter }}\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},3057:e=>{var t="app/portainer/settings/authentication/ldap/ldap-group-search/ldap-group-search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> Group search configurations </div>\n\n<div style="margin-top: 10px" ng-repeat="config in $ctrl.settings | limitTo: (1 - $ctrl.settings)">\n  <ldap-group-search-item\n    config="config"\n    domain-suffix="{{ $ctrl.domainSuffix }}"\n    index="$index"\n    base-filter="{{ $ctrl.baseFilter }}"\n    on-remove-click="($ctrl.onRemoveClick)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-group-search-item>\n</div>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button\n      class="label label-default interactive"\n      style="border: 0"\n      ng-click="$ctrl.onAddClick()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <i class="fa fa-plus-circle" aria-hidden="true"></i> add group search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button class="btn btm-sm btn-primary" type="button" ng-click="$ctrl.search()" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1">\n      Display User/Group matching\n    </button>\n  </div>\n</div>\n\n<div ng-if="$ctrl.showTable">\n  <div class="form-group">\n    <ldap-groups-datatable dataset="$ctrl.groups" title-text="Groups" title-icon="fa-users" table-key="ldapGroups"></ldap-groups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},30629:e=>{var t="app/portainer/settings/authentication/ldap/ldap-groups-datatable/ldap-groups-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  User \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th> Groups </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                {{ item.Name }}\n              </td>\n              <td>\n                <p ng-repeat="group in item.Groups" style="margin: 0">{{ group }}</p>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No groups found.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},15933:e=>{var t="app/portainer/settings/authentication/ldap/ldap-settings-custom/ldap-settings-custom.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div class="col-sm-12 form-section-title"> Information </div>\n  <div class="form-group col-sm-12 text-muted small">\n    When using LDAP authentication, Portainer will delegate user authentication to a LDAP server and fallback to internal authentication if LDAP authentication fails.\n  </div>\n</div>\n\n<div class="col-sm-12 form-section-title"> LDAP configuration </div>\n\n<div class="form-group">\n  <div class="col-sm-12 small text-muted">\n    <p>\n      <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      You can configure multiple LDAP Servers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use the\n      same certificates).\n    </p>\n  </div>\n</div>\n\n<div class="form-group">\n  <label for="ldap_url" class="col-sm-3 col-lg-2 control-label text-left" style="display: flex; flex-wrap: wrap">\n    LDAP Server\n    <button\n      type="button"\n      class="label label-default interactive"\n      style="border: 0"\n      ng-click="$ctrl.addLDAPUrl()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-disabled\n      limited-feature-class="limited-be"\n    >\n      <i class="fa fa-plus-circle" aria-hidden="true"></i> Add additional server\n    </button>\n  </label>\n  <div class="col-sm-9 col-lg-10">\n    <div ng-repeat="url in $ctrl.settings.URLs track by $index" style="display: flex; margin-bottom: 10px">\n      <input type="text" class="form-control" id="ldap_url" ng-model="$ctrl.settings.URLs[$index]" placeholder=" 10.0.0.10:389 or myldap.domain.tld:389" required />\n      <button ng-if="$index > 0" class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.removeLDAPUrl($index)">\n        <i class="fa fa-trash" aria-hidden="true"></i>\n      </button>\n    </div>\n  </div>\n</div>\n\n\x3c!-- Anonymous mode--\x3e\n<div class="form-group">\n  <div class="col-sm-12">\n    <label for="anonymous_mode" class="control-label text-left">\n      Anonymous mode\n      <portainer-tooltip position="bottom" message="Enable this option if the server is configured for Anonymous access."></portainer-tooltip>\n    </label>\n    <label class="switch" style="margin-left: 20px"> <input type="checkbox" id="anonymous_mode" ng-model="$ctrl.settings.AnonymousMode" /><i></i> </label>\n  </div>\n</div>\n\x3c!-- !Anonymous mode--\x3e\n\n<div ng-if="!$ctrl.settings.AnonymousMode">\n  <div class="form-group">\n    <label for="ldap_username" class="col-sm-3 col-lg-2 control-label text-left">\n      Reader DN\n      <portainer-tooltip position="bottom" message="Account that will be used to search for users."></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="ldap_username" ng-model="$ctrl.settings.ReaderDN" placeholder="{{ $ctrl.clickToSetValues.readerDNPlaceholder }}" />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="ldap_password" class="col-sm-3 col-lg-2 control-label text-left">\n      Password\n      <portainer-tooltip position="bottom" message="Portainer "></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="ldap_password" ng-model="$ctrl.settings.Password" placeholder="password" autocomplete="new-password" />\n    </div>\n  </div>\n</div>\n\n<ldap-connectivity-check\n  ng-if="!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS"\n  settings="$ctrl.settings"\n  state="$ctrl.state"\n  connectivity-check="$ctrl.connectivityCheck"\n></ldap-connectivity-check>\n\n<ldap-settings-security\n  settings="$ctrl.settings"\n  tlsca-cert="$ctrl.tlscaCert"\n  upload-in-progress="$ctrl.state.uploadInProgress"\n  on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n></ldap-settings-security>\n\n<ldap-connectivity-check\n  ng-if="$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS"\n  settings="$ctrl.settings"\n  state="$ctrl.state"\n  connectivity-check="$ctrl.connectivityCheck"\n></ldap-connectivity-check>\n\n<ldap-custom-user-search\n  style="margin-top: 5px"\n  settings="$ctrl.settings.SearchSettings"\n  on-search-click="($ctrl.onSearchUsersClick)"\n  limited-feature-id="$ctrl.limitedFeatureId"\n></ldap-custom-user-search>\n<ldap-custom-group-search\n  style="margin-top: 5px"\n  settings="$ctrl.settings.GroupSearchSettings"\n  on-search-click="($ctrl.onSearchGroupsClick)"\n  limited-feature-id="$ctrl.limitedFeatureId"\n></ldap-custom-group-search>\n\n<ldap-custom-admin-group\n  style="margin-top: 5px"\n  settings="$ctrl.settings"\n  on-search-click="($ctrl.onSearchAdminGroupsClick)"\n  selected-admin-groups="$ctrl.selectedAdminGroups"\n  default-admin-group-search-filter="\'(objectClass=groupOfNames)\'"\n  limited-feature-id="$ctrl.limitedFeatureId"\n></ldap-custom-admin-group>\n\n<div limited-feature-dir="{{ $ctrl.limitedFeatureId }}" limited-feature-class="limited-be">\n  <ldap-settings-test-login settings="$ctrl.settings" limited-feature-id="$ctrl.limitedFeatureId" show-be-indicator-if-needed="true"></ldap-settings-test-login>\n  <save-auth-settings-button\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    save-button-disabled="!$ctrl.saveButtonDisabled()"\n    limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n  ></save-auth-settings-button>\n</div>\n')}]),e.exports=t},34778:e=>{var t="app/portainer/settings/authentication/ldap/ldap-settings-dn-builder/ldap-settings-dn-builder.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group ldap-dn-builder">\n  <div class="col-sm-12" style="margin-bottom: 5px">\n    <label class="control-label text-left">{{ $ctrl.label || \'DN entries\' }}</label>\n    <button\n      type="button"\n      class="label label-default interactive"\n      style="margin-left: 10px; border: 0"\n      ng-click="$ctrl.addEntry()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <i class="fa fa-plus-circle" aria-hidden="true"></i> add another entry\n    </button>\n  </div>\n  <div class="col-sm-12" ng-if="$ctrl.entries.length">\n    <rd-widget>\n      <rd-widget-body>\n        <div class="form-group no-margin-last-child" ng-repeat="entry in $ctrl.entries">\n          <div class="col-sm-4">\n            <select class="form-control" ng-model="entry.type" ng-change="$ctrl.onEntriesChange()" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1">\n              <option value="ou">OU Name</option>\n              <option value="cn">Folder Name</option>\n            </select>\n          </div>\n          <div class="col-sm-5">\n            <input\n              class="form-control"\n              ng-model="entry.value"\n              ng-change="$ctrl.onEntriesChange()"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            />\n          </div>\n          <div class="col-sm-3 text-right">\n            <button\n              class="btn btn-sm btn-primary"\n              type="button"\n              ng-disabled="$first"\n              ng-click="$ctrl.moveUp($index)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            >\n              <i class="fa fa-arrow-up" aria-hidden="true"></i>\n            </button>\n            <button\n              class="btn btn-sm btn-primary"\n              type="button"\n              ng-disabled="$last"\n              ng-click="$ctrl.moveDown($index)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            >\n              <i class="fa fa-arrow-down" aria-hidden="true"></i>\n            </button>\n            <button\n              class="btn btn-sm btn-danger"\n              type="button"\n              ng-click="$ctrl.removeEntry($index)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            >\n              <i class="fa fa-trash" aria-hidden="true"></i>\n            </button>\n          </div>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},88006:e=>{var t="app/portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/ldap-settings-group-dn-builder.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <label for="group-name-input" class="col-sm-4 control-label text-left"> Group Name </label>\n  <div class="col-sm-7" style="padding-left: 0">\n    <input\n      type="text"\n      class="form-control"\n      id="group-name-input"\n      ng-model="$ctrl.groupName"\n      ng-change="$ctrl.onGroupNameChange()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    />\n  </div>\n  <div class="col-sm-1">\n    <button\n      type="button"\n      class="btn btn-danger btn-sm"\n      ng-if="$ctrl.onRemoveClick"\n      ng-click="$ctrl.onRemoveClick()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <i class="fa fa-trash" aria-hidden="true"></i>\n    </button>\n  </div>\n</div>\n\n<ldap-settings-dn-builder\n  ng-model="$ctrl.entries"\n  label="Path to group"\n  suffix="{{ $ctrl.suffix }}"\n  on-change="($ctrl.onEntriesChange)"\n  on-remove-click="($ctrl.removeGroup)"\n  limited-feature-id="$ctrl.limitedFeatureId"\n></ldap-settings-dn-builder>\n')}]),e.exports=t},69939:e=>{var t="app/portainer/settings/authentication/ldap/ldap-settings-openldap/ldap-settings-openldap.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-class="limited-be" class="ldap-settings-openldap">\n  <be-feature-indicator feature="$ctrl.limitedFeatureId" class="my-8 block"></be-feature-indicator>\n\n  <div>\n    <div class="col-sm-12 form-section-title"> Information </div>\n    <div class="form-group col-sm-12 text-muted small">\n      When using LDAP authentication, Portainer will delegate user authentication to a LDAP server and fallback to internal authentication if LDAP authentication fails.\n    </div>\n  </div>\n\n  <div class="col-sm-12 form-section-title"> LDAP configuration </div>\n\n  <div class="form-group">\n    <div class="col-sm-12 small text-muted">\n      <p>\n        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        You can configure multiple LDAP Servers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use the\n        same certificates).\n      </p>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="ldap_url" class="col-sm-3 col-lg-2 control-label text-left" style="display: flex; flex-wrap: wrap">\n      LDAP Server\n      <button\n        type="button"\n        class="label label-default interactive"\n        style="border: 0"\n        ng-click="$ctrl.addLDAPUrl()"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      >\n        <i class="fa fa-plus-circle" aria-hidden="true"></i> Add additional server\n      </button>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <div ng-repeat="url in $ctrl.settings.URLs track by $index" style="display: flex; margin-bottom: 10px">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_url"\n          ng-model="$ctrl.settings.URLs[$index]"\n          placeholder=" 10.0.0.10:389 or myldap.domain.tld:389"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        />\n        <button\n          ng-if="$index > 0"\n          class="btn btn-sm btn-danger"\n          type="button"\n          ng-click="$ctrl.removeLDAPUrl($index)"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        >\n          <i class="fa fa-trash" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Anonymous mode--\x3e\n  <div class="form-group">\n    <label for="anonymous_mode" class="control-label text-left col-sm-3" style="padding-top: 0">\n      Anonymous mode\n      <portainer-tooltip position="bottom" message="Enable this option if the server is configured for Anonymous access."></portainer-tooltip>\n    </label>\n    <div class="col-sm-9">\n      <label class="switch">\n        <input\n          type="checkbox"\n          id="anonymous_mode"\n          ng-model="$ctrl.settings.AnonymousMode"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        /><i></i>\n      </label>\n    </div>\n  </div>\n  \x3c!-- !Anonymous mode--\x3e\n\n  <div ng-if="!$ctrl.settings.AnonymousMode">\n    <div class="form-group">\n      <label for="ldap_username" class="col-sm-3 control-label text-left">\n        Reader DN\n        <portainer-tooltip position="bottom" message="Account that will be used to search for users."></portainer-tooltip>\n      </label>\n      <div class="col-sm-9">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_username"\n          ng-model="$ctrl.settings.ReaderDN"\n          placeholder="cn=user,dc=domain,dc=tld"\n          ng-change="$ctrl.onAccountChange($ctrl.settings.ReaderDN)"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="ldap_password" class="col-sm-3 control-label text-left">\n        Password\n        <portainer-tooltip position="bottom" message="Portainer "></portainer-tooltip>\n      </label>\n      <div class="col-sm-9">\n        <input\n          type="password"\n          class="form-control"\n          id="ldap_password"\n          ng-model="$ctrl.settings.Password"\n          placeholder="password"\n          autocomplete="new-password"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        />\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.settings.AnonymousMode">\n    <label for="ldap_domain_root" class="col-sm-3 control-label text-left"> Domain root </label>\n    <div class="col-sm-9">\n      <input\n        type="text"\n        class="form-control"\n        id="ldap_domain_root"\n        ng-model="$ctrl.domainSuffix"\n        placeholder="dc=domain,dc=tld"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      />\n    </div>\n  </div>\n\n  <ldap-connectivity-check\n    ng-if="!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS"\n    settings="$ctrl.settings"\n    state="$ctrl.state"\n    connectivity-check="$ctrl.connectivityCheck"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-connectivity-check>\n\n  <ldap-settings-security\n    title="Connectivity Security"\n    settings="$ctrl.settings"\n    tlsca-cert="$ctrl.tlscaCert"\n    upload-in-progress="$ctrl.state.uploadInProgress"\n    on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-settings-security>\n\n  <ldap-connectivity-check\n    ng-if="$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS"\n    settings="$ctrl.settings"\n    state="$ctrl.state"\n    connectivity-check="$ctrl.connectivityCheck"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-connectivity-check>\n\n  <ldap-user-search\n    style="margin-top: 5px"\n    settings="$ctrl.settings.SearchSettings"\n    domain-suffix="{{ $ctrl.domainSuffix }}"\n    base-filter="(objectClass=inetOrgPerson)"\n    on-search-click="($ctrl.onSearchUsersClick)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-user-search>\n\n  <ldap-group-search\n    style="margin-top: 5px"\n    settings="$ctrl.settings.GroupSearchSettings"\n    domain-suffix="{{ $ctrl.domainSuffix }}"\n    base-filter="(objectClass=groupOfNames)"\n    on-search-click="($ctrl.onSearchGroupsClick)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-group-search>\n\n  <ldap-settings-test-login settings="$ctrl.settings" limited-feature-id="$ctrl.limitedFeatureId"></ldap-settings-test-login>\n  <save-auth-settings-button\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    save-button-disabled="!$ctrl.saveButtonDisabled()"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></save-auth-settings-button>\n</ng-form>\n')}]),e.exports=t},39720:e=>{var t="app/portainer/settings/authentication/ldap/ldap-settings-security/ldap-settings-security.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title">\n  {{ $ctrl.title || \'LDAP security\' }}\n</div>\n\n\x3c!-- starttls --\x3e\n<div class="form-group" ng-if="!$ctrl.settings.TLSConfig.TLS">\n  <label for="tls" class="control-label col-sm-3 text-left" style="padding-top: 0">\n    Use StartTLS\n    <portainer-tooltip\n      position="bottom"\n      message="Enable this option if want to use StartTLS to secure the connection to the server. Ignored if Use TLS is selected."\n    ></portainer-tooltip>\n  </label>\n  <div class="col-sm-9">\n    <label class="switch">\n      <input type="checkbox" ng-model="$ctrl.settings.StartTLS" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" /><i></i>\n    </label>\n  </div>\n</div>\n\x3c!-- !starttls --\x3e\n\n\x3c!-- tls-checkbox --\x3e\n<div class="form-group" ng-if="!$ctrl.settings.StartTLS">\n  <label for="tls" class="control-label col-sm-3 text-left" style="padding-top: 0">\n    Use TLS\n    <portainer-tooltip position="bottom" message="Enable this option if you need to specify TLS certificates to connect to the LDAP server."></portainer-tooltip>\n  </label>\n  <div class="col-sm-9">\n    <label class="switch">\n      <input type="checkbox" ng-model="$ctrl.settings.TLSConfig.TLS" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" /><i></i>\n    </label>\n  </div>\n</div>\n\x3c!-- !tls-checkbox --\x3e\n\n\x3c!-- tls-skip-verify --\x3e\n<div class="form-group">\n  <label for="tls" class="control-label col-sm-3 text-left" style="padding-top: 0">\n    Skip verification of server certificate\n    <portainer-tooltip position="bottom" message="Skip the verification of the server TLS certificate. Not recommended on unsecured networks."></portainer-tooltip>\n  </label>\n  <div class="col-sm-9">\n    <label class="switch">\n      <input type="checkbox" ng-model="$ctrl.settings.TLSConfig.TLSSkipVerify" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" /><i></i>\n    </label>\n  </div>\n</div>\n\x3c!-- !tls-skip-verify --\x3e\n\n\x3c!-- ca-input --\x3e\n<div class="form-group" ng-if="$ctrl.settings.TLSConfig.TLS || ($ctrl.settings.StartTLS && !$ctrl.settings.TLSConfig.TLSSkipVerify)">\n  <label class="col-sm-3 control-label text-left">TLS CA certificate</label>\n  <div class="col-sm-9">\n    <button\n      type="button"\n      class="btn btn-sm btn-primary"\n      ngf-select="$ctrl.onTlscaCertChange($file)"\n      ng-model="$ctrl.tlscaCert"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      Select file\n    </button>\n    <span style="margin-left: 5px">\n      {{ $ctrl.tlscaCert.name }}\n      <i class="fa fa-check green-icon" ng-if="$ctrl.tlscaCert && $ctrl.tlscaCert === $ctrl.settings.TLSConfig.TLSCACert" aria-hidden="true"></i>\n      <i class="fa fa-times red-icon" ng-if="!$ctrl.tlscaCert" aria-hidden="true"></i>\n      <i class="fa fa-circle-notch fa-spin" ng-if="$ctrl.uploadInProgress"></i>\n    </span>\n  </div>\n</div>\n\x3c!-- !ca-input --\x3e\n')}]),e.exports=t},25649:e=>{var t="app/portainer/settings/authentication/ldap/ldap-settings-test-login/ldap-settings-test-login.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Test login </div>\n<div class="form-inline">\n  <div class="form-group no-margin">\n    <label for="ldap_test_username" style="font-size: 0.9em; margin-right: 5px">  </label>\n    <input type="text" class="form-control" id="ldap_test_username" ng-model="$ctrl.username" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" />\n  </div>\n\n  <div class="form-group no-margin">\n    <label for="ldap_test_password" style="font-size: 0.9em; margin-right: 5px"> Password </label>\n    <input\n      type="password"\n      class="form-control"\n      id="ldap_test_password"\n      ng-model="$ctrl.password"\n      autocomplete="new-password"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    />\n  </div>\n\n  <div class="form-group" style="margin: 0">\n    <button\n      type="submit"\n      class="btn btn-primary"\n      ng-disabled="$ctrl.state.testStatus === $ctrl.TEST_STATUS.LOADING || !$ctrl.username || !$ctrl.password"\n      ng-click="$ctrl.testLogin($ctrl.username, $ctrl.password)"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-disabled\n      limited-feature-tabindex="-1"\n    >\n      <span ng-if="$ctrl.state.testStatus !== $ctrl.TEST_STATUS.LOADING">Test</span>\n      <span ng-if="$ctrl.state.testStatus === $ctrl.TEST_STATUS.LOADING">Testing...</span>\n    </button>\n    <i ng-if="$ctrl.state.testStatus === $ctrl.TEST_STATUS.SUCCESS" class="fa fa-check green-icon"></i>\n    <i ng-if="$ctrl.state.testStatus === $ctrl.TEST_STATUS.FAILURE" class="fa fa-times red-icon"></i>\n  </div>\n\n  <be-feature-indicator ng-if="$ctrl.showBeIndicatorIfNeeded" feature="$ctrl.limitedFeatureId" class="space-left"></be-feature-indicator>\n</div>\n')}]),e.exports=t},75634:e=>{var t="app/portainer/settings/authentication/ldap/ldap-settings/ldap-settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <auto-user-provision-toggle ng-model="$ctrl.settings.AutoCreateUsers">\n    <field-description>\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with standard user role and assign them to team(s) which matches to LDAP group name(s).\n      If disabled, users must be created in Portainer beforehand.\n    </field-description>\n  </auto-user-provision-toggle>\n\n  <div class="col-sm-12 form-section-title"> Server Type </div>\n\n  <box-selector\n    style="margin-bottom: 0"\n    radio-name="\'ldap-server-type-selector\'"\n    value="$ctrl.settings.ServerType"\n    options="$ctrl.boxSelectorOptions"\n    on-change="($ctrl.onChangeServerType)"\n  ></box-selector>\n\n  <ldap-settings-custom\n    ng-if="$ctrl.settings.ServerType === $ctrl.SERVER_TYPES.CUSTOM"\n    settings="$ctrl.settings"\n    tlsca-cert="$ctrl.tlscaCert"\n    state="$ctrl.state"\n    on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n    connectivity-check="$ctrl.connectivityCheck"\n    on-search-users-click="($ctrl.searchUsers)"\n    on-search-groups-click="($ctrl.searchGroups)"\n    on-search-admin-groups-click="($ctrl.searchAdminGroups)"\n    selected-admin-groups="$ctrl.selectedAdminGroups"\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    save-button-disabled="($ctrl.isLdapFormValid)"\n  ></ldap-settings-custom>\n\n  <ldap-settings-open-ldap\n    ng-if="$ctrl.settings.ServerType === $ctrl.SERVER_TYPES.OPEN_LDAP"\n    settings="$ctrl.settings"\n    tlsca-cert="$ctrl.tlscaCert"\n    state="$ctrl.state"\n    on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n    connectivity-check="$ctrl.connectivityCheck"\n    on-search-users-click="($ctrl.searchUsers)"\n    on-search-groups-click="($ctrl.searchGroups)"\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    save-button-disabled="($ctrl.isLdapFormValid)"\n  ></ldap-settings-open-ldap>\n</div>\n')}]),e.exports=t},25972:e=>{var t="app/portainer/settings/authentication/ldap/ldap-user-search-item/ldap-user-search-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-body>\n    <div ng-if="$ctrl.index > 0" style="margin-bottom: 10px">\n      <span class="text-muted small"> Extra search configuration </span>\n      <button\n        ng-if="$ctrl.index > 0"\n        class="btn btn-sm btn-danger"\n        type="button"\n        ng-click="$ctrl.onRemoveClick($ctrl.index)"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      >\n        <i class="fa fa-trash" aria-hidden="true"></i>\n      </button>\n    </div>\n\n    <div class="form-group" ng-if="$ctrl.showUsernameFormat">\n      <div class="col-sm-4" style="margin-bottom: 5px">\n        <label class="control-label text-left">Username Format</label>\n      </div>\n      <div class="col-sm-8">\n        <div class="input-group">\n          <div class="input-group-btn">\n            <button\n              class="btn btn-primary"\n              ng-model="$ctrl.config.UserNameAttribute"\n              uib-btn-radio="\'sAMAccountName\'"\n              style="margin-left: 0px"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n              ></button\n            >\n            <button\n              class="btn btn-primary"\n              ng-model="$ctrl.config.UserNameAttribute"\n              uib-btn-radio="\'userPrincipalName\'"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n              >user@domainname</button\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-sm-4 control-label text-left"> Root Domain </label>\n      <div class="col-sm-8">\n        {{ $ctrl.config.BaseDN }}\n      </div>\n    </div>\n\n    <ldap-settings-dn-builder\n      ng-model="$ctrl.config.BaseDN"\n      label="User Search Path (optional)"\n      suffix="{{ $ctrl.domainSuffix }}"\n      on-change="($ctrl.onBaseDNChange)"\n      limited-feature-id="$ctrl.limitedFeatureId"\n    ></ldap-settings-dn-builder>\n\n    <div class="form-group no-margin-last-child">\n      <div class="col-sm-12" style="margin-bottom: 5px">\n        <label class="control-label text-left">Allowed Groups (optional)</label>\n        <button\n          type="button"\n          class="label label-default interactive"\n          style="margin-left: 10px; border: 0"\n          ng-click="$ctrl.addGroup()"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        >\n          <i class="fa fa-plus-circle" aria-hidden="true"></i> add another group\n        </button>\n      </div>\n      <div class="col-sm-12">\n        <div ng-repeat="group in $ctrl.groups track by $index" style="margin-bottom: 10px">\n          <rd-widget>\n            <rd-widget-body>\n              <ldap-settings-group-dn-builder\n                ng-model="group"\n                index="$index"\n                suffix="{{ $ctrl.domainSuffix }}"\n                on-change="($ctrl.onGroupChange)"\n                on-remove-click="($ctrl.removeGroup)"\n                limited-feature-id="$ctrl.limitedFeatureId"\n              ></ldap-settings-group-dn-builder>\n            </rd-widget-body>\n          </rd-widget>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-sm-4 control-label text-left"> User Filter </label>\n      <div class="col-sm-8">\n        {{ $ctrl.config.Filter }}\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},36452:e=>{var t="app/portainer/settings/authentication/ldap/ldap-user-search/ldap-user-search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> User search configurations </div>\n\n<div style="margin-top: 10px" ng-repeat="config in $ctrl.settings | limitTo: (1 - $ctrl.settings)">\n  <ldap-user-search-item\n    index="$index"\n    config="config"\n    domain-suffix="{{ $ctrl.domainSuffix }}"\n    show-username-format="$ctrl.showUsernameFormat"\n    base-filter="{{ $ctrl.baseFilter }}"\n    on-remove-click="($ctrl.onRemoveClick)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-user-search-item>\n</div>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button\n      class="label label-default interactive"\n      style="border: 0"\n      ng-click="$ctrl.onAddClick()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <i class="fa fa-plus-circle" aria-hidden="true"></i> add user search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button class="btn btm-sm btn-primary" type="button" ng-click="$ctrl.search()" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1">\n      Display Users\n    </button>\n  </div>\n</div>\n\n<div ng-if="$ctrl.showTable">\n  <div class="form-group">\n    <ldap-users-datatable dataset="$ctrl.users" title-text="" title-icon="fa-users" table-key="ldapUsers" order-by="" reverse-order=""></ldap-users-datatable>\n  </div>\n</div>\n')}]),e.exports=t},30235:e=>{var t="app/portainer/settings/authentication/ldap/ldap-users-datatable/ldap-users-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  \n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <a ui-sref="portainer.groups.group({id: item.Id})">{{ item }}</a>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No users found.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px">  </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},83133:e=>{var t="app/portainer/settings/authentication/save-auth-settings-button/save-auth-settings-button.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"></div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <button\n      type="button"\n      ng-class="[$ctrl.className, \'btn btn-primary btn-sm\']"\n      ng-click="$ctrl.onSaveSettings()"\n      ng-disabled="$ctrl.saveButtonDisabled || $ctrl.saveButtonState"\n      button-spinner="$ctrl.saveButtonState"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-class="{{::$ctrl.limitedFeatureClass}}"\n    >\n      <span ng-hide="$ctrl.saveButtonState"></span>\n      <span ng-show="$ctrl.saveButtonState">...</span>\n    </button>\n  </div>\n</div>\n')}]),e.exports=t},83791:e=>{var t="app/portainer/settings/general/ssl-certificate/ssl-certificate.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-key" title-text="SSL "></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.sslForm">\n          <span class="small">\n            <p class="text-muted">\n              <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              HTTPsPortainerHTTPHTTPedge\n            </p>\n          </span>\n\n          <por-switch-field checked="$ctrl.formValues.forceHTTPS" label="\' HTTPS\'" on-change="($ctrl.onChangeForceHTTPS)"></por-switch-field>\n\n          <hr />\n\n          <div class="form-group">\n            <span class="col-sm-12">  SSL  HTTPS  </span>\n          </div>\n\n          <div class="form-group">\n            <span class="col-sm-12">  X.509  crtcer  pem  </span>\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formValues.certFile" ngf-pattern="$ctrl.certFilePattern" name="certFile">  </button>\n              <span style="margin-left: 5px">\n                {{ $ctrl.formValues.certFile.name }}\n                <i class="fa fa-times red-icon" ng-if="!$ctrl.formValues.certFile" aria-hidden="true"></i>\n              </span>\n            </div>\n          </div>\n          <div class="form-group col-md-12" ng-show="$ctrl.sslForm.certFile.$invalid">\n            <div class="small text-warning">\n              <div ng-messages="$ctrl.sslForm.certFile.$error">\n                <p ng-message="pattern"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> File type is invalid.</p>\n              </div>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <span class="col-sm-12">  key  pem  </span>\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formValues.keyFile" ngf-pattern="$ctrl.keyFilePattern" name="keyFile">  </button>\n              <span style="margin-left: 5px">\n                {{ $ctrl.formValues.keyFile.name }}\n                <i class="fa fa-times red-icon" ng-if="!$ctrl.formValues.keyFile" aria-hidden="true"></i>\n              </span>\n            </div>\n          </div>\n          <div class="form-group col-md-12" ng-show="$ctrl.sslForm.keyFile.$invalid">\n            <div class="small text-warning">\n              <div ng-messages="$ctrl.sslForm.keyFile.$error">\n                <p ng-message="pattern"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> File type is invalid.</p>\n              </div>\n            </div>\n          </div>\n\n          <hr />\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.state.actionInProgress || !$ctrl.isFormChanged()"\n                ng-click="$ctrl.save()"\n                button-spinner="$ctrl.state.actionInProgress"\n                analytics-on\n                analytics-if="$ctrl.wasHTTPsChanged()"\n                analytics-category="portainer"\n                analytics-event="portainer-settings-edit"\n                analytics-properties="{ metadata: { forceHTTPS: $ctrl.formValues.forceHTTPS } }"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress || $ctrl.state.reloadingPage"></span>\n                <span ng-show="$ctrl.state.actionInProgress">Saving in progress...</span>\n                <span ng-show="$ctrl.state.reloadingPage">Reloading Page...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},79765:e=>{var t="app/portainer/user-activity/activity-logs-view/activity-logs-datatable/activity-logs-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable activity-logs-datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <datatable-titlebar title="" icon="fa-history" feature="{{::$ctrl.feature}}"></datatable-titlebar>\n      <datatable-searchbar on-change="($ctrl.onChangeKeyword)" ng-model="$ctrl.keyword"></datatable-searchbar>\n      <div class="table-responsive">\n        <table class="table table-hover">\n          <thead>\n            <tr>\n              <th class="small-column">\n                <a ng-click="$ctrl.changeSort(\'Timestamp\')">\n                  \n                  <datatable-sort-icon key="Timestamp" selected-sort-key="{{ $ctrl.sort.key }}" reverse-order="$ctrl.sort.desc"></datatable-sort-icon>\n                </a>\n              </th>\n              <th class="small-column">\n                <a ng-click="$ctrl.changeSort(\'Username\')">\n                  \n                  <datatable-sort-icon key="Username" selected-sort-key="{{ $ctrl.sort.key }}" reverse-order="$ctrl.sort.desc"></datatable-sort-icon>\n                </a>\n              </th>\n              <th class="small-column">\n                <a ng-click="$ctrl.changeSort(\'Context\')">\n                  \n                  <datatable-sort-icon key="Context" selected-sort-key="{{ $ctrl.sort.key }}" reverse-order="$ctrl.sort.desc"></datatable-sort-icon>\n                </a>\n              </th>\n\n              <th>  </th>\n              <th>  </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr dir-paginate-start="item in $ctrl.logs | itemsPerPage: $ctrl.limit" total-items="$ctrl.totalItems" current-page="$ctrl.currentPage">\n              <td>\n                {{ item.timestamp | getisodatefromtimestamp }}\n              </td>\n              <td>{{ item.username }}</td>\n              <td>{{ item.context }}</td>\n              <td>\n                {{ item.action }}\n              </td>\n              <td>\n                <button ng-if="item.payload" class="btn btn-link" style="padding: 0" ng-click="item.Expanded = !item.Expanded">\n                  <i class="fa fa-search-plus space-right"></i>\n                </button>\n                <span ng-if="!item.payload">-</span>\n              </td>\n            </tr>\n            <tr dir-paginate-end ng-show="item.Expanded">\n              <td colspan="5">\n                <json-tree object="item.payload" root-name="containerInfo.Id" start-expanded="true"></json-tree>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.logs">\n              <td class="text-center text-muted" colspan="5">...</td>\n            </tr>\n            <tr ng-if="$ctrl.logs.length === 0">\n              <td class="text-center text-muted" colspan="8"> No logs available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.logs">\n        <datatable-pagination limit="$ctrl.limit" on-change-limit="($ctrl.handleChangeLimit)" on-change-page="($ctrl.onChangePage)"></datatable-pagination>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},28459:e=>{var t="app/portainer/user-activity/activity-logs-view/activity-logs-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="." ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <div class="form-horizontal">\n          <div class="form-group">\n            <label for="dateRangeInput" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-6">\n              <date-range-picker\n                id="dateRangeInput"\n                class-name="form-control"\n                start-date="$ctrl.state.date.from"\n                end-date="$ctrl.state.date.to"\n                max-date="$ctrl.today"\n                min-date="$ctrl.minValidDate"\n                on-change="($ctrl.onChangeDate)"\n              ></date-range-picker>\n            </div>\n          </div>\n        </div>\n\n        <p class="text-muted small">\n          <i class="fa fa-info-circle blue-icon space-right" aria-hidden="true"></i>\n          Portainer  7 \n        </p>\n\n        <div>\n          <button type="button" class="btn btn-sm btn-primary" ng-click="$ctrl.export()"> <i class="fa fa-download space-right" aria-hidden="true"></i> CSV </button>\n          <be-feature-indicator feature="$ctrl.limitedFeature"></be-feature-indicator>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n\n    <activity-logs-datatable\n      logs="$ctrl.state.logs"\n      keyword="$ctrl.state.keyword"\n      sort="$ctrl.state.sort"\n      limit="$ctrl.state.limit"\n      context-filter="$ctrl.state.contextFilter"\n      total-items="$ctrl.state.totalItems"\n      current-page="$ctrl.state.currentPage"\n      feature="{{:: $ctrl.limitedFeature}}"\n      on-change-keyword="($ctrl.onChangeKeyword)"\n      on-change-sort="($ctrl.onChangeSort)"\n      on-change-limit="($ctrl.onChangeLimit)"\n      on-change-page="($ctrl.onChangePage)"\n    ></activity-logs-datatable>\n  </div>\n</div>\n')}]),e.exports=t},28572:e=>{var t="app/portainer/user-activity/auth-logs-view/auth-logs-datatable/auth-logs-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <datatable-titlebar title="" icon="fa-history" feature="{{::$ctrl.feature}}"></datatable-titlebar>\n      <datatable-searchbar on-change="($ctrl.onChangeKeyword)" ng-model="$ctrl.keyword"></datatable-searchbar>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeSort(\'Timestamp\')">\n                  \n                  <datatable-sort-icon key="Timestamp" selected-sort-key="{{ $ctrl.sort.key }}" reverse-order="$ctrl.sort.desc"></datatable-sort-icon>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeSort(\'Origin\')">\n                  \n                  <datatable-sort-icon key="Origin" selected-sort-key="{{ $ctrl.sort.key }}" reverse-order="$ctrl.sort.desc"></datatable-sort-icon>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeSort(\'Context\')">\n                  \n                  <datatable-sort-icon key="Context" selected-sort-key="{{ $ctrl.sort.key }}" reverse-order="$ctrl.sort.desc"></datatable-sort-icon>\n                </a>\n                <datatable-filter labels="$ctrl.contextFilterLabels" filter-key="context" state="$ctrl.contextFilter" on-change="($ctrl.onChangeContextFilter)"> </datatable-filter>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeSort(\'Username\')">\n                  \n                  <datatable-sort-icon key="Username" selected-sort-key="{{ $ctrl.sort.key }}" reverse-order="$ctrl.sort.desc"></datatable-sort-icon>\n                </a>\n              </th>\n              <th>\n                \n                <datatable-filter labels="$ctrl.typeFilterLabels" filter-key="type" state="$ctrl.typeFilter" on-change="($ctrl.onChangeTypeFilter)"> </datatable-filter>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr dir-paginate="item in $ctrl.logs | itemsPerPage: $ctrl.limit" total-items="$ctrl.totalItems" current-page="$ctrl.currentPage">\n              <td>\n                {{ item.timestamp | getisodatefromtimestamp }}\n              </td>\n              <td>{{ item.origin }}</td>\n              <td>{{ $ctrl.contextType(item.context) }}</td>\n              <td>{{ item.username }}</td>\n              <td>\n                {{ $ctrl.activityType(item.type) }}\n                <i\n                  class="fa"\n                  ng-class="{\n                    \'fa-check text-success\': $ctrl.isAuthSuccess(item.type),\n                    \'fa-times text-danger\': $ctrl.isAuthFailure(item.type)\n                  }"\n                ></i>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.logs">\n              <td class="text-center text-muted" colspan="5">...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.logs.length === 0">\n              <td class="text-center text-muted" colspan="8"> No logs available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.logs">\n        <datatable-pagination limit="$ctrl.limit" on-change-limit="($ctrl.handleChangeLimit)" on-change-page="($ctrl.onChangePage)"></datatable-pagination>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},22261:e=>{var t="app/portainer/user-activity/auth-logs-view/auth-logs-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.authLogs" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <div class="form-horizontal">\n          <div class="form-group">\n            <label for="dateRangeInput" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-6">\n              <date-range-picker\n                id="dateRangeInput"\n                class-name="form-control"\n                start-date="$ctrl.state.date.from"\n                end-date="$ctrl.state.date.to"\n                max-date="$ctrl.today"\n                min-date="$ctrl.minValidDate"\n                on-change="($ctrl.onChangeDate)"\n              ></date-range-picker>\n            </div>\n          </div>\n        </div>\n\n        <p class="text-muted small">\n          <i class="fa fa-info-circle blue-icon space-right" aria-hidden="true"></i>\n          Portainer  7 \n        </p>\n\n        <div>\n          <button type="button" class="btn btn-sm btn-primary" ng-click="$ctrl.export()"> <i class="fa fa-download space-right" aria-hidden="true"></i> CSV </button>\n          <be-feature-indicator feature="$ctrl.limitedFeature"></be-feature-indicator>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n\n    <auth-logs-datatable\n      logs="$ctrl.state.logs"\n      keyword="$ctrl.state.keyword"\n      sort="$ctrl.state.sort"\n      limit="$ctrl.state.limit"\n      context-filter="$ctrl.state.contextFilter"\n      type-filter="$ctrl.state.typeFilter"\n      total-items="$ctrl.state.totalItems"\n      current-page="$ctrl.state.currentPage"\n      feature="{{:: $ctrl.limitedFeature}}"\n      on-change-context-filter="($ctrl.onChangeContextFilter)"\n      on-change-type-filter="($ctrl.onChangeTypeFilter)"\n      on-change-keyword="($ctrl.onChangeKeyword)"\n      on-change-sort="($ctrl.onChangeSort)"\n      on-change-limit="($ctrl.onChangeLimit)"\n      on-change-page="($ctrl.onChangePage)"\n    ></auth-logs-datatable>\n  </div>\n</div>\n')}]),e.exports=t},27452:e=>{var t="app/portainer/views/account/account.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="User settings"></rd-header-title>\n  <rd-header-content>User settings</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-lock" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" style="margin-top: 15px">\n          \x3c!-- current-password-input --\x3e\n          <div class="form-group">\n            <label for="current_password" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n                <input type="password" class="form-control" ng-model="formValues.currentPassword" id="current_password" />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !current-password-input --\x3e\n          \x3c!-- new-password-input --\x3e\n          <div class="form-group">\n            <label for="new_password" class="col-sm-2 control-label text-left">  </label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n                <input type="password" class="form-control" ng-model="formValues.newPassword" id="new_password" />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !new-password-input --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <i ng-class="{ true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[formValues.newPassword.length >= 8]" aria-hidden="true"></i>\n              <span class="small text-muted"> 8 </span>\n            </div>\n          </div>\n          \x3c!-- confirm-password-input --\x3e\n          <div class="form-group">\n            <label for="confirm_password" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n                <input type="password" class="form-control" ng-model="formValues.confirmPassword" id="confirm_password" />\n                <span class="input-group-addon"\n                  ><i\n                    ng-class="\n                      { true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[formValues.newPassword !== \'\' && formValues.newPassword === formValues.confirmPassword]\n                    "\n                    aria-hidden="true"\n                  ></i\n                ></span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !confirm-password-input --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="(AuthenticationMethod !== 1 && userID !== 1) || !formValues.currentPassword || formValues.newPassword.length < 8 || formValues.newPassword !== formValues.confirmPassword"\n                ng-click="updatePassword()"\n                ></button\n              >\n              <span class="text-muted small" style="margin-left: 5px" ng-if="AuthenticationMethod === 2 && userID !== 1">\n                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                You cannot change your password when using LDAP authentication.\n              </span>\n              <span class="text-muted small" style="margin-left: 5px" ng-if="AuthenticationMethod === 3 && userID !== 1">\n                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                You cannot change your password when using OAuth authentication.\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n\n    <access-tokens-datatable\n      title-text=""\n      title-icon="fa-key"\n      dataset="tokens"\n      table-key="tokens"\n      order-by="Description"\n      remove-action="removeAction"\n    ></access-tokens-datatable>\n\n    <theme-settings></theme-settings>\n  </div>\n</div>\n')}]),e.exports=t},48675:e=>{var t="app/portainer/views/account/create-user-access-token/create-user-access-token.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.account">User settings</a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    \x3c!-- mount react feature/view --\x3e\n    <create-access-token user-id="$ctrl.state.userId" on-submit="($ctrl.onSubmit)" on-success="($ctrl.onSuccess)" on-error="($ctrl.onError)"></create-access-token>\n  </div>\n</div>\n')}]),e.exports=t},6167:(e,t,n)=>{var a='<div class="page-wrapper" ng-if="!ctrl.state.hideInternalAuth">\n  \x3c!-- login box --\x3e\n  <div class="container simple-box">\n    <div class="col-sm-6 col-sm-offset-3">\n      \x3c!-- login box logo --\x3e\n      <div class="row">\n        <img ng-if="!ctrl.logo" src="'+n(21985)+'" class="simple-box-logo" alt="Portainer" />\n        <img ng-if="ctrl.logo" ng-src="{{ ctrl.logo }}" class="simple-box-logo" />\n      </div>\n      \x3c!-- !login box logo --\x3e\n\n      \x3c!-- login panel --\x3e\n      <div class="panel panel-default" ng-if="!ctrl.state.loginInProgress">\n        <div class="panel-body">\n          \x3c!-- login form --\x3e\n          <form class="simple-box-form form-horizontal">\n            <div class="form-group">\n              <div class="col-sm-12" style="display: flex; justify-content: center" ng-if="ctrl.state.showOAuthLogin">\n                <a ng-href="{{ ctrl.OAuthLoginURI }}">\n                  <div class="btn btn-primary pull-left" style="font-size: 120%; margin-left: 2px" ng-if="ctrl.state.OAuthProvider === \'Microsoft\'">\n                    <i class="fab fa-microsoft" aria-hidden="true"></i>Login with Microsoft\n                  </div>\n                  <div class="btn btn-primary pull-left" style="font-size: 120%; margin-left: 2px" ng-if="ctrl.state.OAuthProvider === \'Google\'">\n                    <i class="fab fa-google" aria-hidden="true"></i>Login with Google\n                  </div>\n                  <div class="btn btn-primary pull-left" style="font-size: 120%; margin-left: 2px" ng-if="ctrl.state.OAuthProvider === \'Github\'">\n                    <i class="fab fa-github" aria-hidden="true"></i> Login with Github\n                  </div>\n                  <div class="btn btn-primary pull-left" style="font-size: 120%; margin-left: 2px" ng-if="ctrl.state.OAuthProvider === \'OAuth\'">\n                    <i class="fa fa-sign-in-alt" aria-hidden="true"></i> Login with OAuth\n                  </div>\n                </a>\n              </div>\n            </div>\n\n            \x3c!-- divider --\x3e\n            <div class="form-group" ng-if="ctrl.state.showOAuthLogin">\n              <div class="col-sm-12" style="display: flex; align-items: center; justify-content: center">\n                <div class="striketext small text-muted" style="display: flex; align-items: center; justify-content: center; width: 90%">or</div>\n              </div>\n            </div>\n\n            \x3c!-- use internal auth button --\x3e\n            <div class="form-group" ng-if="ctrl.state.showOAuthLogin && !ctrl.state.showStandardLogin">\n              <div class="col-sm-12" style="display: flex; justify-content: center">\n                <div class="btn btn-sm btn-primary pull-left" style="margin-left: 2px" ng-click="ctrl.toggleStandardLogin()"> Use internal authentication </div>\n              </div>\n            </div>\n\n            \x3c!-- !username input --\x3e\n            <div class="input-group" ng-if="ctrl.state.showStandardLogin">\n              <span class="input-group-addon"><i class="fa fa-user" aria-hidden="true"></i></span>\n              <input id="username" type="text" class="form-control" name="username" ng-model="ctrl.formValues.Username" auto-focus data-cy="auth-usernameInput" />\n            </div>\n\n            \x3c!-- password input --\x3e\n            <div class="input-group" ng-if="ctrl.state.showStandardLogin">\n              <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n              <input id="password" type="password" class="form-control" name="password" ng-model="ctrl.formValues.Password" data-cy="auth-passwordInput" />\n            </div>\n\n            <div class="form-group" ng-if="ctrl.state.showStandardLogin">\n              \x3c!-- login button --\x3e\n              <div class="col-sm-12" style="display: flex; align-items: center; justify-content: center">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm pull-right"\n                  ng-click="ctrl.authenticateUser()"\n                  button-spinner="ctrl.state.loginInProgress"\n                  ng-disabled="ctrl.state.loginInProgress"\n                  data-cy="auth-loginButton"\n                >\n                  <span ng-hide="ctrl.state.loginInProgress"><i class="fa fa-sign-in-alt" aria-hidden="true"></i></span>\n                  <span ng-show="ctrl.state.loginInProgress">...</span>\n                </button>\n              </div>\n            </div>\n          </form>\n          \x3c!-- !login form --\x3e\n\n          \x3c!-- error message --\x3e\n          <div class="pull-right" ng-if="ctrl.state.AuthenticationError">\n            <i class="fa fa-exclamation-triangle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n            <span class="small text-danger">{{ ctrl.state.AuthenticationError }}</span>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- !login panel --\x3e\n      <div class="panel panel-default" ng-show="ctrl.state.loginInProgress">\n        <div class="panel-body">\n          <div class="form-group text-center">\n            <span class="small text-muted">Authentication in progress... <span button-spinner="true"></span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !login box --\x3e\n</div>\n',s="app/portainer/views/auth/auth.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},53068:e=>{var t="app/portainer/views/custom-templates/create-custom-template-view/createCustomTemplateView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.templates.custom"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="!$ctrl.state.loading">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="customTemplateForm">\n          <custom-template-common-fields\n            form-values="$ctrl.formValues"\n            show-platform-field="true"\n            show-type-field="true"\n            name-regex="$ctrl.state.templateNameRegex"\n          ></custom-template-common-fields>\n\n          \x3c!-- build-method --\x3e\n          <div ng-if="!$ctrl.state.fromStack">\n            <div class="col-sm-12 form-section-title"> Build method </div>\n            <div class="form-group"></div>\n            <div class="form-group" style="margin-bottom: 0">\n              <div class="boxselector_wrapper">\n                <div>\n                  <input type="radio" id="method_editor" ng-model="$ctrl.state.Method" value="editor" ng-change="$ctrl.onChangeMethod()" />\n                  <label for="method_editor">\n                    <div class="boxselector_header">\n                      <i class="fa fa-edit" aria-hidden="true" style="margin-right: 2px"></i>\n                      Web editor\n                    </div>\n                    <p>Use our Web editor</p>\n                  </label>\n                </div>\n                <div>\n                  <input type="radio" id="method_upload" ng-model="$ctrl.state.Method" value="upload" ng-change="$ctrl.onChangeMethod()" />\n                  <label for="method_upload">\n                    <div class="boxselector_header">\n                      <i class="fa fa-upload" aria-hidden="true" style="margin-right: 2px"></i>\n                      Upload\n                    </div>\n                    <p>Upload from your computer</p>\n                  </label>\n                </div>\n                <div>\n                  <input type="radio" id="method_repository" ng-model="$ctrl.state.Method" value="repository" ng-change="$ctrl.onChangeMethod()" />\n                  <label for="method_repository">\n                    <div class="boxselector_header">\n                      <i class="fab fa-git" aria-hidden="true" style="margin-right: 2px"></i>\n                      Repository\n                    </div>\n                    <p>Use a git repository</p>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !build-method --\x3e\n          \x3c!-- web-editor --\x3e\n          <div ng-show="$ctrl.state.Method === \'editor\'">\n            <div class="col-sm-12 form-section-title"> Web editor </div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                \n                <a href="https://docs.docker.com/compose/compose-file/" target="_blank">  </a>\n                 Compose \n              </span>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <code-editor\n                  identifier="custom-template-creation-editor"\n                  placeholder="#  docker-compose "\n                  yml="true"\n                  value="$ctrl.formValues.FileContent"\n                  on-change="($ctrl.editorUpdate)"\n                ></code-editor>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !web-editor --\x3e\n          \x3c!-- upload --\x3e\n          <div ng-show="$ctrl.state.Method === \'upload\'">\n            <div class="col-sm-12 form-section-title"></div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small"> You can upload a Compose file from your computer. </span>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formValues.File">  </button>\n                <span style="margin-left: 5px">\n                  {{ $ctrl.formValues.File.name }}\n                  <i class="fa fa-times red-icon" ng-if="!$ctrl.formValues.File" aria-hidden="true"></i>\n                </span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !upload --\x3e\n          \x3c!-- repository --\x3e\n          <git-form ng-if="$ctrl.state.Method === \'repository\'" model="$ctrl.formValues" on-change="($ctrl.onChangeFormValues)"></git-form>\n          \x3c!-- !repository --\x3e\n          <por-access-control-form form-data="$ctrl.formValues.AccessControlData"></por-access-control-form>\n\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.state.actionInProgress || customTemplateForm.$invalid\n              || ($ctrl.state.Method === \'editor\' && !$ctrl.formValues.FileContent)\n              || ($ctrl.state.Method === \'upload\' && !$ctrl.formValues.File)\n              || ($ctrl.state.Method === \'repository\' && ((!$ctrl.formValues.RepositoryURL || !$ctrl.formValues.ComposeFilePathInRepository) || ($ctrl.formValues.RepositoryAuthentication && (!$ctrl.formValues.RepositoryUsername || !$ctrl.formValues.RepositoryPassword))))\n              || !$ctrl.formValues.Title"\n                ng-click="$ctrl.createCustomTemplate()"\n                button-spinner="$ctrl.state.actionInProgress"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress">Create custom template</span>\n                <span ng-show="$ctrl.state.actionInProgress">Creation in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},4662:e=>{var t="app/portainer/views/custom-templates/custom-templates-view/customTemplatesView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header id="view-top">\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.templates.custom" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n<div class="row">\n  <stack-from-template-form\n    ng-if="$ctrl.state.selectedTemplate"\n    template="$ctrl.state.selectedTemplate"\n    form-values="$ctrl.formValues"\n    name-regex="$ctrl.state.templateNameRegex"\n    state="$ctrl.state"\n    create-template="$ctrl.createStack"\n    unselect-template="$ctrl.unselectTemplate"\n  >\n    <advanced-form>\n      <div class="form-group">\n        <div class="col-sm-12">\n          <a class="small interactive" ng-show="!$ctrl.state.showAdvancedOptions" ng-click="$ctrl.state.showAdvancedOptions = true;">\n            <i class="fa fa-plus space-right" aria-hidden="true"></i> Customize stack\n          </a>\n          <a class="small interactive" ng-show="$ctrl.state.showAdvancedOptions" ng-click="$ctrl.state.showAdvancedOptions = false;">\n            <i class="fa fa-minus space-right" aria-hidden="true"></i> Hide custom stack\n          </a>\n        </div>\n      </div>\n      <div ng-if="$ctrl.state.showAdvancedOptions">\n        \x3c!-- web-editor --\x3e\n        <div class="col-sm-12 form-section-title"> Web editor </div>\n        <div class="form-group">\n          <span class="col-sm-12 text-muted small">\n            \n            <a href="https://docs.docker.com/compose/compose-file/" target="_blank">  </a>\n             Compose \n          </span>\n        </div>\n        <div class="form-group">\n          <div class="col-sm-12">\n            <code-editor\n              identifier="custom-template-creation-editor"\n              placeholder="#  docker-compose "\n              yml="true"\n              value="$ctrl.formValues.fileContent"\n              on-change="($ctrl.editorUpdate)"\n            ></code-editor>\n          </div>\n        </div>\n        \x3c!-- !web-editor --\x3e\n      </div>\n    </advanced-form>\n  </stack-from-template-form>\n</div>\n<div class="row">\n  <div class="col-sm-12">\n    <custom-templates-list\n      ng-if="$ctrl.templates"\n      title-text=""\n      title-icon="fa-rocket"\n      templates="$ctrl.templates"\n      table-key="customTemplates"\n      create-path="docker.templates.custom.new"\n      edit-path="docker.templates.custom.edit"\n      is-edit-allowed="$ctrl.isEditAllowed"\n      on-select-click="($ctrl.selectTemplate)"\n      on-delete-click="($ctrl.confirmDelete)"\n    ></custom-templates-list>\n  </div>\n</div>\n')}]),e.exports=t},63928:e=>{var t="app/portainer/views/custom-templates/edit-custom-template-view/editCustomTemplateView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edit Custom Template">\n    <a data-toggle="tooltip" title="" ui-sref="docker.templates.custom.edit({id:$ctrl.formValues.Id})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content> <a ui-sref="docker.templates.custom">Custom templates</a> &gt; {{ $ctrl.formValues.Title }} </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="$ctrl.formValues">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="customTemplateForm">\n          <custom-template-common-fields form-values="$ctrl.formValues" show-platform-field="true" show-type-field="true"></custom-template-common-fields>\n\n          \x3c!-- web-editor --\x3e\n          <div class="col-sm-12 form-section-title"> Web editor </div>\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small">\n              \n              <a href="https://docs.docker.com/compose/compose-file/" target="_blank">  </a>\n               Compose \n            </span>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <code-editor\n                identifier="custom-template-creation-editor"\n                placeholder="#  docker-compose "\n                yml="true"\n                value="$ctrl.formValues.FileContent"\n                on-change="($ctrl.editorUpdate)"\n              ></code-editor>\n            </div>\n          </div>\n          \x3c!-- !web-editor --\x3e\n\n          <por-access-control-form form-data="$ctrl.formValues.AccessControlData" resource-control="$ctrl.formValues.ResourceControl"></por-access-control-form>\n\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.actionInProgress || customTemplateForm.$invalid\n                  || !$ctrl.formValues.Title\n                  || !$ctrl.formValues.FileContent"\n                ng-click="$ctrl.submitAction()"\n                button-spinner="$ctrl.actionInProgress"\n              >\n                <span ng-hide="$ctrl.actionInProgress">Update the template</span>\n                <span ng-show="$ctrl.actionInProgress">...</span>\n              </button>\n              <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},62833:e=>{var t="app/portainer/views/devices/import/importDevice.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="FDO Device Configuration"></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.endpoints"></a> &gt; Import FDO Device </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-magic" title-text="Import Device Set up"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" name="fdoForm">\n          \x3c!-- info --\x3e\n          <span class="small">\n            <p class="text-muted" style="margin-top: 10px">\n              <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              You are setting up a Portainer Edge Agent that will initiate the communications with the Portainer instance and your FDO Devices.\n            </p>\n          </span>\n          \x3c!-- !info --\x3e\n          \x3c!-- import voucher --\x3e\n          <div class="col-sm-12 form-section-title"> Import Voucher </div>\n          <div>\n            <div class="form-group" ng-show="!state.vouchersUploaded">\n              <span class="small col-sm-12">\n                <p class="text-muted" style="margin-top: 10px">\n                  <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Import one or more Manufacturer\'s Ownership Vouchers to initiate device attestation\n                </p>\n              </span>\n              <div class="col-sm-8">\n                <button\n                  style="margin-left: 0px !important"\n                  class="btn btn-sm btn-primary"\n                  ngf-select="onVoucherFilesChange()"\n                  ng-model="formValues.VoucherFiles"\n                  name="VoucherFiles"\n                  ng-disabled="state.vouchersUploading"\n                  button-spinner="state.vouchersUploading"\n                  multiple\n                >\n                  <span ng-hide="state.vouchersUploading">Upload <i class="fa fa-upload" aria-hidden="true" style="margin-left: 5px"></i></span>\n                  <span ng-show="state.vouchersUploading">Uploading Voucher...</span>\n                </button>\n              </div>\n            </div>\n            <div class="form-group" ng-show="state.vouchersUploading">\n              <div class="col-sm-12 small text-success">\n                <p>Connecting to the Owner service...</p>\n              </div>\n            </div>\n            <div class="form-group" ng-show="state.vouchersUploaded">\n              <div class="col-sm-12">\n                <p>Ownership Voucher Uploaded <i class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 5px"></i></p>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !import voucher --\x3e\n          \x3c!-- device details --\x3e\n          <div class="col-sm-12 form-section-title"> Device details </div>\n          <div>\n            <span class="small">\n              <p class="text-muted" style="margin-top: 10px">\n                <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                Device name will serve as your reference name in Portainer\n              </p>\n            </span>\n            \x3c!-- device name input --\x3e\n            <div class="form-group">\n              <label for="device_name" class="col-sm-3 col-lg-2 control-label text-left">Device Name</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="device_name"\n                  placeholder=" FDO-Test01"\n                  ng-model="formValues.DeviceName"\n                  ng-required="state.vouchersUploaded"\n                  ng-disabled="!state.vouchersUploaded"\n                  auto-focus\n                  data-cy="deviceImport-deviceNameInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="fdoForm.device_name.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="fdoForm.device_name.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !device name input --\x3e\n            \x3c!-- suffix input --\x3e\n            <span class="small">\n              <p class="text-muted" style="margin-top: 10px">\n                <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                Suffix starting number will be appended to the end of the Device name, if initiating multiple devices this will be incrementally increased\n              </p>\n            </span>\n            <div class="form-group">\n              <label for="suffix" class="col-sm-3 col-lg-2 control-label text-left"> Suffix starting number </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="suffix"\n                  ng-model="formValues.Suffix"\n                  ng-required="state.vouchersUploaded"\n                  ng-disabled="!state.vouchersUploaded"\n                  ng-pattern="/^[0-9]+$/"\n                  placeholder="1"\n                  required\n                  data-cy="deviceImport-suffixInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="fdoForm.suffix.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="fdoForm.suffix.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                  <p ng-message="pattern"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field needs to be a positive integer number.</p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !suffix input --\x3e\n            \x3c!-- portainer-instance-input --\x3e\n            <div class="form-group">\n              <label for="endpoint_url" class="col-sm-3 col-lg-2 control-label text-left">\n                Portainer server URL\n                <portainer-tooltip position="bottom" message="URL of the Portainer instance that the agent will use to initiate the communications."></portainer-tooltip>\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="endpoint_url"\n                  ng-model="formValues.PortainerURL"\n                  ng-required="state.vouchersUploaded"\n                  ng-disabled="!state.vouchersUploaded"\n                  placeholder=" https://10.0.0.10:9443"\n                  required\n                  data-cy="deviceImport-portainerServerUrlInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="fdoForm.endpoint_url.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="fdoForm.endpoint_url.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !portainer-instance-input --\x3e\n          </div>\n          \x3c!-- device profile input --\x3e\n          <div class="form-group">\n            <label for="device_profile" class="col-sm-3 col-lg-2 control-label text-left">Device Profile</label>\n            <div class="col-sm-9 col-lg-10">\n              <select id="device_profile" ng-model="formValues.DeviceProfile" class="form-control" ng-required="state.vouchersUploaded" ng-disabled="!state.vouchersUploaded">\n                <option selected disabled hidden value="">Select a profile for your device</option>\n                <option ng-repeat="profile in profiles | orderBy: \'name\'" ng-value="profile.id">{{ profile.name }}</option>\n              </select>\n            </div>\n          </div>\n          \x3c!-- !device profile input --\x3e\n          \x3c!-- !device details --\x3e\n          \x3c!-- tags --\x3e\n          <div class="col-sm-12 form-section-title"> Set up Tags </div>\n          <div>\n            <span class="small">\n              <p class="text-muted" style="margin-top: 10px">\n                <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                This is just an option if your device is under a certain group\n              </p>\n            </span>\n            \x3c!-- group --\x3e\n            <div class="form-group">\n              <label for="device_group" class="col-sm-3 col-lg-2 control-label text-left"> Group </label>\n              <div class="col-sm-9 col-lg-10">\n                <select\n                  class="form-control"\n                  ng-options="group.Id as group.Name for group in groups"\n                  ng-model="formValues.GroupId"\n                  id="device_group"\n                  ng-required="state.vouchersUploaded"\n                  ng-disabled="!state.vouchersUploaded"\n                  data-cy="deviceImport-deviceGroup"\n                ></select>\n              </div>\n            </div>\n            \x3c!-- !group --\x3e\n            \x3c!-- tags --\x3e\n            <div class="form-group">\n              <tag-selector ng-if="formValues && availableTags" tags="availableTags" model="formValues.TagIds" allow-create="state.allowCreateTag" on-create="(onCreateTag)">\n              </tag-selector>\n            </div>\n            \x3c!-- !tags --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-click="createEndpointAndConfigureDevice()"\n                  ng-disabled="state.actionInProgress || !state.vouchersUploaded || !fdoForm.$valid"\n                  button-spinner="state.actionInProgress"\n                  data-cy="deviceImport-saveDeviceButton"\n                >\n                  <span ng-hide="state.actionInProgress">Save Configuration</span>\n                  <span ng-show="state.actionInProgress">...</span>\n                </button>\n                <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.endpoints"></a>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},64306:e=>{var t="app/portainer/views/devices/profiles/add/addProfile.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create profile"></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.settings"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="createProfileForm">\n          \x3c!-- name-input --\x3e\n          <div class="col-sm-12 form-section-title">Device Profile Details </div>\n          <div class="form-group">\n            <label for="stack_name" class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="formValues.name" id="profile_name" name="profile_name" placeholder=" myprofile" auto-focus />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- build-method --\x3e\n          <div class="col-sm-12 form-section-title"> Profile configuration </div>\n          <div class="form-group"></div>\n          <div class="form-group" style="margin-bottom: 0">\n            <div class="boxselector_wrapper">\n              <div>\n                <input type="radio" id="method_editor" ng-model="state.method" value="editor" />\n                <label for="method_editor">\n                  <div class="boxselector_header">\n                    <i class="fa fa-edit" aria-hidden="true" style="margin-right: 2px"></i>\n                    Web editor\n                  </div>\n                  <p>Use our Web editor</p>\n                </label>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !build-method --\x3e\n\n          <web-editor-form\n            ng-if="state.method === \'editor\'"\n            identifier="profile-creation-editor"\n            value="formValues.profileFileContent"\n            on-change="(onChangeFileContent)"\n            ng-required="true"\n            placeholder="#"\n          >\n          </web-editor-form>\n\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.settings.edgeCompute"></a>\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress\n              || !createProfileForm.$valid\n              || !formValues.profileFileContent\n              || !formValues.name"\n                ng-click="createProfileAsync()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Save Profile</span>\n                <span ng-show="state.actionInProgress">...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},71149:e=>{var t="app/portainer/views/devices/profiles/edit/editProfile.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Edit profile"></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.settings"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="editProfileForm">\n          \x3c!-- name-input --\x3e\n          <div class="col-sm-12 form-section-title">Device Profile Details </div>\n          <div class="form-group">\n            <label for="stack_name" class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="formValues.name" id="profile_name" name="profile_name" placeholder=" myprofile" auto-focus />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- build-method --\x3e\n          <div class="col-sm-12 form-section-title"> Profile configuration </div>\n          <div class="form-group"></div>\n          <div class="form-group" style="margin-bottom: 0">\n            <div class="boxselector_wrapper">\n              <div>\n                <input type="radio" id="method_editor" ng-model="state.method" value="editor" />\n                <label for="method_editor">\n                  <div class="boxselector_header">\n                    <i class="fa fa-edit" aria-hidden="true" style="margin-right: 2px"></i>\n                    Web editor\n                  </div>\n                  <p>Use our Web editor</p>\n                </label>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !build-method --\x3e\n\n          <web-editor-form\n            ng-if="state.method === \'editor\'"\n            identifier="profile-creation-editor"\n            value="formValues.profileFileContent"\n            on-change="(onChangeFileContent)"\n            ng-required="true"\n            placeholder="#"\n          >\n          </web-editor-form>\n\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.settings.edgeCompute"></a>\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress\n              || !editProfileForm.$valid\n              || !formValues.profileFileContent\n              || !formValues.name"\n                ng-click="updateProfileAsync()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Update Profile</span>\n                <span ng-show="state.actionInProgress">...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},56058:e=>{var t="app/portainer/views/endpoint-registries/registries.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.registries" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n<div class="row">\n  <div class="col-sm-12">\n    <registries-datatable\n      title-text="Registries"\n      title-icon="fa-database"\n      dataset="$ctrl.registries"\n      table-key="endpointRegistries"\n      order-by="Name"\n      endpoint-type="$ctrl.endpointType"\n      can-manage-access="$ctrl.canManageAccess"\n    ></registries-datatable>\n  </div>\n</div>\n')}]),e.exports=t},11813:e=>{var t="app/portainer/views/endpoints/access/endpointAccess.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Environment access"></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.endpoints"></a> &gt; <a ui-sref="portainer.endpoints.endpoint({id: ctrl.endpoint.Id})">{{ ctrl.endpoint.Name }}</a> &gt; Access management\n  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="ctrl.endpoint">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-plug" title-text="Environment"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>\n                {{ ctrl.endpoint.Name }}\n              </td>\n            </tr>\n            <tr>\n              <td>URL</td>\n              <td>\n                {{ ctrl.endpoint.URL | stripprotocol }}\n              </td>\n            </tr>\n            <tr>\n              <td>Group</td>\n              <td>\n                <a ui-sref="portainer.groups.group({ id: ctrl.group.Id })">{{ ctrl.group.Name }}</a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<por-access-management\n  ng-if="ctrl.endpoint && ctrl.group"\n  access-controlled-entity="ctrl.endpoint"\n  action-in-progress="ctrl.state.actionInProgress"\n  entity-type="endpoint"\n  inherit-from="ctrl.group"\n  update-access="ctrl.updateAccess"\n  limited-feature="ctrl.limitedFeature"\n>\n</por-access-management>\n')}]),e.exports=t},81541:e=>{var t="app/portainer/views/endpoints/create/createendpoint.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create environment"></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.endpoints"></a> &gt; Add environment </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="endpointCreationForm">\n          <div class="col-sm-12 form-section-title"> Environment type </div>\n          <div class="form-group"></div>\n          <div class="form-group" style="margin-bottom: 0">\n            <div class="boxselector_wrapper">\n              <div ng-show="!state.isEdgeDevice" ng-click="resetEndpointURL()">\n                <input type="radio" id="agent_endpoint" ng-model="state.EnvironmentType" value="agent" />\n                <label for="agent_endpoint" data-cy="endpointCreate-agentSelectButton">\n                  <div class="boxselector_header">\n                    <i class="fa fa-bolt" aria-hidden="true" style="margin-right: 2px"></i>\n                    Agent\n                  </div>\n                  <p>Portainer agent</p>\n                </label>\n              </div>\n              <div ng-click="setDefaultPortainerInstanceURL()">\n                <input type="radio" id="edge_agent_endpoint" ng-model="state.EnvironmentType" value="edge_agent" />\n                <label for="edge_agent_endpoint" data-cy="endpointCreate-edgeAgentSelectButton">\n                  <div class="boxselector_header">\n                    <i class="fa fa-cloud" aria-hidden="true" style="margin-right: 2px"></i>\n                    Edge Agent\n                  </div>\n                  <p>Portainer Edge agent</p>\n                </label>\n              </div>\n              <div ng-show="!state.isEdgeDevice" ng-click="resetEndpointURL()">\n                <input type="radio" id="docker_endpoint" ng-model="state.EnvironmentType" value="docker" />\n                <label for="docker_endpoint" data-cy="endpointCreate-dockerSelectButton">\n                  <div class="boxselector_header">\n                    <i class="fab fa-docker" aria-hidden="true" style="margin-right: 2px"></i>\n                    Docker\n                  </div>\n                  <p>Directly connect to the Docker API</p>\n                </label>\n              </div>\n              <div ng-show="!state.isEdgeDevice" ng-click="resetEndpointURL()">\n                <input type="radio" id="kubernetes_endpoint" ng-model="state.EnvironmentType" value="kubernetes" />\n                <label for="kubernetes_endpoint" data-cy="endpointCreate-kubeSelectButton">\n                  <div class="boxselector_header">\n                    <i class="fas fa-dharmachakra" aria-hidden="true" style="margin-right: 2px"></i>\n                    Kubernetes\n                  </div>\n                  <p>Local Kubernetes environment</p>\n                </label>\n              </div>\n              <div ng-show="!state.isEdgeDevice">\n                <input type="radio" id="azure_endpoint" ng-model="state.EnvironmentType" value="azure" />\n                <label for="azure_endpoint" data-cy="endpointCreate-azureSelectButton">\n                  <div class="boxselector_header">\n                    <i class="fab fa-microsoft" aria-hidden="true" style="margin-right: 2px"></i>\n                    Azure\n                  </div>\n                  <p>Connect to Microsoft Azure ACI</p>\n                </label>\n              </div>\n            </div>\n          </div>\n          <div ng-if="state.EnvironmentType === \'docker\'">\n            <div class="col-sm-12 form-section-title"> Important notice </div>\n            <div class="form-group">\n              <p class="col-sm-12 text-muted small">\n                You can connect Portainer to a Docker environment via socket or via TCP. You can find more information about how to expose the Docker API over TCP\n                <a href="https://docs.docker.com/engine/security/https/"> in the Docker documentation</a>.\n              </p>\n\n              <p class="col-sm-12 text-muted small">\n                When using the socket, ensure that you have started the Portainer container with the following Docker flag\n                <code> -v "/var/run/docker.sock:/var/run/docker.sock" </code>\n                (on Linux) or\n                <code> -v \\.\\pipe\\docker_engine:\\.\\pipe\\docker_engine </code>\n                (on Windows).\n              </p>\n            </div>\n          </div>\n          <div ng-if="state.EnvironmentType === \'agent\'">\n            <div class="col-sm-12 form-section-title"> Information </div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                Ensure that you have deployed the Portainer agent in your cluster first. Refer to the platform related command below to deploy it.\n                <div class="input-group input-group-sm" style="margin-top: 10px; margin-bottom: 10px">\n                  <div class="btn-group btn-group-sm">\n                    <label class="btn btn-primary" ng-model="state.PlatformType" uib-btn-radio="\'linux\'"><i class="fab fa-linux" style="margin-right: 2px"></i> Linux</label>\n                    <label class="btn btn-primary" ng-model="state.PlatformType" uib-btn-radio="\'windows\'"><i class="fab fa-windows" style="margin-right: 2px"></i> Windows</label>\n                  </div>\n                </div>\n                <div style="margin-top: 10px">\n                  <uib-tabset active="state.deploymentTab">\n                    <uib-tab index="0" heading="Kubernetes via load balancer" ng-if="state.PlatformType === \'linux\'">\n                      <code style="display: block; white-space: pre-wrap; padding: 16px 90px"\n                        >curl -L https://downloads.portainer.io/portainer-agent-ee{{ agentShortVersion }}-k8s-lb.yaml -o portainer-agent-k8s.yaml; kubectl apply -f\n                        portainer-agent-k8s.yaml</code\n                      >\n                    </uib-tab>\n\n                    <uib-tab index="1" heading="Kubernetes via node port" ng-if="state.PlatformType === \'linux\'">\n                      <code style="display: block; white-space: pre-wrap; padding: 16px 90px"\n                        >curl -L https://downloads.portainer.io/portainer-agent-ee{{ agentShortVersion }}-k8s-nodeport.yaml -o portainer-agent-k8s.yaml; kubectl apply -f\n                        portainer-agent-k8s.yaml</code\n                      >\n                    </uib-tab>\n\n                    <uib-tab index="2" heading="Docker Swarm">\n                      <code ng-if="state.PlatformType === \'linux\'" style="display: block; white-space: pre-wrap; padding: 16px 90px"\n                        >curl -L https://downloads.portainer.io/agent-stack-ee{{ agentShortVersion }}.yml -o agent-stack.yml && docker stack deploy --compose-file=agent-stack.yml\n                        portainer-agent</code\n                      >\n                      <code ng-if="state.PlatformType === \'windows\'" style="display: block; white-space: pre-wrap; padding: 16px 90px"\n                        >curl -L https://downloads.portainer.io/agent-stack-ee{{ agentShortVersion }}-windows.yml -o agent-stack-windows.yml && docker stack deploy\n                        --compose-file=agent-stack-windows.yml portainer-agent</code\n                      >\n                    </uib-tab>\n                  </uib-tabset>\n                  <div style="margin-top: 10px">\n                    <span class="btn btn-primary btn-sm space-left" ng-click="copyAgentCommand()"><i class="fa fa-copy space-right" aria-hidden="true"></i>Copy command</span>\n                    <span>\n                      <i id="copyNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i>\n                    </span>\n                  </div>\n                </div>\n              </span>\n            </div>\n          </div>\n          <div ng-if="state.EnvironmentType === \'edge_agent\'">\n            <div class="col-sm-12 form-section-title"> Information </div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                <p>\n                  Allows you to create an environment that can be registered with an Edge agent. The Edge agent will initiate the communications with the Portainer instance. All\n                  the required information on how to connect an Edge agent to this environment will be available after environment creation.\n                </p>\n                <p> You can read more about the Edge agent in the userguide available <a href="https://downloads.portainer.io/edge_agent_guide.pdf">here.</a> </p>\n              </span>\n            </div>\n          </div>\n          <div ng-if="state.EnvironmentType === \'kubernetes\'">\n            <div class="col-sm-12 form-section-title"> Important notice </div>\n            <div class="form-group">\n              <p class="col-sm-12 text-muted small"> This will allow you to manage the Kubernetes environment where Portainer is running. </p>\n\n              <p class="col-sm-12 text-muted small">\n                <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                In order to manage a remote Kubernetes environment, please use the Agent or Edge agent options.\n              </p>\n            </div>\n          </div>\n          <div ng-if="state.EnvironmentType === \'azure\'">\n            <div class="col-sm-12 form-section-title"> Information </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small">\n                  <p class="text-muted"> <i class="fa fa-flask orange-icon" aria-hidden="true" style="margin-right: 2px"></i> This feature is experimental. </p>\n                  <p class="text-primary"> Connect to Microsoft Azure to manage Azure Container Instances (ACI). </p>\n                  <p class="text-muted">\n                    <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                    Have a look at\n                    <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal" target="_blank"\n                      >the Azure documentation</a\n                    >\n                    to retrieve the credentials required below.\n                  </p>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class="col-sm-12 form-section-title"> Environment details </div>\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="container_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n            <div class="col-sm-9 col-lg-10">\n              <input\n                type="text"\n                class="form-control"\n                name="container_name"\n                ng-model="formValues.Name"\n                placeholder=" docker-prod01 / kubernetes-cluster01"\n                required\n                auto-focus\n                data-cy="endpointCreate-nameInput"\n              />\n            </div>\n          </div>\n          <div class="form-group" ng-show="endpointCreationForm.container_name.$invalid">\n            <div class="col-sm-12 small text-warning">\n              <div ng-messages="endpointCreationForm.container_name.$error">\n                <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- connect-via-socket-input --\x3e\n          <div ng-if="state.EnvironmentType === \'docker\'">\n            <div class="form-group" style="padding-left: 15px">\n              <label for="connect_socket" class="col-sm_12 control-label text-left"> Connect via socket </label>\n              <label class="switch" style="margin-left: 20px">\n                <input type="checkbox" ng-model="formValues.ConnectSocket" /><i data-cy="endpointCreate-connectSocketSwitch"></i>\n              </label>\n            </div>\n          </div>\n          <div ng-if="state.EnvironmentType === \'docker\' && formValues.ConnectSocket">\n            <div class="form-group" style="padding-left: 15px">\n              <label for="override_socket" class="col-sm_12 control-label text-left"> Override default socket path </label>\n              <label class="switch" style="margin-left: 20px">\n                <input type="checkbox" ng-model="formValues.OverrideSocket" /><i data-cy="endpointCreate-overrideSocketSwitch"></i>\n              </label>\n            </div>\n\n            <div ng-if="formValues.OverrideSocket">\n              <div class="form-group">\n                <label for="socket_path" class="col-sm-3 col-lg-2 control-label text-left">\n                  Socket path\n                  <portainer-tooltip position="bottom" message="Path to the Docker socket. Remember to bind-mount the socket, see the important notice above for more information.">\n                  </portainer-tooltip>\n                </label>\n                <div class="col-sm-9 col-lg-10">\n                  <input\n                    type="text"\n                    class="form-control"\n                    name="socket_path"\n                    ng-model="formValues.SocketPath"\n                    placeholder=" /var/run/docker.sock (on Linux) or //./pipe/docker_engine (on Windows)"\n                    required\n                    data-cy="endpointCreate-socketPathInput"\n                  />\n                </div>\n              </div>\n              <div class="form-group" ng-show="endpointCreationForm.socket_path.$invalid">\n                <div class="col-sm-12 small text-warning">\n                  <div ng-messages="endpointCreationForm.socket_path.$error">\n                    <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !connect-via-socket-input --\x3e\n          \x3c!-- endpoint-url-input --\x3e\n          <div ng-if="(state.EnvironmentType === \'docker\' && !formValues.ConnectSocket) || state.EnvironmentType === \'agent\'">\n            <div class="form-group">\n              <label for="endpoint_url" class="col-sm-3 col-lg-2 control-label text-left">\n                Environment URL\n                <portainer-tooltip\n                  position="bottom"\n                  message="URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it."\n                >\n                </portainer-tooltip>\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  ng-if="state.EnvironmentType === \'docker\'"\n                  type="text"\n                  class="form-control"\n                  name="endpoint_url"\n                  ng-model="formValues.URL"\n                  placeholder=" 10.0.0.10:2375 or mydocker.mydomain.com:2375"\n                  required\n                  data-cy="endpointCreate-endpointUrlDockerInput"\n                />\n                <input\n                  ng-if="state.EnvironmentType === \'agent\'"\n                  type="text"\n                  class="form-control"\n                  name="endpoint_url"\n                  ng-model="formValues.URL"\n                  placeholder=" 10.0.0.10:9001 or tasks.portainer_agent:9001"\n                  required\n                  data-cy="endpointCreate-endpointUrlAgentInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="endpointCreationForm.endpoint_url.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="endpointCreationForm.endpoint_url.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !endpoint-url-input --\x3e\n          \x3c!-- portainer-instance-input --\x3e\n          <div ng-if="state.EnvironmentType === \'edge_agent\'">\n            <div class="form-group">\n              <label for="endpoint_url" class="col-sm-3 col-lg-2 control-label text-left">\n                Portainer server URL\n                <portainer-tooltip position="bottom" message="URL of the Portainer instance that the agent will use to initiate the communications."></portainer-tooltip>\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="endpoint_url"\n                  ng-model="formValues.URL"\n                  placeholder=" 10.0.0.10:9443 or portainer.mydomain.com"\n                  required\n                  data-cy="endpointCreate-portainerServerUrlInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="endpointCreationForm.endpoint_url.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="endpointCreationForm.endpoint_url.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !portainer-instance-input --\x3e\n            <div class="form-group">\n              <label for="edge_checkin" class="col-sm-2 control-label text-left">\n                Poll frequency\n                <portainer-tooltip\n                  position="bottom"\n                  message="Portainer"\n                >\n                </portainer-tooltip>\n              </label>\n              <div class="col-sm-10">\n                <select\n                  id="edge_checkin"\n                  class="form-control"\n                  ng-model="formValues.CheckinInterval"\n                  ng-options="+(opt.value) as opt.key for opt in state.availableEdgeAgentCheckinOptions"\n                  data-cy="endpointCreate-pollFrequencySelect"\n                ></select>\n              </div>\n            </div>\n          </div>\n          \x3c!-- endpoint-public-url-input --\x3e\n          <div ng-if="state.EnvironmentType === \'docker\' || state.EnvironmentType === \'agent\'">\n            <div class="form-group">\n              <label for="endpoint_public_url" class="col-sm-3 col-lg-2 control-label text-left">\n                Public IP\n                <portainer-tooltip\n                  position="bottom"\n                  message="URL or IP address where exposed containers will be reachable. This field is optional and will default to the environment URL."\n                >\n                </portainer-tooltip>\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  id="endpoint_public_url"\n                  ng-model="formValues.PublicURL"\n                  placeholder=" 10.0.0.10 or mydocker.mydomain.com"\n                  data-cy="endpointCreate-publicIpInput"\n                />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !endpoint-public-url-input --\x3e\n          \x3c!-- azure-details --\x3e\n          <div ng-if="state.EnvironmentType === \'azure\'">\n            \x3c!-- applicationId-input --\x3e\n            <div class="form-group">\n              <label for="azure_credential_appid" class="col-sm-3 col-lg-2 control-label text-left">Application ID</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="azure_credential_appid"\n                  ng-model="formValues.AzureApplicationId"\n                  placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"\n                  required\n                  data-cy="endpointCreate-azureAppIdInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="endpointCreationForm.azure_credential_appid.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="endpointCreationForm.azure_credential_appid.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !applicationId-input --\x3e\n            \x3c!-- tenantId-input --\x3e\n            <div class="form-group">\n              <label for="azure_credential_tenantid" class="col-sm-3 col-lg-2 control-label text-left">Tenant ID</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="azure_credential_tenantid"\n                  ng-model="formValues.AzureTenantId"\n                  placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"\n                  required\n                  data-cy="endpointCreate-azureTenantIdInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="endpointCreationForm.azure_credential_tenantid.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="endpointCreationForm.azure_credential_tenantid.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !tenantId-input --\x3e\n            \x3c!-- authenticationkey-input --\x3e\n            <div class="form-group">\n              <label for="azure_credential_authkey" class="col-sm-3 col-lg-2 control-label text-left">Authentication key</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="azure_credential_authkey"\n                  ng-model="formValues.AzureAuthenticationKey"\n                  placeholder="cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk="\n                  required\n                  data-cy="endpointCreate-azureAuthKeyInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="endpointCreationForm.azure_credential_authkey.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="endpointCreationForm.azure_credential_authkey.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !authenticationkey-input --\x3e\n          </div>\n          \x3c!-- !azure-details --\x3e\n          \x3c!-- endpoint-security --\x3e\n          <por-endpoint-security ng-if="state.EnvironmentType === \'docker\' && !formValues.ConnectSocket" form-data="formValues.SecurityFormData"></por-endpoint-security>\n          \x3c!-- !endpoint-security --\x3e\n          <div class="col-sm-12 form-section-title"> Metadata </div>\n          \x3c!-- group --\x3e\n          <div class="form-group">\n            <label for="endpoint_group" class="col-sm-3 col-lg-2 control-label text-left"> Group </label>\n            <div class="col-sm-9 col-lg-10">\n              <select\n                ng-options="group.Id as group.Name for group in groups"\n                ng-model="formValues.GroupId"\n                id="endpoint_group"\n                class="form-control"\n                data-cy="endpointCreate-endpointGroup"\n              ></select>\n            </div>\n          </div>\n          \x3c!-- !group --\x3e\n          \x3c!-- tags --\x3e\n          <div class="form-group">\n            <tag-selector ng-if="formValues && availableTags" tags="availableTags" model="formValues.TagIds" allow-create="state.allowCreateTag" on-create="(onCreateTag)">\n            </tag-selector>\n          </div>\n          \x3c!-- !tags --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                ng-if="state.EnvironmentType === \'docker\'"\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !endpointCreationForm.$valid || (formValues.TLS && ((formValues.TLSVerify && !formValues.TLSCACert) || (formValues.TLSClientCert && (!formValues.TLSCert || !formValues.TLSKey))))"\n                ng-click="addDockerEndpoint()"\n                button-spinner="state.actionInProgress"\n                data-cy="endpointCreate-createDockerEndpoint"\n                analytics-on\n                analytics-category="portainer"\n                analytics-event="portainer-endpoint-creation"\n                analytics-properties="{ metadata: { type: \'docker-api\' } }"\n              >\n                <span ng-hide="state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Add environment</span>\n                <span ng-show="state.actionInProgress">Creating environment...</span>\n              </button>\n              <button\n                ng-if="state.EnvironmentType === \'agent\'"\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !endpointCreationForm.$valid"\n                ng-click="addAgentEndpoint()"\n                button-spinner="state.actionInProgress"\n                data-cy="endpointCreate-createAgentEndpoint"\n              >\n                <span ng-hide="state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Add environment</span>\n                <span ng-show="state.actionInProgress">Creating environment...</span>\n              </button>\n              <button\n                ng-if="state.EnvironmentType === \'edge_agent\'"\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !endpointCreationForm.$valid"\n                ng-click="addEdgeAgentEndpoint()"\n                button-spinner="state.actionInProgress"\n                data-cy="endpointCreate-createEdgeAgentEndpoint"\n                analytics-on\n                analytics-category="portainer"\n                analytics-event="portainer-endpoint-creation"\n                analytics-properties="{ metadata: { type: \'edge-agent\' } }"\n              >\n                <span ng-hide="state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Add environment</span>\n                <span ng-show="state.actionInProgress">Creating environment...</span>\n              </button>\n              <button\n                ng-if="state.EnvironmentType === \'kubernetes\'"\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !endpointCreationForm.$valid"\n                ng-click="addKubernetesEndpoint()"\n                button-spinner="state.actionInProgress"\n                analytics-on\n                analytics-category="portainer"\n                analytics-event="portainer-endpoint-creation"\n                analytics-properties="{ metadata: { type: \'kubernetes-api\' } }"\n              >\n                <span ng-hide="state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Add environment</span>\n                <span ng-show="state.actionInProgress">Creating environment...</span>\n              </button>\n              <button\n                ng-if="state.EnvironmentType === \'azure\'"\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !endpointCreationForm.$valid"\n                ng-click="addAzureEndpoint()"\n                button-spinner="state.actionInProgress"\n                data-cy="endpointCreate-createAzureEndpoint"\n                analytics-on\n                analytics-category="portainer"\n                analytics-event="portainer-endpoint-creation"\n                analytics-properties="{ metadata: { type: \'azure-api\' } }"\n              >\n                <span ng-hide="state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Add environment</span>\n                <span ng-show="state.actionInProgress">Creating environment...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},32072:e=>{var t="app/portainer/views/endpoints/edit/endpoint.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Environment details">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.endpoints.endpoint({id: endpoint.Id})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.endpoints"></a> &gt; <a ui-sref="portainer.endpoints.endpoint({id: endpoint.Id})">{{ endpoint.Name }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <information-panel ng-if="state.edgeEndpoint && endpoint.EdgeID && endpoint.LastCheckInDate" title-text="Edge information">\n    <span class="small text-muted">\n      <p>\n        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        This Edge environment is associated to an Edge environment {{ state.kubernetesEndpoint ? \'(Kubernetes)\' : \'(Docker)\' }}.\n      </p>\n      <p>\n        Edge key: <code>{{ endpoint.EdgeKey }}</code>\n      </p>\n      <p>\n        Edge identifier: <code>{{ endpoint.EdgeID }}</code>\n      </p>\n      <p>\n        <button\n          type="button"\n          class="btn btn-primary btn-sm"\n          ng-disabled="state.actionInProgress"\n          ng-click="onDeassociateEndpoint()"\n          button-spinner="state.actionInProgress"\n          analytics-on\n          analytics-event="edge-endpoint-deassociate"\n          analytics-category="edge"\n        >\n          <span ng-hide="state.actionInProgress">De-associate</span>\n        </button>\n      </p>\n    </span>\n  </information-panel>\n  <information-panel ng-if="state.edgeEndpoint && !endpoint.LastCheckInDate" title-text="Deploy an agent">\n    <span class="small text-muted">\n      <p>\n        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        Refer to the platform related command below to deploy the Edge agent in your remote cluster.\n      </p>\n      <p>\n        The agent will communicate with Portainer via <u>{{ edgeKeyDetails.instanceURL }}</u> and <u>tcp://{{ edgeKeyDetails.tunnelServerAddr }}</u>\n      </p>\n      <div class="input-group input-group-sm" style="margin-top: 10px; margin-bottom: 10px">\n        <div class="btn-group btn-group-sm">\n          <label class="btn btn-primary" ng-model="state.platformType" uib-btn-radio="\'linux\'"><i class="fab fa-linux" style="margin-right: 2px"></i> Linux</label>\n          <label class="btn btn-primary" ng-model="state.platformType" uib-btn-radio="\'windows\'"><i class="fab fa-windows" style="margin-right: 2px"></i> Windows</label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <por-switch-field\n          label="\'Allow self-signed certs\'"\n          checked="state.allowSelfSignedCerts"\n          tooltip="\'When allowing self-signed certificates the edge agent will ignore the domain validation when connecting to Portainer via HTTPS\'"\n          on-change="(onToggleAllowSelfSignedCerts)"\n        ></por-switch-field>\n      </div>\n\n      <div class="form-group clearfix" ng-if="!isKubernetesDeploymentTabSelected()">\n        <label for="env_vars" class="col-sm-3 col-lg-2 control-label text-left" style="padding-left: 0; padding-top: 5px">\n          \n          <portainer-tooltip\n            position="bottom"\n            message="Comma separated list of environment variables that will be sourced from the host where the agent is deployed."\n          ></portainer-tooltip>\n        </label>\n        <div class="col-sm-9 col-lg-10">\n          <input type="text" class="form-control" id="env_vars" ng-model="formValues.EnvVarSource" placeholder="foo=bar,myvar" />\n        </div>\n      </div>\n\n      <div style="margin-top: 10px">\n        <uib-tabset active="state.deploymentTab">\n          <uib-tab index="\'kubernetes\'" heading="Kubernetes" ng-if="state.platformType === \'linux\'">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 45px">{{\n              dockerCommands[state.deploymentTab][state.platformType](agentShortVersion, endpoint.EdgeID, endpoint.EdgeKey, state.allowSelfSignedCerts)\n            }}</code>\n          </uib-tab>\n          <uib-tab index="\'swarm\'" heading="Docker Swarm">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 45px">{{\n              dockerCommands[state.deploymentTab][state.platformType](agentVersion, endpoint.EdgeID, endpoint.EdgeKey, state.allowSelfSignedCerts)\n            }}</code>\n          </uib-tab>\n          <uib-tab index="\'standalone\'" heading="Docker Standalone">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 45px">{{\n              dockerCommands[state.deploymentTab][state.platformType](agentVersion, endpoint.EdgeID, endpoint.EdgeKey, state.allowSelfSignedCerts)\n            }}</code>\n          </uib-tab>\n        </uib-tabset>\n        <div style="margin-top: 10px">\n          <span class="btn btn-primary btn-sm" ng-click="copyEdgeAgentDeploymentCommand()"><i class="fa fa-copy space-right" aria-hidden="true"></i>Copy command</span>\n          <span id="copyNotificationDeploymentCommand" style="margin-left: 7px; display: none; color: #23ae89"> <i class="fa fa-check" aria-hidden="true"></i> copied </span>\n        </div>\n      </div>\n      <div class="col-sm-12 form-section-title" style="margin-top: 25px"> Join token </div>\n      <p>\n        <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        For those prestaging the edge agent, use the following join token to associate the Edge agent with this environment.\n      </p>\n      <p> You can read more about pre-staging in the userguide available <a href="https://downloads.portainer.io/edge_agent_guide.pdf">here.</a> </p>\n      <div style="margin-top: 10px; overflow-wrap: break-word">\n        <code>\n          {{ endpoint.EdgeKey }}\n        </code>\n        <div style="margin-top: 10px">\n          <span class="btn btn-primary btn-sm" ng-click="copyEdgeAgentKey()"><i class="fa fa-copy space-right" aria-hidden="true"></i>Copy token</span>\n          <span id="copyNotificationEdgeKey" style="margin-left: 7px; display: none; color: #23ae89"> <i class="fa fa-check" aria-hidden="true"></i> copied </span>\n        </div>\n      </div>\n    </span>\n  </information-panel>\n  <information-panel ng-if="state.kubernetesEndpoint && (!state.edgeEndpoint || (state.edgeEndpoint && endpoint.EdgeID))" title-text="Kubernetes features configuration">\n    <span class="small text-muted">\n      <i class="fa fa-tools blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      You should configure the features available in this Kubernetes environment in the\n      <a ui-sref="portainer.k8sendpoint.kubernetesConfig({id: endpoint.Id})">Kubernetes configuration</a> view.\n    </span>\n  </information-panel>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Configuration </div>\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="container_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" id="container_name" ng-model="endpoint.Name" placeholder=" kubernetes-cluster01 / docker-prod01" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- endpoint-url-input --\x3e\n          <div class="form-group" ng-if="!state.edgeEndpoint">\n            <label for="endpoint_url" class="col-sm-3 col-lg-2 control-label text-left">\n              Environment URL\n              <portainer-tooltip\n                position="bottom"\n                message="URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it."\n              >\n              </portainer-tooltip>\n            </label>\n            <div class="col-sm-9 col-lg-10">\n              <input\n                ng-disabled="endpointType === \'local\' || state.azureEndpoint"\n                type="text"\n                class="form-control"\n                id="endpoint_url"\n                ng-model="endpoint.URL"\n                placeholder=" 10.0.0.10:2375 or mydocker.mydomain.com:2375"\n              />\n            </div>\n          </div>\n          \x3c!-- !endpoint-url-input --\x3e\n          \x3c!-- endpoint-public-url-input --\x3e\n          <div class="form-group" ng-if="!state.azureEndpoint">\n            <label for="endpoint_public_url" class="col-sm-3 col-lg-2 control-label text-left">\n              Public IP\n              <portainer-tooltip\n                position="bottom"\n                message="URL or IP address where exposed containers will be reachable. This field is optional and will default to the environment URL."\n              >\n              </portainer-tooltip>\n            </label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" id="endpoint_public_url" ng-model="endpoint.PublicURL" placeholder=" 10.0.0.10 or mydocker.mydomain.com" />\n            </div>\n          </div>\n          <div class="form-group" ng-if="state.edgeEndpoint">\n            <label for="edge_checkin" class="col-sm-2 control-label text-left">\n              Poll frequency\n              <portainer-tooltip\n                position="bottom"\n                message="Portainer"\n              ></portainer-tooltip>\n            </label>\n            <div class="col-sm-10">\n              <select\n                id="edge_checkin"\n                class="form-control"\n                ng-model="endpoint.EdgeCheckinInterval"\n                ng-options="+(opt.value) as opt.key for opt in state.availableEdgeAgentCheckinOptions"\n              ></select>\n            </div>\n          </div>\n          \x3c!-- !endpoint-public-url-input --\x3e\n          <azure-endpoint-config\n            ng-if="state.azureEndpoint"\n            application-id="endpoint.AzureCredentials.ApplicationID"\n            tenant-id="endpoint.AzureCredentials.TenantID"\n            authentication-key="endpoint.AzureCredentials.AuthenticationKey"\n          ></azure-endpoint-config>\n          <div class="col-sm-12 form-section-title"> Metadata </div>\n          \x3c!-- group --\x3e\n          <div class="form-group">\n            <label for="endpoint_group" class="col-sm-3 col-lg-2 control-label text-left"> Group </label>\n            <div class="col-sm-9 col-lg-10">\n              <select ng-options="group.Id as group.Name for group in groups" ng-model="endpoint.GroupId" id="endpoint_group" class="form-control"></select>\n            </div>\n          </div>\n          \x3c!-- !group --\x3e\n          \x3c!-- tags --\x3e\n          <div class="form-group">\n            <tag-selector ng-if="endpoint && availableTags" tags="availableTags" model="endpoint.TagIds" on-create="(onCreateTag)" allow-create="state.allowCreate"></tag-selector>\n          </div>\n          \x3c!-- !tags --\x3e\n          \x3c!-- endpoint-security --\x3e\n          <div ng-if="showSecurity">\n            <div class="col-sm-12 form-section-title"> Security </div>\n            <por-endpoint-security form-data="formValues.SecurityFormData" endpoint="endpoint"></por-endpoint-security>\n          </div>\n          \x3c!-- !endpoint-security --\x3e\n          \x3c!-- open-amt info --\x3e\n          <div ng-if="state.showAMTInfo">\n            <div class="col-sm-12 form-section-title"> Open Active Management Technology </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoVersion" class="col-sm-3 col-lg-2 control-label text-left"> AMT Version </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" ng-disabled="true" class="form-control" id="endpoint_managementinfoVersion" ng-model="endpoint.ManagementInfo[\'AMT\']" placeholder="..." />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoUUID" class="col-sm-3 col-lg-2 control-label text-left"> UUID </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" ng-disabled="true" class="form-control" id="endpoint_managementinfoUUID" ng-model="endpoint.ManagementInfo[\'UUID\']" placeholder="..." />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoBuildNumber" class="col-sm-3 col-lg-2 control-label text-left"> Build Number </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  ng-disabled="true"\n                  class="form-control"\n                  id="endpoint_managementinfoBuildNumber"\n                  ng-model="endpoint.ManagementInfo[\'Build Number\']"\n                  placeholder="..."\n                />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoControlMode" class="col-sm-3 col-lg-2 control-label text-left"> Control Mode </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  ng-disabled="true"\n                  class="form-control"\n                  id="endpoint_managementinfoControlMode"\n                  ng-model="endpoint.ManagementInfo[\'Control Mode\']"\n                  placeholder="..."\n                />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoDNSSuffix" class="col-sm-3 col-lg-2 control-label text-left"> DNS Suffix </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  ng-disabled="true"\n                  class="form-control"\n                  id="endpoint_managementinfoDNSSuffix"\n                  ng-model="endpoint.ManagementInfo[\'DNS Suffix\']"\n                  placeholder="..."\n                />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !open-amt info --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !endpoint.Name || !endpoint.URL || (endpoint.TLS && ((endpoint.TLSVerify && !formValues.TLSCACert) || (endpoint.TLSClientCert && (!formValues.TLSCert || !formValues.TLSKey))))"\n                ng-click="updateEndpoint()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Update environment...</span>\n                <span ng-show="state.actionInProgress">Updating environment...</span>\n              </button>\n              <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.endpoints"></a>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},77697:e=>{var t="app/portainer/views/endpoints/endpoints.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.endpoints" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div\n  class="row"\n  style="width: 100%; height: 100%; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center"\n  ng-if="state.loadingMessage"\n>\n  <div class="sk-fold">\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n  </div>\n  <span style="margin-top: 25px">\n    {{ state.loadingMessage }}\n    <i class="fa fa-cog fa-spin"></i>\n  </span>\n</div>\n\n<div class="row" ng-if="!state.loadingMessage">\n  <div class="col-sm-12">\n    <endpoints-datatable\n      title-text=""\n      title-icon="fa-plug"\n      table-key="endpoints"\n      order-by="Name"\n      remove-action="removeAction"\n      retrieve-page="getPaginatedEndpoints"\n      set-loading-message="setLoadingMessage"\n    ></endpoints-datatable>\n  </div>\n</div>\n')}]),e.exports=t},54658:e=>{var t="app/portainer/views/endpoints/kvm/endpointKVM.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="KVM Control"></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.endpoints"></a> &gt; <a ui-sref="portainer.endpoints.endpoint({id: $state.endpoint.Id})">{{ $state.endpoint.Name }}</a> &gt;\n    {{ $state.deviceName }} > KVM Control\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <div class="datatable" ng-class="{ \'kvm-maximized\': $state.maximized }">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <div class="toolBar">\n            <div class="toolBarTitle">KVM Control</div>\n            <i class="interactive fa fa-times fa-lg pull-right" aria-hidden="true" ui-sref="edge.devices"></i>\n            <i ng-click="maximize()" title="Maximize" class="interactive fa fa-window-maximize fa-lg pull-right" style="margin-right: 10px" aria-hidden="true"></i>\n            <i ng-click="minimize()" title="Minimize" class="interactive fa fa-window-minimize fa-lg pull-right" style="margin-right: 10px" aria-hidden="true"></i>\n          </div>\n          <div class="actionBar">\n            <kvm-control device-id="$state.deviceId" server="$state.mpsServer" token="$state.mpsToken"> </kvm-control>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},83178:e=>{var t="app/portainer/views/groups/access/groupAccess.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Environment group access"></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.groups"></a> &gt; <a ui-sref="portainer.groups.group({id: group.Id})">{{ group.Name }}</a> &gt; Access management\n  </rd-header-content>\n</rd-header>\n\n<div class="row" ng-if="group">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-object-group" title-text="Group"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>\n                {{ group.Name }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<por-access-management\n  ng-if="group"\n  access-controlled-entity="group"\n  entity-type="group"\n  action-in-progress="state.actionInProgress"\n  update-access="updateAccess"\n  limited-feature="limitedFeature"\n></por-access-management>\n')}]),e.exports=t},48508:e=>{var t="app/portainer/views/groups/create/creategroup.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create environment group"></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.groups">Environment groups</a> &gt; Add group </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <group-form\n          loaded="loaded"\n          page-type="create"\n          model="model"\n          available-endpoints="availableEndpoints"\n          available-tags="availableTags"\n          associated-endpoints="associatedEndpoints"\n          add-label-action="addLabel"\n          remove-label-action="removeLabel"\n          form-action="create"\n          form-action-label="Create the group"\n          action-in-progress="state.actionInProgress"\n          on-create-tag="(onCreateTag)"\n        ></group-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},55150:e=>{var t="app/portainer/views/groups/edit/group.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Environment group details"></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.groups"></a> &gt; {{ ::group.Name }} </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <group-form\n          loaded="loaded"\n          page-type="edit"\n          model="group"\n          available-endpoints="availableEndpoints"\n          available-tags="availableTags"\n          associated-endpoints="associatedEndpoints"\n          add-label-action="addLabel"\n          remove-label-action="removeLabel"\n          form-action="update"\n          form-action-label="Update the group"\n          action-in-progress="state.actionInProgress"\n          on-create-tag="(onCreateTag)"\n        ></group-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},9391:e=>{var t="app/portainer/views/groups/groups.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Environment groups">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.groups" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Environment group management</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <groups-datatable\n      title-text="Environment groups"\n      title-icon="fa-object-group"\n      dataset="groups"\n      table-key="groups"\n      order-by="Name"\n      remove-action="removeAction"\n    ></groups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},29066:e=>{var t="app/portainer/views/home/home.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- <react-example text="\'text\'"></react-example> --\x3e\n\n<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.home" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<motd-panel ng-if="motd && motd.Message !== \'\' && applicationState.UI.dismissedInfoHash !== motd.Hash" motd="motd" dismiss-action="dismissImportantInformation(motd.Hash)">\n</motd-panel>\n\n<license-node-panel></license-node-panel>\n\n<kubernetes-feedback-panel></kubernetes-feedback-panel>\n\n<information-panel ng-if="!isAdmin && endpoints.length === 0" title-text="Information">\n  <span class="small text-muted">\n    <p>\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n       \n    </p>\n  </span>\n</information-panel>\n\n<div\n  class="row"\n  style="width: 100%; height: 100%; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center"\n  ng-if="state.connectingToEdgeEndpoint"\n>\n  ...\n  <i class="fa fa-cog fa-spin" style="margin-left: 5px"></i>\n</div>\n\n<information-panel ng-if="isAdmin && endpoints.length === 0" title-text="Information">\n  <span class="small text-muted">\n    <p>\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n       \n      <a ui-sref="portainer.endpoints.new">  </a>\n      \n    </p>\n  </span>\n</information-panel>\n\n<information-panel ng-if="backupStatus.Failed" title-text="Information">\n  <span class="small text-muted">\n    <p>\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n       {{ backupStatus.TimestampUTC | date: \'yyyy-MM-dd HH:mm:ss\' }}. \n      <a ui-sref="portainer.settings"></a>\n      \n    </p>\n  </span>\n</information-panel>\n\n<div class="row" ng-if="!state.connectingToEdgeEndpoint">\n  <div class="col-sm-12">\n    <endpoint-list\n      title-text=""\n      title-icon="fa-plug"\n      endpoints="endpoints"\n      table-key="home_endpoints"\n      tags="tags"\n      dashboard-action="goToDashboard"\n      show-snapshot-action="isAdmin"\n      snapshot-action="triggerSnapshot"\n      edit-action="goToEdit"\n      is-admin="isAdmin"\n      total-count="totalCount"\n      retrieve-page="getPaginatedEndpoints"\n      endpoint-init-time="state.homepageLoadTime"\n    ></endpoint-list>\n  </div>\n</div>\n')}]),e.exports=t},45564:(e,t,n)=>{var a='<div class="page-wrapper">\n  \x3c!-- simple box --\x3e\n  <div class="container simple-box">\n    <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1">\n      \x3c!-- simple box logo --\x3e\n      <div class="row">\n        <img ng-if="logo" ng-src="{{ logo }}" class="simple-box-logo" />\n        <img ng-if="!logo" src="'+n(21985)+'" class="simple-box-logo" alt="Portainer" />\n      </div>\n      \x3c!-- !simple box logo --\x3e\n      \x3c!-- init password panel --\x3e\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- toggle --\x3e\n          <div style="padding-bottom: 12px">\n            <a ng-click="togglePanel()">\n              <i ng-class="{ true: \'glyphicon glyphicon-chevron-down\', false: \'glyphicon glyphicon-chevron-right\' }[state.showInitPassword]" aria-hidden="true"></i\n              ><span style="padding-left: 10px">Portainer</span>\n            </a>\n          </div>\n          \x3c!-- !toggle --\x3e\n\n          \x3c!-- init password form --\x3e\n          <form class="simple-box-form form-horizontal" style="padding-left: 30px" ng-if="state.showInitPassword">\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted">  </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- username-input --\x3e\n            <div class="form-group">\n              <label for="username" class="col-sm-4 control-label text-left">  </label>\n              <div class="col-sm-8">\n                <input type="text" class="form-control" id="username" ng-model="formValues.Username" placeholder=" admin" />\n              </div>\n            </div>\n            \x3c!-- !username-input --\x3e\n            \x3c!-- new-password-input --\x3e\n            <div class="form-group">\n              <label for="password" class="col-sm-4 control-label text-left">   </label>\n              <div class="col-sm-8">\n                <input type="password" class="form-control" ng-model="formValues.Password" id="password" auto-focus />\n              </div>\n            </div>\n            \x3c!-- !new-password-input --\x3e\n            \x3c!-- confirm-password-input --\x3e\n            <div class="form-group">\n              <label for="confirm_password" class="col-sm-4 control-label text-left"> </label>\n              <div class="col-sm-8">\n                <div class="input-group">\n                  <input type="password" class="form-control" ng-model="formValues.ConfirmPassword" id="confirm_password" />\n                  <span class="input-group-addon"\n                    ><i\n                      ng-class="{ true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[formValues.Password !== \'\' && formValues.Password === formValues.ConfirmPassword]"\n                      aria-hidden="true"\n                    ></i\n                  ></span>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !confirm-password-input --\x3e\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted">\n                  <i ng-class="{ true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[formValues.Password.length >= 8]" aria-hidden="true"></i>\n                   8 \n                </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="state.actionInProgress || formValues.Password.length < 8 || formValues.Password !== formValues.ConfirmPassword"\n                  ng-click="createAdminUser()"\n                  button-spinner="state.actionInProgress"\n                >\n                  <span ng-hide="state.actionInProgress"><i class="fa fa-user-plus" aria-hidden="true"></i> </span>\n                  <span ng-show="state.actionInProgress">Creating user...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n            \x3c!-- enableTelemetry--\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <input type="checkbox" name="toggle_enableTelemetry" ng-model="formValues.enableTelemetry" />\n                <span class="text-muted small" style="margin-left: 2px"\n                  > \n                  <a href="https://www.portainer.io/documentation/in-app-analytics-and-privacy-policy/" target="_blank"></a>.</span\n                >\n              </div>\n            </div>\n            \x3c!-- !enableTelemetry--\x3e\n          </form>\n          \x3c!-- !init password form --\x3e\n        </div>\n      </div>\n      \x3c!-- !init password panel --\x3e\n\n      \x3c!-- restore backup panel --\x3e\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- toggle --\x3e\n          <div style="padding-bottom: 12px">\n            <a ng-click="togglePanel()" data-cy="init-installPortainerFromBackup">\n              <i ng-class="{ true: \'glyphicon glyphicon-chevron-down\', false: \'glyphicon glyphicon-chevron-right\' }[state.showRestorePortainer]" aria-hidden="true"></i\n              ><span style="padding-left: 10px"> Portainer</span>\n            </a>\n          </div>\n          \x3c!-- !toggle --\x3e\n\n          \x3c!-- restore form --\x3e\n          <form class="simple-box-form form-horizontal" style="padding-left: 30px" ng-if="state.showRestorePortainer" name="restorePortainerForm">\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-9">\n                <span class="small text-muted">\n                   Portainer \n                </span>\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="boxselector_wrapper">\n                <div>\n                  <input type="radio" id="restore_file" ng-model="formValues.restoreFormType" value="file" />\n                  <label for="restore_file" style="padding-bottom: 20px">\n                    <div class="boxselector_header">\n                      <i class="fa fa-upload" aria-hidden="true" style="margin-right: 2px"></i>\n                      \n                    </div>\n                    <p></p>\n                  </label>\n                </div>\n                <div>\n                  <input type="radio" id="restore_s3" ng-model="formValues.restoreFormType" value="s3" />\n                  <label for="restore_s3" style="padding-bottom: 20px" data-cy="init-backupFromS3">\n                    <div class="boxselector_header">\n                      <i class="fa fa-download" aria-hidden="true" style="margin-right: 2px"></i>\n                       S3 \n                    </div>\n                    <p></p>\n                  </label>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            <div ng-if="formValues.restoreFormType === RESTORE_FORM_TYPES.FILE">\n              \x3c!-- note --\x3e\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <span class="small text-muted"> </span>\n                </div>\n              </div>\n              \x3c!-- !note --\x3e\n              \x3c!-- select-file-input --\x3e\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <button\n                    class="btn btn-sm btn-primary"\n                    ngf-select\n                    accept=".gz,.encrypted"\n                    ngf-accept="\'application/x-tar,application/x-gzip\'"\n                    ng-model="formValues.BackupFile"\n                    auto-focus\n                    data-cy="init-selectBackupFileButton"\n                    ></button\n                  >\n                  <span style="margin-left: 5px">\n                    {{ formValues.BackupFile.name }}\n                    <i class="fa fa-times red-icon" ng-if="!formValues.BackupFile" aria-hidden="true"></i>\n                  </span>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !select-file-input --\x3e\n            <div ng-if="formValues.restoreFormType === RESTORE_FORM_TYPES.S3">\n              \x3c!-- Access key id  --\x3e\n              <div class="form-group">\n                <label for="access_key_id" class="col-sm-3 control-label text-left"> ID</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" id="access_key_id" name="access_key_id" ng-model="formValues.AccessKeyId" required data-cy="init-accessKeyIdInput" />\n                </div>\n              </div>\n              \x3c!-- !Access key id  --\x3e\n              \x3c!-- Secret access key --\x3e\n              <div class="form-group">\n                <label for="secret_access_key" class="col-sm-3 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <input\n                    type="password"\n                    class="form-control"\n                    id="secret_access_key"\n                    name="secret_access_key"\n                    ng-model="formValues.SecretAccessKey"\n                    required\n                    data-cy="init-secretAccessKeyInput"\n                  />\n                </div>\n              </div>\n              \x3c!-- !Secret access key --\x3e\n              \x3c!-- Region --\x3e\n              <div class="form-group">\n                <label for="backup-s3-region" class="col-sm-3 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <input\n                    type="text"\n                    class="form-control"\n                    placeholder="us-west-1"\n                    id="backup-s3-region"\n                    name="backup-s3-region"\n                    ng-model="formValues.Region"\n                    required\n                    data-cy="init-s3RegionInput"\n                  />\n                </div>\n              </div>\n              \x3c!-- !Region --\x3e\n              \x3c!-- Bucket name --\x3e\n              <div class="form-group">\n                <label for="bucket_name" class="col-sm-3 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" id="bucket_name" name="bucket_name" ng-model="formValues.BucketName" required data-cy="init-bucketNameInput" />\n                </div>\n              </div>\n              \x3c!-- !Bucket name --\x3e\n              \x3c!-- Filename --\x3e\n              <div class="form-group">\n                <label for="backup-s3-filename" class="col-sm-3 control-label text-left"></label>\n                <div class="col-sm-9">\n                  <input\n                    type="text"\n                    class="form-control"\n                    id="backup-s3-filename"\n                    name="backup-s3-filename"\n                    ng-model="formValues.Filename"\n                    required\n                    data-cy="init-backupFilenameInput"\n                  />\n                </div>\n              </div>\n              \x3c!-- !Filename --\x3e\n            </div>\n            \x3c!-- password-input --\x3e\n            <div class="form-group">\n              <label for="password" class="col-sm-3 control-label text-left">\n                \n                <portainer-tooltip\n                  position="bottom"\n                  message=""\n                ></portainer-tooltip>\n              </label>\n              <div ng-class="{ \'col-sm-4\': formValues.restoreFormType === RESTORE_FORM_TYPES.FILE, \'col-sm-9\': formValues.restoreFormType === RESTORE_FORM_TYPES.S3 }">\n                <input type="password" class="form-control" ng-model="formValues.Password" id="password" data-cy="init-backupPasswordInput" />\n              </div>\n            </div>\n            \x3c!-- !password-input --\x3e\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted">  Portainer </span>\n              </div>\n              <div class="col-sm-12">\n                <span class="small text-muted">  Portainer  </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  ng-if="formValues.restoreFormType === RESTORE_FORM_TYPES.FILE"\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="!formValues.BackupFile || state.backupInProgress"\n                  ng-click="uploadBackup()"\n                  button-spinner="state.backupInProgress"\n                  data-cy="init-restorePortainerButton"\n                >\n                  <span ng-hide="state.backupInProgress">Portainer</span>\n                  <span ng-show="state.backupInProgress">Restoring Portainer...</span>\n                </button>\n                <button\n                  ng-if="formValues.restoreFormType === RESTORE_FORM_TYPES.S3"\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="restorePortainerForm.$invalid ||state.backupInProgress"\n                  ng-click="restoreFromS3()"\n                  button-spinner="state.backupInProgress"\n                  data-cy="init-restorePortainerButtonS3"\n                >\n                  <span ng-hide="state.backupInProgress">Portainer</span>\n                  <span ng-show="state.backupInProgress">Restoring Portainer...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n          \x3c!-- !restore backup form --\x3e\n        </div>\n      </div>\n      \x3c!-- !restore backup panel --\x3e\n    </div>\n  </div>\n  \x3c!-- !simple box --\x3e\n</div>\n',s="app/portainer/views/init/admin/initAdmin.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},65535:e=>{var t="app/portainer/views/init/endpoint/includes/agent.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Information </div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <span class="small">\n      <p class="text-primary"> Connect directly to a Portainer agent running inside a Docker or Kubernetes environment. </p>\n    </span>\n  </div>\n</div>\n<div class="col-sm-12 form-section-title"> Environment </div>\n\x3c!-- name-input --\x3e\n<div class="form-group">\n  <label for="endpoint_name" class="col-sm-4 col-lg-3 control-label text-left"></label>\n  <div class="col-sm-8 col-lg-9">\n    <input type="text" class="form-control" id="endpoint_name" ng-model="ctrl.formValues.Name" placeholder=" prod-cluster-01" />\n  </div>\n</div>\n\x3c!-- !name-input --\x3e\n\x3c!-- endpoint-url-input --\x3e\n<div class="form-group">\n  <label for="endpoint_url" class="col-sm-4 col-lg-3 control-label text-left">\n    Agent URL\n    <portainer-tooltip position="bottom" message="URL or IP address of a Portainer agent."> </portainer-tooltip>\n  </label>\n  <div class="col-sm-8 col-lg-9">\n    <input type="text" class="form-control" id="endpoint_url" ng-model="ctrl.formValues.URL" placeholder=" 10.0.0.10:9001" />\n  </div>\n</div>\n\x3c!-- !endpoint-url-input --\x3e\n')}]),e.exports=t},31714:e=>{var t="app/portainer/views/init/endpoint/includes/localDocker.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Information </div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <span class="small">\n      <p class="text-primary"> Manage the Docker environment where Portainer is running. </p>\n      <p class="text-muted">\n        <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        Ensure that you have started the Portainer container with the following Docker flag:\n      </p>\n      <p class="text-muted"> <code>-v "/var/run/docker.sock:/var/run/docker.sock"</code> (Linux). </p>\n      <p class="text-muted"> or </p>\n      <p class="text-muted"> <code>-v \\\\.\\pipe\\docker_engine:\\\\.\\pipe\\docker_engine</code> (Windows). </p>\n    </span>\n  </div>\n</div>\n')}]),e.exports=t},6367:e=>{var t="app/portainer/views/init/endpoint/includes/localKubernetes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Information </div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <span class="small">\n      <p class="text-primary"> Manage the Kubernetes environment where Portainer is running. </p>\n    </span>\n  </div>\n</div>\n')}]),e.exports=t},86573:(e,t,n)=>{var a='<div class="page-wrapper">\n  \x3c!-- simple box --\x3e\n  <div class="container simple-box">\n    <div class="col-sm-12">\n      \x3c!-- simple box logo --\x3e\n      <div class="row">\n        <img ng-if="ctrl.logo" ng-src="{{ ctrl.logo }}" class="simple-box-logo" />\n        <img ng-if="!ctrl.logo" src="'+n(21985)+'" class="simple-box-logo" alt="Portainer" />\n      </div>\n      \x3c!-- !simple box logo --\x3e\n      \x3c!-- init-environment panel --\x3e\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- init-environment form --\x3e\n          <form class="simple-box-form form-horizontal">\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted"> Connect Portainer to the container environment you want to manage. </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- endpoint-type --\x3e\n            <div class="form-group" style="margin-bottom: 0">\n              <div class="boxselector_wrapper">\n                <div ng-repeat="type in ctrl.endpointSections">\n                  <input type="radio" id="{{ type.Id }}" ng-model="ctrl.formValues.ConnectionType" ng-value="type.Value" />\n                  <label for="{{ type.Id }}">\n                    <div class="boxselector_header">\n                      <i ng-class="type.Classes" aria-hidden="true" style="margin-right: 2px"></i>\n                      {{ type.Title }}\n                    </div>\n                    <p>{{ type.Description }}</p>\n                  </label>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !endpoint-type  --\x3e\n            \x3c!-- endpoint-type-details --\x3e\n            <div ng-if="ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.DOCKER_LOCAL">\n              <ng-include src="\'app/portainer/views/init/endpoint/includes/localDocker.html\'"></ng-include>\n            </div>\n            <div ng-if="ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL">\n              <ng-include src="\'app/portainer/views/init/endpoint/includes/localKubernetes.html\'"></ng-include>\n            </div>\n            <div ng-if="ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.AGENT">\n              <ng-include src="\'app/portainer/views/init/endpoint/includes/agent.html\'"></ng-include>\n            </div>\n            \x3c!-- !endpoint-type-details --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="ctrl.isConnectButtonDisabled()"\n                  ng-click="ctrl.createEndpoint()"\n                  button-spinner="ctrl.state.actionInProgress"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress"><i class="fa fa-bolt" aria-hidden="true"></i> Connect</span>\n                  <span ng-show="ctrl.state.actionInProgress">Connecting...</span>\n                </button>\n                <button type="submit" class="btn btn-sm btn-default" ng-click="ctrl.skipEndpointCreation()" button-spinner="ctrl.state.actionInProgress">\n                  <span ng-hide="ctrl.state.actionInProgress"><i class="fa fa-share" aria-hidden="true"></i> Skip</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n          \x3c!-- !init-environment form --\x3e\n        </div>\n      </div>\n      \x3c!-- !init-environment panel --\x3e\n    </div>\n  </div>\n  \x3c!-- !simple box --\x3e\n</div>\n',s="app/portainer/views/init/endpoint/initEndpoint.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},26996:(e,t,n)=>{var a='<div class="page-wrapper">\n  \x3c!-- simple box --\x3e\n  <div class="container simple-box">\n    <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1">\n      \x3c!-- simple box logo --\x3e\n      <div class="row">\n        <img ng-if="logo" ng-src="{{ logo }}" class="simple-box-logo" />\n        <img ng-if="!logo" src="'+n(21985)+'" class="simple-box-logo" alt="Portainer" />\n      </div>\n      \x3c!-- !simple box logo --\x3e\n\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- init-environment form --\x3e\n          <form class="simple-box-form form-horizontal" name="$ctrl.form" novalidate>\n            <div class="col-sm-12 form-section-title">  </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                <p> Portainer </p>\n              </span>\n            </div>\n\n            <div class="form-group">\n              <label for="license-input" class="col-sm-1 control-label text-left"></label>\n              <div class="col-sm-11">\n                <input class="form-control" id="license-input" ng-model="$ctrl.license" auto-focus />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-click="$ctrl.submit()"\n                  ng-disabled="$ctrl.state.actionInProgress || !$ctrl.isFormValid()"\n                  button-spinner="$ctrl.state.actionInProgress"\n                  style="margin-left: 0"\n                >\n                  <span ng-hide="$ctrl.state.actionInProgress"></span>\n                  <span ng-show="$ctrl.state.actionInProgress">...</span>\n                </button>\n                <div style="padding: 15px 0px; font-weight: bold">\n                  <a href="https://www.portainer.io/get-a-license" target="_blank"></a>\n                </div>\n                <span class="text-danger" ng-if="$ctrl.state.formError" style="margin-left: 5px">{{ $ctrl.state.formError }}</span>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',s="app/portainer/views/init/init-license.view/init-license.view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},81882:(e,t,n)=>{var a='<div class="page-wrapper">\n  \x3c!-- login box --\x3e\n  <div class="container simple-box">\n    <div class="col-sm-6 col-sm-offset-3">\n      \x3c!-- login box logo --\x3e\n      <div class="row">\n        <img ng-if="!ctrl.logo" src="'+n(21985)+'" class="simple-box-logo" alt="Portainer" />\n        <img ng-if="ctrl.logo" ng-src="{{ ctrl.logo }}" class="simple-box-logo" />\n      </div>\n      \x3c!-- !login box logo --\x3e\n\n      \x3c!-- login panel --\x3e\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- login form --\x3e\n          <form class="simple-box-form form-horizontal">\n            \x3c!-- !username input --\x3e\n            <div class="input-group">\n              <span class="input-group-addon"><i class="fa fa-user" aria-hidden="true"></i></span>\n              <input id="username" type="text" class="form-control" name="username" ng-model="ctrl.formValues.Username" auto-focus />\n            </div>\n\n            \x3c!-- password input --\x3e\n            <div class="input-group">\n              <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n              <input id="password" type="password" class="form-control" name="password" ng-model="ctrl.formValues.Password" />\n            </div>\n\n            <div class="form-group">\n              \x3c!-- login button --\x3e\n              <div class="col-sm-12" style="display: flex; align-items: center; justify-content: center">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm pull-right"\n                  ng-click="ctrl.authenticateUser()"\n                  button-spinner="ctrl.state.loginInProgress"\n                  ng-disabled="ctrl.state.loginInProgress"\n                >\n                  <span ng-hide="ctrl.state.loginInProgress"><i class="fa fa-sign-in-alt" aria-hidden="true"></i></span>\n                  <span ng-show="ctrl.state.loginInProgress">...</span>\n                </button>\n              </div>\n            </div>\n          </form>\n          \x3c!-- !login form --\x3e\n\n          \x3c!-- error message --\x3e\n          <div class="pull-right" ng-if="ctrl.state.AuthenticationError">\n            <i class="fa fa-exclamation-triangle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n            <span class="small text-danger">{{ ctrl.state.AuthenticationError }}</span>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- !login panel --\x3e\n      <div class="panel panel-default" ng-show="ctrl.state.loginInProgress">\n        <div class="panel-body">\n          <div class="form-group text-center">\n            <span class="small text-muted">Authentication in progress... <span button-spinner="true"></span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !login box --\x3e\n</div>\n',s="app/portainer/views/internal-auth/internal-auth.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},94818:(e,t,n)=>{var a='<div class="page-wrapper">\n  \x3c!-- login box --\x3e\n  <div class="container simple-box">\n    <div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3">\n      \x3c!-- login box logo --\x3e\n      <div class="row">\n        <img ng-if="!ctrl.logo" src="'+n(21985)+'" class="simple-box-logo" alt="Portainer" />\n        <img ng-if="ctrl.logo" ng-src="{{ ctrl.logo }}" class="simple-box-logo" />\n      </div>\n      <div class="row" style="text-align: center">\n        Logout in progress...\n        <i class="fa fa-cog fa-spin" style="margin-left: 5px"></i>\n      </div>\n    </div>\n  </div>\n</div>\n',s="app/portainer/views/logout/logout.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},83827:e=>{var t="app/portainer/views/registries/create/createRegistry.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Create registry"></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.registries"></a> &gt; Add registry </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Registry provider </div>\n\n          <div class="form-group"></div>\n\n          <div class="form-group" style="margin-bottom: 0">\n            <div class="boxselector_wrapper">\n              <div>\n                <input type="radio" id="registry_dockerhub" ng-model="$ctrl.model.Type" ng-value="$ctrl.RegistryTypes.DOCKERHUB" />\n                <label for="registry_dockerhub" ng-click="$ctrl.selectDockerHub()">\n                  <div class="boxselector_header">\n                    <i class="fa fa-database" aria-hidden="true" style="margin-right: 2px"></i>\n                    DockerHub\n                  </div>\n                  <p>DockerHub authenticated account</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="registry_aws_ecr" ng-model="$ctrl.model.Type" ng-value="$ctrl.RegistryTypes.ECR" />\n                <label for="registry_aws_ecr" ng-click="$ctrl.selectEcr()">\n                  <div class="boxselector_header">\n                    <i class="fab fa-aws" aria-hidden="true" style="margin-right: 2px"></i>\n                    AWS ECR\n                  </div>\n                  <p>Amazon elastic container registry</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="registry_quay" ng-model="$ctrl.model.Type" ng-value="$ctrl.RegistryTypes.QUAY" />\n                <label for="registry_quay" ng-click="$ctrl.selectQuayRegistry()">\n                  <div class="boxselector_header">\n                    <i class="fa fa-database" aria-hidden="true" style="margin-right: 2px"></i>\n                    Quay.io\n                  </div>\n                  <p>Quay container registry</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="registry_proget" ng-model="$ctrl.model.Type" ng-value="$ctrl.RegistryTypes.PROGET" />\n                <label for="registry_proget" ng-click="$ctrl.selectProGetRegistry()">\n                  <div class="boxselector_header">\n                    <i class="fa fa-database" aria-hidden="true" style="margin-right: 2px"></i>\n                    ProGet\n                  </div>\n                  <p>ProGet container registry</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="registry_azure" ng-model="$ctrl.model.Type" ng-value="$ctrl.RegistryTypes.AZURE" />\n                <label for="registry_azure" ng-click="$ctrl.selectAzureRegistry()">\n                  <div class="boxselector_header">\n                    <i class="fab fa-microsoft" aria-hidden="true" style="margin-right: 2px"></i>\n                    Azure\n                  </div>\n                  <p>Azure container registry</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="registry_gitlab" ng-model="$ctrl.model.Type" ng-value="$ctrl.RegistryTypes.GITLAB" />\n                <label for="registry_gitlab" ng-click="$ctrl.selectGitlabRegistry()">\n                  <div class="boxselector_header">\n                    <i class="fab fa-gitlab" aria-hidden="true" style="margin-right: 2px"></i>\n                    Gitlab\n                  </div>\n                  <p>Gitlab container registry</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="registry_custom" ng-model="$ctrl.model.Type" ng-value="$ctrl.RegistryTypes.CUSTOM" />\n                <label for="registry_custom" ng-click="$ctrl.selectCustomRegistry()">\n                  <div class="boxselector_header">\n                    <i class="fa fa-database" aria-hidden="true" style="margin-right: 2px"></i>\n                    Custom registry\n                  </div>\n                  <p>Define your own registry</p>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <registry-form-quay\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.QUAY"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n          ></registry-form-quay>\n\n          <registry-form-azure\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.AZURE"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n          ></registry-form-azure>\n\n          <registry-form-custom\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.CUSTOM"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n          ></registry-form-custom>\n\n          <registry-form-ecr\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.ECR"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n          ></registry-form-ecr>\n\n          <registry-form-proget\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.PROGET"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n          ></registry-form-proget>\n\n          <registry-form-gitlab\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.GITLAB"\n            model="$ctrl.model"\n            retrieve-registries="$ctrl.retrieveGitlabRegistries"\n            create-registries="$ctrl.createGitlabRegistries"\n            projects="$ctrl.gitlabProjects"\n            state="$ctrl.state"\n            action-in-progress="$ctrl.state.actionInProgress"\n            reset-defaults="$ctrl.useDefaultGitlabConfiguration"\n          ></registry-form-gitlab>\n          <registry-form-dockerhub\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.DOCKERHUB"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n          ></registry-form-dockerhub>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},2800:e=>{var t="app/portainer/views/registries/edit/registry.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Registry details"></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.registries"></a> &gt; <a ui-sref="portainer.registries.registry({id: registry.Id})">{{ registry.Name }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left"></label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" id="registry_name" ng-model="registry.Name" placeholder=" my-registry" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- registry-url-input --\x3e\n          <div class="form-group">\n            <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n              Registry URL\n              <portainer-tooltip\n                position="bottom"\n                message="URL or IP address of a Docker registry. Any protocol or trailing slash will be stripped if present."\n              ></portainer-tooltip>\n            </label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" id="registry_url" ng-model="registry.URL" placeholder=" 10.0.0.10:5000 or myregistry.domain.tld" />\n            </div>\n          </div>\n          \x3c!-- !registry-url-input --\x3e\n\n          \x3c!-- authentication-checkbox --\x3e\n          <div class="form-group" ng-if="registry.Type !== RegistryTypes.PROGET">\n            <div class="col-sm-12">\n              <label for="registry_auth" class="control-label text-left">\n                \n                <portainer-tooltip position="bottom" message="Enable this option if you need to specify credentials to connect to this registry."></portainer-tooltip>\n              </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="registry.Authentication" /><i></i> </label>\n            </div>\n          </div>\n          \x3c!-- !authentication-checkbox --\x3e\n\n          \x3c!-- authentication-credentials --\x3e\n          <div ng-if="registry.Authentication">\n            \x3c!-- credentials-user --\x3e\n            <div class="form-group">\n              <label for="credentials_username" class="col-sm-3 col-lg-2 control-label text-left">\n                {{ registry.Type === RegistryTypes.ECR ? \'AWS Access Key\' : \'Username\' }}\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" class="form-control" id="credentials_username" ng-model="registry.Username" />\n              </div>\n            </div>\n            \x3c!-- !credentials-user --\x3e\n            \x3c!-- credentials-password --\x3e\n            <div class="form-group">\n              <label for="credentials_password" class="col-sm-3 col-lg-2 control-label text-left">\n                {{ registry.Type === RegistryTypes.ECR ? \'AWS Secret Access Key\' : \'Password\' }}\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="password" class="form-control" id="credentials_password" ng-model="formValues.Password" placeholder="*******" />\n              </div>\n            </div>\n            \x3c!-- !credentials-password --\x3e\n          </div>\n          \x3c!-- !authentication-credentials --\x3e\n\n          <div ng-if="registry.Type == RegistryTypes.QUAY">\n            \x3c!-- organisation-checkbox --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left"> Use organisation registry </label>\n                <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="registry.Quay.UseOrganisation" /><i></i> </label>\n              </div>\n            </div>\n            \x3c!-- !organisation-checkbox --\x3e\n            <div ng-if="registry.Quay.UseOrganisation">\n              \x3c!-- organisation_name --\x3e\n              <div class="form-group">\n                <label for="organisation_name" class="col-sm-3 col-lg-2 control-label text-left">Organisation name</label>\n                <div class="col-sm-9 col-lg-10">\n                  <input type="text" class="form-control" id="organisation_name" name="organisation_name" ng-model="registry.Quay.OrganisationName" required />\n                </div>\n              </div>\n              \x3c!-- !organisation_name --\x3e\n            </div>\n          </div>\n\n          <div ng-if="registry.Type == RegistryTypes.ECR">\n            \x3c!-- region --\x3e\n            <div class="form-group">\n              <label for="registry_region" class="col-sm-3 col-lg-2 control-label text-left">Region</label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" class="form-control" id="registry_region" name="registry_region" placeholder="us-west-1" ng-model="registry.Ecr.Region" required />\n              </div>\n            </div>\n            <div class="form-group" ng-show="registryFormEcr.registry_region.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="registryFormEcr.registry_region.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !region --\x3e\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !registry.Name || !registry.URL || (registry.Type == RegistryTypes.QUAY && registry.Quay.UseOrganisation && !registry.Quay.OrganisationName)"\n                ng-click="updateRegistry()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Update registry</span>\n                <span ng-show="state.actionInProgress">Updating registry...</span>\n              </button>\n              <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.registries"></a>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},68970:e=>{var t="app/portainer/views/registries/registries.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.registries" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<information-panel title-text="">\n  <span class="small text-muted"> / </span>\n</information-panel>\n\n<div class="row">\n  <div class="col-sm-12">\n    <registries-datatable\n      title-text=""\n      title-icon="fa-database"\n      dataset="registries"\n      table-key="registries"\n      order-by="Name"\n      remove-action="removeAction"\n      can-browse="canBrowse"\n    ></registries-datatable>\n  </div>\n</div>\n')}]),e.exports=t},61233:e=>{var t="app/portainer/views/settings/authentication/settingsAuthentication.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Authentication settings"></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.settings"></a> &gt; Authentication </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-users" title-text="Authentication"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" name="authSettingsForm">\n          <div class="col-sm-12 form-section-title"> Configuration </div>\n          <div class="form-group">\n            <label for="user_timeout" class="col-sm-2 control-label text-left">\n              Session\n              <portainer-tooltip message=""></portainer-tooltip>\n            </label>\n            <div class="col-sm-10">\n              <select\n                id="user_timeout"\n                class="form-control"\n                ng-model="settings.UserSessionTimeout"\n                ng-options="opt.value as opt.key for opt in state.availableUserSessionTimeoutOptions"\n              ></select>\n            </div>\n          </div>\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small">  Portainer  </span>\n          </div>\n\n          <div class="col-sm-12 form-section-title"> Authentication method </div>\n          <box-selector radio-name="\'authOptions\'" value="authMethod" options="authOptions" on-change="(onChangeAuthMethod)"></box-selector>\n\n          <internal-auth ng-if="authenticationMethodSelected(1)" on-save-settings="(saveSettings)" save-button-state="state.actionInProgress"></internal-auth>\n\n          <ldap-settings\n            ng-if="authenticationMethodSelected(2)"\n            settings="formValues.ldap.ldapSettings"\n            tlsca-cert="formValues.TLSCACert"\n            state="state"\n            connectivity-check="LDAPConnectivityCheck"\n            selected-admin-groups="formValues.selectedAdminGroups"\n            on-save-settings="(saveSettings)"\n            save-button-state="state.actionInProgress"\n            is-ldap-form-valid="isLDAPFormValid"\n          ></ldap-settings>\n\n          <ad-settings\n            ng-if="authenticationMethodSelected(4)"\n            settings="formValues.ldap.adSettings"\n            tlsca-cert="formValues.TLSCACert"\n            state="state"\n            connectivity-check="LDAPConnectivityCheck"\n            selected-admin-groups="formValues.selectedAdminGroups"\n            on-save-settings="(saveSettings)"\n            save-button-state="state.actionInProgress"\n            is-ldap-form-valid="isLDAPFormValid()"\n          ></ad-settings>\n\n          <oauth-settings\n            ng-if="authenticationMethodSelected(3)"\n            settings="OAuthSettings"\n            teams="teams"\n            on-save-settings="(saveSettings)"\n            save-button-state="state.actionInProgress"\n          ></oauth-settings>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},93149:e=>{var t="app/portainer/views/settings/edge-compute/settingsEdgeCompute.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="portainer.settings"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12" ng-if="$ctrl.settings">\n    <settings-edge-compute on-submit="($ctrl.onSubmitEdgeCompute)" settings="($ctrl.settings)"></settings-edge-compute>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12" ng-if="$ctrl.settings">\n    <settings-open-amt on-submit="($ctrl.onSubmitOpenAMT)" settings="($ctrl.settings)"></settings-open-amt>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12" ng-if="$ctrl.settings">\n    <settings-fdo on-submit="($ctrl.onSubmitFDO)" settings="($ctrl.settings)"></settings-fdo>\n  </div>\n</div>\n')}]),e.exports=t},12811:e=>{var t="app/portainer/views/settings/settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-cogs" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- snapshot-interval --\x3e\n          <div class="form-group">\n            <label for="snapshot_interval" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="settings.SnapshotInterval" id="snapshot_interval" placeholder=" 15m" />\n            </div>\n          </div>\n          \x3c!-- !snapshot-interval --\x3e\n          \x3c!-- logo --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label for="toggle_logo" class="control-label text-left"> logo </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" name="toggle_logo" ng-model="formValues.customLogo" /><i></i> </label>\n            </div>\n          </div>\n          <div ng-if="formValues.customLogo">\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small"> logo URL logo 155  x 55  </span>\n            </div>\n            <div class="form-group">\n              <label for="logo_url" class="col-sm-1 control-label text-left"> URL </label>\n              <div class="col-sm-11">\n                <input type="text" class="form-control" ng-model="settings.LogoURL" id="logo_url" placeholder="https://mycompany.com/logo.png" />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !logo --\x3e\n          \x3c!-- analytics --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label for="toggle_enableTelemetry" class="control-label text-left">  </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" name="toggle_enableTelemetry" ng-model="formValues.enableTelemetry" /><i></i> </label>\n            </div>\n            <div class="col-sm-12 text-muted small" style="margin-top: 10px">\n              \n              <a href="https://www.portainer.io/documentation/in-app-analytics-and-privacy-policy/" target="_blank"></a>\n\n            </div>\n          </div>\n          \x3c!-- !analytics --\x3e\n          \x3c!-- templates --\x3e\n          <div class="col-sm-12 form-section-title">  </div>\n          <div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                 URL \n                <a href="https://documentation.portainer.io/v2.0/settings/apps/#build-and-host-your-own-templates" target="_blank">Portainer </a> \n              </span>\n            </div>\n            <div class="form-group">\n              <label for="templates_url" class="col-sm-1 control-label text-left"> URL </label>\n              <div class="col-sm-11">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="settings.TemplatesURL"\n                  id="templates_url"\n                  placeholder="https://myserver.mydomain/templates.json"\n                  required\n                  data-cy="settings-templateUrl"\n                />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !templates --\x3e\n          \x3c!-- helm charts --\x3e\n          <div class="col-sm-12 form-section-title"> Helm Repository </div>\n          <div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                 helm  URL\n                <a href="https://helm.sh/docs/topics/chart_repository/" target="_blank"></a> \n              </span>\n            </div>\n            <div class="form-group">\n              <label for="helmrepository_url" class="col-sm-1 control-label text-left"> URL </label>\n              <div class="col-sm-11">\n                <input type="text" class="form-control" ng-model="settings.HelmRepositoryURL" id="helmrepository_url" placeholder="https://charts.bitnami.com/bitnami" />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !helm charts --\x3e\n          \x3c!-- kube --\x3e\n          <div class="col-sm-12 form-section-title"> Kubernetes </div>\n          <div class="form-group">\n            <label for="kubeconfig_expiry" class="col-sm-2 control-label text-left"> Kubeconfig expiry </label>\n            <div class="col-sm-10">\n              <select\n                id="kubeconfig_expiry"\n                class="form-control"\n                ng-model="settings.KubeconfigExpiry"\n                ng-options="opt.value as opt.key for opt in state.availableKubeconfigExpiryOptions"\n              ></select>\n            </div>\n          </div>\n          \x3c!-- ! kube  --\x3e\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-click="saveApplicationSettings()"\n                ng-disabled="state.actionInProgress || !settings.TemplatesURL"\n                button-spinner="state.actionInProgress"\n                data-cy="settings-saveSettingsButton"\n              >\n                <span ng-hide="state.actionInProgress"></span>\n                <span ng-show="state.actionInProgress">...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<ssl-certificate-settings></ssl-certificate-settings>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-tags" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" ng-submit="addFilteredContainerLabel()" name="addTagForm">\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small">  Portainer UI   </span>\n          </div>\n          <div class="form-group">\n            <label for="header_name" class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11 col-md-4">\n              <input type="text" required class="form-control" id="header_name" name="label_name" ng-model="formValues.labelName" placeholder=" com.example.foo" />\n            </div>\n            <label for="header_value" class="col-sm-1 margin-sm-top control-label text-left">Value</label>\n            <div class="col-sm-11 col-md-4 margin-sm-top">\n              <input type="text" class="form-control" id="header_value" ng-model="formValues.labelValue" placeholder=" bar" />\n            </div>\n            <div class="col-sm-12 col-md-2 margin-sm-top">\n              <button type="submit" class="btn btn-primary btn-sm" ng-disabled="!formValues.labelName"><i class="fa fa-plus space-right" aria-hidden="true"></i></button>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12 table-responsive">\n              <table class="table table-hover">\n                <thead>\n                  <tr>\n                    <th></th>\n                    <th>Value</th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="label in settings.BlackListedLabels">\n                    <td>{{ label.name }}</td>\n                    <td>{{ label.value }}</td>\n                    <td\n                      ><button type="button" class="btn btn-danger btn-xs" ng-click="removeFilteredContainerLabel($index)"\n                        ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i></button\n                      ></td\n                    >\n                  </tr>\n                  <tr ng-if="settings.BlackListedLabels.length === 0">\n                    <td colspan="3" class="text-center text-muted"></td>\n                  </tr>\n                  <tr ng-if="!settings.BlackListedLabels">\n                    <td colspan="3" class="text-center text-muted">...</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          \x3c!-- !filtered-labels --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-download" title-text=" Portainer"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" ng-submit="backupPortainer()" name="backupPortainerForm">\n          <div class="col-sm-12 form-section-title">  </div>\n          <box-selector options="backupOptions" value="formValues.backupFormType" on-change="(onBackupOptionsChange)" radio-name="\'backupOptions\'"></box-selector>\n          <div ng-if="formValues.backupFormType === BACKUP_FORM_TYPES.S3">\n            \x3c!-- Schedule automatic backups --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <por-switch-field\n                  label="\'\'"\n                  name="\'s3-backup-setting\'"\n                  feature-id="s3BackupFeatureId"\n                  checked="formValues.scheduleAutomaticBackups"\n                  label-class="\'col-sm-2\'"\n                  on-change="(onToggleAutoBackups)"\n                ></por-switch-field\n              ></div>\n            </div>\n            \x3c!-- !Schedule automatic backups --\x3e\n            \x3c!-- Cron rule  --\x3e\n            <div class="form-group" ng-if="formValues.scheduleAutomaticBackups">\n              <label for="cron_rule" class="col-sm-2 col-lg-2 control-label text-left">Cron rule</label>\n              <div class="col-sm-10 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  placeholder="0 2 * * *"\n                  id="cron_rule"\n                  name="cron_rule"\n                  ng-model="formValues.cronRule"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                  required\n                  cronRule\n                  data-cy="settings-backupCronRuleInput"\n                />\n              </div>\n            </div>\n            \x3c!-- !Cron rule  --\x3e\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.cron_rule.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.cron_rule.$error">\n                  <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                  <p ng-message="invalidCron"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please enter a valid cron rule.</p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- Access key id  --\x3e\n            <div class="form-group">\n              <label for="access_key_id" class="col-sm-2 col-lg-2 control-label text-left"> ID</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  id="access_key_id"\n                  name="access_key_id"\n                  ng-model="formValues.accessKeyId"\n                  ng-required="formValues.scheduleAutomaticBackups"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                  data-cy="settings-accessKeyIdInput"\n                />\n              </div>\n            </div>\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.access_key_id.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.access_key_id.$error">\n                  <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !Access key id  --\x3e\n            \x3c!-- Secret access key --\x3e\n            <div class="form-group">\n              <label for="secret_access_key" class="col-sm-3 col-lg-2 control-label text-left">Secret Access Key</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="password"\n                  class="form-control"\n                  id="secret_access_key"\n                  name="secret_access_key"\n                  ng-model="formValues.secretAccessKey"\n                  ng-required="formValues.scheduleAutomaticBackups"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                  data-cy="settings-secretAccessKeyInput"\n                />\n              </div>\n            </div>\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.secret_access_key.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.secret_access_key.$error">\n                  <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !Secret access key --\x3e\n            \x3c!-- Region --\x3e\n            <div class="form-group">\n              <label for="region" class="col-sm-3 col-lg-2 control-label text-left"></label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  placeholder="us-west-1"\n                  id="region"\n                  name="region"\n                  ng-model="formValues.region"\n                  ng-required="formValues.scheduleAutomaticBackups"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                  data-cy="settings-backupRegionInput"\n                />\n              </div>\n            </div>\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.region.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.region.$error">\n                  <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !Region --\x3e\n            \x3c!-- Bucket name --\x3e\n            <div class="form-group">\n              <label for="bucket_name" class="col-sm-3 col-lg-2 control-label text-left">Bucket name</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  id="bucket_name"\n                  name="bucket_name"\n                  ng-model="formValues.bucketName"\n                  ng-required="formValues.scheduleAutomaticBackups"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-class="limited-be"\n                  data-cy="settings-backupBucketNameInput"\n                />\n              </div>\n            </div>\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.bucket_name.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.bucket_name.$error">\n                  <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !Bucket name --\x3e\n            <div class="col-sm-12 form-section-title">  </div>\n            \x3c!-- Password protect S3 --\x3e\n            <div class="form-group">\n              <label for="password_protect" class="col-sm-1 control-label text-left"></label>\n              <div class="col-sm-1">\n                <label class="switch">\n                  <input\n                    type="checkbox"\n                    id="password_protect_s3"\n                    name="password_protect_s3"\n                    ng-model="formValues.passwordProtectS3"\n                    data-cy="settings-passwordProtectToggleS3"\n                  /><i></i>\n                </label>\n              </div>\n            </div>\n            \x3c!-- !Password protect S3 --\x3e\n            \x3c!-- Password S3 --\x3e\n            <div class="form-group" ng-if="formValues.passwordProtectS3">\n              <label for="password" class="col-sm-1 control-label text-left">   </label>\n              <div class="col-sm-3">\n                <input type="password" class="form-control" ng-model="formValues.passwordS3" id="password_S3" name="password_S3" required data-cy="settings-backups3pw" />\n              </div>\n            </div>\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.password_S3.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.password_S3.$error">\n                  <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !Password S3 --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="backupPortainerForm.$invalid"\n                  ng-click="exportBackup()"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                  data-cy="settings-exportBackupS3Button"\n                >\n                  <span><i class="fa fa-upload" aria-hidden="true"></i> </span>\n                </button>\n              </div>\n            </div>\n            <div class="form-group">\n              <hr />\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="backupPortainerForm.$invalid ||state.backupInProgress"\n                  ng-click="saveS3BackupSettings()"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                  data-cy="settings-saveBackupSettingsButton"\n                >\n                  <span></span>\n                </button>\n              </div>\n            </div>\n          </div>\n          <div ng-if="formValues.backupFormType === BACKUP_FORM_TYPES.FILE">\n            <div class="col-sm-12 form-section-title">  </div>\n            \x3c!-- Password protect --\x3e\n            <div class="form-group">\n              <label for="password_protect" class="col-sm-1 control-label text-left"></label>\n              <div class="col-sm-1">\n                <label class="switch" data-cy="settings-passwordProtectLocal">\n                  <input type="checkbox" id="password_protect" name="password_protect" ng-model="formValues.passwordProtect" /><i></i>\n                </label>\n              </div>\n            </div>\n            \x3c!-- !Password protect --\x3e\n\n            \x3c!-- Password --\x3e\n            <div class="form-group" ng-if="formValues.passwordProtect">\n              <label for="password" class="col-sm-1 control-label text-left">   </label>\n              <div class="col-sm-3">\n                <input type="password" class="form-control" ng-model="formValues.password" id="password" name="password" required data-cy="settings-backupLocalPassword" />\n              </div>\n            </div>\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.password.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.password.$error">\n                  <p ng-message="required"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !Password --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-click="downloadBackup()"\n                  ng-disabled="backupPortainerForm.$invalid ||state.backupInProgress"\n                  button-spinner="state.backupInProgress"\n                >\n                  <span ng-hide="state.backupInProgress"><i class="fa fa-download" aria-hidden="true"></i> </span>\n                  <span ng-show="state.backupInProgress"><i class="fa fa-download" aria-hidden="true"></i> Downloading backup</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},2080:(e,t,n)=>{var a='\x3c!-- Sidebar --\x3e\n<div id="sidebar-wrapper">\n  <div class="sidebar-header">\n    <a ui-sref="portainer.home" data-cy="portainerSidebar-homeImage">\n      <img ng-if="logo" ng-src="{{ logo }}" class="img-responsive logo" />\n      <img ng-if="!logo" src="'+n(87935)+'" class="img-responsive logo" alt="Portainer" />\n    </a>\n    <a ng-click="toggleSidebar()"><span class="menu-icon glyphicon glyphicon-transfer"></span></a>\n  </div>\n  <div class="sidebar-content">\n    <ul class="sidebar">\n      <sidebar-menu-item path="portainer.home" icon-class="fa-home fa-fw" class-name="sidebar-list" data-cy="portainerSidebar-home"></sidebar-menu-item>\n\n      <li class="sidebar-title endpoint-name" ng-if="applicationState.endpoint.name">\n        <span class="fa fa-plug space-right"></span>{{ applicationState.endpoint.name }}\n        <kubectl-shell ng-if="applicationState.endpoint.mode && applicationState.endpoint.mode.provider === \'KUBERNETES\'" class="kubectl-shell"></kubectl-shell>\n      </li>\n      <div ng-if="applicationState.endpoint.mode">\n        <kubernetes-sidebar ng-if="applicationState.endpoint.mode.provider === \'KUBERNETES\'" is-sidebar-open="toggle" endpoint-id="endpointId"></kubernetes-sidebar>\n\n        <azure-sidebar ng-if="applicationState.endpoint.mode.provider === \'AZURE\'" endpoint-id="endpointId"> </azure-sidebar>\n\n        <docker-sidebar\n          ng-if="applicationState.endpoint.mode.provider !== \'AZURE\' && applicationState.endpoint.mode.provider !== \'KUBERNETES\'"\n          current-route-name="$state.current.name"\n          is-sidebar-open="toggle"\n          show-stacks="showStacks"\n          endpoint-api-version="applicationState.endpoint.apiVersion"\n          swarm-management="applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && applicationState.endpoint.mode.role === \'MANAGER\'"\n          standalone-management="applicationState.endpoint.mode.provider === \'DOCKER_STANDALONE\'"\n          admin-access="isAdmin || isEndpointAdmin"\n          offline-mode="endpointState.OfflineMode"\n          endpoint-id="endpointId"\n        ></docker-sidebar>\n      </div>\n\n      <sidebar-section title="" ng-if="isAdmin && applicationState.application.enableEdgeComputeFeatures">\n        <sidebar-menu-item path="edge.devices" icon-class="fas fa-laptop-code fa-fw" class-name="sidebar-list" data-cy="portainerSidebar-edgeDevices"\n          >Edge Devices</sidebar-menu-item\n        >\n        <sidebar-menu-item path="edge.groups" icon-class="fa-object-group fa-fw" class-name="sidebar-list" data-cy="portainerSidebar-edgeGroups">Edge Groups</sidebar-menu-item>\n        <sidebar-menu-item path="edge.stacks" icon-class="fa-layer-group fa-fw" class-name="sidebar-list" data-cy="portainerSidebar-edgeStacks">Edge Stacks</sidebar-menu-item>\n        <sidebar-menu-item path="edge.jobs" icon-class="fa-clock fa-fw" class-name="sidebar-list" data-cy="portainerSidebar-edgeJobs">Edge Jobs</sidebar-menu-item>\n      </sidebar-section>\n\n      <sidebar-section ng-if="isAdmin || isTeamLeader" title="Settings">\n        <sidebar-menu\n          icon-class="fa-users fa-fw"\n          label=""\n          path="portainer.users"\n          is-sidebar-open="toggle"\n          children-paths="[\'portainer.users.user\' ,\'portainer.teams\' ,\'portainer.teams.team\' ,\'portainer.roles\' ,\'portainer.roles.role\' ,\'portainer.roles.new\']"\n        >\n          <sidebar-menu-item path="portainer.teams" class-name="sidebar-sublist" data-cy="portainerSidebar-teams"></sidebar-menu-item>\n          <sidebar-menu-item path="portainer.roles" class-name="sidebar-sublist" data-cy="portainerSidebar-roles"></sidebar-menu-item>\n        </sidebar-menu>\n\n        <div ng-if="isAdmin">\n          <sidebar-menu\n            icon-class="fa-plug fa-fw"\n            label=""\n            path="portainer.endpoints"\n            is-sidebar-open="toggle"\n            children-paths="[\'portainer.endpoints.endpoint\', \'portainer.endpoints.new\', \'portainer.endpoints.endpoint.access\', \'portainer.groups\', \'portainer.groups.group\', \'portainer.groups.group.access\', \'portainer.groups.new\', \'portainer.tags\']"\n          >\n            <sidebar-menu-item path="portainer.groups" class-name="sidebar-sublist" data-cy="portainerSidebar-endpointGroups"></sidebar-menu-item>\n            <sidebar-menu-item path="portainer.tags" class-name="sidebar-sublist" data-cy="portainerSidebar-endpointTags"></sidebar-menu-item>\n          </sidebar-menu>\n\n          <sidebar-menu-item path="portainer.registries" icon-class="fa-database fa-fw" class-name="sidebar-list" data-cy="portainerSidebar-registries"\n            ></sidebar-menu-item\n          >\n\n          <sidebar-menu-item path="portainer.licenses" icon-class="fa-file-signature fa-fw" class-name="sidebar-list" data-cy="portainerSidebar-licenses"\n            ></sidebar-menu-item\n          >\n\n          <sidebar-menu label="" icon-class="fa-history fa-fw" path="portainer.authLogs" is-sidebar-open="toggle" children-paths="[\'portainer.activityLogs\']">\n            <sidebar-menu-item path="portainer.activityLogs" class-name="sidebar-sublist" data-cy="portainerSidebar-activityLogs"></sidebar-menu-item>\n          </sidebar-menu>\n\n          <sidebar-menu\n            label=""\n            icon-class="fa-cogs fa-fw"\n            path="portainer.settings"\n            is-sidebar-open="toggle"\n            children-paths="[\'portainer.settings.authentication\', \'portainer.settings.edgeCompute\']"\n          >\n            <sidebar-menu-item path="portainer.settings.authentication" class-name="sidebar-sublist" data-cy="portainerSidebar-authentication"></sidebar-menu-item>\n            <sidebar-menu-item path="portainer.settings.edgeCompute" class-name="sidebar-sublist" data-cy="portainerSidebar-edge-compute"></sidebar-menu-item>\n\n            <div class="sidebar-sublist">\n              <a href="https://documentation.portainer.io/r/business-support" target="_blank" data-cy="portainerSidebar-help"> / </a>\n            </div>\n          </sidebar-menu>\n        </div>\n      </sidebar-section>\n    </ul>\n    <div class="sidebar-footer-content">\n      <div class="update-notification" ng-if="applicationState.application.versionStatus.UpdateAvailable">\n        <a target="_blank" href="https://github.com/portainer/portainer/releases/tag/{{ applicationState.application.versionStatus.LatestVersion }}" style="color: #091e5d">\n          <i class="fa-lg fas fa-cloud-download-alt" style="margin-right: 2px"></i> A new version is available\n        </a>\n      </div>\n      <div>\n        <img src="'+n(76609)+'" class="img-responsive logo" alt="Portainer" />\n        <span class="version" data-cy="portainerSidebar-versionNumber">{{ uiVersion }}</span>\n        <div class="edition-version">{{ edition }}</div>\n      </div>\n    </div>\n  </div>\n</div>\n\x3c!-- End Sidebar --\x3e\n',s="app/portainer/views/sidebar/sidebar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(s,a)}]),e.exports=s},24021:e=>{var t="app/portainer/views/stacks/create/createstack.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content> <a ui-sref="docker.stacks"></a> &gt;  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="createStackForm">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="stack_name" class="col-sm-1 control-label text-left"></label>\n            <div class="col-sm-11">\n              <input\n                type="text"\n                class="form-control"\n                ng-model="formValues.Name"\n                id="stack_name"\n                name="stack_name"\n                placeholder=" mystack"\n                auto-focus\n                ng-pattern="STACK_NAME_VALIDATION_REGEX"\n              />\n            </div>\n          </div>\n          <div class="form-group" ng-show="createStackForm.stack_name.$invalid">\n            <div class="col-sm-12 small text-warning">\n              <div ng-messages="createStackForm.stack_name.$error">\n                <p ng-message="pattern">\n                  <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                  <span>This field must consist of lower case alphanumeric characters, \'_\' or \'-\' ( \'my-name\', or \'abc-123\').</span>\n                </p>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small" ng-if="state.StackType === 1">\n               <code>docker stack deploy</code> \n            </span>\n            <div class="col-sm-12 text-muted small" ng-if="state.StackType === 2 && composeSyntaxMaxVersion == 2">\n              <div style="margin-bottom: 7px">\n                 <code>docker-compose</code>  Compose  <b>2</b> \n              </div>\n              <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              Note: Due to a limitation of libcompose, the name of the stack will be standardized to remove all special characters and uppercase letters.\n            </div>\n            <span class="col-sm-12 text-muted small" ng-if="state.StackType === 2 && composeSyntaxMaxVersion > 2">\n               <code>docker-compose</code>\n            </span>\n          </div>\n          \x3c!-- build-method --\x3e\n          <div class="col-sm-12 form-section-title"> Build method </div>\n          <div class="form-group"></div>\n          <div class="form-group" style="margin-bottom: 0">\n            <div class="boxselector_wrapper">\n              <div>\n                <input type="radio" id="method_editor" ng-model="state.Method" value="editor" />\n                <label for="method_editor">\n                  <div class="boxselector_header">\n                    <i class="fa fa-edit" aria-hidden="true" style="margin-right: 2px"></i>\n                    Web editor\n                  </div>\n                  <p>Use our Web editor</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="method_upload" ng-model="state.Method" value="upload" />\n                <label for="method_upload">\n                  <div class="boxselector_header">\n                    <i class="fa fa-upload" aria-hidden="true" style="margin-right: 2px"></i>\n                    Upload\n                  </div>\n                  <p>Upload from your computer</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="method_repository" ng-model="state.Method" value="repository" />\n                <label for="method_repository">\n                  <div class="boxselector_header">\n                    <i class="fab fa-git" aria-hidden="true" style="margin-right: 2px"></i>\n                    Repository\n                  </div>\n                  <p>Use a git repository</p>\n                </label>\n              </div>\n              <div>\n                <input type="radio" id="method_template" ng-model="state.Method" value="template" />\n                <label for="method_template">\n                  <div class="boxselector_header">\n                    <i class="fa fa-rocket" aria-hidden="true" style="margin-right: 2px"></i>\n                    Custom template\n                  </div>\n                  <p>Use a custom template</p>\n                </label>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !build-method --\x3e\n\n          \x3c!-- upload --\x3e\n          <div ng-show="state.Method === \'upload\'">\n            <div class="col-sm-12 form-section-title"></div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small"> You can upload a Compose file from your computer. </span>\n              <div class="col-sm-12" ng-if="state.uploadYamlValidationError"\n                ><span class="text-danger small">{{ state.uploadYamlValidationError }}</span></div\n              >\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button type="button" class="btn btn-sm btn-primary" ngf-select="uploadFile($file)"></button>\n                <span style="margin-left: 5px">\n                  {{ formValues.StackFile.name }}\n                  <i class="fa fa-times red-icon" ng-if="!formValues.StackFile" aria-hidden="true"></i>\n                </span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !upload --\x3e\n\n          <git-form\n            ng-if="state.Method === \'repository\'"\n            model="formValues"\n            on-change="(onChangeFormValues)"\n            additional-file="true"\n            auto-update="true"\n            show-auth-explanation="true"\n            path-text-title="Compose path"\n            path-placeholder="docker-compose.yml"\n          ></git-form>\n\n          <custom-template-selector\n            ng-show="state.Method === \'template\'"\n            new-template-path="docker.templates.custom.new"\n            stack-type="state.StackType"\n            on-change="(onChangeTemplateId)"\n            value="state.selectedTemplateId"\n          ></custom-template-selector>\n\n          <web-editor-form\n            ng-if="state.Method === \'editor\' || (state.Method === \'template\' && state.selectedTemplateId)"\n            identifier="stack-creation-editor"\n            value="formValues.StackFileContent"\n            on-change="(onChangeFileContent)"\n            ng-required="true"\n            yml="true"\n            placeholder="#  docker-compose "\n          >\n            <editor-description>\n              <span class="col-sm-12 text-muted small">\n                 <a href="https://docs.docker.com/compose/compose-file/" target="_blank"></a> Compose \n              </span>\n              <div class="col-sm-12" ng-if="state.editorYamlValidationError">\n                <span class="text-danger small">{{ state.editorYamlValidationError }}</span>\n              </div>\n            </editor-description>\n          </web-editor-form>\n\n          <div ng-if="state.Method !== \'repository\' && applicationState.endpoint.type !== 4 && hasAuthorizations([\'PortainerWebhookCreate\'])">\n            <div class="col-sm-12 form-section-title"> Webhooks </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left">\n                  Create a Stack webhook\n                  <portainer-tooltip\n                    position="top"\n                    message="Create a webhook (or callback URI) to automate the update of this stack. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this stack."\n                  ></portainer-tooltip>\n                </label>\n                <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="formValues.EnableWebhook" /><i></i> </label>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- environment-variables --\x3e\n          <environment-variables-panel ng-model="formValues.Env" explanation="" on-change="(handleEnvVarChange)">\n          </environment-variables-panel>\n          \x3c!-- !environment-variables --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress\n              || !createStackForm.$valid\n              || ((state.Method === \'editor\' || state.Method === \'template\') && (!formValues.StackFileContent || state.editorYamlValidationError))\n              || (state.Method === \'upload\' && (!formValues.StackFile || state.uploadYamlValidationError))\n              || (state.Method === \'repository\' && ((!formValues.RepositoryURL || !formValues.ComposeFilePathInRepository) || (formValues.RepositoryAuthentication && !formValues.RepositoryPassword)))\n              || !formValues.Name"\n                ng-click="deployStack()"\n                button-spinner="state.actionInProgress"\n                analytics-on\n                analytics-category="docker"\n                analytics-event="docker-stack-create"\n                analytics-properties="buildAnalyticsProperties()"\n              >\n                <span ng-hide="state.actionInProgress">Deploy the stack</span>\n                <span ng-show="state.actionInProgress">Deployment in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},68156:e=>{var t="app/portainer/views/stacks/edit/stack.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="Stack details">\n    <a data-toggle="tooltip" title-text="" ui-sref="docker.stacks.stack({id: stack.Id})" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content> <a ui-sref="docker.stacks"></a> &gt; {{ stackName }} </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <uib-tabset active="state.activeTab">\n          \x3c!-- tab-info --\x3e\n          <uib-tab index="0">\n            <uib-tab-heading> <i class="fa fa-th-list" aria-hidden="true"></i> Stack </uib-tab-heading>\n            <div style="margin-top: 10px">\n              \x3c!-- stack-information --\x3e\n              <div ng-if="external || orphaned || orphanedRunning">\n                <div class="col-sm-12 form-section-title"> Information </div>\n                <div class="form-group">\n                  <span class="small">\n                    <p class="text-muted">\n                      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      <span ng-if="external"> Portainer  </span>\n                      <span ng-if="orphaned || orphanedRunning"\n                        > </span\n                      >\n                    </p>\n                  </span>\n                </div>\n              </div>\n              \x3c!-- !stack-information --\x3e\n              \x3c!-- stack-details --\x3e\n              <div>\n                <div class="col-sm-12 form-section-title"> Stack details </div>\n                <div class="form-group">\n                  {{ stackName }}\n\n                  <button\n                    authorization="PortainerStackUpdate"\n                    ng-if="regular && stack.Status === 2"\n                    ng-disabled="state.actionInProgress"\n                    class="btn btn-xs btn-success"\n                    ng-click="startStack()"\n                  >\n                    <i class="fa fa-play space-right" aria-hidden="true"></i>\n                    Start this stack\n                  </button>\n\n                  <button\n                    ng-if="!state.externalStack && stack.Status === 1"\n                    authorization="PortainerStackUpdate"\n                    ng-disabled="state.actionInProgress"\n                    class="btn btn-xs btn-danger"\n                    ng-click="stopStack()"\n                  >\n                    <i class="fa fa-stop space-right" aria-hidden="true"></i>\n                    Stop this stack\n                  </button>\n\n                  <button authorization="PortainerStackDelete" class="btn btn-xs btn-danger" ng-click="removeStack()" ng-if="!external || stack.Type == 1">\n                    <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>\n                    Delete this stack\n                  </button>\n\n                  <button\n                    ng-if="regular && stackFileContent"\n                    class="btn btn-primary btn-xs"\n                    ui-sref="docker.templates.custom.new({fileContent: stackFileContent, type: stack.Type})"\n                  >\n                    <i class="fa fa-plus space-right" aria-hidden="true"></i>\n                    Create template from stack\n                  </button>\n\n                  <button\n                    authorization="PortainerStackUpdate"\n                    ng-if="regular && stackFileContent && !stack.FromAppTemplate && stack.GitConfig"\n                    ng-disabled="state.actionInProgress"\n                    ng-click="detachStackFromGit()"\n                    button-spinner="state.actionInProgress"\n                    class="btn btn-primary btn-xs"\n                  >\n                    <i class="fa fa-arrow-right space-right" aria-hidden="true"></i>\n                    <span ng-hide="state.actionInProgress">Detach from Git</span>\n                    <span ng-show="state.actionInProgress">Detachment in progress...</span>\n                  </button>\n                </div>\n              </div>\n              \x3c!-- !stack-details --\x3e\n\n              \x3c!-- associate --\x3e\n              <div ng-if="orphaned">\n                <div class="col-sm-12 form-section-title"> Associate to this environment </div>\n                <p class="small text-muted"> This feature allows you to reassociate this stack to the current environment. </p>\n                <form class="form-horizontal">\n                  <por-access-control-form form-data="formValues.AccessControlData" hide-title="true"></por-access-control-form>\n                  <div class="form-group">\n                    <div class="col-sm-12">\n                      <button\n                        type="button"\n                        class="btn btn-primary btn-sm"\n                        ng-disabled="state.actionInProgress"\n                        ng-click="associateStack()"\n                        button-spinner="state.actionInProgress"\n                        style="margin-left: -5px"\n                      >\n                        <i class="fa fa-sync" aria-hidden="true" style="margin-right: 3px"></i>\n                        <span ng-hide="state.actionInProgress">Associate</span>\n                        <span ng-show="state.actionInProgress">Association in progress...</span>\n                      </button>\n                      <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n                    </div>\n                  </div>\n                </form>\n              </div>\n              \x3c!-- !associate --\x3e\n\n              <stack-redeploy-git-form\n                ng-if="stack.GitConfig && !stack.FromAppTemplate && !state.actionInProgress"\n                model="stack.GitConfig"\n                stack="stack"\n                authorization="PortainerStackUpdate"\n              >\n              </stack-redeploy-git-form>\n              <stack-duplication-form\n                ng-if="regular && endpoints.length > 0"\n                endpoints="endpoints"\n                groups="groups"\n                current-endpoint-id="endpoint.Id"\n                on-duplicate="duplicateStack(name, endpointId)"\n                on-migrate="migrateStack(name, endpointId)"\n                yaml-error="state.yamlError"\n              >\n              </stack-duplication-form>\n            </div>\n          </uib-tab>\n          \x3c!-- !tab-info --\x3e\n          \x3c!-- tab-file --\x3e\n          <uib-tab index="1" select="showEditor()" ng-if="!external && (!stack.GitConfig || stack.FromAppTemplate)">\n            <uib-tab-heading> <i class="fa fa-pencil-alt space-right" aria-hidden="true"></i> Editor </uib-tab-heading>\n            <form class="form-horizontal" ng-if="state.showEditorTab" style="margin-top: 10px" name="stackUpdateForm">\n              <div class="form-group">\n                <span class="col-sm-12 text-muted small" style="margin-bottom: 7px" ng-if="stackType == 2 && composeSyntaxMaxVersion == 2">\n                   <code>docker-compose</code>   Compose  <b>2</b>\n                </span>\n                <span class="col-sm-12 text-muted small" style="margin-bottom: 7px" ng-if="stackType == 2 && composeSyntaxMaxVersion > 2">\n                   <code>docker-compose</code>.\n                </span>\n                <span class="col-sm-12 text-muted small">\n                   <a href="https://docs.docker.com/compose/compose-file/" target="_blank"></a> Compose .\n                </span>\n              </div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <code-editor\n                    read-only="orphaned"\n                    identifier="stack-editor"\n                    placeholder="#  docker-compose "\n                    yml="true"\n                    on-change="(editorUpdate)"\n                    value="stackFileContent"\n                    read-only="editorReadOnly"\n                  ></code-editor>\n                </div>\n              </div>\n\n              <div ng-if="applicationState.endpoint.type !== 4 && hasAuthorizations([\'PortainerWebhookCreate\', \'PortainerWebhookList\', \'PortainerWebhookDelete\'])">\n                <div class="col-sm-12 form-section-title"> Webhooks </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <label class="control-label text-left">\n                      Create a Stack webhook\n                      <portainer-tooltip\n                        position="top"\n                        message="Create a webhook (or callback URI) to automate the update of this stack. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this stack."\n                      ></portainer-tooltip>\n                    </label>\n                    <label class="switch" style="margin-left: 20px">\n                      <input type="checkbox" ng-model="formValues.EnableWebhook" ng-disabled="disabledWebhookButton(formValues.EnableWebhook)" /><i></i>\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div\n                class="form-group"\n                ng-if="formValues.EnableWebhook && endpoint.type !== 4 && hasAuthorizations([\'PortainerWebhookCreate\', \'PortainerWebhookList\', \'PortainerWebhookDelete\'])"\n              >\n                <label class="col-sm-1 control-label text-left"> Webhook </label>\n                <div class="col-sm-11">\n                  <span class="text-muted"> {{ formValues.WebhookURL | truncatelr }} </span>\n                  <button type="button" class="btn btn-sm btn-primary btn-sm space-left" ng-if="formValues.WebhookURL" ng-click="copyWebhook()">\n                    <span><i class="fa fa-copy space-right" aria-hidden="true"></i>Copy link</span>\n                  </button>\n                  <span>\n                    <i id="copyNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i>\n                  </span>\n                </div>\n              </div>\n\n              \x3c!-- environment-variables --\x3e\n              <div ng-if="stack">\n                <environment-variables-panel\n                  ng-model="formValues.Env"\n                  explanation=""\n                  on-change="(handleEnvVarChange)"\n                ></environment-variables-panel>\n              </div>\n              \x3c!-- !environment-variables --\x3e\n              \x3c!-- options --\x3e\n              <div ng-if="stack.Type === 1 && applicationState.endpoint.apiVersion >= 1.27" authorization="PortainerStackUpdate">\n                <div class="col-sm-12 form-section-title"> Options </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <label for="prune" class="control-label text-left">\n                      Prune services\n                      <portainer-tooltip position="bottom" message=""></portainer-tooltip>\n                    </label>\n                    <label class="switch" style="margin-left: 20px"> <input name="prune" type="checkbox" ng-model="formValues.Prune" /><i></i> </label>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !options --\x3e\n              <div authorization="PortainerStackUpdate">\n                <div class="col-sm-12 form-section-title"></div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <button\n                      type="button"\n                      class="btn btn-sm btn-primary"\n                      ng-disabled="state.actionInProgress || !stackUpdateForm.$valid || !stackFileContent || orphaned"\n                      ng-click="deployStack()"\n                      button-spinner="state.actionInProgress"\n                    >\n                      <span ng-hide="state.actionInProgress"></span>\n                      <span ng-show="state.actionInProgress">Deployment in progress...</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </uib-tab>\n          \x3c!-- !tab-file --\x3e\n        </uib-tabset>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="containers && (!orphaned || orphanedRunning)">\n  <div class="col-sm-12">\n    <containers-datatable dataset="containers" endpoint="endpoint" table-key="stack-containers"></containers-datatable>\n  </div>\n</div>\n\n<div class="row" ng-if="services && (!orphaned || orphanedRunning)">\n  <div class="col-sm-12">\n    <services-datatable\n      title-text=""\n      title-icon="fa-list-alt"\n      dataset="services"\n      table-key="stack-services"\n      order-by="Name"\n      nodes="nodes"\n      agent-proxy="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      show-ownership-column="false"\n      show-update-action="applicationState.endpoint.apiVersion >= 1.25"\n      show-task-logs-button="applicationState.endpoint.apiVersion >= 1.30"\n      show-add-action="false"\n      show-stack-column="false"\n      not-auto-focus="true"\n      endpoint-public-url="endpoint.PublicURL"\n      endpoint-id="endpoint.Id"\n    ></services-datatable>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<por-access-control-panel ng-if="stack && !orphaned" resource-id="stack.EndpointId + \'_\' + stack.Name" resource-control="stack.ResourceControl" resource-type="\'stack\'">\n</por-access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n')}]),e.exports=t},25872:e=>{var t="app/portainer/views/stacks/stacks.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.stacks" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<div class="row">\n  <div class="col-sm-12">\n    <stacks-datatable\n      title-text=""\n      title-icon="fa-th-list"\n      dataset="stacks"\n      table-key="stacks"\n      order-by="Name"\n      remove-action="removeAction"\n      offline-mode="offlineMode"\n      refresh-callback="getStacks"\n      create-enabled="createEnabled"\n    ></stacks-datatable>\n  </div>\n</div>\n')}]),e.exports=t},57642:e=>{var t="app/portainer/views/tags/tags.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.tags" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Tag management</rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-plus" title-text=""> </rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" name="tagCreationForm" ng-submit="createTag()">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label text-left"> Name </label>\n            <div class="col-sm-10">\n              <input\n                type="text"\n                class="form-control"\n                name="name"\n                ng-model="formValues.Name"\n                ng-change="checkNameValidity(tagCreationForm)"\n                placeholder="org/acme"\n                required\n                auto-focus\n              />\n            </div>\n          </div>\n          <div class="form-group" ng-show="tagCreationForm.name.$invalid">\n            <div class="col-sm-12 small text-warning">\n              <div ng-messages="tagCreationForm.name.$error">\n                <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> </p>\n                <p ng-message="validName"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This tag already exists.</p>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !tagCreationForm.$valid"\n                ng-click="createTag()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> Create tag</span>\n                <span ng-show="state.actionInProgress">Creating tag...</span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <tags-datatable title-text="" title-icon="fa-tags" dataset="tags" table-key="tags" order-by="Name" remove-action="removeAction"></tags-datatable>\n  </div>\n</div>\n')}]),e.exports=t},2538:e=>{var t="app/portainer/views/teams/edit/team.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.teams"></a> &gt; <a ui-sref="portainer.teams.team({id: team.Id})">{{ team.Name }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-users" title-text=""></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td></td>\n              <td>\n                {{ team.Name }}\n                <button class="btn btn-xs btn-danger" ng-if="isAdmin" ng-click="deleteTeam()"\n                  ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i></button\n                >\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ leaderCount }}</td>\n            </tr>\n            <tr>\n              <td></td>\n              <td>{{ teamMembers.length }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="team">\n  <div class="col-sm-6">\n    <rd-widget>\n      <rd-widget-header classes="col-sm-12 col-md-6 nopadding" icon="fa-users" title-text="">\n        <div class="pull-md-right pull-lg-right">\n          :\n          <select ng-model="state.pagination_count_users" ng-change="changePaginationCountUsers()">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </div>\n      </rd-widget-header>\n      <rd-widget-taskbar classes="col-sm-12 nopadding">\n        <div class="col-sm-12 col-md-6 nopadding">\n          <button class="btn btn-primary btn-sm" ng-click="addAllUsers()" ng-if="isAdmin" ng-disabled="users.length ===  0 || filteredUsers.length === 0"\n            ><i class="fa fa-user-plus space-right" aria-hidden="true"></i></button\n          >\n        </div>\n        <div class="col-sm-12 col-md-6 nopadding">\n          <input type="text" id="filter-users" ng-model="state.filterUsers" placeholder="..." class="form-control input-sm" />\n        </div>\n      </rd-widget-taskbar>\n      <rd-widget-body classes="no-padding">\n        <div class="table-responsive">\n          <table class="table table-hover">\n            <thead>\n              <tr>\n                <th>\n                  <a ng-click="orderUsers(\'Username\')">\n                    \n                    <span ng-show="sortTypeUsers == \'Username\' && !sortReverseUsers" class="glyphicon glyphicon-chevron-down"></span>\n                    <span ng-show="sortTypeUsers == \'Username\' && sortReverseUsers" class="glyphicon glyphicon-chevron-up"></span>\n                  </a>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr\n                pagination-id="table1"\n                dir-paginate="user in users | filter:state.filterUsers | orderBy:sortTypeUsers:sortReverseUsers | itemsPerPage: state.pagination_count_users"\n              >\n                <td>\n                  {{ user.Username }}\n                  <span style="margin-left: 5px">\n                    <a ng-click="addUser(user)"><i class="fa fa-plus-circle space-right" aria-hidden="true"></i>Add</a>\n                  </span>\n                </td>\n              </tr>\n              <tr ng-if="!users">\n                <td colspan="2" class="text-center text-muted">...</td>\n              </tr>\n              <tr ng-if="users.length === 0 || (users | filter: state.filterUsers).length === 0">\n                <td colspan="2" class="text-center text-muted"></td>\n              </tr>\n            </tbody>\n          </table>\n          <div ng-if="users" class="pull-left pagination-controls">\n            <dir-pagination-controls pagination-id="table1"></dir-pagination-controls>\n          </div>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n  <div class="col-sm-6">\n    <rd-widget>\n      <rd-widget-header classes="col-sm-12 col-md-6 nopadding" icon="fa-users" title-text="">\n        <div class="pull-md-right pull-lg-right">\n          :\n          <select ng-model="state.pagination_count_members" ng-change="changePaginationCountGroupMembers()">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </div>\n      </rd-widget-header>\n      <rd-widget-taskbar classes="col-sm-12 nopadding">\n        <div class="col-sm-12 col-md-6 nopadding">\n          <button class="btn btn-primary btn-sm" ng-click="removeAllUsers()" ng-if="isAdmin" ng-disabled="teamMembers.length ===  0 || filteredGroupMembers.length === 0"\n            ><i class="fa fa-user-times space-right" aria-hidden="true"></i></button\n          >\n        </div>\n        <div class="col-sm-12 col-md-6 nopadding">\n          <input type="text" id="filter-group" ng-model="state.filterGroupMembers" placeholder="..." class="form-control input-sm" />\n        </div>\n      </rd-widget-taskbar>\n      <rd-widget-body classes="no-padding">\n        <div class="table-responsive">\n          <table class="table table-hover">\n            <thead>\n              <tr>\n                <th>\n                  <a ng-click="orderGroupMembers(\'Username\')">\n                    \n                    <span ng-show="sortTypeGroupMembers == \'Username\' && !sortReverseGroupMembers" class="glyphicon glyphicon-chevron-down"></span>\n                    <span ng-show="sortTypeGroupMembers == \'Username\' && sortReverseGroupMembers" class="glyphicon glyphicon-chevron-up"></span>\n                  </a>\n                </th>\n                <th>\n                  <a ng-click="orderGroupMembers(\'TeamRole\')">\n                    \n                    <span ng-show="sortTypeGroupMembers == \'TeamRole\' && !sortReverseGroupMembers" class="glyphicon glyphicon-chevron-down"></span>\n                    <span ng-show="sortTypeGroupMembers == \'TeamRole\' && sortReverseGroupMembers" class="glyphicon glyphicon-chevron-up"></span>\n                  </a>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr\n                pagination-id="table2"\n                dir-paginate="user in teamMembers | filter:state.filterGroupMembers | orderBy:sortTypeGroupMembers:sortReverseGroupMembers | itemsPerPage: state.pagination_count_groupMembers"\n              >\n                <td>\n                  {{ user.Username }}\n                  <span style="margin-left: 5px" ng-if="isAdmin || user.TeamRole === \'Member\'">\n                    <a ng-click="removeUser(user)"><i class="fa fa-minus-circle space-right" aria-hidden="true"></i></a>\n                  </span>\n                </td>\n                <td>\n                  <i ng-if="user.TeamRole === \'Leader\'" class="fa fa-user-plus" aria-hidden="true" style="margin-right: 2px"></i>\n                  <i ng-if="user.TeamRole === \'Member\'" class="fa fa-user" aria-hidden="true" style="margin-right: 2px"></i>\n                  {{ user.TeamRole }}\n                  <span style="margin-left: 5px" ng-if="isAdmin">\n                    <a style="margin-left: 5px" ng-click="promoteToLeader(user)" ng-if="user.TeamRole === \'Member\'"\n                      ><i class="fa fa-user-plus space-right" aria-hidden="true"></i>Leader</a\n                    >\n                    <a style="margin-left: 5px" ng-click="demoteToMember(user)" ng-if="user.TeamRole === \'Leader\'"\n                      ><i class="fa fa-user-times space-right" aria-hidden="true"></i>Member</a\n                    >\n                  </span>\n                </td>\n              </tr>\n              <tr ng-if="!teamMembers">\n                <td colspan="2" class="text-center text-muted">...</td>\n              </tr>\n              <tr ng-if="teamMembers.length === 0 || (teamMembers | filter: state.filterGroupMembers).length === 0">\n                <td colspan="2" class="text-center text-muted"></td>\n              </tr>\n            </tbody>\n          </table>\n          <div ng-if="teamMembers" class="pull-left pagination-controls">\n            <dir-pagination-controls pagination-id="table2"></dir-pagination-controls>\n          </div>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},93772:e=>{var t="app/portainer/views/teams/teams.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.teams" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<create-team-form ng-if="isAdmin && users" users="users" action-in-progress="state.actionInProgress" teams="teams" on-submit="(addTeam)"></create-team-form>\n\n<div class="row">\n  <div class="col-sm-12">\n    <teams-datatable title-text="" title-icon="fa-users" dataset="teams" table-key="teams" order-by="Name" remove-action="removeAction"></teams-datatable>\n  </div>\n</div>\n')}]),e.exports=t},61242:e=>{var t="app/portainer/views/templates/templates.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header id="view-top">\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="docker.templates" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content>Templates</rd-header-content>\n</rd-header>\n\n<div class="row">\n  \x3c!-- stack-form --\x3e\n  <stack-from-template-form\n    ng-if="state.selectedTemplate && (state.selectedTemplate.Type === 2 || state.selectedTemplate.Type === 3)"\n    template="state.selectedTemplate"\n    form-values="formValues"\n    state="state"\n    create-template="createTemplate"\n    unselect-template="unselectTemplate"\n  >\n  </stack-from-template-form>\n  \x3c!-- !stack-form --\x3e\n  \x3c!-- container-form --\x3e\n  <div class="col-sm-12" ng-if="state.selectedTemplate && state.selectedTemplate.Type === 1">\n    <rd-widget>\n      <rd-widget-custom-header icon="state.selectedTemplate.Logo" title-text="state.selectedTemplate.Image"></rd-widget-custom-header>\n      <rd-widget-body classes="padding">\n        <form class="form-horizontal" name="selectedTemplateType1">\n          \x3c!-- description --\x3e\n          <div ng-if="state.selectedTemplate.Note">\n            <div class="col-sm-12 form-section-title"> Information </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <div class="template-note" ng-if="state.selectedTemplate.Note" ng-bind-html="state.selectedTemplate.Note"></div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !description --\x3e\n          <div class="col-sm-12 form-section-title"> Configuration </div>\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="container_name" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-10">\n              <input type="text" name="container_name" class="form-control" ng-model="formValues.name" placeholder=" web (optional)" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- network-input --\x3e\n          <div class="form-group">\n            <label for="container_network" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-10">\n              <select class="form-control" ng-options="net.Name for net in availableNetworks | orderBy: \'Name\'" ng-model="formValues.network">\n                <option disabled hidden value="">Select a network</option>\n              </select>\n            </div>\n          </div>\n          \x3c!-- !network-input --\x3e\n          \x3c!-- env --\x3e\n          <div ng-repeat="var in state.selectedTemplate.Env" ng-if="!var.preset || var.select" class="form-group">\n            <label for="field_{{ $index }}" class="col-sm-2 control-label text-left">\n              {{ var.label }}\n              <portainer-tooltip ng-if="var.description" position="bottom" message="{{ var.description }}"></portainer-tooltip>\n            </label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-if="!var.select" ng-model="var.value" id="field_{{ $index }}" />\n              <select class="form-control" ng-if="var.select" ng-model="var.value" id="field_{{ $index }}">\n                <option selected disabled hidden value="">Select value</option>\n                <option ng-repeat="choice in var.select" value="{{ choice.value }}">{{ choice.text }}</option>\n              </select>\n            </div>\n          </div>\n          \x3c!-- !env --\x3e\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <a class="small interactive" ng-if="!state.showAdvancedOptions" ng-click="state.showAdvancedOptions = true;">\n                <i class="fa fa-plus space-right" aria-hidden="true"></i> \n              </a>\n              <a class="small interactive" ng-if="state.showAdvancedOptions" ng-click="state.showAdvancedOptions = false;">\n                <i class="fa fa-minus space-right" aria-hidden="true"></i> \n              </a>\n            </div>\n          </div>\n          <div ng-if="state.showAdvancedOptions">\n            \x3c!-- port-mapping --\x3e\n            <div class="form-group">\n              <div class="col-sm-12" style="margin-top: 5px">\n                <label class="control-label text-left"></label>\n                <span class="label label-default interactive" style="margin-left: 10px" ng-click="addPortBinding()">\n                  <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                </span>\n              </div>\n              <div class="col-sm-12" style="margin-top: 10px" ng-if="state.selectedTemplate.Ports.length > 0">\n                <span class="small text-muted">Portainer </span>\n              </div>\n              \x3c!-- !port-mapping --\x3e\n              \x3c!-- port-mapping-input-list --\x3e\n              <div class="col-sm-12">\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="portBinding in state.selectedTemplate.Ports" style="margin-top: 2px">\n                    \x3c!-- host-port --\x3e\n                    <div class="input-group col-sm-4 input-group-sm">\n                      <span class="input-group-addon">host</span>\n                      <input type="text" class="form-control" ng-model="portBinding.hostPort" placeholder=" 80 or 1.2.3.4:80 (optional)" />\n                    </div>\n                    \x3c!-- !host-port --\x3e\n                    <span style="margin: 0 10px 0 10px">\n                      <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                    </span>\n                    \x3c!-- container-port --\x3e\n                    <div class="input-group col-sm-4 input-group-sm">\n                      <span class="input-group-addon"></span>\n                      <input type="text" class="form-control" ng-model="portBinding.containerPort" placeholder=" 80" />\n                    </div>\n                    \x3c!-- !container-port --\x3e\n                    \x3c!-- protocol-actions --\x3e\n                    <div class="input-group col-sm-3 input-group-sm">\n                      <div class="btn-group btn-group-sm">\n                        <label class="btn btn-primary" ng-model="portBinding.protocol" uib-btn-radio="\'tcp\'">TCP</label>\n                        <label class="btn btn-primary" ng-model="portBinding.protocol" uib-btn-radio="\'udp\'">UDP</label>\n                      </div>\n                      <button class="btn btn-sm btn-danger" type="button" ng-click="removePortBinding($index)">\n                        <i class="fa fa-trash" aria-hidden="true"></i>\n                      </button>\n                    </div>\n                    \x3c!-- !protocol-actions --\x3e\n                  </div>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !port-mapping-input-list --\x3e\n            \x3c!-- volume-mapping --\x3e\n            <div class="form-group">\n              <div class="col-sm-12" style="margin-top: 5px">\n                <label class="control-label text-left"></label>\n                <span class="label label-default interactive" style="margin-left: 10px" ng-click="addVolume()">\n                  <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                </span>\n              </div>\n              <div class="col-sm-12" style="margin-top: 10px" ng-if="state.selectedTemplate.Volumes.length > 0">\n                <span class="small text-muted"> <b>auto</b> Portainer </span>\n              </div>\n              <div ng-repeat="volume in state.selectedTemplate.Volumes">\n                <div class="col-sm-12" style="margin-top: 10px">\n                  \x3c!-- volume-line1 --\x3e\n                  <div class="col-sm-12 form-inline">\n                    \x3c!-- container-path --\x3e\n                    <div class="input-group input-group-sm col-sm-6">\n                      <span class="input-group-addon"></span>\n                      <input type="text" class="form-control" ng-model="volume.container" placeholder=" /path/in/container" />\n                    </div>\n                    \x3c!-- !container-path --\x3e\n                    \x3c!-- volume-type --\x3e\n                    <div class="input-group col-sm-5" style="margin-left: 5px">\n                      <div class="btn-group btn-group-sm">\n                        <label class="btn btn-primary" ng-model="volume.type" uib-btn-radio="\'auto\'" ng-click="volume.bind = \'\'">Auto</label>\n                        <label class="btn btn-primary" ng-model="volume.type" uib-btn-radio="\'volume\'" ng-click="volume.bind = \'\'"></label>\n                        <label class="btn btn-primary" ng-model="volume.type" uib-btn-radio="\'bind\'" ng-click="volume.bind = \'\'" ng-if="isAdmin || allowBindMounts"></label>\n                      </div>\n                      <button class="btn btn-sm btn-danger" type="button" ng-click="removeVolume($index)">\n                        <i class="fa fa-trash" aria-hidden="true"></i>\n                      </button>\n                    </div>\n                    \x3c!-- !volume-type --\x3e\n                  </div>\n                  \x3c!-- !volume-line1 --\x3e\n                  \x3c!-- volume-line2 --\x3e\n                  <div class="col-sm-12 form-inline" style="margin-top: 5px" ng-if="volume.type !== \'auto\'">\n                    <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                    \x3c!-- volume --\x3e\n                    <div class="input-group input-group-sm col-sm-6" ng-if="volume.type === \'volume\'">\n                      <div class="col-sm-12 input-group">\n                        <span class="input-group-addon"></span>\n                        <div class="col-sm-12 input-group">\n                          <select class="form-control" ng-model="volume.bind" ng-options="vol.Name as vol.Name for vol in availableVolumes">\n                            <option value="" disabled selected></option>\n                          </select>\n                        </div>\n                      </div>\n                    </div>\n                    \x3c!-- !volume --\x3e\n                    \x3c!-- bind --\x3e\n                    <div class="input-group input-group-sm col-sm-6" ng-if="volume.type === \'bind\'">\n                      <span class="input-group-addon">host</span>\n                      <input type="text" class="form-control" ng-model="volume.bind" placeholder=" /path/on/host" />\n                    </div>\n                    \x3c!-- !bind --\x3e\n                    \x3c!-- read-only --\x3e\n                    <div class="input-group input-group-sm col-sm-5" style="margin-left: 5px">\n                      <div class="btn-group btn-group-sm">\n                        <label class="btn btn-primary" ng-model="volume.readonly" uib-btn-radio="false"></label>\n                        <label class="btn btn-primary" ng-model="volume.readonly" uib-btn-radio="true"></label>\n                      </div>\n                    </div>\n                    \x3c!-- !read-only --\x3e\n                  </div>\n                  \x3c!-- !volume-line2 --\x3e\n                </div>\n              </div>\n            </div>\n            \x3c!-- !volume-mapping --\x3e\n            \x3c!-- extra-host --\x3e\n            <div class="form-group">\n              <div class="col-sm-12" style="margin-top: 5px">\n                <label class="control-label text-left"></label>\n                <span class="label label-default interactive" style="margin-left: 10px" ng-click="addExtraHost()">\n                  <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                </span>\n              </div>\n              \x3c!-- extra-host-input-list --\x3e\n              <div class="col-sm-12">\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="(idx, host) in state.selectedTemplate.Hosts track by $index" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="state.selectedTemplate.Hosts[idx]" placeholder=" host:IP" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeExtraHost($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !extra-host --\x3e\n            \x3c!-- labels --\x3e\n            <div class="form-group">\n              <div class="col-sm-12" style="margin-top: 5px">\n                <label class="control-label text-left"></label>\n                <span class="label label-default interactive" style="margin-left: 10px" ng-click="addLabel()">\n                  <i class="fa fa-plus-circle" aria-hidden="true"></i> \n                </span>\n              </div>\n              \x3c!-- labels-input-list --\x3e\n              <div class="col-sm-12">\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="label in state.selectedTemplate.Labels" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon"></span>\n                      <input type="text" class="form-control" ng-model="label.name" placeholder=" com.example.foo" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="label.value" placeholder=" bar" />\n                    </div>\n                    <button class="btn btn-sm btn-danger" type="button" ng-click="removeLabel($index)">\n                      <i class="fa fa-trash" aria-hidden="true"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !labels-input-list --\x3e\n            </div>\n            \x3c!-- !labels --\x3e\n            \x3c!-- hostname --\x3e\n            <div class="form-group">\n              <label for="container_hostname" class="col-sm-2 control-label text-left"></label>\n              <div class="col-sm-10">\n                <input type="text" name="container_hostname" class="form-control" ng-model="state.selectedTemplate.Hostname" placeholder=" docker " />\n              </div>\n            </div>\n            \x3c!-- !hostname --\x3e\n          </div>\n          \x3c!-- !advanced-options --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.network"\n                ng-click="createTemplate()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress"></span>\n                <span ng-show="state.actionInProgress">Deployment in progress...</span>\n              </button>\n              <button type="button" class="btn btn-sm btn-default" ng-click="unselectTemplate(state.selectedTemplate)">  </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n  \x3c!-- container-form --\x3e\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <template-list\n      ng-if="templates"\n      title-text=""\n      title-icon="fa-rocket"\n      templates="templates"\n      table-key="templates"\n      select-action="selectTemplate"\n      show-swarm-stacks="applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && applicationState.endpoint.mode.role === \'MANAGER\' && applicationState.endpoint.apiVersion >= 1.25"\n    ></template-list>\n  </div>\n</div>\n')}]),e.exports=t},98864:e=>{var t="app/portainer/views/users/edit/user.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content>\n    <a ui-sref="portainer.users">Users</a> &gt; <a ui-sref="portainer.users.user({id: user.Id})">{{ formValues.username }}</a>\n  </rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-user" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" style="margin-top: 15px">\n          <div class="form-group">\n            <label for="username_field" class="col-sm-2 control-label text-left"></label>\n            <div class="col-sm-8">\n              <input class="form-control" ng-model="formValues.username" id="username_field" />\n            </div>\n          </div>\n\n          <div class="form-group" ng-if="isAdmin">\n            <div class="col-sm-4">\n              <label for="permissions" class="control-label text-left">\n                \n                <portainer-tooltip\n                  position="bottom"\n                  message=" Portainer "\n                ></portainer-tooltip>\n              </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="formValues.Administrator" /><i></i> </label>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-4">\n              <button class="btn btn-primary btn-sm" ng-disabled="!isSubmitEnabled()" ng-click="updateUser()"></button>\n              <button class="btn btn-danger btn-sm" ng-disabled="isDeleteDisabled()" ng-click="deleteUser()"\n                ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i></button\n              >\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="AuthenticationMethod === 1">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-lock" title-text=""></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" style="margin-top: 15px">\n          \x3c!-- new-password-input --\x3e\n          <div class="form-group">\n            <label for="new_password" class="col-sm-2 control-label text-left">  </label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n                <input type="password" class="form-control" ng-model="formValues.newPassword" id="new_password" />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !new-password-input --\x3e\n          \x3c!-- confirm-password-input --\x3e\n          <div class="form-group">\n            <label for="confirm_password" class="col-sm-2 control-label text-left"> </label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n                <input type="password" class="form-control" ng-model="formValues.confirmPassword" id="confirm_password" />\n                <span class="input-group-addon"\n                  ><i\n                    ng-class="\n                      { true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[formValues.newPassword !== \'\' && formValues.newPassword === formValues.confirmPassword]\n                    "\n                    aria-hidden="true"\n                  ></i\n                ></span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !confirm-password-input --\x3e\n          <div class="form-group">\n            <div class="col-sm-2">\n              <button\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="formValues.newPassword === \'\' || formValues.newPassword !== formValues.confirmPassword"\n                ng-click="updatePassword()"\n                ></button\n              >\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},3799:e=>{var t="app/portainer/views/users/users.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text="">\n    <a data-toggle="tooltip" title="" ui-sref="portainer.users" ui-sref-opts="{reload: true}">\n      <i class="fa fa-sync" aria-hidden="true"></i>\n    </a>\n  </rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-plus" title-text=""> </rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="username" class="col-sm-3 col-lg-2 control-label text-left">\n              \n              <portainer-tooltip\n                ng-if="AuthenticationMethod === 2"\n                position="bottom"\n                message=" LDAP "\n              ></portainer-tooltip>\n            </label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <input\n                  type="text"\n                  class="form-control"\n                  id="username"\n                  ng-model="formValues.Username"\n                  ng-change="checkUsernameValidity()"\n                  placeholder=" jdoe"\n                  auto-focus\n                  data-cy="user-usernameInput"\n                />\n                <span class="input-group-addon"><i ng-class="{ true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[state.validUsername]" aria-hidden="true"></i></span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- new-password-input --\x3e\n          <div class="form-group" ng-if="AuthenticationMethod === 1">\n            <label for="password" class="col-sm-3 col-lg-2 control-label text-left">   </label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n                <input type="password" class="form-control" ng-model="formValues.Password" id="password" data-cy="user-passwordInput" />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !new-password-input --\x3e\n          \x3c!-- confirm-password-input --\x3e\n          <div class="form-group" ng-if="AuthenticationMethod === 1">\n            <label for="confirm_password" class="col-sm-3 col-lg-2 control-label text-left"> </label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-lock" aria-hidden="true"></i></span>\n                <input type="password" class="form-control" ng-model="formValues.ConfirmPassword" id="confirm_password" data-cy="user-passwordConfirmInput" />\n                <span class="input-group-addon"\n                  ><i\n                    ng-class="{ true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[formValues.Password !== \'\' && formValues.Password === formValues.ConfirmPassword]"\n                    aria-hidden="true"\n                  ></i\n                ></span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !confirm-password-input --\x3e\n          \x3c!-- admin-checkbox --\x3e\n          <div class="form-group" ng-if="isAdmin">\n            <div class="col-sm-12">\n              <label for="permissions" class="control-label text-left">\n                \n                <portainer-tooltip\n                  position="bottom"\n                  message=" Portainer "\n                ></portainer-tooltip>\n              </label>\n              <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="formValues.Administrator" data-cy="user-adminCheckbox" /><i></i> </label>\n            </div>\n          </div>\n          \x3c!-- !admin-checkbox --\x3e\n          \x3c!-- teams --\x3e\n          <div class="form-group" ng-if="!formValues.Administrator">\n            <div class="col-sm-12">\n              <label class="control-label text-left">  </label>\n              <span class="small text-muted" style="margin-left: 20px" ng-if="teams.length === 0">\n                  <a ui-sref="portainer.teams"></a> \n              </span>\n              <span\n                isteven-multi-select\n                ng-if="teams.length > 0"\n                input-model="teams"\n                output-model="formValues.Teams"\n                button-label="Name"\n                item-label="Name"\n                tick-property="ticked"\n                helper-elements="filter"\n                search-property="Name"\n                translation="{nothingSelected: \'\', search: \'...\'}"\n                style="margin-left: 20px"\n                data-cy="user-teamSelect"\n              >\n              </span>\n            </div>\n          </div>\n          \x3c!-- !teams --\x3e\n          <div class="form-group" ng-if="isAdmin && !formValues.Administrator && formValues.Teams.length === 0">\n            <div class="col-sm-12">\n              <span class="small text-muted">\n                 \n <a ui-sref="portainer.endpoints"></a> \n              </span>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !state.validUsername || formValues.Username === \'\' || (AuthenticationMethod === 1 && formValues.Password === \'\') || (AuthenticationMethod === 1 && formValues.Password !== formValues.ConfirmPassword)"\n                ng-click="addUser()"\n                button-spinner="state.actionInProgress"\n                data-cy="user-createUserButton"\n              >\n                <span ng-hide="state.actionInProgress"><i class="fa fa-plus" aria-hidden="true"></i> </span>\n                <span ng-show="state.actionInProgress">Creating user...</span>\n              </button>\n              <span class="text-danger" ng-if="state.userCreationError" style="margin: 5px">\n                <i class="fa fa-exclamation-circle" aria-hidden="true"></i> {{ state.userCreationError }}\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <users-datatable\n      title-text=""\n      title-icon="fa-user"\n      dataset="users"\n      table-key="users"\n      order-by="Username"\n      authentication-method="AuthenticationMethod"\n      remove-action="removeAction"\n    ></users-datatable>\n  </div>\n</div>\n')}]),e.exports=t},91024:e=>{var t="app/portainer/views/wizard/wizard-endpoints/wizard-endpoint-aci/wizard-aci.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="aciWizardForm">\n  <box-selector radio-name="\'ACI\'" value="$ctrl.state.endpointType" options="$ctrl.state.availableOptions" on-change="($ctrl.onChangeEndpointType)"></box-selector>\n  \x3c!-- docker form section--\x3e\n  <div class="form-group wizard-form">\n    <label for="acir_name" class="col-sm-3 col-lg-2 control-label text-left"><span class="wizard-form-required">*</span></label>\n    <div class="col-sm-9 col-lg-10" style="margin-bottom: 15px">\n      <input type="text" class="form-control" name="aci_name" ng-model="$ctrl.formValues.name" placeholder=" docker-prod01 / kubernetes-cluster01" required auto-focus />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="azure_credential_appid" class="col-sm-3 col-lg-2 control-label text-left">Application ID:<span class="wizard-form-required">*</span></label>\n    <div class="col-sm-9 col-lg-10" style="margin-bottom: 15px">\n      <input\n        type="text"\n        class="form-control"\n        name="azure_credential_appid"\n        ng-model="$ctrl.formValues.azureApplicationId"\n        placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"\n        required\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="azure_credential_tenantid" class="col-sm-3 col-lg-2 control-label text-left">Tenant ID:<span class="wizard-form-required">*</span></label>\n    <div class="col-sm-9 col-lg-10" style="margin-bottom: 15px">\n      <input\n        type="text"\n        class="form-control"\n        name="azure_credential_tenantid"\n        ng-model="$ctrl.formValues.azureTenantId"\n        placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"\n        required\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="azure_credential_authkey" class="col-sm-3 col-lg-2 control-label text-left">Authentication key<span class="wizard-form-required">*</span></label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        name="azure_credential_authkey"\n        ng-model="$ctrl.formValues.azureAuthenticationKey"\n        placeholder="cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk="\n        required\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm wizard-connect-button"\n        ng-disabled="!$ctrl.formValues.name || !$ctrl.formValues.azureApplicationId || !$ctrl.formValues.azureTenantId || !$ctrl.formValues.azureAuthenticationKey || $ctrl.state.actionInProgress"\n        ng-click="$ctrl.addAciEndpoint()"\n        button-spinner="$ctrl.state.actionInProgress"\n      >\n        <span ng-hide="$ctrl.state.actionInProgress"><i class="fa fa-plug" style="margin-right: 5px"></i> Connect </span>\n        <span ng-show="$ctrl.state.actionInProgress">Connecting environment...</span>\n      </button>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},55494:e=>{var t="app/portainer/views/wizard/wizard-endpoints/wizard-endpoint-docker/wizard-docker.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="dockerWizardForm">\n  \x3c!-- docker tab selection --\x3e\n  <box-selector\n    radio-name="\'Docker\'"\n    ng-click="$ctrl.clearForm()"\n    value="$ctrl.state.endpointType"\n    options="$ctrl.state.availableOptions"\n    on-change="($ctrl.onChangeEndpointType)"\n  ></box-selector>\n  \x3c!-- docker tab selection --\x3e\n  <div style="padding-left: 10px">\n    <div class="form-group">\n      <div ng-if="$ctrl.state.endpointType === \'agent\'" class="wizard-code">\n        <uib-tabset>\n          <uib-tab index="0" heading="Linux">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 10px"\n              ><h6 style="color: #000">CLI script for installing agent on your Linux environment with Docker Swarm</h6>{{ $ctrl.command.linuxCommand\n              }}<i class="fas fa-copy wizard-copy-button" ng-click="$ctrl.copyLinuxCommand()"></i\n              ><i id="linuxCommandNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i\n            ></code>\n          </uib-tab>\n\n          <uib-tab index="1" heading="Windows">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 10px"\n              ><h6 style="color: #000">CLI script for installing agent on your Windows environment with Docker Swarm</h6>{{ $ctrl.command.winCommand\n              }}<i class="fas fa-copy wizard-copy-button" ng-click="$ctrl.copyWinCommand()"></i\n              ><i id="winCommandNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i\n            ></code>\n          </uib-tab>\n        </uib-tabset>\n      </div>\n\n      <div ng-if="$ctrl.state.endpointType === \'api\' || $ctrl.state.endpointType === \'socket\'" class="wizard-code">\n        <uib-tabset active="state.deploymentTab">\n          <uib-tab index="0" heading="Linux">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 10px"\n              ><h6 style="color: #000">When using the socket, ensure that you have started the Portainer container with the following Docker flag on Linux</h6\n              >{{ $ctrl.command.linuxSocket }}<i class="fas fa-copy wizard-copy-button" ng-click="$ctrl.copyLinuxSocket()"></i\n              ><i id="linuxSocketNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i\n            ></code>\n          </uib-tab>\n\n          <uib-tab index="1" heading="Windows">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 10px"\n              ><h6 style="color: #000">When using the socket, ensure that you have started the Portainer container with the following Docker flag on Windows</h6\n              >{{ $ctrl.command.winSocket }}<i class="fas fa-copy wizard-copy-button" ng-click="$ctrl.copyWinSocket()"></i\n              ><i id="winSocketNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i\n            ></code>\n          </uib-tab>\n        </uib-tabset>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- docker form section--\x3e\n  <div class="form-group wizard-form">\n    <label for="endpoint_name" class="col-sm-3 col-lg-2 control-label text-left"><span class="wizard-form-required">*</span></label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" name="endpoint_name" ng-model="$ctrl.formValues.name" placeholder=" docker-prod01 / kubernetes-cluster01" auto-focus />\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.state.endpointType === \'agent\'" class="form-group">\n    <label for="endpoint_url" class="col-sm-3 col-lg-2 control-label text-left"> Environments URL<span class="wizard-form-required">*</span> </label>\n\n    <div class="col-sm-9 col-lg-10" style="margin-bottom: 15px">\n      <input\n        ng-if="$ctrl.state.endpointType === \'agent\'"\n        type="text"\n        class="form-control"\n        name="endpoint_url"\n        ng-model="$ctrl.formValues.url"\n        placeholder=" 10.0.0.10:9001 or tasks.portainer_agent:9001"\n      />\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.state.endpointType === \'api\'">\n    <div class="form-group">\n      <label for="dockerapi_url" class="col-sm-3 col-lg-2 control-label text-left"> Docker API URL<span class="wizard-form-required">*</span> </label>\n\n      <div class="col-sm-9 col-lg-10" style="margin-bottom: 15px">\n        <input\n          ng-if="$ctrl.state.endpointType === \'api\'"\n          type="text"\n          class="form-control"\n          name="dockerapi_url"\n          ng-model="$ctrl.formValues.url"\n          placeholder=" 10.0.0.10:2375 or mydocker.mydomain.com:2375"\n        />\n      </div>\n    </div>\n\n    <div class="form-group" style="padding-left: 15px; width: 15%">\n      <por-switch-field checked="$ctrl.formValues.tls" name="\'connect_socket\'" label="\'TLS\'" label-class="\'col-sm-12 col-lg-4\'" on-change="($ctrl.onToggleTls)"></por-switch-field>\n    </div>\n\n    <div class="form-group" style="padding-left: 15px; width: 40%">\n      <por-switch-field\n        ng-if="$ctrl.formValues.tls"\n        checked="$ctrl.formValues.skipCertification"\n        name="\'skip_certification\'"\n        label="\'Skip Certification Verification\'"\n        label-class="\'col-sm-12 col-lg-4\'"\n        on-change="($ctrl.onToggleSkipCert)"\n      ></por-switch-field>\n    </div>\n\n    <div>\n      <wizard-tls ng-if="!$ctrl.formValues.skipCertification && $ctrl.formValues.tls" form-data="$ctrl.formValues.securityFormData" onChange="($ctrl.onChangeFile)"></wizard-tls>\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.state.endpointType === \'socket\'" class="form-group" style="padding-left: 15px">\n    <div class="form-group" style="padding-left: 15px">\n      <label for="override_socket" class="col-sm_12 control-label text-left"> Override default socket path </label>\n      <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.formValues.overrideSocket" /><i></i></label>\n    </div>\n\n    <div ng-if="$ctrl.formValues.overrideSocket">\n      <div class="form-group">\n        <label for="socket_path" class="col-sm-3 col-lg-2 control-label text-left">\n          Socket path\n          <portainer-tooltip position="bottom" message="Path to the Docker socket. Remember to bind-mount the socket, see the important notice above for more information.">\n          </portainer-tooltip>\n        </label>\n        <div class="col-sm-9 col-lg-10">\n          <input\n            type="text"\n            class="form-control"\n            name="socket_path"\n            ng-model="$ctrl.formValues.socketPath"\n            placeholder=" /var/run/docker.sock (on Linux) or //./pipe/docker_engine (on Windows)"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        ng-if="$ctrl.state.endpointType === \'agent\'"\n        type="submit"\n        class="btn btn-primary btn-sm wizard-connect-button"\n        ng-disabled="!$ctrl.formValues.name || !$ctrl.formValues.url || $ctrl.state.actionInProgress"\n        ng-click="$ctrl.connectEnvironment(\'agent\')"\n        button-spinner="$ctrl.state.actionInProgress"\n      >\n        <span ng-hide="$ctrl.state.actionInProgress"><i class="fa fa-plug" style="margin-right: 5px"></i>Connect </span>\n        <span ng-show="$ctrl.state.actionInProgress">Connecting environment...</span>\n      </button>\n      <button\n        ng-if="$ctrl.state.endpointType === \'api\'"\n        type="submit"\n        class="btn btn-primary btn-sm wizard-connect-button"\n        ng-disabled="!$ctrl.formValues.name || !$ctrl.formValues.url || $ctrl.state.actionInProgress"\n        ng-click="$ctrl.connectEnvironment(\'api\')"\n        button-spinner="$ctrl.state.actionInProgress"\n      >\n        <span ng-hide="$ctrl.state.actionInProgress"><i class="fa fa-plug" style="margin-right: 5px"></i>Connect </span>\n        <span ng-show="$ctrl.state.actionInProgress">Connecting environment...</span>\n      </button>\n      <button\n        ng-if="$ctrl.state.endpointType === \'socket\'"\n        type="submit"\n        class="btn btn-primary btn-sm wizard-connect-button"\n        ng-disabled="!$ctrl.formValues.name || $ctrl.state.actionInProgress"\n        ng-click="$ctrl.connectEnvironment(\'socket\')"\n        button-spinner="$ctrl.state.actionInProgress"\n      >\n        <span ng-hide="$ctrl.state.actionInProgress"><i class="fa fa-plug" style="margin-right: 5px"></i>Connect </span>\n        <span ng-show="$ctrl.state.actionInProgress">Connecting environment...</span>\n      </button>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},77947:e=>{var t="app/portainer/views/wizard/wizard-endpoints/wizard-endpoint-kubernetes/wizard-kubernetes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="kubernetesWizardForm">\n  <box-selector radio-name="\'Kubernetes\'" value="$ctrl.state.endpointType" options="$ctrl.state.availableOptions" on-change="($ctrl.onChangeEndpointType)"></box-selector>\n  \x3c!-- docker tab selection --\x3e\n  <div style="padding-left: 10px">\n    <div class="form-group">\n      <div class="wizard-code">\n        <uib-tabset active="state.deploymentTab">\n          <uib-tab index="0" heading="Kubernetes via load balancer">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 10px"\n              ><h6 style="color: #000">CLI script for installing agent on your endpoint</h6>{{ $ctrl.command.loadBalancer\n              }}<i class="fas fa-copy wizard-copy-button" ng-click="$ctrl.copyLoadBalancer()"></i\n              ><i id="loadBalancerNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i\n            ></code>\n          </uib-tab>\n\n          <uib-tab index="1" heading="Kubernetes via node port">\n            <code style="display: block; white-space: pre-wrap; padding: 16px 10px"\n              ><h6 style="color: #000">CLI script for installing agent on your endpoint</h6>{{ $ctrl.command.nodePort\n              }}<i class="fas fa-copy wizard-copy-button" ng-click="$ctrl.copyNodePort()"></i\n              ><i id="nodePortNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i\n            ></code>\n          </uib-tab>\n        </uib-tabset>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group wizard-form">\n    <label for="endpoint_name" class="col-sm-3 col-lg-2 control-label text-left"><span class="wizard-form-required">*</span></label>\n    <div class="col-sm-9 col-lg-10" style="margin-bottom: 15px">\n      <input\n        type="text"\n        class="form-control"\n        name="endpoint_name"\n        ng-model="$ctrl.state.formValues.name"\n        placeholder=" docker-prod01 / kubernetes-cluster01"\n        required\n        auto-focus\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="endpoint_url" class="col-sm-3 col-lg-2 control-label text-left"> Environments URL<span class="wizard-form-required">*</span> </label>\n\n    <div class="col-sm-9 col-lg-10" style="margin-bottom: 15px">\n      <input type="text" class="form-control" name="endpoint_url" ng-model="$ctrl.state.formValues.url" placeholder=" 10.0.0.10:9001 or tasks.portainer_agent:9001" required />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm wizard-connect-button"\n        ng-disabled="!$ctrl.state.formValues.name || !$ctrl.state.formValues.url || $ctrl.state.actionInProgress"\n        ng-click="$ctrl.addKubernetesAgent()"\n        button-spinner="$ctrl.state.actionInProgress"\n      >\n        <span ng-hide="$ctrl.state.actionInProgress"><i class="fa fa-plug" style="margin-right: 5px"></i> Connect </span>\n        <span ng-show="$ctrl.state.actionInProgress">Connecting environment...</span>\n      </button>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},72393:e=>{var t="app/portainer/views/wizard/wizard-endpoints/wizard-endpoint-list/wizard-endpoint-list.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-header icon="fa-plug" title-text=""> </rd-widget-header>\n  <rd-widget-body>\n    <div class="wizard-list-wrapper" ng-repeat="endpoint in $ctrl.endpointList">\n      <div class="wizard-list-image"><i ng-class="endpoint.Type | endpointtypeicon" aria-hidden="true" style="margin-right: 2px"></i></div>\n      <div class="wizard-list-title">{{ endpoint.Name }}</div>\n      <div class="wizard-list-subtitle">URL: {{ endpoint.URL | stripprotocol }}</div>\n      <div class="wizard-list-type">Type: {{ endpoint.Type | endpointtypename }}</div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},88139:e=>{var t="app/portainer/views/wizard/wizard-endpoints/wizard-endpoints.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="wizard-wrapper" ng-if="$ctrl.state.currentStep !== 0">\n  <div class="wizard-main">\n    <div class="row">\n      <div class="col-sm-12">\n        <rd-widget>\n          <rd-widget-header icon="fa-magic" title-text=""> </rd-widget-header>\n          <rd-widget-body>\n            \x3c!-- Stepper --\x3e\n            <wizard-stepper endpoint-selections="$ctrl.state.selections"></wizard-stepper>\n            \x3c!-- Stepper --\x3e\n\n            <div class="col-sm-12 form-section-title wizard-main-title"> Connect to your {{ $ctrl.state.section }} environment </div>\n\n            <div ng-switch="$ctrl.state.section" class="wizard-endpoint-section">\n              <wizard-docker ng-switch-when="docker" on-update="($ctrl.updateEndpoint)" on-analytics="($ctrl.addAnalytics)"></wizard-docker>\n              <wizard-aci ng-switch-when="aci" on-update="($ctrl.updateEndpoint)" on-analytics="($ctrl.addAnalytics)"></wizard-aci>\n              <wizard-kubernetes ng-switch-when="kubernetes" on-update="($ctrl.updateEndpoint)" on-analytics="($ctrl.addAnalytics)"></wizard-kubernetes>\n            </div>\n\n            <div class="wizard-step-action">\n              <button\n                ng-click="$ctrl.previousStep()"\n                ng-show="$ctrl.state.currentStep !== 0"\n                type="submit"\n                class="btn btn-primary btn-sm previous-btn"\n                ng-disabled="$ctrl.state.currentStep === 1"\n              >\n                <i class="fas fa-arrow-left space-right"></i>{{ $ctrl.state.previousStep }}\n              </button>\n              <button ng-click="$ctrl.nextStep()" ng-show="$ctrl.state.currentStep !== 0" type="submit" class="btn btn-primary btn-sm next-btn">\n                {{ $ctrl.state.nextStep }} <i class="fas fa-arrow-right space-left"></i\n              ></button>\n            </div>\n          </rd-widget-body>\n        </rd-widget>\n      </div>\n    </div>\n  </div>\n  <div class="wizard-aside" ng-if="$ctrl.state.currentStep !== 0">\n    <wizard-endpoint-list endpoint-list="$ctrl.endpoints"></wizard-endpoint-list>\n  </div>\n</div>\n\n<div class="row" ng-if="$ctrl.state.currentStep === 0">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-magic" title-text=""> </rd-widget-header>\n      <rd-widget-body>\n        <div class="row">\n          <div class="col-sm-12 form-section-title"> Select your environment(s) </div>\n          <div>\n            <span class="text-muted small">You can onboard different types of environments, select all that apply.</span>\n          </div>\n          <div class="wizard-section">\n            <wizard-endpoint-type\n              endpoint-title="Docker"\n              description="Connect to Docker Standalone / Swarm via URL/IP, API or Socket"\n              icon="fab fa-docker"\n              active="$ctrl.state.dockerActive"\n              ng-click="$ctrl.endpointSelect(\'docker\')"\n            ></wizard-endpoint-type>\n\n            <wizard-endpoint-type\n              endpoint-title="Kubernetes"\n              description="Connect to a kubernetes environment via URL/IP"\n              icon="fas fa-dharmachakra"\n              active="$ctrl.state.kubernetesActive"\n              ng-click="$ctrl.endpointSelect(\'kubernetes\')"\n            ></wizard-endpoint-type>\n\n            <wizard-endpoint-type\n              endpoint-title="ACI"\n              description="Connect to ACI environment via API"\n              icon="fab fa-microsoft"\n              active="$ctrl.state.aciActive"\n              ng-click="$ctrl.endpointSelect(\'aci\')"\n            ></wizard-endpoint-type>\n          </div>\n\n          <div class="wizard-section">\n            <div class="wizard-section-action">\n              <button ng-click="$ctrl.startWizard()" ng-disabled="$ctrl.state.selections.length === 0" type="submit" class="btn btn-primary btn-sm no-margin">Start Wizard</button>\n            </div>\n          </div>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},50533:e=>{var t="app/portainer/views/wizard/wizard-endpoints/wizard-stepper/wizard-endpoint-type/wizard-endpoint-type.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div ng-click="$ctrl.endpointSelect(\'docker\')">\n    <div class="wizard-endpoints {{ $ctrl.active }}">\n      <div style="text-align: center; padding: 10px"><i class="{{ $ctrl.icon }}" style="font-size: 80px"></i></div>\n\n      <div style="margin-top: 15px; text-align: center">\n        <h3>{{ $ctrl.endpointTitle }}</h3>\n        <h5>{{ $ctrl.description }}</h5>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},99682:e=>{var t="app/portainer/views/wizard/wizard-endpoints/wizard-stepper/wizard-stepper.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="stepper-wrapper">\n  <div ng-repeat="selection in $ctrl.endpointSelections" class="stepper-item {{ selection.stage }} ">\n    <div class="step-counter">{{ $index + 1 }}</div>\n    <div class="step-name {{ selection.nameClass }}">{{ selection.endpoint }}</div>\n  </div>\n</div>\n')}]),e.exports=t},55723:e=>{var t="app/portainer/views/wizard/wizard-link/wizard-link.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="wizard-button">\n  <div style="text-align: center; padding: 10px"><i class="{{ $ctrl.icon }}" style="font-size: 80px"></i></div>\n  <div style="margin-top: 15px; text-align: center">\n    <h3>{{ $ctrl.linkTitle }}</h3>\n    <h5>{{ $ctrl.description }}</h5>\n  </div>\n</div>\n')}]),e.exports=t},58559:e=>{var t="app/portainer/views/wizard/wizard-tls/wizard-tls.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div>\n    \x3c!-- tls-file-ca --\x3e\n    <div class="form-group">\n      <label class="col-sm-3 col-lg-2 control-label text-left">TLS CA certificate</label>\n      <div class="col-sm-9 col-lg-10">\n        <button type="button" class="btn btn-sm btn-primary" ngf-select="$ctrl.onChange($file)" ng-model="$ctrl.formData.TLSCACert"></button>\n        <span class="space-left">\n          {{ $ctrl.formData.TLSCACert.name }}\n          <i class="fa fa-check green-icon" ng-if="$ctrl.formData.TLSCACert" aria-hidden="true"></i>\n          <i class="fa fa-times red-icon" ng-if="!$ctrl.formData.TLSCACert" aria-hidden="true"></i>\n        </span>\n      </div>\n    </div>\n    \x3c!-- !tls-file-ca --\x3e\n\n    \x3c!-- tls-files-cert-key --\x3e\n    <div>\n      \x3c!-- tls-file-cert --\x3e\n      <div class="form-group">\n        <label for="tls_cert" class="col-sm-3 col-lg-2 control-label text-left">TLS certificate</label>\n        <div class="col-sm-9 col-lg-10">\n          <button type="button" class="btn btn-sm btn-primary" ngf-select="$ctrl.onChange($file)" ng-model="$ctrl.formData.TLSCert"></button>\n          <span class="space-left">\n            {{ $ctrl.formData.TLSCert.name }}\n            <i class="fa fa-check green-icon" ng-if="$ctrl.formData.TLSCert" aria-hidden="true"></i>\n            <i class="fa fa-times red-icon" ng-if="!$ctrl.formData.TLSCert" aria-hidden="true"></i>\n          </span>\n        </div>\n      </div>\n      \x3c!-- !tls-file-cert --\x3e\n      \x3c!-- tls-file-key --\x3e\n      <div class="form-group">\n        <label class="col-sm-3 col-lg-2 control-label text-left">TLS key</label>\n        <div class="col-sm-9 col-lg-10">\n          <button type="button" class="btn btn-sm btn-primary" ngf-select="$ctrl.onChange($file)" ng-model="$ctrl.formData.TLSKey"></button>\n          <span class="space-left">\n            {{ $ctrl.formData.TLSKey.name }}\n            <i class="fa fa-check green-icon" ng-if="$ctrl.formData.TLSKey" aria-hidden="true"></i>\n            <i class="fa fa-times red-icon" ng-if="!$ctrl.formData.TLSKey" aria-hidden="true"></i>\n          </span>\n        </div>\n      </div>\n      \x3c!-- !tls-file-key --\x3e\n    </div>\n    \x3c!-- tls-files-cert-key --\x3e\n  </div>\n  \x3c!-- !tls-file-upload --\x3e\n</div>\n')}]),e.exports=t},45488:e=>{var t="app/portainer/views/wizard/wizard-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-header>\n  <rd-header-title title-text=""></rd-header-title>\n  <rd-header-content></rd-header-content>\n</rd-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-magic" title-text=""> </rd-widget-header>\n      <rd-widget-body>\n        <div class="row">\n          <div class="col-sm-12 form-section-title">  Portainer </div>\n          <div>\n            <span class="text-muted small" ng-show="$ctrl.state.endpoint.added">\n               {{ $ctrl.state.endpoint.connected }}  Portainer <br\n            /></span>\n            <span class="text-muted small" ng-show="!$ctrl.state.endpoint.loading && !$ctrl.state.endpoint.added">\n               Portainer <br />\n               \n\n              <a href="https://documentation.portainer.io/quickstart/">https://documentation.portainer.io/quickstart</a><br />\n            </span>\n            <span class="text-muted small"> Portainer </span>\n          </div>\n\n          <wizard-link\n            ng-show="$ctrl.state.endpoint.added"\n            icon="$ctrl.state.local.icon"\n            title=""\n            link-title=""\n            description=" Portainer "\n            ui-sref="portainer.home"\n            analytics-on\n            analytics-category="portainer"\n            analytics-event="endpoint-wizard-endpoint-select"\n            analytics-properties="{ metadata: { environment: \'Get-started-local-environment\' }}"\n          ></wizard-link>\n          <wizard-link\n            title=""\n            link-title=""\n            icon="$ctrl.state.remote.icon"\n            description=""\n            ui-sref="portainer.wizard.endpoints"\n          ></wizard-link>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},69962:(e,t,n)=>{"use strict";e.exports=n.p+"d3a18c5002453f58c8b9.png"},94233:(e,t,n)=>{"use strict";e.exports=n.p+"51906a7e4bd0e1d9e771.png"},51070:(e,t,n)=>{"use strict";e.exports=n.p+"19c2b168a8d85994e14e.png"},87935:(e,t,n)=>{"use strict";e.exports=n.p+"347aea0738ab6bb73a56.png"},21985:(e,t,n)=>{"use strict";e.exports=n.p+"29d4ee6d4a5c786588a7.svg"},76609:(e,t,n)=>{"use strict";e.exports=n.p+"47026671f2ebb0d50945.png"},21306:(e,t,n)=>{"use strict";e.exports=n.p+"9d07a3ace464cfd6e27c.png"},6186:(e,t,n)=>{"use strict";e.exports=n.p+"c2c179f41199d25e0055.png"},75347:()=>{},31777:()=>{},34017:()=>{},59905:()=>{},64604:()=>{}},e=>{e.O(0,[736],(()=>(21570,e(e.s=21570)))),e.O()}]);
//# sourceMappingURL=main.8f74c60c045e25dc3ccb.js.map